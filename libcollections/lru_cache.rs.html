<head><link href="../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../libcollections/">libcollections</a></c0><c1>/</c1><c0><a href="./../libcollections/lru_cache.rs.html">lru_cache.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;A&nbsp;cache&nbsp;that&nbsp;holds&nbsp;a&nbsp;limited&nbsp;number&nbsp;of&nbsp;key-value&nbsp;pairs.&nbsp;When&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;capacity&nbsp;of&nbsp;the&nbsp;cache&nbsp;is&nbsp;exceeded,&nbsp;the&nbsp;least-recently-used
</c40><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;(where&nbsp;"used"&nbsp;means&nbsp;a&nbsp;look-up&nbsp;or&nbsp;putting&nbsp;the&nbsp;pair&nbsp;into&nbsp;the&nbsp;cache)
</c40><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;pair&nbsp;is&nbsp;automatically&nbsp;removed.
</c40><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;#&nbsp;Example
</c40><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;```rust
</c40><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;use&nbsp;collections::LruCache;
</c40><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;let&nbsp;mut&nbsp;cache:&nbsp;LruCache&lt;int,&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new(2);
</c40><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.put(1,&nbsp;10);
</c40><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.put(2,&nbsp;20);
</c40><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.put(3,&nbsp;30);
</c40><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert!(cache.get(&amp;1).is_none());
</c40><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert_eq!(*cache.get(&amp;2).unwrap(),&nbsp;20);
</c40><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert_eq!(*cache.get(&amp;3).unwrap(),&nbsp;30);
</c40><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.put(2,&nbsp;22);
</c40><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert_eq!(*cache.get(&amp;2).unwrap(),&nbsp;22);
</c40><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.put(6,&nbsp;60);
</c40><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert!(cache.get(&amp;3).is_none());
</c40><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!
</c40><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;cache.change_capacity(1);
</c40><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;assert!(cache.get(&amp;2).is_none());
</c40><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//!&nbsp;```
</c40><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::cast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::container::Container</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::hash::Hash</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::fmt</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::ptr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;HashMap</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[18200]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[18204, 18201, 18203]">&nbsp;</a><c31>struct</c31><c31><a href="#47_1_refs">&nbsp;KeyRef</a></c31><c5><a href="#47_1_refs">&lt;K&gt;</a></c5><c31><a href="#47_1_refs">&nbsp;</a></c31><c3>{</c3><c31><a href="#47_1_refs">&nbsp;</a></c31><c24><a href="#48_19_refs">k:&nbsp;</a></c24><c8><a href="#48_19_refs">*</a></c8><c8><a href="c=0 n=18205">K</a></c8><c31><a href="#47_1_refs">&nbsp;</a></c31><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[18206]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[]">&nbsp;</a><c31>struct</c31><c31><a href="#49_1_refs">&nbsp;LruEntry</a></c31><c5><a href="#49_1_refs">&lt;K</a></c5><c5>,</c5><c5><a href="#49_1_refs">&nbsp;V&gt;</a></c5><c31><a href="#49_1_refs">&nbsp;</a></c31><c3>{</c3><c31><a href="#49_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[18211, 18207, 18209]">&nbsp;</a><c31><a href="#49_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#51_4_refs">key:&nbsp;</a></c24><c8><a href="../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="c=0 n=18233">K</a></c8><c8><a href="../libstd/option.rs.html#n104336">&gt;</a></c8><c3>,</c3><c31><a href="#49_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[18214, 18216, 18212]">&nbsp;</a><c31><a href="#49_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#52_4_refs">value:&nbsp;</a></c24><c8><a href="../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="c=0 n=18234">V</a></c8><c8><a href="../libstd/option.rs.html#n104336">&gt;</a></c8><c3>,</c3><c31><a href="#49_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[18219, 18221, 18224, 18217, 18223]">&nbsp;</a><c31><a href="#49_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#53_4_refs">next:&nbsp;</a></c24><c8><a href="#49_1_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18233">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18234">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c3>,</c3><c31><a href="#49_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[18227, 18229, 18232, 18225, 18231]">&nbsp;</a><c31><a href="#49_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#54_4_refs">prev:&nbsp;</a></c24><c8><a href="#49_1_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18233">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18234">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c3>,</c3><c31><a href="#49_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[18235]">&nbsp;</a><c42>///&nbsp;An&nbsp;LRU&nbsp;Cache.
</c42><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c31><a href="#57_18_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#57_18_refs">&nbsp;LruCache</a></c31><c5><a href="#57_18_refs">&lt;K</a></c5><c5>,</c5><c5><a href="#57_18_refs">&nbsp;V&gt;</a></c5><c31><a href="#57_18_refs">&nbsp;</a></c31><c3>{</c3><c31><a href="#57_18_refs">
</a></c31><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[18247, 18242, 18244, 18246, 18249, 18238, 18240, 18236]">&nbsp;</a><c31><a href="#57_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c21>priv</c21><c31><a href="#57_18_refs">&nbsp;</a></c31><c24><a href="#59_9_refs">map:&nbsp;</a></c24><c8><a href="../libcollections/hashmap.rs.html#675">HashMap&lt;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#47">KeyRef&lt;</a></c8><c8><a href="c=0 n=18269">K</a></c8><c8><a href="../libcollections/lru_cache.rs.html#47">&gt;</a></c8><c3>,</c3><c8><a href="../libcollections/hashmap.rs.html#675">&nbsp;</a></c8><c8><a href="#57_18_refs">~</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18269">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18270">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c8><a href="../libcollections/hashmap.rs.html#675">&gt;</a></c8><c3>,</c3><c31><a href="#57_18_refs">
</a></c31><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[18252, 18250]">&nbsp;</a><c31><a href="#57_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c21>priv</c21><c31><a href="#57_18_refs">&nbsp;</a></c31><c24><a href="#60_9_refs">max_size:&nbsp;</a></c24><c8><a href="#60_9_refs">uint</a></c8><c3>,</c3><c31><a href="#57_18_refs">
</a></c31><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[18260, 18259, 18253, 18257, 18255]">&nbsp;</a><c31><a href="#57_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c21>priv</c21><c31><a href="#57_18_refs">&nbsp;</a></c31><c24><a href="#61_9_refs">head:&nbsp;</a></c24><c8><a href="#61_9_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18269">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18270">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c3>,</c3><c31><a href="#57_18_refs">
</a></c31><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[18263, 18265, 18268, 18261, 18267]">&nbsp;</a><c31><a href="#57_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c21>priv</c21><c31><a href="#57_18_refs">&nbsp;</a></c31><c24><a href="#62_9_refs">tail:&nbsp;</a></c24><c8><a href="#57_18_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18269">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18270">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c3>,</c3><c31><a href="#57_18_refs">
</a></c31><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[18271]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[18276, 18275, 18278, 18281, 18279, 18283]">&nbsp;</a><c33>impl</c33><c5>&lt;S,&nbsp;K:&nbsp;</c5><c5><a href="../libstd/hash/mod.rs.html#n102356">Hash&lt;</a></c5><c5><a href="c=0 n=18272">S</a></c5><c5><a href="../libstd/hash/mod.rs.html#n102356">&gt;</a></c5><c5>&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/hash/mod.rs.html#n102356">Hash</a></c33><c5><a href="../libstd/hash/mod.rs.html#n102356">&lt;</a></c5><c5><a href="c=0 n=18272">S</a></c5><c5><a href="../libstd/hash/mod.rs.html#n102356">&gt;</a></c5><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c33><c5><a href="../libcollections/lru_cache.rs.html#47">&lt;</a></c5><c5><a href="c=0 n=18273">K</a></c5><c5><a href="../libcollections/lru_cache.rs.html#47">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[18293, 18284, 18287, 18291, 18294, 18292, 18290]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;hash</c30><c4>(</c4><c20><a href="#66_12_refs">&amp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#66_19_refs">state</a></c20><c18>:&nbsp;</c18><c8>&amp;mut&nbsp;</c8><c8><a href="c=0 n=18272">S</a></c8><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[18296, 18301, 18297, 18300, 18298, 18299, 18295, 18302]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>unsafe</c21><c22>&nbsp;</c22><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c5><a href="../libstd/hash/mod.rs.html#n102357">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#66">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#48">.k</a></c24><c4>)</c4><c10><a href="../libstd/hash/mod.rs.html#n102357">.hash</a></c10><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#66">state</a></c26><c4>)</c4><c22>&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[18303]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[18310, 18305, 18306, 18308]">&nbsp;</a><c33>impl</c33><c5>&lt;K:&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75286">Eq</a></c5><c5>&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/cmp.rs.html#n75286">Eq</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c33><c5><a href="../libcollections/lru_cache.rs.html#47">&lt;</a></c5><c5><a href="c=0 n=18304">K</a></c5><c5><a href="../libcollections/lru_cache.rs.html#47">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[18311, 18321, 18317, 18319, 18323, 18320, 18314, 18324]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;eq</c30><c4>(</c4><c20><a href="#72_10_refs">&amp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#72_17_refs">other</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../libcollections/lru_cache.rs.html#47">KeyRef&lt;</a></c8><c8><a href="c=0 n=18304">K</a></c8><c8><a href="../libcollections/lru_cache.rs.html#47">&gt;</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8>bool</c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[18331, 18335, 18327, 18325, 18332, 18330, 18326, 18329, 18328, 18333, 18334]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>unsafe</c21><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c5><a href="../libstd/cmp.rs.html#n75287">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#72">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#48">.k</a></c24><c4>)</c4><c10><a href="../libstd/cmp.rs.html#n75287">.eq</a></c10><c4>(</c4><c5><a href="../libstd/cmp.rs.html#n75287">&amp;*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#72">other</a></c26><c24><a href="../libcollections/lru_cache.rs.html#48">.k</a></c24><c4>)</c4><c22>&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[18336]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[18339, 18341, 18338, 18343]">&nbsp;</a><c33>impl</c33><c5>&lt;K:&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c5><c5>&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c33><c5><a href="../libcollections/lru_cache.rs.html#47">&lt;</a></c5><c5><a href="c=0 n=18337">K</a></c5><c5><a href="../libcollections/lru_cache.rs.html#47">&gt;</a></c5><c33>&nbsp;</c33><c3>{}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[18344]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[18352, 18350, 18348]">&nbsp;</a><c33>impl</c33><c5>&lt;K,&nbsp;V&gt;</c5><c33>&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#49">LruEntry</a></c33><c5><a href="../libcollections/lru_cache.rs.html#49">&lt;</a></c5><c5><a href="c=0 n=18345">K</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c5><c5><a href="c=0 n=18346">V</a></c5><c5><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[18357, 18353, 18359, 18360, 18355]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#80_4_refs">&nbsp;new</a></c30><c4>()</c4><c18><a href="#80_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#80_4_refs">&nbsp;</a></c18><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18345">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18346">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c18><a href="#80_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#80_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[18367]">&nbsp;</a><c22><a href="#80_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../libcollections/lru_cache.rs.html#49">LruEntry&nbsp;</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[18361]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key:&nbsp;</a></c1><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[18362]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;</a></c1><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[18364, 18363]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next:&nbsp;</a></c1><c26><a href="../libstd/ptr.rs.html#n71608">ptr::mut_null</a></c26><c4>()</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[18366, 18365]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prev:&nbsp;</a></c1><c26><a href="../libstd/ptr.rs.html#n71608">ptr::mut_null</a></c26><c4>()</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c22><a href="#80_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#80_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[18382, 18372, 18368, 18375, 18380, 18376, 18378, 18383, 18371]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#89_4_refs">&nbsp;with_key_value</a></c30><c4>(</c4><c20><a href="#89_22_refs">k</a></c20><c18><a href="#89_4_refs">:&nbsp;</a></c18><c8><a href="c=0 n=18345">K</a></c8><c3>,</c3><c18><a href="#89_4_refs">&nbsp;</a></c18><c20><a href="#89_28_refs">v</a></c20><c18><a href="#89_4_refs">:&nbsp;</a></c18><c8><a href="c=0 n=18346">V</a></c8><c4>)</c4><c18><a href="#89_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#89_4_refs">&nbsp;</a></c18><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18345">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18346">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c18><a href="#89_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#89_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[18394]">&nbsp;</a><c22><a href="#89_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../libcollections/lru_cache.rs.html#49">LruEntry&nbsp;</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[18384, 18386, 18385]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key:&nbsp;</a></c1><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#89">k</a></c26><c4>)</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[18387, 18388, 18389]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;</a></c1><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#89">v</a></c26><c4>)</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[18390, 18391]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next:&nbsp;</a></c1><c26><a href="../libstd/ptr.rs.html#n71608">ptr::mut_null</a></c26><c4>()</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[18392, 18393]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prev:&nbsp;</a></c1><c26><a href="../libstd/ptr.rs.html#n71608">ptr::mut_null</a></c26><c4>()</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#49">
</a></c1><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#49">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c22><a href="#89_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#89_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[18395]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[18401, 18398, 18405, 18397, 18403]">&nbsp;</a><c33>impl</c33><c5>&lt;K:&nbsp;</c5><c5><a href="../libstd/hash/mod.rs.html#n102356">Hash</a></c5><c5>&nbsp;+&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c5><c5>,&nbsp;V&gt;</c5><c33>&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#57">LruCache</a></c33><c5><a href="../libcollections/lru_cache.rs.html#57">&lt;</a></c5><c5><a href="c=0 n=18396">K</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c5><c5><a href="c=0 n=18399">V</a></c5><c5><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Create&nbsp;an&nbsp;LRU&nbsp;Cache&nbsp;that&nbsp;holds&nbsp;at&nbsp;most&nbsp;`capacity`&nbsp;items.
</c42><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[18406, 18471, 18410, 18416, 18409, 18412, 18414]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18>&nbsp;</c18><c30>fn&nbsp;new</c30><c4>(</c4><c20><a href="#101_15_refs">capacity</a></c20><c18>:&nbsp;</c18><c8>uint</c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../libcollections/lru_cache.rs.html#57">LruCache&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[18445, 18419, 18418, 18446, 18417]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#102_12_refs">cache</a></c20><c16>&nbsp;=&nbsp;</c16><c1><a href="../libcollections/lru_cache.rs.html#57">LruCache&nbsp;</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#57">
</a></c1><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[18420, 18421]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#57">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map:&nbsp;</a></c1><c26><a href="../libcollections/hashmap.rs.html#971">HashMap::new</a></c26><c4>()</c4><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#57">
</a></c1><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[18422]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#57">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_size:&nbsp;</a></c1><c26><a href="../libcollections/lru_cache.rs.html#101">capacity</a></c26><c3>,</c3><c1><a href="../libcollections/lru_cache.rs.html#57">
</a></c1><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[18430, 18429, 18424, 18432, 18426, 18428, 18433, 18423, 18431]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#57">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;head:&nbsp;</a></c1><c22><a href="../libcollections/lru_cache.rs.html#57">unsafe</a></c22><c3>{</c3><c22><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c22><c26><a href="../libstd/cast.rs.html#n162150">cast::transmute</a></c26><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#57">~</a></c5><c26><a href="../libcollections/lru_cache.rs.html#80">LruEntry::&lt;</a></c26><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c26><a href="../libcollections/lru_cache.rs.html#80">&nbsp;</a></c26><c8><a href="c=0 n=18399">V</a></c8><c26><a href="../libcollections/lru_cache.rs.html#80">&gt;::new</a></c26><c4>())</c4><c22><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c22><c3>},</c3><c1><a href="../libcollections/lru_cache.rs.html#57">
</a></c1><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[18439, 18440, 18441, 18437, 18434, 18444, 18443, 18442, 18435]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#57">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tail:&nbsp;</a></c1><c22><a href="../libcollections/lru_cache.rs.html#57">unsafe</a></c22><c3>{</c3><c22><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c22><c26><a href="../libstd/cast.rs.html#n162150">cast::transmute</a></c26><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#57">~</a></c5><c26><a href="../libcollections/lru_cache.rs.html#80">LruEntry::&lt;</a></c26><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c26><a href="../libcollections/lru_cache.rs.html#80">&nbsp;</a></c26><c8><a href="c=0 n=18399">V</a></c8><c26><a href="../libcollections/lru_cache.rs.html#80">&gt;::new</a></c26><c4>())</c4><c22><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c22><c3>},</c3><c1><a href="../libcollections/lru_cache.rs.html#57">
</a></c1><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../libcollections/lru_cache.rs.html#57">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>};</c3><c22>
</c22><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[18466, 18467, 18465]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>unsafe</c21><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[18447, 18449, 18453, 18455, 18451, 18452, 18450, 18454, 18448]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#102">cache</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c5>&nbsp;=&nbsp;</c5><c26><a href="../libcollections/lru_cache.rs.html#102">cache</a></c26><c24><a href="../libcollections/lru_cache.rs.html#62">.tail</a></c24><c3>;</c3><c22>
</c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[18464, 18459, 18460, 18457, 18456, 18458, 18463, 18461, 18462]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#54">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#102">cache</a></c26><c24><a href="../libcollections/lru_cache.rs.html#62">.tail</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c5>&nbsp;=&nbsp;</c5><c26><a href="../libcollections/lru_cache.rs.html#102">cache</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c3>;</c3><c22>
</c22><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[18469, 18470, 18468]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><c26><a href="../libcollections/lru_cache.rs.html#102">cache</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Put&nbsp;a&nbsp;key-value&nbsp;pair&nbsp;into&nbsp;cache.
</c42><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[18475, 18478, 18483, 18479, 18482, 18484, 18472, 18566]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18>&nbsp;</c18><c30>fn&nbsp;put</c30><c4>(</c4><c20><a href="#116_15_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#116_26_refs">k</a></c20><c18>:&nbsp;</c18><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c18>&nbsp;</c18><c20><a href="#116_32_refs">v</a></c20><c18>:&nbsp;</c18><c8><a href="c=0 n=18399">V</a></c8><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[18486, 18487, 18485, 18488, 18489]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c21>mut</c21><c20><a href="#117_12_refs">&nbsp;key_existed</a></c20><c13>&nbsp;=&nbsp;</c13><c12>false</c12><c3>;</c3><c22>
</c22><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[18499, 18490, 18491, 18498, 18493, 18564, 18501, 18497, 18496, 18500, 18494, 18565, 18492, 18495]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c4>(</c4><c20><a href="#118_13_refs">node_ptr</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="#118_23_refs">node_opt</a></c20><c4>)</c4><c13>&nbsp;=&nbsp;</c13><c21>match&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#833">.find_mut</a></c10><c4>(</c4><c5><a href="../libcollections/hashmap.rs.html#833">&amp;</a></c5><c1><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#47">k:&nbsp;</a></c1><c5><a href="../libcollections/lru_cache.rs.html#47">&amp;</a></c5><c26><a href="../libcollections/lru_cache.rs.html#116">k</a></c26><c3>}</c3><c4>)</c4><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[18503, 18533, 18502, 18529]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#119_17_refs">node</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[18504, 18505, 18507, 18506]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#117">key_existed</a></c26><c5>&nbsp;=&nbsp;</c5><c12>true</c12><c3>;</c3><c22>
</c22><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[18513, 18508, 18510, 18512, 18514, 18511, 18509]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#119">node</a></c26><c24>.value</c24><c13>&nbsp;=&nbsp;</c13><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#116">v</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[18521, 18528, 18526, 18525, 18517, 18519, 18527, 18524, 18522, 18515, 18523]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#122_20_refs">node_ptr</a></c20><c16>:&nbsp;</c16><c8>*mut&nbsp;</c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c16>&nbsp;=&nbsp;</c16><c5>&amp;mut&nbsp;**</c5><c26><a href="../libcollections/lru_cache.rs.html#119">node</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[18531, 18532, 18530]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#122">node_ptr</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c22>
</c22><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[18534, 18557, 18563]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[18537, 18543, 18539, 18538, 18536, 18540, 18542, 18541, 18535]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c21>mut</c21><c20><a href="#126_20_refs">&nbsp;node</a></c20><c16>&nbsp;=&nbsp;</c16><c5>~</c5><c26><a href="../libcollections/lru_cache.rs.html#89">LruEntry::with_key_value</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#116">k</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../libcollections/lru_cache.rs.html#116">v</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[18552, 18544, 18546, 18551, 18556, 18554, 18550, 18553, 18548, 18555]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#127_20_refs">node_ptr</a></c20><c13>:&nbsp;</c13><c8>*mut&nbsp;</c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c13>&nbsp;=&nbsp;</c13><c5>&amp;mut&nbsp;*</c5><c26><a href="../libcollections/lru_cache.rs.html#126">node</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[18561, 18562, 18560, 18559, 18558]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#127">node_ptr</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#126">node</a></c26><c4>))</c4><c22>
</c22><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>};</c3><c22>
</c22><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[18567, 18613, 18576]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#117">key_existed</a></c26><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[18571, 18570, 18568, 18569]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#205">.detach</a></c10><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#118">node_ptr</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[18573, 18574, 18572, 18575]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c13><a href="../libcollections/lru_cache.rs.html#213">.attach</a></c13><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#118">node_ptr</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[18612, 18601]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>&nbsp;else&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[18588, 18577, 18580, 18581, 18582, 18584, 18583, 18585, 18579, 18578, 18587, 18586]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#135_16_refs">keyref</a></c20><c16>&nbsp;=&nbsp;</c16><c22>unsafe&nbsp;</c22><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#51">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#118">node_ptr</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#51">.key</a></c24><c10><a href="../libstd/option.rs.html#n104956">.as_ref</a></c10><c4>()</c4><c10><a href="../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c22>&nbsp;</c22><c3>};</c3><c22>
</c22><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[18592, 18593, 18590, 18591, 18595, 18594, 18589, 18596]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c13><a href="../libcollections/hashmap.rs.html#843">.swap</a></c13><c4>(</c4><c1><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#47">k:&nbsp;</a></c1><c26><a href="../libcollections/lru_cache.rs.html#135">keyref</a></c26><c3>},</c3><c13><a href="../libcollections/hashmap.rs.html#843">&nbsp;</a></c13><c26><a href="../libcollections/lru_cache.rs.html#118">node_opt</a></c26><c10><a href="../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[18599, 18600, 18598, 18597]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c13><a href="../libcollections/lru_cache.rs.html#213">.attach</a></c13><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#118">node_ptr</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[18603, 18605, 18604, 18610, 18606, 18602, 18611]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#254">.len</a></c10><c4>()</c4><c5>&nbsp;&gt;&nbsp;</c5><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#177">.capacity</a></c10><c4>()</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[18608, 18609, 18607]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#116">self</a></c26><c13><a href="../libcollections/lru_cache.rs.html#191">.remove_lru</a></c13><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Return&nbsp;a&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;key&nbsp;in&nbsp;the&nbsp;cache.
</c42><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[18624, 18614, 18619, 18627, 18706, 18628, 18630, 18622, 18623]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18>&nbsp;</c18><c30>fn&nbsp;get</c30><c5>&lt;'a&gt;</c5><c4>(</c4><c20><a href="#145_19_refs">&amp;'a&nbsp;mut&nbsp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#145_33_refs">k</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="c=0 n=18396">K</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../libstd/option.rs.html#n104336">Option&lt;&amp;'a&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libstd/option.rs.html#n104336">&gt;</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n[18685, 18640, 18633, 18636, 18639, 18635, 18641, 18684, 18631, 18637, 18638, 18632, 18634]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c4>(</c4><c20><a href="#146_13_refs">value</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="#146_20_refs">node_ptr_opt</a></c20><c4>)</c4><c16>&nbsp;=&nbsp;</c16><c21>match&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#145">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#833">.find_mut</a></c10><c4>(</c4><c5><a href="../libcollections/hashmap.rs.html#833">&amp;</a></c5><c1><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#47">k:&nbsp;</a></c1><c26><a href="../libcollections/lru_cache.rs.html#145">k</a></c26><c3>}</c3><c4>)</c4><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n[18645, 18644, 18643, 18642]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>(</c4><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c3>,</c3><c21>
</c21><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n[18647, 18662, 18683, 18646]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#148_17_refs">node</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a><a id="n[18658, 18655, 18652, 18654, 18659, 18661, 18650, 18648, 18657, 18660, 18656]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#149_20_refs">node_ptr</a></c20><c16>:&nbsp;</c16><c8>*mut&nbsp;</c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c16>&nbsp;=&nbsp;</c16><c5>&amp;mut&nbsp;**</c5><c26><a href="../libcollections/lru_cache.rs.html#148">node</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n[18663, 18682]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>unsafe</c21><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n[18681, 18667, 18665, 18664, 18666]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#52">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#149">node_ptr</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#52">.value</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n[18668, 18671, 18669, 18670]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>(</c4><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c3>,</c3><c21>
</c21><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n[18677, 18678, 18679, 18680, 18672, 18673, 18676, 18674, 18675]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#153_29_refs">ref&nbsp;value</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>(</c4><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#153">value</a></c26><c4>)</c4><c3>,</c3><c14>&nbsp;</c14><c26><a href="../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#149">node_ptr</a></c26><c4>))</c4><c21>
</c21><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>};</c3><c22>
</c22><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n[18702, 18701, 18686]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#146">node_ptr_opt</a></c26><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n[18688, 18687]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>()</c4><c3>,</c3><c21>
</c21><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n[18700, 18689, 18690, 18699]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#160_17_refs">node_ptr</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n[18693, 18694, 18691, 18692]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#145">self</a></c26><c13><a href="../libcollections/lru_cache.rs.html#205">.detach</a></c13><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#160">node_ptr</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n[18696, 18698, 18697, 18695]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#145">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#213">.attach</a></c10><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#160">node_ptr</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n[18703, 18705, 18704]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c1>&nbsp;</c1><c26><a href="../libcollections/lru_cache.rs.html#146">value</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Remove&nbsp;and&nbsp;return&nbsp;a&nbsp;value&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;key&nbsp;from&nbsp;the&nbsp;cache.
</c42><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n[18717, 18710, 18715, 18720, 18707, 18719, 18714, 18713]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18>&nbsp;</c18><c30>fn&nbsp;pop</c30><c4>(</c4><c20><a href="#169_15_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#169_26_refs">k</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="c=0 n=18396">K</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libstd/option.rs.html#n104336">&gt;</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n[18722, 18723, 18725, 18721, 18733, 18724, 18726]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#169">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#883">.pop</a></c10><c4>(</c4><c5><a href="../libcollections/hashmap.rs.html#883">&amp;</a></c5><c1><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#47">k:&nbsp;</a></c1><c26><a href="../libcollections/lru_cache.rs.html#169">k</a></c26><c3>}</c3><c4>)</c4><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n[18727, 18728]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n[18730, 18732, 18729, 18731]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#172_17_refs">lru_entry</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../libcollections/lru_cache.rs.html#172">lru_entry</a></c26><c24><a href="../libcollections/lru_cache.rs.html#52">.value</a></c24><c21>
</c21><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Return&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of&nbsp;key-value&nbsp;pairs&nbsp;the&nbsp;cache&nbsp;can&nbsp;hold.
</c42><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n[18734, 18737, 18739, 18740]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18><a href="#177_4_refs">&nbsp;</a></c18><c30>fn</c30><c30><a href="#177_4_refs">&nbsp;capacity</a></c30><c4>(</c4><c20><a href="#177_20_refs">&amp;self</a></c20><c4>)</c4><c18><a href="#177_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#177_4_refs">&nbsp;</a></c18><c8><a href="#177_4_refs">uint</a></c8><c18><a href="#177_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#177_4_refs">
</a></c22><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n[18741, 18742]">&nbsp;</a><c22><a href="#177_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#177">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#60">.max_size</a></c24><c22><a href="#177_4_refs">
</a></c22><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#177_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Change&nbsp;the&nbsp;number&nbsp;of&nbsp;key-value&nbsp;pairs&nbsp;the&nbsp;cache&nbsp;can&nbsp;hold.&nbsp;Remove
</c42><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;least-recently-used&nbsp;key-value&nbsp;pairs&nbsp;if&nbsp;necessary.
</c42><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n[18750, 18743, 18746, 18780, 18751, 18749]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c21>pub</c21><c18>&nbsp;</c18><c30>fn&nbsp;change_capacity</c30><c4>(</c4><c20><a href="#183_27_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#183_38_refs">capacity</a></c20><c18>:&nbsp;</c18><c8>uint</c8><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n[18773, 18754, 18764, 18753, 18774, 18765, 18763, 18760, 18772, 18756, 18759, 18769, 18758, 18755, 18771, 18752, 18757, 18762, 18770, 18761]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c10><a href="../libstd/iter.rs.html#n97724">&nbsp;</a></c10><c20><a href="../libstd/option.rs.html#n104341">_</a></c20><c10><a href="../libstd/iter.rs.html#n97724">&nbsp;in&nbsp;</a></c10><c26><a href="../libstd/iter.rs.html#n97679">range</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#183">capacity</a></c26><c3>,</c3><c27><a href="../libcollections/lru_cache.rs.html#184">&nbsp;</a></c27><c26><a href="../libcollections/lru_cache.rs.html#183">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#254">.len</a></c10><c4>())</c4><c10><a href="../libstd/iter.rs.html#n97724">&nbsp;</a></c10><c3>{</c3><c22><a href="../libcollections/lru_cache.rs.html#184">
</a></c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n[18766, 18768, 18767]">&nbsp;</a><c22><a href="../libcollections/lru_cache.rs.html#184">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#183">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#191">.remove_lru</a></c10><c4>()</c4><c3>;</c3><c22><a href="../libcollections/lru_cache.rs.html#184">
</a></c22><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../libcollections/lru_cache.rs.html#184">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../libstd/iter.rs.html#n97724">
</a></c10><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n[18777, 18775, 18778, 18776, 18779]">&nbsp;</a><c10><a href="../libstd/iter.rs.html#n97724">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../libcollections/lru_cache.rs.html#183">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#60">.max_size</a></c24><c13>&nbsp;=&nbsp;</c13><c26><a href="../libcollections/lru_cache.rs.html#183">capacity</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;#</c33><c3>[</c3><c33>inline</c33><c3>]</c3><c33>
</c33><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n[18781, 18784, 18785, 18786]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#191_4_refs">&nbsp;remove_lru</a></c30><c4>(</c4><c20><a href="#191_18_refs">&amp;mut&nbsp;self</a></c20><c4>)</c4><c18><a href="#191_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n[18787, 18827, 18788, 18790, 18806, 18789]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#191_4_refs">&nbsp;</a></c21><c26><a href="../libcollections/lru_cache.rs.html#191">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#254">.len</a></c10><c4>()</c4><c5><a href="#191_4_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#191_4_refs">0</a></c12><c21><a href="#191_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n[18797, 18791, 18795, 18794, 18793, 18801, 18798, 18796, 18799, 18800, 18792]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#191_4_refs">&nbsp;</a></c22><c20><a href="#193_16_refs">lru</a></c20><c13><a href="#191_4_refs">&nbsp;=&nbsp;</a></c13><c22><a href="#191_4_refs">unsafe&nbsp;</a></c22><c3>{</c3><c22><a href="#191_4_refs">&nbsp;</a></c22><c4>(</c4><c5><a href="#191_4_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#191">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#62">.tail</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c22><a href="#191_4_refs">&nbsp;</a></c22><c3>};</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n[18804, 18803, 18802, 18805]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#191">self</a></c26><c13><a href="../libcollections/lru_cache.rs.html#205">.detach</a></c13><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#193">lru</a></c26><c4>)</c4><c3>;</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n[18826, 18807]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#191_4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n[18825, 18811, 18810, 18809, 18808]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#191_4_refs">&nbsp;</a></c21><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#51">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#193">lru</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#51">.key</a></c24><c21><a href="#191_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#191_4_refs">
</a></c21><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n[18812, 18813]">&nbsp;</a><c21><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#191_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#191_4_refs">&nbsp;</a></c21><c4>()</c4><c3>,</c3><c21><a href="#191_4_refs">
</a></c21><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n[18820, 18815, 18817, 18823, 18822, 18821, 18819, 18814, 18816, 18818, 18824]">&nbsp;</a><c21><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#198_25_refs">ref&nbsp;k</a></c20><c4>)</c4><c21><a href="#191_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#191_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#191_4_refs">&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#191">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#883">.pop</a></c10><c4>(</c4><c5><a href="#191_4_refs">&amp;</a></c5><c1><a href="../libcollections/lru_cache.rs.html#47">KeyRef</a></c1><c3>{</c3><c1><a href="../libcollections/lru_cache.rs.html#47">k:&nbsp;</a></c1><c26><a href="../libcollections/lru_cache.rs.html#198">k</a></c26><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#191_4_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#191_4_refs">
</a></c21><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#191_4_refs">
</a></c22><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#191_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;#</c33><c3>[</c3><c33>inline</c33><c3>]</c3><c33>
</c33><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n[18839, 18836, 18841, 18831, 18834, 18838, 18842, 18828, 18840]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#205_4_refs">&nbsp;detach</a></c30><c4>(</c4><c20><a href="#205_4_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18><a href="#205_4_refs">&nbsp;</a></c18><c20><a href="#205_25_refs">node</a></c20><c18><a href="#205_4_refs">:&nbsp;</a></c18><c8><a href="#205_4_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c4>)</c4><c18><a href="#205_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#205_4_refs">
</a></c22><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n[18870, 18869]">&nbsp;</a><c22><a href="#205_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#205_4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#205_4_refs">
</a></c22><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n[18855, 18852, 18849, 18846, 18851, 18854, 18850, 18847, 18845, 18844, 18853, 18843, 18848]">&nbsp;</a><c22><a href="#205_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#54">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#205">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c5><a href="#205_4_refs">&nbsp;=&nbsp;</a></c5><c4>(</c4><c5><a href="#205_4_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#205">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c3>;</c3><c22><a href="#205_4_refs">
</a></c22><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n[18860, 18861, 18866, 18865, 18859, 18864, 18862, 18867, 18856, 18868, 18863, 18858, 18857]">&nbsp;</a><c22><a href="#205_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#54">*</a></c5><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#205">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c13><a href="#205_4_refs">&nbsp;=&nbsp;</a></c13><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#54">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#205">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c3>;</c3><c22><a href="#205_4_refs">
</a></c22><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#205_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#205_4_refs">
</a></c22><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#205_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;#</c33><c3>[</c3><c33>inline</c33><c3>]</c3><c33>
</c33><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n[18879, 18881, 18882, 18883, 18884, 18874, 18877, 18871, 18885]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#213_4_refs">&nbsp;attach</a></c30><c4>(</c4><c20><a href="#213_14_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18><a href="#213_4_refs">&nbsp;</a></c18><c20><a href="#213_25_refs">node</a></c20><c18><a href="#213_4_refs">:&nbsp;</a></c18><c8><a href="#213_4_refs">*mut&nbsp;</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=18396">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=18399">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c4>)</c4><c18><a href="#213_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n[18923, 18924]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#213_4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n[18895, 18888, 18889, 18891, 18893, 18892, 18890, 18886, 18894, 18887, 18896]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c13><a href="#213_4_refs">&nbsp;=&nbsp;</a></c13><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c3>;</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n[18901, 18900, 18904, 18903, 18899, 18897, 18902, 18898]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#54">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c5><a href="#213_4_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c3>;</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n[18908, 18910, 18907, 18909, 18911, 18906, 18905, 18912]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="#213_4_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c13><a href="#213_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../libcollections/lru_cache.rs.html#213">node</a></c26><c3>;</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a><a id="n[18922, 18916, 18918, 18914, 18920, 18913, 18921, 18919, 18915, 18917]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><a href="#213_4_refs">*</a></c5><c4>(</c4><c5><a href="../libcollections/lru_cache.rs.html#53">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">node</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#54">.prev</a></c24><c5><a href="#213_4_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../libcollections/lru_cache.rs.html#213">node</a></c26><c3>;</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#213_4_refs">
</a></c22><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#213_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n[18925]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n[18928, 18938, 18929, 18932, 18936, 18927, 18931, 18934]">&nbsp;</a><c33>impl</c33><c5>&lt;A:&nbsp;</c5><c5><a href="../libstd/fmt/mod.rs.html#n169697">fmt::Show</a></c5><c5>&nbsp;+&nbsp;</c5><c5><a href="../libstd/hash/mod.rs.html#n102356">Hash</a></c5><c5>&nbsp;+&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c5><c5>,&nbsp;B:&nbsp;</c5><c5><a href="../libstd/fmt/mod.rs.html#n169697">fmt::Show</a></c5><c5>&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/fmt/mod.rs.html#n169697">fmt::Show</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#57">LruCache</a></c33><c5><a href="../libcollections/lru_cache.rs.html#57">&lt;</a></c5><c5><a href="c=0 n=18926">A</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c5><c5><a href="c=0 n=18930">B</a></c5><c5><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Return&nbsp;a&nbsp;string&nbsp;that&nbsp;lists&nbsp;the&nbsp;key-value&nbsp;pairs&nbsp;from&nbsp;most-recently
</c42><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;used&nbsp;to&nbsp;least-recently&nbsp;used.
</c42><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n[18942, 18946, 19513, 18947, 18939, 18949, 18945]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fmt</c30><c4>(</c4><c20><a href="#226_11_refs">&amp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#226_18_refs">f</a></c20><c18>:&nbsp;</c18><c8>&amp;mut&nbsp;</c8><c8><a href="../libstd/fmt/mod.rs.html#n169588">fmt::Formatter</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../libstd/fmt/mod.rs.html#n169584">fmt::Result</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n[18988, 18987, 18983, 18968, 18972, 18973, 18975, 18984, 18974, 18967, 18985, 18955, 18969, 18980, 19004, 19001, 18961, 18959, 18979, 19006, 18960, 18956, 18965, 18966, 18976, 18964, 18970, 18986, 18982, 18978, 18977, 18971, 18981]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try!</c22><c4>(</c4><c22>write!</c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22>&nbsp;</c22><c22><a href="../libstd/fmt/mod.rs.html#n169654">r"\</a></c22><c3>{</c3><c22><a href="../libstd/fmt/mod.rs.html#n169654">"</a></c22><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n[19022, 19023, 19018, 19020, 19019, 19021]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c21>mut</c21><c20><a href="#228_12_refs">&nbsp;cur</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../libcollections/lru_cache.rs.html#226">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c3>;</c3><c22>
</c22><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n[19035, 19512, 19030, 19509, 19026, 19031, 19024, 19508, 19032, 19510, 19037, 19511, 19025, 19028, 19347, 19033, 19036, 19034, 19029, 19027]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c5><a href="../libstd/option.rs.html#n104337">&nbsp;</a></c5><c20><a href="#229_12_refs">i</a></c20><c5><a href="../libstd/option.rs.html#n104337">&nbsp;in&nbsp;</a></c5><c26><a href="../libstd/iter.rs.html#n97679">range</a></c26><c4>(</c4><c12><a href="../libstd/option.rs.html#n104341">0</a></c12><c3>,</c3><c27><a href="../libstd/option.rs.html#n104341">&nbsp;</a></c27><c26><a href="../libcollections/lru_cache.rs.html#226">self</a></c26><c10><a href="../libcollections/lru_cache.rs.html#254">.len</a></c10><c4>())</c4><c5><a href="../libstd/option.rs.html#n104337">&nbsp;</a></c5><c3>{</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a><a id="n[19038, 19070, 19062, 19064, 19072, 19061, 19110, 19096, 19077, 19051, 19063, 19058, 19056, 19074, 19076, 19080, 19078, 19047, 19052, 19039, 19059, 19069, 19067, 19040, 19098, 19068, 19048, 19053, 19079, 19073, 19041, 19066, 19108, 19075, 19057, 19065, 19109, 19071, 19060, 19093]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#229_8_refs">&nbsp;</a></c21><c26><a href="../libcollections/lru_cache.rs.html#229">i</a></c26><c5><a href="#229_8_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#229_8_refs">0</a></c12><c21><a href="#229_8_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c21><a href="#229_8_refs">try!</a></c21><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#230">"</a></c26><c3>,</c3><c26><a href="../libcollections/lru_cache.rs.html#230">&nbsp;"</a></c26><c4>))</c4><c21><a href="#229_8_refs">&nbsp;</a></c21><c3>}</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n[19278, 19118, 19277]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#229_8_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n[19111, 19114, 19115, 19113, 19117, 19112, 19116]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#228">cur</a></c26><c5><a href="#229_8_refs">&nbsp;=&nbsp;</a></c5><c4>(</c4><c5><a href="#229_8_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#228">cur</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#53">.next</a></c24><c3>;</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n[19120, 19276, 19121, 19119, 19122]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>(</c4><c5><a href="#229_8_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#228">cur</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#51">.key</a></c24><c21><a href="#229_8_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;should&nbsp;never&nbsp;print&nbsp;nil
</c40><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a><a id="n[19180, 19149, 19133, 19146, 19148, 19147, 19130, 19155, 19156, 19162, 19160, 19159, 19158, 19123, 19161, 19138, 19145, 19134, 19143, 19154, 19150, 19175, 19142, 19152, 19178, 19139, 19140, 19144, 19151, 19190, 19135, 19153, 19129, 19141, 19157]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#229_8_refs">&nbsp;try!</a></c21><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#235">"nil"</a></c26><c4>))</c4><c3>,</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n[19247, 19241, 19221, 19234, 19218, 19211, 19236, 19203, 19204, 19216, 19206, 19208, 19275, 19265, 19191, 19228, 19239, 19222, 19227, 19226, 19230, 19242, 19243, 19205, 19223, 19233, 19235, 19260, 19231, 19246, 19199, 19245, 19219, 19238, 19198, 19263, 19202, 19237, 19220, 19215, 19225, 19217, 19232, 19224, 19244, 19212, 19192, 19213, 19214, 19207, 19229, 19240]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#236_25_refs">ref&nbsp;k</a></c20><c4>)</c4><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#229_8_refs">&nbsp;try!</a></c21><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c22><a href="#236_54_refs">"</a></c22><c3>{}</c3><c22><a href="#236_54_refs">"</a></c22><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#236">*</a></c26><c26><a href="../libcollections/lru_cache.rs.html#236">k</a></c26><c4>))</c4><c3>,</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n[19335, 19300, 19312, 19290, 19295, 19317, 19314, 19315, 19316, 19284, 19313, 19311, 19305, 19294, 19307, 19302, 19306, 19333, 19301, 19309, 19293, 19308, 19330, 19289, 19299, 19304, 19288, 19285, 19297, 19303, 19298, 19310, 19296]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try!</a></c22><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c26><a href="../libstd/fmt/rt.rs.html#n169453">":&nbsp;"</a></c26><c4>))</c4><c3>;</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n[19507, 19348]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#229_8_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n[19506, 19349, 19350, 19351, 19352]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>(</c4><c5><a href="#229_8_refs">*</a></c5><c26><a href="../libcollections/lru_cache.rs.html#228">cur</a></c26><c4>)</c4><c24><a href="../libcollections/lru_cache.rs.html#52">.value</a></c24><c21><a href="#229_8_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;should&nbsp;never&nbsp;print&nbsp;nil
</c40><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n[19392, 19410, 19420, 19376, 19380, 19385, 19378, 19359, 19384, 19388, 19373, 19374, 19381, 19390, 19369, 19386, 19383, 19364, 19365, 19405, 19370, 19375, 19391, 19408, 19353, 19363, 19387, 19379, 19371, 19382, 19368, 19389, 19377, 19372, 19360]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#229_8_refs">&nbsp;try!</a></c21><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c12><a href="../libstd/fmt/rt.rs.html#n169447">"nil"</a></c12><c4>))</c4><c3>,</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n[19429, 19442, 19433, 19476, 19465, 19434, 19447, 19461, 19505, 19458, 19493, 19468, 19459, 19421, 19471, 19460, 19422, 19474, 19436, 19472, 19495, 19443, 19452, 19448, 19444, 19451, 19473, 19454, 19435, 19449, 19457, 19428, 19462, 19470, 19441, 19466, 19467, 19464, 19450, 19477, 19438, 19445, 19453, 19475, 19456, 19455, 19432, 19463, 19446, 19437, 19490, 19469]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#244_25_refs">ref&nbsp;value</a></c20><c4>)</c4><c21><a href="#229_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#229_8_refs">&nbsp;try!</a></c21><c4>(</c4><c22><a href="#229_8_refs">write!</a></c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c20><a href="#244_58_refs">"</a></c20><c3>{}</c3><c20><a href="#244_58_refs">"</a></c20><c3>,</c3><c22><a href="#229_8_refs">&nbsp;</a></c22><c27><a href="../libcollections/lru_cache.rs.html#244">*</a></c27><c26><a href="../libcollections/lru_cache.rs.html#244">value</a></c26><c4>))</c4><c3>,</c3><c21><a href="#229_8_refs">
</a></c21><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#229_8_refs">
</a></c22><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#229_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c5><a href="../libstd/option.rs.html#n104337">
</a></c5><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n[19529, 19570, 19520, 19543, 19523, 19538, 19547, 19528, 19565, 19537, 19532, 19536, 19535, 19534, 19546, 19541, 19550, 19545, 19533, 19519, 19540, 19525, 19531, 19552, 19568, 19524, 19544, 19549, 19539, 19548, 19542, 19530, 19551]">&nbsp;</a><c5><a href="../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c22><a href="#229_8_refs">write</a></c22><c22>!</c22><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#226">f</a></c26><c24><a href="../libstd/fmt/mod.rs.html#n169588">.buf</a></c24><c3>,</c3><c22>&nbsp;</c22><c13><a href="../libcollections/lru_cache.rs.html#248">r"\</a></c13><c3>}</c3><c13><a href="../libcollections/lru_cache.rs.html#248">"</a></c13><c4>)</c4><c22>
</c22><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n[19571]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n[19574, 19573, 19582, 19580, 19578, 19576]">&nbsp;</a><c33>impl</c33><c5>&lt;K:&nbsp;</c5><c5><a href="../libstd/hash/mod.rs.html#n102356">Hash</a></c5><c5>&nbsp;+&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c5><c5>,&nbsp;V&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/container.rs.html#n103762">Container</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#57">LruCache</a></c33><c5><a href="../libcollections/lru_cache.rs.html#57">&lt;</a></c5><c5><a href="c=0 n=19572">K</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c5><c5><a href="c=0 n=19575">V</a></c5><c5><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Return&nbsp;the&nbsp;number&nbsp;of&nbsp;key-value&nbsp;pairs&nbsp;in&nbsp;the&nbsp;cache.
</c42><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a><a id="n[19586, 19583, 19589, 19588]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#254_4_refs">&nbsp;len</a></c30><c4>(</c4><c20><a href="#254_11_refs">&amp;self</a></c20><c4>)</c4><c18><a href="#254_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#254_4_refs">&nbsp;</a></c18><c8><a href="#254_4_refs">uint</a></c8><c18><a href="#254_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#254_4_refs">
</a></c22><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a><a id="n[19590, 19592, 19591]">&nbsp;</a><c22><a href="#254_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../libcollections/lru_cache.rs.html#254">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#801">.len</a></c10><c4>()</c4><c22><a href="#254_4_refs">
</a></c22><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#254_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n[19593]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a><a id="n[19598, 19600, 19596, 19604, 19595, 19602]">&nbsp;</a><c33>impl</c33><c5>&lt;K:&nbsp;</c5><c5><a href="../libstd/hash/mod.rs.html#n102356">Hash</a></c5><c5>&nbsp;+&nbsp;</c5><c5><a href="../libstd/cmp.rs.html#n75314">TotalEq</a></c5><c5>,&nbsp;V&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/container.rs.html#n103780">Mutable</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#57">LruCache</a></c33><c5><a href="../libcollections/lru_cache.rs.html#57">&lt;</a></c5><c5><a href="c=0 n=19594">K</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c5><c5><a href="c=0 n=19597">V</a></c5><c5><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Clear&nbsp;the&nbsp;cache&nbsp;of&nbsp;all&nbsp;key-value&nbsp;pairs.
</c42><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n[19609, 19605, 19608, 19614]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;clear</c30><c4>(</c4><c20><a href="#261_13_refs">&amp;mut&nbsp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n[19613, 19610, 19612, 19611]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../libcollections/lru_cache.rs.html#261">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#59">.map</a></c24><c10><a href="../libcollections/hashmap.rs.html#806">.clear</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a><a id="n[19615]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>unsafe_destructor</c50><c3>]</c3><c50>
</c50><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a><a id="n[19620, 19624, 19622, 19618]">&nbsp;</a><c33>impl</c33><c5>&lt;K,&nbsp;V&gt;</c5><c33>&nbsp;</c33><c33><a href="../libstd/ops.rs.html#n75082">Drop</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../libcollections/lru_cache.rs.html#57">LruCache</a></c33><c5><a href="../libcollections/lru_cache.rs.html#57">&lt;</a></c5><c5><a href="c=0 n=19616">K</a></c5><c5>,</c5><c5><a href="../libcollections/lru_cache.rs.html#57">&nbsp;</a></c5><c5><a href="c=0 n=19617">V</a></c5><c5><a href="../libcollections/lru_cache.rs.html#57">&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n[19630, 19628, 19625, 19629]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;drop</c30><c4>(</c4><c20><a href="#268_12_refs">&amp;mut&nbsp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a><a id="n[19660, 19659]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>unsafe</c21><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;270</ln><a id="270">&nbsp;</a><a id="n[19644, 19633, 19641, 19639, 19638, 19637, 19642, 19640, 19643, 19631, 19635]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20>_</c20><c16>:&nbsp;</c16><c8>~</c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=19616">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=19617">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c16>&nbsp;=&nbsp;</c16><c26><a href="../libstd/cast.rs.html#n162150">cast::transmute</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#268">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#61">.head</a></c24><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;271</ln><a id="271">&nbsp;</a><a id="n[19653, 19656, 19657, 19655, 19647, 19652, 19651, 19649, 19658, 19654, 19645]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20>_</c20><c16>:&nbsp;</c16><c8>~</c8><c8><a href="../libcollections/lru_cache.rs.html#49">LruEntry&lt;</a></c8><c8><a href="c=0 n=19616">K</a></c8><c3>,</c3><c8><a href="../libcollections/lru_cache.rs.html#49">&nbsp;</a></c8><c8><a href="c=0 n=19617">V</a></c8><c8><a href="../libcollections/lru_cache.rs.html#49">&gt;</a></c8><c16>&nbsp;=&nbsp;</c16><c26><a href="../libstd/cast.rs.html#n162150">cast::transmute</a></c26><c4>(</c4><c26><a href="../libcollections/lru_cache.rs.html#268">self</a></c26><c24><a href="../libcollections/lru_cache.rs.html#62">.tail</a></c24><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;272</ln><a id="272">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;273</ln><a id="273">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;274</ln><a id="274">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;275</ln><a id="275">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;276</ln><a id="276">&nbsp;</a><a id="n[]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>cfg</c50><c4>(</c4><c50>test</c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;277</ln><a id="277">&nbsp;</a><a id="n[]">&nbsp;</a><c21>mod</c21><c38>&nbsp;tests&nbsp;</c38><c3>{</c3><c0>
</c0><br/><ln>&nbsp;278</ln><a id="278">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;super::LruCache</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;279</ln><a id="279">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;280</ln><a id="280">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;assert_opt_eq</c30><c5>&lt;V:&nbsp;Eq&gt;</c5><c4>(</c4><c0>opt:&nbsp;Option&lt;&amp;V&gt;</c0><c3>,</c3><c0>&nbsp;v:&nbsp;V</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;281</ln><a id="281">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>opt.is_some</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;282</ln><a id="282">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>opt.unwrap</c0><c4>()</c4><c0>&nbsp;==&nbsp;&amp;v</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;283</ln><a id="283">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;284</ln><a id="284">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;285</ln><a id="285">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;286</ln><a id="286">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_put_and_get</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;287</ln><a id="287">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;int</c0><c3>,</c3><c0>&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;288</ln><a id="288">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>1</c0><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;289</ln><a id="289">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;290</ln><a id="290">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_opt_eq</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;1</c0><c4>)</c4><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;291</ln><a id="291">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_opt_eq</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;2</c0><c4>)</c4><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;292</ln><a id="292">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.len</c0><c4>()</c4><c3>,</c3><c0>&nbsp;2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;293</ln><a id="293">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;294</ln><a id="294">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;295</ln><a id="295">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;296</ln><a id="296">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_put_update</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;297</ln><a id="297">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;~str</c0><c3>,</c3><c0>&nbsp;~</c0><c3>[</c3><c0>u8</c0><c3>]</c3><c0>&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;298</ln><a id="298">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"1"</c0><c3>,</c3><c0>&nbsp;~</c0><c3>[</c3><c0>10</c0><c3>,</c3><c0>&nbsp;10</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;299</ln><a id="299">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"1"</c0><c3>,</c3><c0>&nbsp;~</c0><c3>[</c3><c0>10</c0><c3>,</c3><c0>&nbsp;19</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;300</ln><a id="300">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_opt_eq</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;~"1"</c0><c4>)</c4><c3>,</c3><c0>&nbsp;~</c0><c3>[</c3><c0>10</c0><c3>,</c3><c0>&nbsp;19</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;301</ln><a id="301">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.len</c0><c4>()</c4><c3>,</c3><c0>&nbsp;1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;302</ln><a id="302">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;303</ln><a id="303">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;304</ln><a id="304">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;305</ln><a id="305">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_expire_lru</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;306</ln><a id="306">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;~str</c0><c3>,</c3><c0>&nbsp;~str&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;307</ln><a id="307">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"foo1"</c0><c3>,</c3><c0>&nbsp;~"bar1"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;308</ln><a id="308">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"foo2"</c0><c3>,</c3><c0>&nbsp;~"bar2"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;309</ln><a id="309">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"foo3"</c0><c3>,</c3><c0>&nbsp;~"bar3"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;310</ln><a id="310">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;~"foo1"</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;311</ln><a id="311">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"foo2"</c0><c3>,</c3><c0>&nbsp;~"bar2update"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;312</ln><a id="312">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>~"foo4"</c0><c3>,</c3><c0>&nbsp;~"bar4"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;313</ln><a id="313">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;~"foo3"</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;314</ln><a id="314">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;315</ln><a id="315">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;316</ln><a id="316">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;317</ln><a id="317">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_pop</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;318</ln><a id="318">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;int</c0><c3>,</c3><c0>&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;319</ln><a id="319">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>1</c0><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;320</ln><a id="320">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;321</ln><a id="321">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.len</c0><c4>()</c4><c3>,</c3><c0>&nbsp;2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;322</ln><a id="322">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;opt1&nbsp;=&nbsp;cache.pop</c0><c4>(</c4><c0>&amp;1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;323</ln><a id="323">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>opt1.is_some</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;324</ln><a id="324">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>opt1.unwrap</c0><c4>()</c4><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;325</ln><a id="325">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;1</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;326</ln><a id="326">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.len</c0><c4>()</c4><c3>,</c3><c0>&nbsp;1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;327</ln><a id="327">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;328</ln><a id="328">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;329</ln><a id="329">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;330</ln><a id="330">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_change_capacity</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;331</ln><a id="331">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;int</c0><c3>,</c3><c0>&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;332</ln><a id="332">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.capacity</c0><c4>()</c4><c3>,</c3><c0>&nbsp;2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;333</ln><a id="333">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>1</c0><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;334</ln><a id="334">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;335</ln><a id="335">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.change_capacity</c0><c4>(</c4><c0>1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;336</ln><a id="336">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;1</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;337</ln><a id="337">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.capacity</c0><c4>()</c4><c3>,</c3><c0>&nbsp;1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;338</ln><a id="338">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;339</ln><a id="339">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;340</ln><a id="340">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;341</ln><a id="341">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_to_str</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;342</ln><a id="342">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;int</c0><c3>,</c3><c0>&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>3</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;343</ln><a id="343">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>1</c0><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;344</ln><a id="344">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;345</ln><a id="345">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>3</c0><c3>,</c3><c0>&nbsp;30</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;346</ln><a id="346">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{</c3><c0>3:&nbsp;30</c0><c3>,</c3><c0>&nbsp;2:&nbsp;20</c0><c3>,</c3><c0>&nbsp;1:&nbsp;10</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;347</ln><a id="347">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;22</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;348</ln><a id="348">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{</c3><c0>2:&nbsp;22</c0><c3>,</c3><c0>&nbsp;3:&nbsp;30</c0><c3>,</c3><c0>&nbsp;1:&nbsp;10</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;349</ln><a id="349">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>6</c0><c3>,</c3><c0>&nbsp;60</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;350</ln><a id="350">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{</c3><c0>6:&nbsp;60</c0><c3>,</c3><c0>&nbsp;2:&nbsp;22</c0><c3>,</c3><c0>&nbsp;3:&nbsp;30</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;351</ln><a id="351">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.get</c0><c4>(</c4><c0>&amp;3</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;352</ln><a id="352">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{</c3><c0>3:&nbsp;30</c0><c3>,</c3><c0>&nbsp;6:&nbsp;60</c0><c3>,</c3><c0>&nbsp;2:&nbsp;22</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;353</ln><a id="353">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.change_capacity</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;354</ln><a id="354">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{</c3><c0>3:&nbsp;30</c0><c3>,</c3><c0>&nbsp;6:&nbsp;60</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;355</ln><a id="355">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;356</ln><a id="356">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;357</ln><a id="357">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;358</ln><a id="358">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_clear</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;359</ln><a id="359">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;cache:&nbsp;LruCache&lt;int</c0><c3>,</c3><c0>&nbsp;int&gt;&nbsp;=&nbsp;LruCache::new</c0><c4>(</c4><c0>2</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;360</ln><a id="360">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>1</c0><c3>,</c3><c0>&nbsp;10</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;361</ln><a id="361">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.put</c0><c4>(</c4><c0>2</c0><c3>,</c3><c0>&nbsp;20</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;362</ln><a id="362">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cache.clear</c0><c4>()</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;363</ln><a id="363">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;1</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;364</ln><a id="364">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>cache.get</c0><c4>(</c4><c0>&amp;2</c0><c4>)</c4><c0>.is_none</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;365</ln><a id="365">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>cache.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;~"</c0><c3>{}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;366</ln><a id="366">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;367</ln><a id="367">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="49_1_refs"><a href="#49"><c40>libcollections/lru_cache.rs:49:1-49:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../libcollections/lru_cache.rs.html#122"><c40>122:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;node_ptr:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;=&nbsp;&amp;mut&nbsp;**node;
<br/></a><a href="../libcollections/lru_cache.rs.html#270"><c40>270:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;_:&nbsp;~LruEntry&lt;K,&nbsp;V&gt;&nbsp;=&nbsp;cast::transmute(self.head);
<br/></a><a href="../libcollections/lru_cache.rs.html#89"><c40>89:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;with_key_value(k:&nbsp;K,&nbsp;v:&nbsp;V)&nbsp;-&gt;&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#127"><c40>127:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;node_ptr:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;=&nbsp;&amp;mut&nbsp;*node;
<br/></a><a href="../libcollections/lru_cache.rs.html#213"><c40>213:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;attach(&amp;mut&nbsp;self,&nbsp;node:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;)&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#59"><c40>59:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;priv&nbsp;map:&nbsp;HashMap&lt;KeyRef&lt;K&gt;,&nbsp;~LruEntry&lt;K,&nbsp;V&gt;&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#53"><c40>53:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;next:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#81"><c40>81:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LruEntry&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#61"><c40>61:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;priv&nbsp;head:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#149"><c40>149:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;node_ptr:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;=&nbsp;&amp;mut&nbsp;**node;
<br/></a><a href="../libcollections/lru_cache.rs.html#54"><c40>54:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;prev:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#90"><c40>90:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LruEntry&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#79"><c40>79:&nbsp;</c40>impl&lt;K,&nbsp;V&gt;&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#80"><c40>80:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;new()&nbsp;-&gt;&nbsp;LruEntry&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#205"><c40>205:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;detach(&amp;mut&nbsp;self,&nbsp;node:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;)&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#62"><c40>62:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;priv&nbsp;tail:&nbsp;*mut&nbsp;LruEntry&lt;K,&nbsp;V&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#271"><c40>271:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;_:&nbsp;~LruEntry&lt;K,&nbsp;V&gt;&nbsp;=&nbsp;cast::transmute(self.tail);
<br/></a><br/><br/><a id="57_18_refs"><a href="#57"><c40>libcollections/lru_cache.rs:57:18-57:18&nbsp;-struct-&nbsp;definition:<br/></c40><pr>///&nbsp;An&nbsp;LRU&nbsp;Cache.
<br/>pub&nbsp;struct&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../libcollections/lru_cache.rs.html#223"><c40>223:&nbsp;</c40>impl&lt;A:&nbsp;fmt::Show&nbsp;+&nbsp;Hash&nbsp;+&nbsp;TotalEq,&nbsp;B:&nbsp;fmt::Show&gt;&nbsp;fmt::Show&nbsp;for&nbsp;LruCache&lt;A,&nbsp;B&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#99"><c40>99:&nbsp;</c40>impl&lt;K:&nbsp;Hash&nbsp;+&nbsp;TotalEq,&nbsp;V&gt;&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#252"><c40>252:&nbsp;</c40>impl&lt;K:&nbsp;Hash&nbsp;+&nbsp;TotalEq,&nbsp;V&gt;&nbsp;Container&nbsp;for&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#259"><c40>259:&nbsp;</c40>impl&lt;K:&nbsp;Hash&nbsp;+&nbsp;TotalEq,&nbsp;V&gt;&nbsp;Mutable&nbsp;for&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#101"><c40>101:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;new(capacity:&nbsp;uint)&nbsp;-&gt;&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#102"><c40>102:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cache&nbsp;=&nbsp;LruCache&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#267"><c40>267:&nbsp;</c40>impl&lt;K,&nbsp;V&gt;&nbsp;Drop&nbsp;for&nbsp;LruCache&lt;K,&nbsp;V&gt;&nbsp;{
<br/></a><br/><br/><a id="47_1_refs"><a href="#47"><c40>libcollections/lru_cache.rs:47:1-47:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;KeyRef&lt;K&gt;&nbsp;{&nbsp;k:&nbsp;*K&nbsp;}
<br/></pr></a></a><c40>references:-</c40><br/><a href="../libcollections/lru_cache.rs.html#65"><c40>65:&nbsp;</c40>impl&lt;S,&nbsp;K:&nbsp;Hash&lt;S&gt;&gt;&nbsp;Hash&lt;S&gt;&nbsp;for&nbsp;KeyRef&lt;K&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#198"><c40>198:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(ref&nbsp;k)&nbsp;=&gt;&nbsp;{&nbsp;self.map.pop(&amp;KeyRef{k:&nbsp;k});&nbsp;}
<br/></a><a href="../libcollections/lru_cache.rs.html#59"><c40>59:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;priv&nbsp;map:&nbsp;HashMap&lt;KeyRef&lt;K&gt;,&nbsp;~LruEntry&lt;K,&nbsp;V&gt;&gt;,
<br/></a><a href="../libcollections/lru_cache.rs.html#77"><c40>77:&nbsp;</c40>impl&lt;K:&nbsp;TotalEq&gt;&nbsp;TotalEq&nbsp;for&nbsp;KeyRef&lt;K&gt;&nbsp;{}
<br/></a><a href="../libcollections/lru_cache.rs.html#146"><c40>146:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;(value,&nbsp;node_ptr_opt)&nbsp;=&nbsp;match&nbsp;self.map.find_mut(&amp;KeyRef{k:&nbsp;k})&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#170"><c40>170:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;self.map.pop(&amp;KeyRef{k:&nbsp;k})&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#118"><c40>118:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;(node_ptr,&nbsp;node_opt)&nbsp;=&nbsp;match&nbsp;self.map.find_mut(&amp;KeyRef{k:&nbsp;&amp;k})&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#136"><c40>136:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.map.swap(KeyRef{k:&nbsp;keyref},&nbsp;node_opt.unwrap());
<br/></a><a href="../libcollections/lru_cache.rs.html#71"><c40>71:&nbsp;</c40>impl&lt;K:&nbsp;Eq&gt;&nbsp;Eq&nbsp;for&nbsp;KeyRef&lt;K&gt;&nbsp;{
<br/></a><a href="../libcollections/lru_cache.rs.html#72"><c40>72:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;eq(&amp;self,&nbsp;other:&nbsp;&amp;KeyRef&lt;K&gt;)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></a><br/></div></maintext></div></body>