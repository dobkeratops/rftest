<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../libsyntax/">libsyntax</a></c0><c1>/</c1><c0><a href="./../../libsyntax/parse/">parse</a></c0><c1>/</c1><c0><a href="./../../libsyntax/parse/comments.rs.html">comments.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2012-2014&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>BytePos</c0><c3>,</c3><c0>&nbsp;CharPos</c0><c3>,</c3><c0>&nbsp;CodeMap</c0><c3>,</c3><c0>&nbsp;Pos</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;diagnostic</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>is_whitespace</c0><c3>,</c3><c0>&nbsp;with_str_from</c0><c3>,</c3><c0>&nbsp;Reader</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>StringReader</c0><c3>,</c3><c0>&nbsp;bump</c0><c3>,</c3><c0>&nbsp;is_eof</c0><c3>,</c3><c0>&nbsp;nextch_is</c0><c3>,</c3><c0>&nbsp;TokenAndSpan</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>is_line_non_doc_comment</c0><c3>,</c3><c0>&nbsp;is_block_non_doc_comment</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;parse::lexer</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::io</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::uint</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[124210, 124177, 124105, 124129, 124097, 124137, 124180, 124153, 124174, 124152, 124193, 124201, 124103, 124126, 124188, 124171, 124114, 124165, 124168, 124143, 124140, 124132, 124151, 124135, 124181, 124173, 124214, 124130, 124146, 124200, 124207, 124176, 124121, 124203, 124122, 124196, 124116, 124187, 124119, 124169, 124149, 124164, 124220, 124212, 124148, 124198, 124190, 124166, 124163, 124182, 124161, 124109, 124197, 124211, 124192, 124209, 124138, 124141, 124218, 124127, 124195, 124156, 124204, 124113, 124117, 124102, 124133, 124150, 124221, 124199, 124189, 124185, 124125, 124145, 124124, 124106, 124184, 124160, 124179, 124112, 124142, 124134, 124172, 124118, 124159, 124216]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/parse/comments.rs.html#27">Clone</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libsyntax/parse/comments.rs.html#24">Eq</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c34><a href="#24_23_refs">&nbsp;</a></c34><c34>enum</c34><c34><a href="#24_23_refs">&nbsp;CommentStyle&nbsp;</a></c34><c3>{</c3><c34><a href="#24_23_refs">
</a></c34><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[124170, 124120, 124167, 124098, 124213, 124123]">&nbsp;</a><c34><a href="#24_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../libsyntax/parse/comments.rs.html#26">Isolated</a></c20><c3>,</c3><c34><a href="#24_23_refs">&nbsp;</a></c34><c40>//&nbsp;No&nbsp;code&nbsp;on&nbsp;either&nbsp;side&nbsp;of&nbsp;each&nbsp;line&nbsp;of&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[124128, 124178, 124175, 124131, 124215, 124099]">&nbsp;</a><c34><a href="#24_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c28><a href="#27_4_refs">Trailing</a></c28><c3>,</c3><c34><a href="#24_23_refs">&nbsp;</a></c34><c40>//&nbsp;Code&nbsp;exists&nbsp;to&nbsp;the&nbsp;left&nbsp;of&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[124100, 124183, 124136, 124139, 124217, 124186]">&nbsp;</a><c34><a href="#24_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../libsyntax/parse/comments.rs.html#28">Mixed</a></c20><c3>,</c3><c34><a href="#24_23_refs">&nbsp;</a></c34><c40>//&nbsp;Code&nbsp;before&nbsp;/*&nbsp;foo&nbsp;*/&nbsp;and&nbsp;after&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[124144, 124219, 124191, 124194, 124101, 124147]">&nbsp;</a><c34><a href="#24_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../libsyntax/parse/comments.rs.html#29">BlankLine</a></c20><c3>,</c3><c34><a href="#24_23_refs">&nbsp;</a></c34><c40>//&nbsp;Just&nbsp;a&nbsp;manual&nbsp;blank&nbsp;line&nbsp;"\n\n",&nbsp;for&nbsp;layout
</c40><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[124238, 124245, 124235, 124244, 124265, 124242, 124236, 124246, 124239, 124264, 124247, 124222, 124251]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/parse/comments.rs.html#32">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c31><a href="#32_19_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#32_19_refs">&nbsp;Comment&nbsp;</a></c31><c3>{</c3><c31><a href="#32_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[124225, 124248, 124254, 124223, 124253, 124252, 124255]">&nbsp;</a><c31><a href="#32_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c10><a href="../../libsyntax/parse/comments.rs.html#24">style:&nbsp;</a></c10><c8><a href="../../libsyntax/parse/comments.rs.html#24">CommentStyle</a></c8><c3>,</c3><c31><a href="#32_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[124256, 124258, 124231, 124228, 124257, 124249, 124259, 124226, 124229]">&nbsp;</a><c31><a href="#32_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#35_4_refs">lines:&nbsp;</a></c24><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c31><a href="#32_19_refs">&nbsp;</a></c31><c3>,</c3><c31><a href="#32_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[124250, 124234, 124262, 124260, 124232, 124263, 124261]">&nbsp;</a><c31><a href="#32_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c5><a href="../../libsyntax/codemap.rs.html#35">pos:&nbsp;</a></c5><c8><a href="../../libsyntax/codemap.rs.html#35">BytePos</a></c8><c31><a href="#32_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[124266]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[124269, 124273, 124271, 124270, 124274]">&nbsp;</a><c21>pub</c21><c1><a href="#38_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#38_1_refs">&nbsp;is_doc_comment</a></c30><c4>(</c4><c20><a href="#39_22_refs">s</a></c20><c1><a href="#38_1_refs">:&nbsp;</a></c1><c8><a href="#38_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#38_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#38_1_refs">&nbsp;</a></c1><c8><a href="#38_1_refs">bool</a></c8><c1><a href="#38_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#38_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[124281, 124277, 124276, 124287, 124280, 124297, 124275, 124278, 124283, 124301, 124282, 124279]">&nbsp;</a><c22><a href="#38_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#39">s</a></c26><c10><a href="../../libstd/str.rs.html#n66529">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n66529">"</a></c12><c42>///")&nbsp;&amp;&amp;&nbsp;!is_line_non_doc_comment(s))&nbsp;||
</c42><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[124286, 124284, 124285]">&nbsp;</a><c1><a href="#38_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#39">s</a></c26><c10><a href="../../libstd/str.rs.html#n66529">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n66529">"</a></c12><c40>//!")&nbsp;||
</c40><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[124291, 124296, 124290, 124289, 124294, 124295, 124288, 124293, 124292]">&nbsp;</a><c1><a href="#38_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#39">s</a></c26><c10><a href="../../libstd/str.rs.html#n66529">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n66529">"/**"</a></c12><c4>)</c4><c1><a href="#38_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#38_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#408">is_block_non_doc_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#39">s</a></c26><c4>))</c4><c1><a href="#38_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[124300, 124299, 124298]">&nbsp;</a><c1><a href="#38_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#39">s</a></c26><c10><a href="../../libstd/str.rs.html#n66529">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n66529">"</a></c12><c41>/*!")
</c41><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[124302]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[124309, 124305, 124306, 124307, 124387]">&nbsp;</a><c41>pub&nbsp;fn&nbsp;doc_comment_style(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;ast::AttrStyle&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[124310, 124311, 124312]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;assert!(is_doc_comment(comment));
</c41><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[124388, 124389, 124392, 124390, 124391, 124395, 124394, 124393, 124400]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with("//!")&nbsp;||&nbsp;comment.starts_with("/*!")&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[124396]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::AttrInner
</c41><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[124397, 124399]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[124398]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::AttrOuter
</c41><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[124401]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[124406, 124408, 124404, 124863, 124409, 124405]">&nbsp;</a><c41>pub&nbsp;fn&nbsp;strip_doc_comment_decoration(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;remove&nbsp;whitespace-only&nbsp;lines&nbsp;from&nbsp;the&nbsp;start/end&nbsp;of&nbsp;lines
</c41><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[124410, 124414, 124413, 124416, 124419, 124420, 124542, 124543, 124422, 124417]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;vertical_trim(lines:&nbsp;Vec&lt;~str&gt;&nbsp;)&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[124423, 124426, 124425, 124424, 124427]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;0u;
</c41><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[124432, 124431, 124430, 124429, 124433, 124428]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;j&nbsp;=&nbsp;lines.len();
</c41><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;first&nbsp;line&nbsp;of&nbsp;all-stars&nbsp;should&nbsp;be&nbsp;omitted
</c41><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[124445, 124450, 124444, 124459, 124443, 124439, 124458, 124441, 124436, 124457, 124434, 124448, 124447, 124440, 124449, 124452, 124438, 124451, 124446, 124435, 124437]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;lines.len()&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;lines.get(0).chars().all(|c|&nbsp;c&nbsp;==&nbsp;'*')&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[124453, 124455, 124456, 124454]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;1;
</c41><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[124462, 124474, 124465, 124468, 124460, 124461, 124463, 124475, 124467, 124466, 124464, 124473]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;i&nbsp;&lt;&nbsp;j&nbsp;&amp;&amp;&nbsp;lines.get(i).trim().is_empty()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[124469, 124471, 124472, 124470]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;1;
</c41><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;like&nbsp;the&nbsp;first,&nbsp;a&nbsp;last&nbsp;line&nbsp;of&nbsp;all&nbsp;stars&nbsp;should&nbsp;be&nbsp;omitted
</c41><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[124502, 124480, 124490, 124503, 124485, 124483, 124486, 124476, 124494, 124482, 124481, 124496, 124493, 124479, 124478, 124488, 124495, 124489, 124492, 124497, 124491, 124484, 124504, 124477]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;j&nbsp;&gt;&nbsp;i&nbsp;&amp;&amp;&nbsp;lines.get(j&nbsp;-&nbsp;1).chars().skip(1).all(|c|&nbsp;c&nbsp;==&nbsp;'*')&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[124501, 124499, 124500, 124498]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;-=&nbsp;1;
</c41><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[124506, 124514, 124508, 124510, 124512, 124515, 124511, 124520, 124522, 124513, 124509, 124521, 124505, 124507]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;j&nbsp;&gt;&nbsp;i&nbsp;&amp;&amp;&nbsp;lines.get(j&nbsp;-&nbsp;1).trim().is_empty()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[124517, 124516, 124518, 124519]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;-=&nbsp;1;
</c41><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[124533, 124541, 124527, 124537, 124531, 124532, 124540, 124534, 124538, 124524, 124526, 124536, 124530, 124529, 124523, 124535, 124525, 124539]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;lines.slice(i,&nbsp;j).iter().map(|x|&nbsp;(*x).clone()).collect();
</c41><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#54_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;remove&nbsp;a&nbsp;"[&nbsp;\t]*\*"&nbsp;block&nbsp;from&nbsp;each&nbsp;line,&nbsp;if&nbsp;possible
</c41><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[124694, 124671, 124550, 124548, 124556, 124547, 124554, 124553, 124544, 124551]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;horizontal_trim(lines:&nbsp;Vec&lt;~str&gt;&nbsp;)&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[124559, 124561, 124560, 124558, 124557]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;uint::MAX;
</c41><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[124564, 124565, 124566, 124562, 124563]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;can_trim&nbsp;=&nbsp;true;
</c41><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[124569, 124567, 124570, 124568, 124571]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;first&nbsp;=&nbsp;true;
</c41><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[124572, 124577, 124581, 124575, 124580, 124582, 124578, 124666, 124667, 124670, 124573, 124659, 124669, 124579, 124576, 124668, 124574]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;line&nbsp;in&nbsp;lines.iter()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[124585, 124583, 124594, 124643, 124645, 124596, 124590, 124591, 124587, 124592, 124593, 124589, 124646, 124584, 124595, 124647, 124588, 124644, 124586, 124614]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;c)&nbsp;in&nbsp;line.chars().enumerate()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[124611, 124600, 124598, 124603, 124597, 124601, 124612, 124599, 124604, 124613, 124602]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;j&nbsp;&gt;&nbsp;i&nbsp;||&nbsp;!"*&nbsp;\t".contains_char(c)&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[124605, 124608, 124607, 124606]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[124609, 124610]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[124642, 124615, 124641, 124616, 124617]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;c&nbsp;==&nbsp;'*'&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[124638, 124637, 124627, 124618]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;first&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[124620, 124622, 124621, 124619]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;j;
</c41><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[124624, 124625, 124626, 124623]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[124630, 124628, 124635, 124636, 124629]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;i&nbsp;!=&nbsp;j&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[124633, 124634, 124632, 124631]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[124640, 124639]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[124656, 124650, 124657, 124651, 124649, 124658, 124648]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i&nbsp;&gt;&nbsp;line.len()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[124652, 124654, 124655, 124653]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[124660, 124664, 124661, 124665]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!can_trim&nbsp;{
</c41><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[124663, 124662]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[]">&nbsp;</a><c5><a href="../../libstd/option.rs.html#n104337">
</a></c5><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[124693, 124672, 124673]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;can_trim&nbsp;{
</c41><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[124687, 124679, 124684, 124677, 124689, 124674, 124682, 124676, 124685, 124683, 124681, 124686, 124678, 124688, 124680]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines.map(|line|&nbsp;line.slice(i&nbsp;+&nbsp;1,&nbsp;line.len()).to_owned())
</c41><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[124690, 124692]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</c41><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[124691]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines
</c41><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#54_1_refs">
</a></c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;one-line&nbsp;comments&nbsp;lose&nbsp;their&nbsp;prefix
</c41><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[124701, 124708, 124709, 124704, 124705, 124700, 124707, 124695, 124706, 124702, 124703, 124699]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;ONLINERS:&nbsp;&amp;'static&nbsp;[&amp;'static&nbsp;str]&nbsp;=&nbsp;&amp;["///!",&nbsp;"///",&nbsp;"//!",&nbsp;"//"];
</c41><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[124711, 124710, 124738, 124735, 124719, 124717, 124713, 124716, 124720, 124736, 124721, 124712, 124737, 124714, 124718, 124715, 124739]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;ONLINERS.iter()&nbsp;{
</c41><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[124725, 124723, 124724, 124722, 124733, 124734]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with(*prefix)&nbsp;{
</c41><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[124727, 124732, 124729, 124728, 124730, 124726, 124731]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;comment.slice_from(prefix.len()).to_owned();
</c41><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="../../libsyntax/parse/comments.rs.html#115">
</a></c13><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[124740, 124742, 124789, 124791, 124741, 124790]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with("/*")&nbsp;{
</c41><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[124758, 124767, 124751, 124754, 124743, 124768, 124752, 124755, 124745, 124757, 124769, 124756, 124753, 124744]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;comment.slice(3u,&nbsp;comment.len()&nbsp;-&nbsp;2u)
</c41><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.lines_any()
</c41><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[124766, 124761, 124762, 124765, 124763, 124764, 124760]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map(|s|&nbsp;s.to_owned())
</c41><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[124748, 124747, 124750]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.collect::&lt;Vec&lt;~str&gt;&nbsp;&gt;();
</c41><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#54_1_refs">
</a></c22><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[124775, 124773, 124770, 124774, 124776, 124772, 124771]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;vertical_trim(lines);
</c41><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[124778, 124783, 124782, 124781, 124779, 124777, 124780]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;horizontal_trim(lines);
</c41><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#54_1_refs">
</a></c22><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[124785, 124784, 124788, 124786, 124787]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;lines.connect("\n");
</c41><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#54_1_refs">
</a></c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[124818, 124837, 124835, 124856, 124850, 124832, 124853, 124838, 124827, 124830, 124840, 124847, 124819, 124841, 124807, 124812, 124851, 124846, 124828, 124843, 124823, 124808, 124833, 124817, 124825, 124852, 124834, 124815, 124821, 124839, 124824, 124859, 124848, 124816, 124845, 124844, 124842, 124820, 124831, 124849, 124810, 124822, 124811, 124829, 124826, 124809, 124854, 124836]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fail!("not&nbsp;a&nbsp;doc-comment:&nbsp;{}",&nbsp;comment);
</c41><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[124864]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[124869, 124872, 124915, 124871, 124868, 124867]">&nbsp;</a><c41>fn&nbsp;read_to_eol(rdr:&nbsp;&amp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[124877, 124873, 124876, 124874, 124878, 124875]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;val&nbsp;=&nbsp;~"";
</c41><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[124887, 124883, 124879, 124886, 124885, 124900, 124882, 124884, 124880, 124899, 124881, 124901]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;!rdr.curr_is('\n')&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[124888, 124894, 124893, 124890, 124889, 124891, 124892]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val.push_char(rdr.curr.get().unwrap());
</c41><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[124898, 124895, 124896, 124897]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[124907, 124905, 124906, 124902, 124903, 124908, 124910, 124911, 124909, 124904]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rdr.curr_is('\n')&nbsp;{&nbsp;bump(rdr);&nbsp;}
</c41><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[124913, 124912, 124914]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;val;
</c41><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[124916]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n[124919, 125046, 124920, 124924, 124923, 124921]">&nbsp;</a><c41>fn&nbsp;read_one_line_comment(rdr:&nbsp;&amp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n[124925, 124927, 124931, 124928, 124929, 124926, 124930]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;val&nbsp;=&nbsp;read_to_eol(rdr);
</c41><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n[124937, 124940, 124942, 124968, 124935, 124934, 124947, 124949, 124948, 124943, 124939, 124945, 124946, 124941, 124932, 124933, 124938]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;assert!((val[0]&nbsp;==&nbsp;'/'&nbsp;as&nbsp;u8&nbsp;&amp;&amp;&nbsp;val[1]&nbsp;==&nbsp;'/'&nbsp;as&nbsp;u8)&nbsp;||
</c41><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a><a id="n[124956, 124967, 124961, 124963, 124953, 124966, 124957, 124951, 124965, 124959, 124955, 124958, 124964, 124960, 124952, 124950]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(val[0]&nbsp;==&nbsp;'#'&nbsp;as&nbsp;u8&nbsp;&amp;&amp;&nbsp;val[1]&nbsp;==&nbsp;'!'&nbsp;as&nbsp;u8));
</c41><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n[125043, 125045, 125044]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;val;
</c41><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n[125047]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n[125054, 125051, 125053, 125052, 125050]">&nbsp;</a><c41>fn&nbsp;consume_non_eol_whitespace(rdr:&nbsp;&amp;StringReader)&nbsp;{
</c41><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n[125063, 125064, 125069, 125056, 125062, 125060, 125075, 125058, 125059, 125055, 125061, 125057]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;is_whitespace(rdr.curr.get())&nbsp;&amp;&amp;&nbsp;!rdr.curr_is('\n')&nbsp;&amp;&amp;
</c41><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n[125067, 125068, 125074, 125065, 125066]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n[125070, 125073, 125071, 125072]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n[125076]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n[125080, 125079, 125081, 125084, 125088, 125192, 125089, 125086, 125087]">&nbsp;</a><c41>fn&nbsp;push_blank_line_comment(rdr:&nbsp;&amp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
</c41><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n[125133, 125138, 125132, 125127, 125145, 125143, 125135, 125140, 125147, 125144, 125137, 125141, 125139, 125149, 125142, 125123, 125124, 125146, 125164, 125128, 125150, 125131, 125167, 125136, 125130, 125134, 125148, 125122, 125129, 125151]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;blank-line&nbsp;comment");
</c41><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n[125178, 125181, 125175, 125173, 125179, 125180, 125182, 125176]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;v:&nbsp;Vec&lt;~str&gt;&nbsp;=&nbsp;Vec::new();
</c41><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n[125183, 125191, 125189, 125190]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
</c41><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n[125184]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;BlankLine,
</c41><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n[125185]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;v,
</c41><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n[125186, 125187, 125188]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;rdr.last_pos.get(),
</c41><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;});
</c41><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n[125193]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n[125196, 125197, 125198]">&nbsp;</a><c41>fn&nbsp;consume_whitespace_counting_blank_lines(rdr:&nbsp;&amp;StringReader,
</c41><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n[125205, 125201, 125207, 125204, 125203, 125206]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
</c41><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n[125244, 125209, 125215, 125211, 125212, 125214, 125213, 125216, 125210, 125243, 125217, 125208]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;is_whitespace(rdr.curr.get())&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n[125220, 125221, 125228, 125236, 125237, 125219, 125227, 125225, 125226, 125224, 125218, 125223, 125222, 125238]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rdr.col.get()&nbsp;==&nbsp;CharPos(0u)&nbsp;&amp;&amp;&nbsp;rdr.curr_is('\n')&nbsp;{
</c41><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n[125235, 125231, 125232, 125229, 125233, 125234, 125230]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_blank_line_comment(rdr,&nbsp;&amp;mut&nbsp;*comments);
</c41><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n[125242, 125239, 125241, 125240]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n[125245]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n[125254, 125250, 125249, 125253, 125248]">&nbsp;</a><c41>fn&nbsp;read_shebang_comment(rdr:&nbsp;&amp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n[125463, 125257, 125262, 125261, 125259, 125260]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
</c41><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n[125307, 125319, 125313, 125301, 125321, 125312, 125300, 125314, 125309, 125324, 125316, 125297, 125317, 125303, 125304, 125311, 125320, 125315, 125302, 125306, 125340, 125322, 125323, 125310, 125296, 125318, 125337, 125305, 125308, 125295]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;shebang&nbsp;comment");
</c41><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n[125347, 125351, 125348, 125350, 125346, 125352, 125349]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos.get();
</c41><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n[125411, 125390, 125391, 125394, 125412, 125430, 125393, 125401, 125399, 125397, 125386, 125392, 125405, 125387, 125396, 125410, 125385, 125402, 125404, 125413, 125395, 125398, 125403, 125427, 125400, 125406, 125409, 125407, 125414, 125408]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&lt;&lt;&lt;&nbsp;shebang&nbsp;comment");
</c41><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n[125436, 125462, 125461, 125460]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
</c41><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n[125438, 125439, 125437, 125440, 125443, 125441, 125442]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;if&nbsp;code_to_the_left&nbsp;{&nbsp;Trailing&nbsp;}&nbsp;else&nbsp;{&nbsp;Isolated&nbsp;},
</c41><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n[125453, 125451, 125452, 125458]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;vec!(read_one_line_comment(rdr)),
</c41><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n[125459]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;p
</c41><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;});
</c41><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n[125464]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n[125468, 125469, 125472, 125467, 125473]">&nbsp;</a><c41>fn&nbsp;read_line_comments(rdr:&nbsp;&amp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n[125479, 125481, 125797, 125480, 125478, 125476]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
</c41><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n[125516, 125526, 125536, 125533, 125519, 125531, 125543, 125541, 125525, 125529, 125514, 125535, 125528, 125538, 125542, 125515, 125534, 125540, 125532, 125521, 125520, 125523, 125524, 125556, 125539, 125530, 125527, 125522, 125559, 125537]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;line&nbsp;comments");
</c41><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n[125565, 125566, 125567, 125571, 125569, 125568, 125570]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos.get();
</c41><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n[125578, 125572, 125574, 125575, 125579, 125580, 125577, 125581]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;lines:&nbsp;Vec&lt;~str&gt;&nbsp;=&nbsp;Vec::new();
</c41><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n[125587, 125585, 125582, 125712, 125713, 125589, 125583, 125588, 125584, 125586, 125711]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;rdr.curr_is('/')&nbsp;&amp;&amp;&nbsp;nextch_is(rdr,&nbsp;'/')&nbsp;{
</c41><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n[125592, 125590, 125594, 125595, 125591, 125593, 125596]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;line&nbsp;=&nbsp;read_one_line_comment(rdr);
</c41><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n[125662, 125666, 125668, 125654, 125672, 125646, 125667, 125663, 125630, 125643, 125660, 125637, 125669, 125633, 125665, 125650, 125657, 125661, 125641, 125670, 125639, 125634, 125640, 125686, 125656, 125653, 125648, 125664, 125655, 125645, 125652, 125658, 125632, 125651, 125647, 125642, 125638, 125673, 125631, 125649, 125689, 125629, 125659, 125644, 125671]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!("{}",&nbsp;line);
</c41><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n[125700, 125702, 125695, 125696, 125701, 125697]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;is_doc_comment(line)&nbsp;{&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;put&nbsp;in&nbsp;comments
</c41><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a><a id="n[125698, 125699]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a><a id="n[125705, 125703, 125706, 125704]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines.push(line);
</c41><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n[125709, 125710, 125707, 125708]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
</c41><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n[125760, 125747, 125770, 125757, 125791, 125751, 125768, 125754, 125774, 125752, 125764, 125775, 125746, 125771, 125765, 125766, 125762, 125763, 125761, 125753, 125756, 125773, 125788, 125755, 125758, 125748, 125767, 125772, 125769, 125759]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&lt;&lt;&lt;&nbsp;line&nbsp;comments");
</c41><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n[125814, 125800, 125798, 125799, 125815]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!lines.is_empty()&nbsp;{
</c41><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n[125812, 125801, 125811, 125813]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
</c41><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n[125807, 125804, 125808, 125806, 125805, 125803, 125802]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;if&nbsp;code_to_the_left&nbsp;{&nbsp;Trailing&nbsp;}&nbsp;else&nbsp;{&nbsp;Isolated&nbsp;},
</c41><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n[125809]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;lines,
</c41><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n[125810]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;p
</c41><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
</c41><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n[]">&nbsp;</a><c41>//&nbsp;Returns&nbsp;None&nbsp;if&nbsp;the&nbsp;first&nbsp;col&nbsp;chars&nbsp;of&nbsp;s&nbsp;contain&nbsp;a&nbsp;non-whitespace&nbsp;char.
</c41><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a><a id="n[]">&nbsp;</a><c41>//&nbsp;Otherwise&nbsp;returns&nbsp;Some(k)&nbsp;where&nbsp;k&nbsp;is&nbsp;first&nbsp;char&nbsp;offset&nbsp;after&nbsp;that&nbsp;leading
</c41><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n[125816]">&nbsp;</a><c41>//&nbsp;whitespace.&nbsp;&nbsp;Note&nbsp;k&nbsp;may&nbsp;be&nbsp;outside&nbsp;bounds&nbsp;of&nbsp;s.
</c41><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n[125825, 125820, 125829, 125890, 125824, 125827, 125819, 125821]">&nbsp;</a><c41>fn&nbsp;all_whitespace(s:&nbsp;&amp;str,&nbsp;col:&nbsp;CharPos)&nbsp;-&gt;&nbsp;Option&lt;uint&gt;&nbsp;{
</c41><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n[125831, 125830, 125835, 125833, 125834, 125832]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;len&nbsp;=&nbsp;s.len();
</c41><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n[125837, 125836, 125841, 125840, 125839, 125838]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;col&nbsp;=&nbsp;col.to_uint();
</c41><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n[125846, 125845, 125844, 125847, 125842]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;cursor:&nbsp;uint&nbsp;=&nbsp;0;
</c41><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n[125852, 125849, 125854, 125848, 125884, 125883, 125851, 125882, 125853, 125850]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;col&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;cursor&nbsp;&lt;&nbsp;len&nbsp;{
</c41><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n[125855, 125858, 125861, 125862, 125860, 125857, 125859]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r:&nbsp;str::CharRange&nbsp;=&nbsp;s.char_range_at(cursor);
</c41><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n[125863, 125870, 125871, 125872, 125865, 125864, 125866]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!r.ch.is_whitespace()&nbsp;{
</c41><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n[125868, 125867, 125869]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None;
</c41><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n[125876, 125877, 125875, 125874, 125873]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;r.next;
</c41><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a><a id="n[125880, 125878, 125879, 125881]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;-=&nbsp;1;
</c41><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n[125885, 125888, 125889, 125886, 125887]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Some(cursor);
</c41><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n[125891]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a><a id="n[125897, 125895, 125899, 125898, 125894]">&nbsp;</a><c41>fn&nbsp;trim_whitespace_prefix_and_push_line(lines:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;&nbsp;,
</c41><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n[126050, 125904, 125902, 125907, 125908, 125909, 125903]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s:&nbsp;~str,&nbsp;col:&nbsp;CharPos)&nbsp;{
</c41><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n[125911, 125914, 125912, 125913, 125915, 125910]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;len&nbsp;=&nbsp;s.len();
</c41><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n[125916, 125918, 125920, 125921, 125944, 125917, 125919, 125943, 125922]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s1&nbsp;=&nbsp;match&nbsp;all_whitespace(s,&nbsp;col)&nbsp;{
</c41><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n[125925, 125923, 125940, 125924]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(col)&nbsp;=&gt;&nbsp;{
</c41><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n[125929, 125939, 125927, 125928, 125926]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;col&nbsp;&lt;&nbsp;len&nbsp;{
</c41><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n[125932, 125931, 125930, 125933, 125934]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.slice(col,&nbsp;len).to_owned()
</c41><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n[125935, 125938, 125937, 125936]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;~""&nbsp;}
</c41><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n[125942, 125941]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;s,
</c41><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;};
</c41><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n[125980, 126010, 126011, 125995, 126008, 125977, 126040, 125994, 126013, 125989, 126037, 126024, 126012, 126002, 126006, 126004, 125997, 126018, 125996, 125981, 126001, 125979, 126022, 125988, 125986, 126017, 126000, 125978, 125985, 125993, 125992, 126016, 126020, 126014, 125982, 126015, 126023, 125990, 125991, 126019, 126021, 125987, 126003, 126007, 125998, 125999, 126005, 126009]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("pushing&nbsp;line:&nbsp;{}",&nbsp;s1);
</c41><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n[126047, 126048, 126049, 126046]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;lines.push(s1);
</c41><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n[]">&nbsp;</a><c41>}
</c41><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n[126051]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n[126056, 126054, 126055]">&nbsp;</a><c41>fn&nbsp;read_block_comment(rdr:&nbsp;&amp;StringReader,
</c41><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n[126060, 126059]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n[126065, 126068, 126067, 126063, 126066, 126702]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
</c41><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n[126113, 126129, 126143, 126114, 126127, 126116, 126125, 126106, 126123, 126101, 126146, 126117, 126119, 126122, 126124, 126102, 126107, 126111, 126109, 126118, 126103, 126130, 126120, 126115, 126121, 126126, 126112, 126110, 126108, 126128]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;block&nbsp;comment");
</c41><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a><a id="n[126154, 126156, 126158, 126153, 126155, 126157, 126152]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos.get();
</c41><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a><a id="n[126159, 126164, 126162, 126168, 126165, 126166, 126161, 126167]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;lines:&nbsp;Vec&lt;~str&gt;&nbsp;=&nbsp;Vec::new();
</c41><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a><a id="n[126171, 126173, 126175, 126176, 126169, 126172, 126174]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;col:&nbsp;CharPos&nbsp;=&nbsp;rdr.col.get();
</c41><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a><a id="n[126177, 126179, 126180, 126178]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n[126182, 126184, 126181, 126183]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n[126189, 126190, 126188, 126185, 126186, 126187]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;curr_line&nbsp;=&nbsp;~"/*";
</c41><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;really&nbsp;comments,&nbsp;they&nbsp;are&nbsp;attributes
</c41><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n[126575, 126195, 126198, 126200, 126194, 126193, 126344, 126203, 126201, 126204, 126197, 126196, 126199, 126202, 126574, 126192, 126191]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(rdr.curr_is('*')&nbsp;&amp;&amp;&nbsp;!nextch_is(rdr,&nbsp;'*'))&nbsp;||&nbsp;rdr.curr_is('!')&nbsp;{
</c41><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n[126217, 126212, 126205, 126215, 126208, 126232, 126214, 126210, 126206, 126209, 126216, 126213, 126211, 126231, 126207, 126219, 126218, 126233]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;!(rdr.curr_is('*')&nbsp;&amp;&amp;&nbsp;nextch_is(rdr,&nbsp;'/'))&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a><a id="n[126226, 126224, 126221, 126222, 126220, 126223, 126225]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_line.push_char(rdr.curr.get().unwrap());
</c41><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a><a id="n[126230, 126228, 126227, 126229]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n[126251, 126234, 126236, 126250, 126237, 126252, 126235]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a><a id="n[126238, 126240, 126241, 126239]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_line.push_str("*/");
</c41><br/><ln>&nbsp;270</ln><a id="270">&nbsp;</a><a id="n[126244, 126242, 126245, 126243]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;271</ln><a id="271">&nbsp;</a><a id="n[126247, 126248, 126249, 126246]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;272</ln><a id="272">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;273</ln><a id="273">&nbsp;</a><a id="n[126258, 126260, 126257, 126256, 126253, 126254, 126255, 126259, 126261]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#249_1_refs">&nbsp;</a></c13><c5><a href="#249_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#408">is_block_non_doc_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c4>)</c4><c13><a href="#249_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c1><a href="#249_1_refs">return</a></c1><c3>;</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;274</ln><a id="274">&nbsp;</a><a id="n[126263, 126265, 126262, 126264]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#249_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n65615">.contains_char</a></c10><c4>(</c4><c12><a href="#249_1_refs">'\n'</a></c12><c4>))</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;275</ln><a id="275">&nbsp;</a><a id="n[126341, 126340, 126342, 126343]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#255">lines</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;276</ln><a id="276">&nbsp;</a><a id="n[126559, 126573]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#249_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;277</ln><a id="277">&nbsp;</a><a id="n[126350, 126345, 126349, 126347, 126348]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#249_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#277_12_refs">&nbsp;level</a></c20><c16><a href="#249_1_refs">:&nbsp;</a></c16><c8><a href="#249_1_refs">int</a></c8><c16><a href="#249_1_refs">&nbsp;=&nbsp;</a></c16><c12><a href="#249_1_refs">1</a></c12><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;278</ln><a id="278">&nbsp;</a><a id="n[126351, 126353, 126466, 126558, 126352, 126557]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#277">level</a></c26><c5><a href="#249_1_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#249_1_refs">0</a></c12><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;279</ln><a id="279">&nbsp;</a><a id="n[126414, 126398, 126431, 126425, 126426, 126404, 126388, 126399, 126411, 126408, 126400, 126395, 126423, 126389, 126422, 126407, 126403, 126428, 126391, 126449, 126397, 126401, 126420, 126413, 126430, 126415, 126410, 126402, 126419, 126409, 126424, 126396, 126387, 126394, 126416, 126417, 126421, 126427, 126405, 126390, 126429, 126433, 126412, 126386, 126446, 126418, 126432, 126406]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169505">"===&nbsp;block&nbsp;comment&nbsp;level&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c26><c3>,</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#279">level</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;280</ln><a id="280">&nbsp;</a><a id="n[126464, 126457, 126463, 126456, 126465, 126455]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#249_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/lexer.rs.html#271">is_eof</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c13><a href="#249_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;281</ln><a id="281">&nbsp;</a><a id="n[126460, 126461, 126458, 126459, 126462]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c13><a href="../../libsyntax/parse/lexer.rs.html#121">.fatal</a></c13><c4>(</c4><c16><a href="#249_1_refs">~</a></c16><c12><a href="#249_1_refs">"unterminated&nbsp;block&nbsp;comment"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;282</ln><a id="282">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;283</ln><a id="283">&nbsp;</a><a id="n[126486, 126467, 126469, 126556, 126468]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'\n'</a></c12><c4>)</c4><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;284</ln><a id="284">&nbsp;</a><a id="n[126476, 126471, 126475, 126470, 126473, 126472]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#234">trim_whitespace_prefix_and_push_line</a></c26><c4>(</c4><c5><a href="#249_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#255">lines</a></c26><c3>,</c3><c27><a href="#249_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c3>,</c3><c27><a href="#249_1_refs">
</a></c27><br/><ln>&nbsp;285</ln><a id="285">&nbsp;</a><a id="n[126474]">&nbsp;</a><c27><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#256">col</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;286</ln><a id="286">&nbsp;</a><a id="n[126481, 126480, 126479, 126477, 126478]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c5><a href="#249_1_refs">&nbsp;=&nbsp;</a></c5><c16><a href="#249_1_refs">~</a></c16><c12><a href="#249_1_refs">""</a></c12><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;287</ln><a id="287">&nbsp;</a><a id="n[126482, 126483, 126484, 126485]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;288</ln><a id="288">&nbsp;</a><a id="n[126494, 126555]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#249_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;289</ln><a id="289">&nbsp;</a><a id="n[126488, 126489, 126492, 126491, 126490, 126487, 126493]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c13><a href="../../libstd/str.rs.html#n68666">.push_char</a></c13><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#52">.curr</a></c24><c10><a href="../../libstd/cell.rs.html#n107219">.get</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;290</ln><a id="290">&nbsp;</a><a id="n[126498, 126500, 126519, 126499, 126554, 126497, 126501, 126495, 126502, 126496]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'/'</a></c12><c4>)</c4><c1><a href="#249_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c3>,</c3><c27><a href="#249_1_refs">&nbsp;</a></c27><c12><a href="#249_1_refs">'*'</a></c12><c4>)</c4><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;291</ln><a id="291">&nbsp;</a><a id="n[126503, 126504, 126505, 126506]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;292</ln><a id="292">&nbsp;</a><a id="n[126508, 126507, 126510, 126509]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;293</ln><a id="293">&nbsp;</a><a id="n[126513, 126512, 126511, 126514]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c13><a href="../../libstd/str.rs.html#n68666">.push_char</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68666">'*'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;294</ln><a id="294">&nbsp;</a><a id="n[126517, 126515, 126516, 126518]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#277">level</a></c26><c13><a href="#249_1_refs">&nbsp;+=&nbsp;</a></c13><c12><a href="#249_1_refs">1</a></c12><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;295</ln><a id="295">&nbsp;</a><a id="n[126520, 126553]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#249_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;296</ln><a id="296">&nbsp;</a><a id="n[126527, 126521, 126524, 126528, 126526, 126522, 126523, 126552, 126545, 126525]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="#249_1_refs">'*'</a></c12><c4>)</c4><c1><a href="#249_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c3>,</c3><c27><a href="#249_1_refs">&nbsp;</a></c27><c12><a href="#249_1_refs">'/'</a></c12><c4>)</c4><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;297</ln><a id="297">&nbsp;</a><a id="n[126532, 126529, 126531, 126530]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;298</ln><a id="298">&nbsp;</a><a id="n[126536, 126535, 126534, 126533]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;299</ln><a id="299">&nbsp;</a><a id="n[126537, 126538, 126540, 126539]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c12><a href="#249_1_refs">'/'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;300</ln><a id="300">&nbsp;</a><a id="n[126543, 126541, 126542, 126544]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#277">level</a></c26><c13><a href="#249_1_refs">&nbsp;-=&nbsp;</a></c13><c12><a href="#249_1_refs">1</a></c12><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;301</ln><a id="301">&nbsp;</a><a id="n[126546, 126551, 126547, 126549, 126548, 126550]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#249_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#247">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;302</ln><a id="302">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;303</ln><a id="303">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;304</ln><a id="304">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;305</ln><a id="305">&nbsp;</a><a id="n[126560, 126562, 126563, 126572, 126571, 126561]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n64986">.len</a></c10><c4>()</c4><c5><a href="#249_1_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#249_1_refs">0</a></c12><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;306</ln><a id="306">&nbsp;</a><a id="n[126567, 126570, 126566, 126565, 126564, 126568, 126569]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#234">trim_whitespace_prefix_and_push_line</a></c26><c4>(</c4><c5><a href="#249_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#255">lines</a></c26><c3>,</c3><c27><a href="#249_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#260">curr_line</a></c26><c3>,</c3><c27><a href="#249_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#256">col</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;307</ln><a id="307">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;308</ln><a id="308">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;309</ln><a id="309">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;310</ln><a id="310">&nbsp;</a><a id="n[126580, 126583, 126582, 126578, 126584, 126581, 126576, 126577, 126579, 126585, 126586]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#249_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#310_8_refs">&nbsp;style</a></c20><c13><a href="#249_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#249_1_refs">if&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#251">code_to_the_left</a></c26><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#27">Trailing</a></c26><c22><a href="#249_1_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#249_1_refs">&nbsp;else&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#26">Isolated</a></c26><c22><a href="#249_1_refs">&nbsp;</a></c22><c3>};</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;311</ln><a id="311">&nbsp;</a><a id="n[126587, 126590, 126588, 126589]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#152">consume_non_eol_whitespace</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;312</ln><a id="312">&nbsp;</a><a id="n[126595, 126593, 126601, 126611, 126603, 126598, 126602, 126604, 126591, 126596, 126600, 126592, 126609, 126599, 126610, 126597, 126594]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#249_1_refs">&nbsp;</a></c21><c5><a href="#249_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#271">is_eof</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c4>)</c4><c1><a href="#249_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#249_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#250">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="#249_1_refs">'\n'</a></c12><c4>)</c4><c1><a href="#249_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#255">lines</a></c26><c10><a href="../../libstd/vec.rs.html#n57167">.len</a></c10><c4>()</c4><c5><a href="#249_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#249_1_refs">1u</a></c12><c21><a href="#249_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;313</ln><a id="313">&nbsp;</a><a id="n[126607, 126608, 126606, 126605]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#310">style</a></c26><c13><a href="#249_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#28">Mixed</a></c26><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;314</ln><a id="314">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;315</ln><a id="315">&nbsp;</a><a id="n[126653, 126652, 126672, 126689, 126664, 126651, 126661, 126665, 126657, 126644, 126673, 126671, 126686, 126669, 126666, 126646, 126645, 126667, 126658, 126670, 126663, 126650, 126668, 126654, 126659, 126660, 126649, 126662, 126656, 126655]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n169447">"&lt;&lt;&lt;&nbsp;block&nbsp;comment"</a></c1><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;316</ln><a id="316">&nbsp;</a><a id="n[126699, 126695, 126696, 126701, 126698, 126700, 126697]">&nbsp;</a><c22><a href="#249_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#252">comments</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c1><a href="../../libsyntax/parse/comments.rs.html#32">Comment&nbsp;</a></c1><c3>{</c3><c1><a href="../../libsyntax/parse/comments.rs.html#32">style:&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#310">style</a></c26><c3>,</c3><c1><a href="../../libsyntax/parse/comments.rs.html#32">&nbsp;lines:&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#255">lines</a></c26><c3>,</c3><c1><a href="../../libsyntax/parse/comments.rs.html#32">&nbsp;pos:&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#254">p</a></c26><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#249_1_refs">
</a></c22><br/><ln>&nbsp;317</ln><a id="317">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;318</ln><a id="318">&nbsp;</a><a id="n[126703]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;319</ln><a id="319">&nbsp;</a><a id="n[126710, 126748, 126708, 126706, 126707]">&nbsp;</a><c30>fn</c30><c30><a href="#318_1_refs">&nbsp;peeking_at_comment</a></c30><c4>(</c4><c20><a href="#319_22_refs">rdr</a></c20><c1><a href="#318_1_refs">:&nbsp;</a></c1><c8><a href="#318_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/parse/lexer.rs.html#42">StringReader</a></c8><c4>)</c4><c1><a href="#318_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#318_1_refs">&nbsp;</a></c1><c8><a href="#318_1_refs">bool</a></c8><c1><a href="#318_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#318_1_refs">
</a></c22><br/><ln>&nbsp;320</ln><a id="320">&nbsp;</a><a id="n[126719, 126714, 126746, 126718, 126745, 126715, 126711, 126713, 126729, 126747, 126717, 126716, 126712]">&nbsp;</a><c22><a href="#318_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#318_1_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'/'</a></c12><c4>)</c4><c1><a href="#318_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c3>,</c3><c27><a href="#318_1_refs">&nbsp;</a></c27><c12><a href="#318_1_refs">'/'</a></c12><c4>))</c4><c1><a href="#318_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;321</ln><a id="321">&nbsp;</a><a id="n[126722, 126728, 126724, 126721, 126725, 126727, 126723, 126720, 126726]">&nbsp;</a><c1><a href="#318_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'/'</a></c12><c4>)</c4><c1><a href="#318_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c3>,</c3><c27><a href="#318_1_refs">&nbsp;</a></c27><c12><a href="#318_1_refs">'*'</a></c12><c4>))</c4><c1><a href="#318_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;322</ln><a id="322">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="#318_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c40>//&nbsp;consider&nbsp;shebangs&nbsp;comments,&nbsp;but&nbsp;not&nbsp;inner&nbsp;attributes
</c40><br/><ln>&nbsp;323</ln><a id="323">&nbsp;</a><a id="n[126731, 126733, 126744, 126732, 126734, 126743, 126737, 126735, 126730, 126736]">&nbsp;</a><c1><a href="#318_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'#'</a></c12><c4>)</c4><c1><a href="#318_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c3>,</c3><c27><a href="#318_1_refs">&nbsp;</a></c27><c12><a href="#318_1_refs">'!'</a></c12><c4>)</c4><c1><a href="#318_1_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;324</ln><a id="324">&nbsp;</a><a id="n[126739, 126738, 126742, 126740, 126741]">&nbsp;</a><c1><a href="#318_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#318_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#298">lexer::nextnextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#319">rdr</a></c26><c3>,</c3><c27><a href="#318_1_refs">&nbsp;</a></c27><c12><a href="#318_1_refs">'</a></c12><c3>[</c3><c12><a href="#318_1_refs">'</a></c12><c4>))</c4><c3>;</c3><c22><a href="#318_1_refs">
</a></c22><br/><ln>&nbsp;325</ln><a id="325">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;326</ln><a id="326">&nbsp;</a><a id="n[126749]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;327</ln><a id="327">&nbsp;</a><a id="n[126753, 126752, 126754]">&nbsp;</a><c30>fn</c30><c30><a href="#326_1_refs">&nbsp;consume_comment</a></c30><c4>(</c4><c20><a href="#327_19_refs">rdr</a></c20><c1><a href="#326_1_refs">:&nbsp;</a></c1><c8><a href="#326_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/parse/lexer.rs.html#42">StringReader</a></c8><c3>,</c3><c1><a href="#326_1_refs">
</a></c1><br/><ln>&nbsp;328</ln><a id="328">&nbsp;</a><a id="n[126757, 126758]">&nbsp;</a><c1><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#328_19_refs">code_to_the_left</a></c20><c1><a href="#326_1_refs">:&nbsp;</a></c1><c8><a href="#326_1_refs">bool</a></c8><c3>,</c3><c1><a href="#326_1_refs">
</a></c1><br/><ln>&nbsp;329</ln><a id="329">&nbsp;</a><a id="n[126763, 126990, 126764, 126761, 126766, 126765]">&nbsp;</a><c1><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#329_19_refs">comments</a></c20><c1><a href="#326_1_refs">:&nbsp;</a></c1><c8><a href="#326_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libsyntax/parse/comments.rs.html#32">Comment</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#326_1_refs">&nbsp;</a></c1><c4>)</c4><c1><a href="#326_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;330</ln><a id="330">&nbsp;</a><a id="n[126817, 126808, 126823, 126820, 126822, 126824, 126799, 126814, 126821, 126801, 126815, 126826, 126818, 126809, 126841, 126827, 126828, 126800, 126806, 126844, 126807, 126825, 126804, 126813, 126805, 126811, 126816, 126810, 126812, 126819]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"&gt;&gt;&gt;&nbsp;consume&nbsp;comment"</a></c8><c4>)</c4><c3>;</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;331</ln><a id="331">&nbsp;</a><a id="n[126906, 126852, 126856, 126853, 126864, 126850, 126905, 126854, 126855, 126851, 126857]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'/'</a></c12><c4>)</c4><c1><a href="#326_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c27><a href="#326_1_refs">&nbsp;</a></c27><c12><a href="#326_1_refs">'/'</a></c12><c4>)</c4><c21><a href="#326_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;332</ln><a id="332">&nbsp;</a><a id="n[126859, 126858, 126863, 126862, 126861, 126860]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#192">read_line_comments</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c27><a href="#326_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#328">code_to_the_left</a></c26><c3>,</c3><c27><a href="#326_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#329">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;333</ln><a id="333">&nbsp;</a><a id="n[126904, 126871, 126879, 126866, 126872, 126867, 126868, 126870, 126869, 126865]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#326_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="#326_1_refs">'/'</a></c12><c4>)</c4><c1><a href="#326_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c27><a href="#326_1_refs">&nbsp;</a></c27><c12><a href="#326_1_refs">'*'</a></c12><c4>)</c4><c21><a href="#326_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;334</ln><a id="334">&nbsp;</a><a id="n[126877, 126874, 126875, 126873, 126876, 126878]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#249">read_block_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c13><a href="#326_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#328">code_to_the_left</a></c26><c3>,</c3><c13><a href="#326_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#329">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;335</ln><a id="335">&nbsp;</a><a id="n[126883, 126881, 126882, 126884, 126886, 126887, 126885, 126880, 126894, 126903]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#326_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'#'</a></c12><c4>)</c4><c1><a href="#326_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#283">nextch_is</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c27><a href="#326_1_refs">&nbsp;</a></c27><c12><a href="#326_1_refs">'!'</a></c12><c4>)</c4><c21><a href="#326_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;336</ln><a id="336">&nbsp;</a><a id="n[126891, 126889, 126890, 126892, 126888, 126893]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#180">read_shebang_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#327">rdr</a></c26><c3>,</c3><c13><a href="#326_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#328">code_to_the_left</a></c26><c3>,</c3><c13><a href="#326_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#329">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;337</ln><a id="337">&nbsp;</a><a id="n[126901, 126902]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#326_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#326_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#326_1_refs">&nbsp;fail!</a></c22><c4>()</c4><c3>;</c3><c22><a href="#326_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;338</ln><a id="338">&nbsp;</a><a id="n[126957, 126958, 126952, 126955, 126959, 126950, 126941, 126981, 126945, 126954, 126940, 126946, 126956, 126944, 126939, 126984, 126963, 126966, 126968, 126947, 126965, 126964, 126962, 126960, 126948, 126953, 126961, 126951, 126967, 126949]">&nbsp;</a><c22><a href="#326_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c27><a href="#338_11_refs">"&lt;&lt;&lt;&nbsp;consume&nbsp;comment"</a></c27><c4>)</c4><c3>;</c3><c22><a href="#326_1_refs">
</a></c22><br/><ln>&nbsp;339</ln><a id="339">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;340</ln><a id="340">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;341</ln><a id="341">&nbsp;</a><a id="n[126999, 127023, 127002, 127014, 127003, 127008, 127009, 127024, 126991, 127011, 127010, 127006, 127000]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libstd/clone.rs.html#n99220">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;342</ln><a id="342">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c31><a href="#341_19_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#341_19_refs">&nbsp;Literal&nbsp;</a></c31><c3>{</c3><c31><a href="#341_19_refs">
</a></c31><br/><ln>&nbsp;343</ln><a id="343">&nbsp;</a><a id="n[127017, 127012, 126995, 126992, 127016, 127018, 126994, 127015]">&nbsp;</a><c31><a href="#341_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c26><a href="../../libsyntax/parse/comments.rs.html#343">lit:&nbsp;</a></c26><c8><a href="#343_4_refs">~str</a></c8><c3>,</c3><c31><a href="#341_19_refs">
</a></c31><br/><ln>&nbsp;344</ln><a id="344">&nbsp;</a><a id="n[127019, 126998, 127020, 127022, 126996, 127021, 127013]">&nbsp;</a><c31><a href="#341_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c20><a href="#344_4_refs">pos:&nbsp;</a></c20><c8><a href="../../libsyntax/codemap.rs.html#35">BytePos</a></c8><c31><a href="#341_19_refs">
</a></c31><br/><ln>&nbsp;345</ln><a id="345">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;346</ln><a id="346">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;347</ln><a id="347">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;it&nbsp;appears&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;only&nbsp;from&nbsp;pprust...&nbsp;that's
</c40><br/><ln>&nbsp;348</ln><a id="348">&nbsp;</a><a id="n[127025]">&nbsp;</a><c40>//&nbsp;probably&nbsp;not&nbsp;a&nbsp;good&nbsp;thing.
</c40><br/><ln>&nbsp;349</ln><a id="349">&nbsp;</a><a id="n[127030]">&nbsp;</a><c21>pub</c21><c1><a href="#348_30_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#348_30_refs">&nbsp;gather_comments_and_literals</a></c30><c4>(</c4><c20><a href="#349_36_refs">span_diagnostic</a></c20><c1><a href="#348_30_refs">:
</a></c1><br/><ln>&nbsp;350</ln><a id="350">&nbsp;</a><a id="n[127029, 127028]">&nbsp;</a><c1><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="#348_30_refs">&amp;</a></c8><c8><a href="../../libsyntax/diagnostic.rs.html#41">diagnostic::SpanHandler</a></c8><c3>,</c3><c1><a href="#348_30_refs">
</a></c1><br/><ln>&nbsp;351</ln><a id="351">&nbsp;</a><a id="n[127034, 127033, 127035]">&nbsp;</a><c1><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#351_36_refs">path</a></c20><c1><a href="#348_30_refs">:&nbsp;</a></c1><c8><a href="#348_30_refs">~str</a></c8><c3>,</c3><c1><a href="#348_30_refs">
</a></c1><br/><ln>&nbsp;352</ln><a id="352">&nbsp;</a><a id="n[127040, 127039, 127038]">&nbsp;</a><c1><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#352_36_refs">srdr</a></c20><c1><a href="#348_30_refs">:&nbsp;</a></c1><c8><a href="#348_30_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/io/mod.rs.html#n150391">io::Reader</a></c8><c4>)</c4><c1><a href="#348_30_refs">
</a></c1><br/><ln>&nbsp;353</ln><a id="353">&nbsp;</a><a id="n[127042, 127048, 127431, 127044, 127046, 127049]">&nbsp;</a><c1><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#348_30_refs">&nbsp;</a></c1><c4>(</c4><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libsyntax/parse/comments.rs.html#32">Comment</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c3>,</c3><c8><a href="#348_30_refs">&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libsyntax/parse/comments.rs.html#341">Literal</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c4>)</c4><c1><a href="#348_30_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;354</ln><a id="354">&nbsp;</a><a id="n[127054, 127056, 127055, 127053, 127052, 127050, 127051]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#354_8_refs">src</a></c20><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/comments.rs.html#352">srdr</a></c26><c10><a href="../../libstd/result.rs.html#n106923">.read_to_end</a></c10><c4>()</c4><c10><a href="../../libstd/result.rs.html#n106923">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;355</ln><a id="355">&nbsp;</a><a id="n[127063, 127057, 127062, 127064, 127061, 127058, 127059, 127060]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#355_8_refs">src</a></c20><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/str.rs.html#n58881">str::from_utf8_owned</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#354">src</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;356</ln><a id="356">&nbsp;</a><a id="n[127069, 127065, 127067, 127070, 127068, 127066]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#356_8_refs">cm</a></c20><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/codemap.rs.html#268">CodeMap::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;357</ln><a id="357">&nbsp;</a><a id="n[127072, 127073, 127074, 127077, 127076, 127078, 127071, 127075]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#357_8_refs">filemap</a></c20><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/comments.rs.html#356">cm</a></c26><c10><a href="../../libsyntax/codemap.rs.html#274">.new_filemap</a></c10><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#351">path</a></c26><c3>,</c3><c10><a href="../../libsyntax/codemap.rs.html#274">&nbsp;</a></c10><c26><a href="../../libsyntax/parse/comments.rs.html#355">src</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;358</ln><a id="358">&nbsp;</a><a id="n[127082, 127085, 127084, 127081, 127080, 127086, 127083, 127079]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#358_8_refs">rdr</a></c20><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/lexer.rs.html#73">lexer::new_low_level_string_reader</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#349">span_diagnostic</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#357">filemap</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;359</ln><a id="359">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;360</ln><a id="360">&nbsp;</a><a id="n[127087, 127091, 127093, 127095, 127094, 127092, 127089]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#360_8_refs">&nbsp;comments</a></c20><c13><a href="#348_30_refs">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libsyntax/parse/comments.rs.html#32">Comment</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;361</ln><a id="361">&nbsp;</a><a id="n[127101, 127102, 127096, 127104, 127100, 127103, 127098]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#361_8_refs">&nbsp;literals</a></c20><c13><a href="#348_30_refs">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libsyntax/parse/comments.rs.html#341">Literal</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;362</ln><a id="362">&nbsp;</a><a id="n[127110, 127105, 127107, 127109, 127108]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#362_8_refs">&nbsp;first_read</a></c20><c16><a href="#348_30_refs">:&nbsp;</a></c16><c8><a href="#348_30_refs">bool</a></c8><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c12><a href="#348_30_refs">true</a></c12><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;363</ln><a id="363">&nbsp;</a><a id="n[127114, 127428, 127113, 127115, 127112, 127111, 127429, 127430]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c13><a href="#348_30_refs">&nbsp;</a></c13><c5><a href="#348_30_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#271">is_eof</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c4>)</c4><c13><a href="#348_30_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;364</ln><a id="364">&nbsp;</a><a id="n[127170, 127168, 127169]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>loop</c21><c21><a href="#348_30_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;365</ln><a id="365">&nbsp;</a><a id="n[127121, 127116, 127118, 127117, 127120, 127119]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#365_16_refs">&nbsp;code_to_the_left</a></c20><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#348_30_refs">!</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#362">first_read</a></c26><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;366</ln><a id="366">&nbsp;</a><a id="n[127126, 127122, 127124, 127125, 127123]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#152">consume_non_eol_whitespace</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;367</ln><a id="367">&nbsp;</a><a id="n[127142, 127141, 127129, 127127, 127143, 127128]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#348_30_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#60">.curr_is</a></c10><c4>(</c4><c12><a href="../../libsyntax/parse/lexer.rs.html#60">'\n'</a></c12><c4>)</c4><c13><a href="#348_30_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;368</ln><a id="368">&nbsp;</a><a id="n[127133, 127130, 127132, 127131]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#365">code_to_the_left</a></c26><c5><a href="#348_30_refs">&nbsp;=&nbsp;</a></c5><c12><a href="#348_30_refs">false</a></c12><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;369</ln><a id="369">&nbsp;</a><a id="n[127135, 127137, 127134, 127140, 127138, 127139, 127136]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#169">consume_whitespace_counting_blank_lines</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c5><a href="#348_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#360">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;370</ln><a id="370">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;371</ln><a id="371">&nbsp;</a><a id="n[127163, 127164, 127165, 127145, 127147, 127144, 127146]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c13><a href="#348_30_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#318">peeking_at_comment</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c4>)</c4><c13><a href="#348_30_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;372</ln><a id="372">&nbsp;</a><a id="n[127155, 127151, 127152, 127154, 127153, 127148, 127150, 127149]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#326">consume_comment</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#365">code_to_the_left</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c5><a href="#348_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#360">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;373</ln><a id="373">&nbsp;</a><a id="n[127159, 127157, 127158, 127161, 127160, 127162, 127156]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#169">consume_whitespace_counting_blank_lines</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c3>,</c3><c13><a href="#348_30_refs">&nbsp;</a></c13><c5><a href="#348_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#360">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;374</ln><a id="374">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;375</ln><a id="375">&nbsp;</a><a id="n[127167, 127166]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>break</c21><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;376</ln><a id="376">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;377</ln><a id="377">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;378</ln><a id="378">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;379</ln><a id="379">&nbsp;</a><a id="n[127173, 127171, 127174, 127176, 127177, 127175, 127172]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="#379_12_refs">bstart</a></c20><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#48">.last_pos</a></c24><c10><a href="../../libstd/cell.rs.html#n107219">.get</a></c10><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;380</ln><a id="380">&nbsp;</a><a id="n[127179, 127178, 127180]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c13><a href="../../libsyntax/parse/lexer.rs.html#113">.next_token</a></c13><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;381</ln><a id="381">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//discard,&nbsp;and&nbsp;look&nbsp;ahead;&nbsp;we're&nbsp;working&nbsp;with&nbsp;internal&nbsp;state
</c40><br/><ln>&nbsp;382</ln><a id="382">&nbsp;</a><a id="n[127184, 127188, 127186, 127185, 127187, 127183, 127181, 127182]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#348_30_refs">&nbsp;</a></c22><c20><a href="../../libsyntax/parse/lexer.rs.html#37">TokenAndSpan&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/parse/lexer.rs.html#37">tok:&nbsp;</a></c20><c20><a href="#382_31_refs">tok</a></c20><c3>,</c3><c20><a href="../../libsyntax/parse/lexer.rs.html#37">&nbsp;sp:&nbsp;</a></c20><c20><a href="#382_40_refs">sp</a></c20><c3>}</c3><c16><a href="#348_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#125">.peek</a></c10><c4>()</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;383</ln><a id="383">&nbsp;</a><a id="n[127190, 127193, 127189, 127192, 127423, 127422, 127191]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#348_30_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/token.rs.html#313">token::is_lit</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#382">tok</a></c26><c4>)</c4><c21><a href="#348_30_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;384</ln><a id="384">&nbsp;</a><a id="n[127196, 127197, 127313, 127195, 127199, 127200, 127194, 127201, 127314, 127312, 127202, 127315]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#224">with_str_from</a></c26><c4>(</c4><c5><a href="#348_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#358">rdr</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#379">bstart</a></c26><c3>,</c3><c27><a href="#348_30_refs">&nbsp;</a></c27><c1><a href="#348_30_refs">|</a></c1><c20><a href="#384_41_refs">s</a></c20><c8><a href="#348_30_refs">|</a></c8><c1><a href="#348_30_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;385</ln><a id="385">&nbsp;</a><a id="n[127295, 127278, 127259, 127248, 127258, 127266, 127251, 127239, 127253, 127263, 127270, 127265, 127257, 127255, 127236, 127271, 127280, 127238, 127269, 127276, 127260, 127282, 127268, 127235, 127237, 127298, 127250, 127273, 127247, 127277, 127249, 127267, 127262, 127243, 127240, 127245, 127272, 127254, 127256, 127274, 127246, 127264, 127275, 127279, 127252, 127244, 127261, 127281]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../libstd/fmt/parse.rs.html#n166363">"tok&nbsp;lit:&nbsp;</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/parse.rs.html#n166363">"</a></c13><c3>,</c3><c22><a href="#348_30_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#385">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;386</ln><a id="386">&nbsp;</a><a id="n[127311, 127310, 127306, 127305, 127304, 127307, 127308, 127309]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#361">literals</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c1><a href="../../libsyntax/parse/comments.rs.html#341">Literal&nbsp;</a></c1><c3>{</c3><c1><a href="../../libsyntax/parse/comments.rs.html#341">lit:&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#384">s</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../libsyntax/parse/comments.rs.html#341">&nbsp;pos:&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#382">sp</a></c26><c24><a href="../../libsyntax/codemap.rs.html#89">.lo</a></c24><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;387</ln><a id="387">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;388</ln><a id="388">&nbsp;</a><a id="n[127421, 127420]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#348_30_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#348_30_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;389</ln><a id="389">&nbsp;</a><a id="n[127361, 127362, 127411, 127353, 127384, 127394, 127376, 127388, 127390, 127387, 127354, 127374, 127382, 127352, 127355, 127365, 127378, 127373, 127375, 127370, 127392, 127395, 127369, 127371, 127351, 127396, 127380, 127366, 127349, 127363, 127391, 127381, 127385, 127389, 127398, 127414, 127356, 127367, 127364, 127379, 127368, 127372, 127393, 127383, 127377, 127397, 127350, 127386, 127359, 127348, 127360]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n169447">"tok:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169447">"</a></c12><c3>,</c3><c22><a href="#348_30_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/token.rs.html#154">token::to_str</a></c26><c4>(</c4><c5><a href="../../libsyntax/parse/comments.rs.html#389">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#382">tok</a></c26><c4>))</c4><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;390</ln><a id="390">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;391</ln><a id="391">&nbsp;</a><a id="n[127426, 127424, 127425, 127427]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#362">first_read</a></c26><c13><a href="#348_30_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#348_30_refs">false</a></c12><c3>;</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;392</ln><a id="392">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;393</ln><a id="393">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;394</ln><a id="394">&nbsp;</a><a id="n[127434, 127432, 127433]">&nbsp;</a><c22><a href="#348_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#360">comments</a></c26><c3>,</c3><c14><a href="#348_30_refs">&nbsp;</a></c14><c26><a href="../../libsyntax/parse/comments.rs.html#361">literals</a></c26><c4>)</c4><c22><a href="#348_30_refs">
</a></c22><br/><ln>&nbsp;395</ln><a id="395">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;396</ln><a id="396">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;397</ln><a id="397">&nbsp;</a><a id="n[]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>cfg</c50><c4>(</c4><c50>test</c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;398</ln><a id="398">&nbsp;</a><a id="n[]">&nbsp;</a><c21>mod</c21><c38>&nbsp;test&nbsp;</c38><c3>{</c3><c0>
</c0><br/><ln>&nbsp;399</ln><a id="399">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;super::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;400</ln><a id="400">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;401</ln><a id="401">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_1</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;402</ln><a id="402">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;*&nbsp;Test&nbsp;\n&nbsp;**&nbsp;&nbsp;Test\n&nbsp;*&nbsp;&nbsp;&nbsp;Test\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;403</ln><a id="403">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;404</ln><a id="404">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;Test&nbsp;\n*&nbsp;&nbsp;Test\n&nbsp;&nbsp;&nbsp;Test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;405</ln><a id="405">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;406</ln><a id="406">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;407</ln><a id="407">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_2</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;408</ln><a id="408">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;*&nbsp;Test\n&nbsp;*&nbsp;&nbsp;Test\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;409</ln><a id="409">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;410</ln><a id="410">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;Test\n&nbsp;&nbsp;Test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;411</ln><a id="411">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;412</ln><a id="412">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;413</ln><a id="413">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_3</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;414</ln><a id="414">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;let&nbsp;a:&nbsp;*int;\n&nbsp;*a&nbsp;=&nbsp;5;\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;415</ln><a id="415">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;416</ln><a id="416">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;let&nbsp;a:&nbsp;*int</c0><c3>;</c3><c0>\n&nbsp;*a&nbsp;=&nbsp;5</c0><c3>;</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;417</ln><a id="417">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;418</ln><a id="418">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;419</ln><a id="419">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_4</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;420</ln><a id="420">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/*******************\n&nbsp;test\n&nbsp;*********************/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;421</ln><a id="421">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;422</ln><a id="422">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;423</ln><a id="423">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;424</ln><a id="424">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;425</ln><a id="425">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_line_doc_comment</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;426</ln><a id="426">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c42>///&nbsp;test");
</c42><br/><ln>&nbsp;427</ln><a id="427">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;428</ln><a id="428">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c42>///!&nbsp;test");
</c42><br/><ln>&nbsp;429</ln><a id="429">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;430</ln><a id="430">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c40>//&nbsp;test");
</c40><br/><ln>&nbsp;431</ln><a id="431">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;432</ln><a id="432">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c40>//&nbsp;test");
</c40><br/><ln>&nbsp;433</ln><a id="433">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"&nbsp;test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;434</ln><a id="434">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c42>///test");
</c42><br/><ln>&nbsp;435</ln><a id="435">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;436</ln><a id="436">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c42>///!test");
</c42><br/><ln>&nbsp;437</ln><a id="437">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;438</ln><a id="438">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>"</c0><c40>//test");
</c40><br/><ln>&nbsp;439</ln><a id="439">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped</c0><c3>,</c3><c0>&nbsp;~"test"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;440</ln><a id="440">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;441</ln><a id="441">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="24_23_refs"><a href="#24"><c40>libsyntax/parse/comments.rs:24:23-24:23&nbsp;-enum-&nbsp;definition:<br/></c40><pr>#[deriving(Clone,&nbsp;Eq)]
<br/>pub&nbsp;enum&nbsp;CommentStyle&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#24"><c40>24:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#34"><c40>34:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;CommentStyle,
<br/></a><a href="../../libsyntax/parse/comments.rs.html#24"><c40>24:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#24"><c40>24:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#24"><c40>24:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#24"><c40>24:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><br/><br/><a id="249_1_refs"><a href="#249"><c40>libsyntax/parse/comments.rs:249:1-249:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_block_comment(rdr:&nbsp;&amp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#334"><c40>334:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_block_comment(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/><br/><a id="169_1_refs"><a href="#169"><c40>libsyntax/parse/comments.rs:169:1-169:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_whitespace_counting_blank_lines(rdr:&nbsp;&amp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#369"><c40>369:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_whitespace_counting_blank_lines(&amp;rdr,&nbsp;&amp;mut&nbsp;comments);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#373"><c40>373:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_whitespace_counting_blank_lines(&amp;rdr,&nbsp;&amp;mut&nbsp;comments);
<br/></a><br/><br/><a id="45_1_refs"><a href="#45"><c40>libsyntax/parse/comments.rs:45:1-45:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;doc_comment_style(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;ast::AttrStyle&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/attr.rs.html"><c40>libsyntax/attr.rs:<br/></c40></a><a href="../../libsyntax/attr.rs.html#167"><c40>167:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;style&nbsp;=&nbsp;doc_comment_style(text.get());
<br/></a><br/><br/><a id="57_4_refs"><a href="#57"><c40>libsyntax/parse/comments.rs:57:4-57:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;vertical_trim(lines:&nbsp;Vec&lt;~str&gt;&nbsp;)&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;0u;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#127"><c40>127:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;vertical_trim(lines);
<br/></a><br/><br/><a id="180_1_refs"><a href="#180"><c40>libsyntax/parse/comments.rs:180:1-180:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_shebang_comment(rdr:&nbsp;&amp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#336"><c40>336:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_shebang_comment(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/><br/><a id="135_1_refs"><a href="#135"><c40>libsyntax/parse/comments.rs:135:1-135:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_to_eol(rdr:&nbsp;&amp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#147"><c40>147:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;val&nbsp;=&nbsp;read_to_eol(rdr);
<br/></a><br/><br/><a id="318_1_refs"><a href="#318"><c40>libsyntax/parse/comments.rs:318:1-318:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;peeking_at_comment(rdr:&nbsp;&amp;StringReader)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#371"><c40>371:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;peeking_at_comment(&amp;rdr)&nbsp;{
<br/></a><br/><br/><a id="234_1_refs"><a href="#234"><c40>libsyntax/parse/comments.rs:234:1-234:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;trim_whitespace_prefix_and_push_line(lines:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;&nbsp;,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#306"><c40>306:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trim_whitespace_prefix_and_push_line(&amp;mut&nbsp;lines,&nbsp;curr_line,&nbsp;col);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#284"><c40>284:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trim_whitespace_prefix_and_push_line(&amp;mut&nbsp;lines,&nbsp;curr_line,
<br/></a><br/><br/><a id="145_1_refs"><a href="#145"><c40>libsyntax/parse/comments.rs:145:1-145:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_one_line_comment(rdr:&nbsp;&amp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#188"><c40>188:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;vec!(read_one_line_comment(rdr)),
<br/></a><a href="../../libsyntax/parse/comments.rs.html#199"><c40>199:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;line&nbsp;=&nbsp;read_one_line_comment(rdr);
<br/></a><br/><br/><a id="54_1_refs"><a href="#54"><c40>libsyntax/parse/comments.rs:54:1-54:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;strip_doc_comment_decoration(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/attr.rs.html"><c40>libsyntax/attr.rs:<br/></c40></a><a href="../../libsyntax/attr.rs.html#127"><c40>127:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;token::intern_and_get_ident(strip_doc_comment_decoration(
<br/></a><br/><br/><a id="326_1_refs"><a href="#326"><c40>libsyntax/parse/comments.rs:326:1-326:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_comment(rdr:&nbsp;&amp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#372"><c40>372:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_comment(&amp;rdr,&nbsp;code_to_the_left,&nbsp;&amp;mut&nbsp;comments);
<br/></a><br/><br/><a id="219_51_refs"><a href="#219"><c40>libsyntax/parse/comments.rs:219:51-219:51&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;whitespace.&nbsp;&nbsp;Note&nbsp;k&nbsp;may&nbsp;be&nbsp;outside&nbsp;bounds&nbsp;of&nbsp;s.
<br/>fn&nbsp;all_whitespace(s:&nbsp;&amp;str,&nbsp;col:&nbsp;CharPos)&nbsp;-&gt;&nbsp;Option&lt;uint&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#238"><c40>238:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s1&nbsp;=&nbsp;match&nbsp;all_whitespace(s,&nbsp;col)&nbsp;{
<br/></a><br/><br/><a id="341_19_refs"><a href="#341"><c40>libsyntax/parse/comments.rs:341:19-341:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>pub&nbsp;struct&nbsp;Literal&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#341"><c40>341:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#341"><c40>341:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#361"><c40>361:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;literals:&nbsp;Vec&lt;Literal&gt;&nbsp;=&nbsp;Vec::new();
<br/></a><a href="../../libsyntax/parse/comments.rs.html#386"><c40>386:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;literals.push(Literal&nbsp;{lit:&nbsp;s.to_owned(),&nbsp;pos:&nbsp;sp.lo});
<br/></a><a href="../../libsyntax/parse/comments.rs.html#341"><c40>341:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#353"><c40>353:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(Vec&lt;Comment&gt;,&nbsp;Vec&lt;Literal&gt;)&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#62"><c40>62:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;literals:&nbsp;Option&lt;Vec&lt;comments::Literal&gt;&nbsp;&gt;,
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2198"><c40>2198:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;next_lit(&amp;mut&nbsp;self,&nbsp;pos:&nbsp;BytePos)&nbsp;-&gt;&nbsp;Option&lt;comments::Literal&gt;&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html"><c40>libsyntax/parse/comments.rs:<br/></c40></a><a href="../../libsyntax/parse/comments.rs.html#341"><c40>341:&nbsp;</c40>#[deriving(Clone)]
<br/></a><br/><br/><a id="159_1_refs"><a href="#159"><c40>libsyntax/parse/comments.rs:159:1-159:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;push_blank_line_comment(rdr:&nbsp;&amp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#174"><c40>174:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_blank_line_comment(rdr,&nbsp;&amp;mut&nbsp;*comments);
<br/></a><br/><br/><a id="152_1_refs"><a href="#152"><c40>libsyntax/parse/comments.rs:152:1-152:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_non_eol_whitespace(rdr:&nbsp;&amp;StringReader)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#311"><c40>311:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#366"><c40>366:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(&amp;rdr);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#205"><c40>205:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
<br/></a><br/><br/><a id="348_30_refs"><a href="#348"><c40>libsyntax/parse/comments.rs:348:30-348:30&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;probably&nbsp;not&nbsp;a&nbsp;good&nbsp;thing.
<br/>pub&nbsp;fn&nbsp;gather_comments_and_literals(span_diagnostic:
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#105"><c40>105:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;(cmnts,&nbsp;lits)&nbsp;=&nbsp;comments::gather_comments_and_literals(
<br/></a><br/><br/><a id="38_1_refs"><a href="#38"><c40>libsyntax/parse/comments.rs:38:1-38:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;is_doc_comment(s:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#201"><c40>201:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;is_doc_comment(line)&nbsp;{&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;put&nbsp;in&nbsp;comments
<br/></a><a href="../../libsyntax/parse/comments.rs.html#47"><c40>47:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;assert!(is_doc_comment(comment));
<br/></a><br/><br/><a id="32_19_refs"><a href="#32"><c40>libsyntax/parse/comments.rs:32:19-32:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>pub&nbsp;struct&nbsp;Comment&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#194"><c40>194:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#32"><c40>32:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#160"><c40>160:&nbsp;</c40>fn&nbsp;push_blank_line_comment(rdr:&nbsp;&amp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#32"><c40>32:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#171"><c40>171:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#252"><c40>252:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#32"><c40>32:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#182"><c40>182:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#186"><c40>186:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#163"><c40>163:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#209"><c40>209:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#316"><c40>316:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(Comment&nbsp;{style:&nbsp;style,&nbsp;lines:&nbsp;lines,&nbsp;pos:&nbsp;p});
<br/></a><a href="../../libsyntax/parse/comments.rs.html#329"><c40>329:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;Vec&lt;Comment&gt;&nbsp;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#353"><c40>353:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(Vec&lt;Comment&gt;,&nbsp;Vec&lt;Literal&gt;)&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#32"><c40>32:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#2229"><c40>2229:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmnt:&nbsp;&amp;comments::Comment)&nbsp;-&gt;&nbsp;IoResult&lt;()&gt;&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html#61"><c40>61:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;Option&lt;Vec&lt;comments::Comment&gt;&nbsp;&gt;,
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2289"><c40>2289:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;next_comment(&amp;mut&nbsp;self)&nbsp;-&gt;&nbsp;Option&lt;comments::Comment&gt;&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html"><c40>libsyntax/parse/comments.rs:<br/></c40></a><a href="../../libsyntax/parse/comments.rs.html#360"><c40>360:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;comments:&nbsp;Vec&lt;Comment&gt;&nbsp;=&nbsp;Vec::new();
<br/></a><br/><br/><a id="78_4_refs"><a href="#78"><c40>libsyntax/parse/comments.rs:78:4-78:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;horizontal_trim(lines:&nbsp;Vec&lt;~str&gt;&nbsp;)&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;uint::MAX;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#128"><c40>128:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;horizontal_trim(lines);
<br/></a><br/><br/><a id="192_1_refs"><a href="#192"><c40>libsyntax/parse/comments.rs:192:1-192:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_line_comments(rdr:&nbsp;&amp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#332"><c40>332:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_line_comments(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/></div></maintext></div></body>