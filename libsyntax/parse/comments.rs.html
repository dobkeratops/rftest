<head><link href="css/shCore.css" rel="stylesheet" type="text/css"/><link href="css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link rel="stylesheet" type="text/css" href="sourcestyle.css"/></head><body><div><bg0><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../libsyntax/">libsyntax</a><c1>/</c1><c0><a href="./../../libsyntax/parse/">parse</a><c1>/</c1><c0><a href="./../../libsyntax/parse/comments.rs.html">comments.rs</a><br/><br/></c0></c0><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>BytePos</c0><c3>,</c3><c0>&nbsp;CharPos</c0><c3>,</c3><c0>&nbsp;CodeMap</c0><c3>,</c3><c0>&nbsp;Pos</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;diagnostic</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>is_whitespace</c0><c3>,</c3><c0>&nbsp;with_str_from</c0><c3>,</c3><c0>&nbsp;reader</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>StringReader</c0><c3>,</c3><c0>&nbsp;bump</c0><c3>,</c3><c0>&nbsp;is_eof</c0><c3>,</c3><c0>&nbsp;nextch</c0><c3>,</c3><c0>&nbsp;TokenAndSpan</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::lexer::</c0><c3>{</c3><c0>is_line_non_doc_comment</c0><c3>,</c3><c0>&nbsp;is_block_non_doc_comment</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::lexer</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token::</c0><c3>{</c3><c0>get_ident_interner</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::uint</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n122907"><a id="n122903"><a id="n122837"><a id="n122904"><a id="n122821"><a id="n122847"><a id="n122791"><a id="n122899"><a id="n122812"><a id="n122887"><a id="n122833"><a id="n122880"><a id="n122838"><a id="n122767"><a id="n122905"><a id="n122797"><a id="n122825"><a id="n122866"><a id="n122900"><a id="n122796"><a id="n122804"><a id="n122890"><a id="n122789"><a id="n122787"><a id="n122815"><a id="n122888"><a id="n122828"><a id="n122898"><a id="n122774"><a id="n122771"><a id="n122881"><a id="n122891"><a id="n122893"><a id="n122874"><a id="n122805"><a id="n122875"><a id="n122908"><a id="n122876"><a id="n122868"><a id="n122906"><a id="n122781"><a id="n122852"><a id="n122863"><a id="n122884"><a id="n122870"><a id="n122808"><a id="n122848"><a id="n122895"><a id="n122894"><a id="n122772"><a id="n122801"><a id="n122889"><a id="n122768"><a id="n122836"><a id="n122879"><a id="n122839"><a id="n122840"><a id="n122892"><a id="n122819"><a id="n122769"><a id="n122816"><a id="n122790"><a id="n122827"><a id="n122901"><a id="n122856"><a id="n122802"><a id="n122824"><a id="n122869"><a id="n122780"><a id="n122818"><a id="n122860"><a id="n122782"><a id="n122865"><a id="n122909"><a id="n122829"><a id="n122766"><a id="n122867"><a id="n122842"><a id="n122862"><a id="n122843"><a id="n122762"><a id="n122810"><a id="n122910"><a id="n122858"><a id="n122776"><a id="n122851"><a id="n122777"><a id="n122883"><a id="n122826"><a id="n122760"><a id="n122764"><a id="n122877"><a id="n122806"><a id="n122754"><a id="n122853"><a id="n122845"><a id="n122831"><a id="n122773"><a id="n122809"><a id="n122896"><a id="n122844"><a id="n122784"><a id="n122864"><a id="n122817"><a id="n122798"><a id="n122859"><a id="n122800"><a id="n122820"><a id="n122778"><a id="n122834"><a id="n122775"><a id="n122878"><a id="n122813"><a id="n122841"><a id="n122794"><a id="n122830"><a id="n122759"><a id="n122871"><a id="n122803"><a id="n122872"><a id="n122832"><a id="n122785"><a id="n122814"><a id="n122770"><a id="n122779"><a id="n122822"><a id="n122846"><a id="n122886"><a id="n122882"><a id="n122902"><a id="n122807">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/parse/comments.rs.html#29">Clone</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libsyntax/parse/comments.rs.html#25">Eq</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c21>pub</c21><c34><a href="#25_23_refs">&nbsp;</a></c34><c34>enum</c34><c34><a href="#25_23_refs">&nbsp;cmnt_style&nbsp;</a></c34><c3>{</c3><c34><a href="#25_23_refs">
</a></c34><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n122755">&nbsp;</a><c34><a href="#25_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c28><a href="#27_4_refs">isolated</a></c28><c3>,</c3><c34><a href="#25_23_refs">&nbsp;</a></c34><c40>//&nbsp;No&nbsp;code&nbsp;on&nbsp;either&nbsp;side&nbsp;of&nbsp;each&nbsp;line&nbsp;of&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n122756">&nbsp;</a><c34><a href="#25_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c28><a href="#28_4_refs">trailing</a></c28><c3>,</c3><c34><a href="#25_23_refs">&nbsp;</a></c34><c40>//&nbsp;Code&nbsp;exists&nbsp;to&nbsp;the&nbsp;left&nbsp;of&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n122757">&nbsp;</a><c34><a href="#25_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c28><a href="#29_4_refs">mixed</a></c28><c3>,</c3><c34><a href="#25_23_refs">&nbsp;</a></c34><c40>//&nbsp;Code&nbsp;before&nbsp;/*&nbsp;foo&nbsp;*/&nbsp;and&nbsp;after&nbsp;the&nbsp;comment
</c40><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n122758">&nbsp;</a><c34><a href="#25_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c28><a href="#30_4_refs">blank_line</a></c28><c3>,</c3><c34><a href="#25_23_refs">&nbsp;</a></c34><c40>//&nbsp;Just&nbsp;a&nbsp;manual&nbsp;blank&nbsp;line&nbsp;"\n\n",&nbsp;for&nbsp;layout
</c40><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n122945"><a id="n122949"><a id="n122950"><a id="n122951"><a id="n122912"><a id="n122928"><a id="n122926"><a id="n122935"><a id="n122925"><a id="n122948"><a id="n122932"><a id="n122946"><a id="n122947"><a id="n122936"><a id="n122942"><a id="n122930"><a id="n122939"><a id="n122933"><a id="n122940"><a id="n122934"><a id="n122937"><a id="n122943">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libstd/vec.rs.html#n56490">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c21>pub</c21><c31><a href="#33_19_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#33_19_refs">&nbsp;cmnt&nbsp;</a></c31><c3>{</c3><c31><a href="#33_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n122915"><a id="n122913">&nbsp;</a></a><c31><a href="#33_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#35_4_refs">style:&nbsp;</a></c24><c8><a href="../../libsyntax/parse/comments.rs.html#25">cmnt_style</a></c8><c3>,</c3><c31><a href="#33_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n122918"><a id="n122916"><a id="n122921"><a id="n122919"><a id="n122920">&nbsp;</a></a></a></a></a><c31><a href="#33_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#36_4_refs">lines:&nbsp;</a></c24><c8><a href="#36_4_refs">~</a></c8><c3>[</c3><c8><a href="#36_4_refs">~</a></c8><c8><a href="#33_19_refs">str</a></c8><c3>],</c3><c31><a href="#33_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n122924"><a id="n122922">&nbsp;</a></a><c31><a href="#33_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#37_4_refs">pos:&nbsp;</a></c24><c8><a href="../../libsyntax/codemap.rs.html#33">BytePos</a></c8><c31><a href="#33_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n122953">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n122957"><a id="n122999"><a id="n122955"><a id="n122960"><a id="n122956">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="#39_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#39_1_refs">&nbsp;is_doc_comment</a></c30><c4>(</c4><c20><a href="#40_22_refs">s</a></c20><c1><a href="#39_1_refs">:&nbsp;</a></c1><c8><a href="#39_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#39_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#39_1_refs">&nbsp;</a></c1><c8><a href="#39_1_refs">bool</a></c8><c1><a href="#39_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#39_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n122970"><a id="n122980"><a id="n122993"><a id="n122971"><a id="n122973"><a id="n122967"><a id="n122998"><a id="n122974"><a id="n122968"><a id="n122975"><a id="n122972"><a id="n122966">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#39_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#40">s</a></c26><c10><a href="../../libstd/str.rs.html#n64945">.starts_with</a></c10><c4>(</c4><c12><a href="#39_1_refs">"</a></c12><c42>///")&nbsp;&amp;&amp;&nbsp;!is_line_non_doc_comment(s))&nbsp;||
</c42><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n122978"><a id="n122979"><a id="n122977">&nbsp;</a></a></a><c1><a href="#39_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#40">s</a></c26><c10><a href="../../libstd/str.rs.html#n64945">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64945">"</a></c12><c40>//!")&nbsp;||
</c40><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n122984"><a id="n122985"><a id="n122983"><a id="n122992"><a id="n122989"><a id="n122987"><a id="n122988"><a id="n122991"><a id="n122990">&nbsp;</a></a></a></a></a></a></a></a></a><c1><a href="#39_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#40">s</a></c26><c10><a href="../../libstd/str.rs.html#n64945">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64945">"/**"</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n64945">&nbsp;&amp;&amp;</a></c10><c1><a href="#39_1_refs">&nbsp;</a></c1><c5><a href="#39_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#354">is_block_non_doc_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#40">s</a></c26><c4>))</c4><c1><a href="#39_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n122996"><a id="n122997"><a id="n122995">&nbsp;</a></a></a><c1><a href="#39_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#40">s</a></c26><c10><a href="../../libstd/str.rs.html#n64945">.starts_with</a></c10><c4>(</c4><c12><a href="#39_1_refs">"</a></c12><c41>/*!")
</c41><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n123000">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n123007"><a id="n123003"><a id="n123002"><a id="n123040"><a id="n123004">&nbsp;</a></a></a></a></a><c41>pub&nbsp;fn&nbsp;doc_comment_style(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;ast::AttrStyle&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n123009"><a id="n123011"><a id="n123010">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;assert!(is_doc_comment(comment));
</c41><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n123031"><a id="n123033"><a id="n123030"><a id="n123028"><a id="n123027"><a id="n123039"><a id="n123026"><a id="n123032"><a id="n123035">&nbsp;</a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with("//!")&nbsp;||&nbsp;comment.starts_with("/*!")&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n123034">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::AttrInner
</c41><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n123038"><a id="n123037">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n123036">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::AttrOuter
</c41><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n123041">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n123043"><a id="n123044"><a id="n123045"><a id="n123422"><a id="n123048"><a id="n123049">&nbsp;</a></a></a></a></a></a><c41>pub&nbsp;fn&nbsp;strip_doc_comment_decoration(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;remove&nbsp;whitespace-only&nbsp;lines&nbsp;from&nbsp;the&nbsp;start/end&nbsp;of&nbsp;lines
</c41><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n123050"><a id="n123131"><a id="n123056"><a id="n123055"><a id="n123061"><a id="n123059"><a id="n123060"><a id="n123053"><a id="n123054"><a id="n123062"><a id="n123052"><a id="n123132">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;vertical_trim(lines:&nbsp;~[~str])&nbsp;-&gt;&nbsp;~[~str]&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n123065"><a id="n123063"><a id="n123067"><a id="n123064"><a id="n123066">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;0u;
</c41><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n123073"><a id="n123071"><a id="n123069"><a id="n123072"><a id="n123068"><a id="n123074">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;j&nbsp;=&nbsp;lines.len();
</c41><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n123086"><a id="n123078"><a id="n123085"><a id="n123084"><a id="n123088"><a id="n123095"><a id="n123087"><a id="n123083"><a id="n123079"><a id="n123096"><a id="n123094"><a id="n123077">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;i&nbsp;&lt;&nbsp;j&nbsp;&amp;&amp;&nbsp;lines[i].trim().is_empty()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n123093"><a id="n123091"><a id="n123092"><a id="n123090">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;+=&nbsp;1u;
</c41><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n123101"><a id="n123100"><a id="n123108"><a id="n123113"><a id="n123099"><a id="n123112"><a id="n123121"><a id="n123120"><a id="n123105"><a id="n123107"><a id="n123109"><a id="n123119"><a id="n123111"><a id="n123110">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;j&nbsp;&gt;&nbsp;i&nbsp;&amp;&amp;&nbsp;lines[j&nbsp;-&nbsp;1u].trim().is_empty()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n123115"><a id="n123117"><a id="n123116"><a id="n123118">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;-=&nbsp;1u;
</c41><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n123130"><a id="n123126"><a id="n123127"><a id="n123125"><a id="n123128"><a id="n123124"><a id="n123129">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;lines.slice(i,&nbsp;j).to_owned();
</c41><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;///&nbsp;remove&nbsp;a&nbsp;"[&nbsp;\t]*\*"&nbsp;block&nbsp;from&nbsp;each&nbsp;line,&nbsp;if&nbsp;possible
</c41><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n123136"><a id="n123144"><a id="n123133"><a id="n123137"><a id="n123138"><a id="n123139"><a id="n123143"><a id="n123317"><a id="n123142"><a id="n123316"><a id="n123145"><a id="n123135">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;horizontal_trim(lines:&nbsp;~[~str])&nbsp;-&gt;&nbsp;~[~str]&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n123146"><a id="n123148"><a id="n123150"><a id="n123147"><a id="n123149">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;uint::max_value;
</c41><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n123154"><a id="n123155"><a id="n123152"><a id="n123153"><a id="n123151">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;can_trim&nbsp;=&nbsp;true;
</c41><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n123158"><a id="n123160"><a id="n123156"><a id="n123159"><a id="n123157">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;first&nbsp;=&nbsp;true;
</c41><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n123174"><a id="n123167"><a id="n123171"><a id="n123278"><a id="n123280"><a id="n123283"><a id="n123176"><a id="n123284"><a id="n123162"><a id="n123168"><a id="n123164"><a id="n123173"><a id="n123279"><a id="n123172"><a id="n123170"><a id="n123282"><a id="n123166"><a id="n123165"><a id="n123277"><a id="n123285"><a id="n123281"><a id="n123175"><a id="n123161">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;line&nbsp;in&nbsp;lines.iter()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n123193"><a id="n123192"><a id="n123253"><a id="n123177"><a id="n123178"><a id="n123249"><a id="n123255"><a id="n123196"><a id="n123252"><a id="n123182"><a id="n123186"><a id="n123188"><a id="n123250"><a id="n123183"><a id="n123185"><a id="n123195"><a id="n123190"><a id="n123181"><a id="n123251"><a id="n123184"><a id="n123191"><a id="n123189"><a id="n123194"><a id="n123256"><a id="n123248"><a id="n123254">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(j,&nbsp;c)&nbsp;in&nbsp;line.iter().enumerate()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n123206"><a id="n123216"><a id="n123208"><a id="n123201"><a id="n123205"><a id="n123217"><a id="n123200"><a id="n123207"><a id="n123215"><a id="n123204"><a id="n123199">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;j&nbsp;&gt;&nbsp;i&nbsp;||&nbsp;!"*&nbsp;\t".contains_char(c)&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n123209"><a id="n123210"><a id="n123212"><a id="n123211">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n123214"><a id="n123213">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n123246"><a id="n123221"><a id="n123247"><a id="n123220"><a id="n123219">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;c&nbsp;==&nbsp;'*'&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n123242"><a id="n123243"><a id="n123222"><a id="n123231">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;first&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n123225"><a id="n123224"><a id="n123223"><a id="n123226">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;=&nbsp;j;
</c41><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n123230"><a id="n123229"><a id="n123227"><a id="n123228">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n123234"><a id="n123241"><a id="n123235"><a id="n123240"><a id="n123233">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;if&nbsp;i&nbsp;!=&nbsp;j&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n123238"><a id="n123236"><a id="n123237"><a id="n123239">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n123244"><a id="n123245">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n123261"><a id="n123260"><a id="n123269"><a id="n123262"><a id="n123258"><a id="n123267"><a id="n123268">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;i&nbsp;&gt;&nbsp;line.len()&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n123266"><a id="n123263"><a id="n123265"><a id="n123264">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can_trim&nbsp;=&nbsp;false;
</c41><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n123272"><a id="n123271"><a id="n123276"><a id="n123275">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!can_trim&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n123273"><a id="n123274">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c8><a href="../../libsyntax/parse/comments.rs.html#76">
</a></c8><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n123286"><a id="n123315"><a id="n123311">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;can_trim&nbsp;{
</c41><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n123306"><a id="n123290"><a id="n123288"><a id="n123292"><a id="n123308"><a id="n123305"><a id="n123289"><a id="n123307"><a id="n123309"><a id="n123310">&nbsp;</a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;lines.map&nbsp;|line|&nbsp;{
</c41><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n123297"><a id="n123301"><a id="n123298"><a id="n123304"><a id="n123295"><a id="n123302"><a id="n123299"><a id="n123303">&nbsp;</a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line.slice(i&nbsp;+&nbsp;1,&nbsp;line.len()).to_owned()
</c41><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n123313"><a id="n123314">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{
</c41><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n123312">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines
</c41><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n123320"><a id="n123321"><a id="n123333"><a id="n123334"><a id="n123335"><a id="n123319">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with("//")&nbsp;{
</c41><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n123332"><a id="n123329"><a id="n123327"><a id="n123331"><a id="n123330"><a id="n123324"><a id="n123328"><a id="n123325">&nbsp;</a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;comment.slice(3u,&nbsp;comment.len()).to_owned();
</c41><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n123394"><a id="n123396"><a id="n123338"><a id="n123395"><a id="n123339"><a id="n123337">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;comment.starts_with("/*")&nbsp;{
</c41><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n123372"><a id="n123350"><a id="n123371"><a id="n123347"><a id="n123340"><a id="n123341"><a id="n123365"><a id="n123373"><a id="n123353"><a id="n123355"><a id="n123346"><a id="n123354"><a id="n123351"><a id="n123352">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;comment.slice(3u,&nbsp;comment.len()&nbsp;-&nbsp;2u)
</c41><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.any_line_iter()
</c41><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n123361"><a id="n123357"><a id="n123364"><a id="n123359"><a id="n123356"><a id="n123362"><a id="n123363">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map(|s|&nbsp;s.to_owned())
</c41><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n123369"><a id="n123367"><a id="n123368"><a id="n123370">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.collect::&lt;~[~str]&gt;();
</c41><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n123378"><a id="n123376"><a id="n123380"><a id="n123374"><a id="n123375"><a id="n123379"><a id="n123377">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;vertical_trim(lines);
</c41><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n123384"><a id="n123385"><a id="n123387"><a id="n123381"><a id="n123386"><a id="n123383"><a id="n123382">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;horizontal_trim(lines);
</c41><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n123390"><a id="n123389"><a id="n123392"><a id="n123391"><a id="n123393">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;lines.connect("\n");
</c41><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n123404"><a id="n123402"><a id="n123407"><a id="n123409"><a id="n123414"><a id="n123411"><a id="n123408"><a id="n123412"><a id="n123415"><a id="n123410"><a id="n123416"><a id="n123405"><a id="n123399"><a id="n123406"><a id="n123403"><a id="n123413"><a id="n123401"><a id="n123400"><a id="n123398">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;fail!("not&nbsp;a&nbsp;doc-comment:&nbsp;%s",&nbsp;comment);
</c41><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n123423">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n123430"><a id="n123427"><a id="n123426"><a id="n123425"><a id="n123478"><a id="n123431">&nbsp;</a></a></a></a></a></a><c41>fn&nbsp;read_to_eol(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n123434"><a id="n123435"><a id="n123433"><a id="n123437"><a id="n123436"><a id="n123432">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;val&nbsp;=&nbsp;~"";
</c41><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n123442"><a id="n123461"><a id="n123448"><a id="n123460"><a id="n123445"><a id="n123440"><a id="n123449"><a id="n123462"><a id="n123446"><a id="n123441"><a id="n123447"><a id="n123443">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;rdr.curr&nbsp;!=&nbsp;'\n'&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n123455"><a id="n123453"><a id="n123451"><a id="n123452"><a id="n123454">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;val.push_char(rdr.curr);
</c41><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n123459"><a id="n123458"><a id="n123456"><a id="n123457">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n123471"><a id="n123472"><a id="n123467"><a id="n123466"><a id="n123468"><a id="n123474"><a id="n123470"><a id="n123465"><a id="n123473"><a id="n123464"><a id="n123469">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rdr.curr&nbsp;==&nbsp;'\n'&nbsp;{&nbsp;bump(rdr);&nbsp;}
</c41><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n123476"><a id="n123475"><a id="n123477">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;val;
</c41><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n123479">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n123481"><a id="n123486"><a id="n123482"><a id="n123559"><a id="n123487"><a id="n123483">&nbsp;</a></a></a></a></a></a><c41>fn&nbsp;read_one_line_comment(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c41><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n123491"><a id="n123492"><a id="n123488"><a id="n123490"><a id="n123493"><a id="n123494"><a id="n123489">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;val&nbsp;=&nbsp;read_to_eol(rdr);
</c41><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n123517"><a id="n123503"><a id="n123510"><a id="n123513"><a id="n123516"><a id="n123502"><a id="n123512"><a id="n123511"><a id="n123501"><a id="n123543"><a id="n123515"><a id="n123500"><a id="n123518"><a id="n123505"><a id="n123507"><a id="n123506"><a id="n123519">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;assert!((val[0]&nbsp;==&nbsp;'/'&nbsp;as&nbsp;u8&nbsp;&amp;&amp;&nbsp;val[1]&nbsp;==&nbsp;'/'&nbsp;as&nbsp;u8)&nbsp;||
</c41><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n123526"><a id="n123530"><a id="n123525"><a id="n123541"><a id="n123529"><a id="n123528"><a id="n123533"><a id="n123534"><a id="n123539"><a id="n123523"><a id="n123542"><a id="n123524"><a id="n123538"><a id="n123535"><a id="n123540"><a id="n123536">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(val[0]&nbsp;==&nbsp;'#'&nbsp;as&nbsp;u8&nbsp;&amp;&amp;&nbsp;val[1]&nbsp;==&nbsp;'!'&nbsp;as&nbsp;u8));
</c41><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n123557"><a id="n123558"><a id="n123556">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;val;
</c41><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n123560">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n123563"><a id="n123591"><a id="n123564"><a id="n123562"><a id="n123566">&nbsp;</a></a></a></a></a><c41>fn&nbsp;consume_non_eol_whitespace(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;{
</c41><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n123590"><a id="n123577"><a id="n123581"><a id="n123572"><a id="n123582"><a id="n123584"><a id="n123574"><a id="n123583"><a id="n123569"><a id="n123589"><a id="n123576"><a id="n123578"><a id="n123570"><a id="n123575"><a id="n123571"><a id="n123580">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;is_whitespace(rdr.curr)&nbsp;&amp;&amp;&nbsp;rdr.curr&nbsp;!=&nbsp;'\n'&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n123588"><a id="n123586"><a id="n123585"><a id="n123587">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n123592">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n123594"><a id="n123595"><a id="n123601"><a id="n123603"><a id="n123599"><a id="n123596"><a id="n123666"><a id="n123605"><a id="n123602"><a id="n123600">&nbsp;</a></a></a></a></a></a></a></a></a></a><c41>fn&nbsp;push_blank_line_comment(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
</c41><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n123627"><a id="n123630"><a id="n123633"><a id="n123628"><a id="n123626"><a id="n123625"><a id="n123629">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;blank-line&nbsp;comment");
</c41><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n123651"><a id="n123655"><a id="n123649"><a id="n123648"><a id="n123653"><a id="n123654"><a id="n123656"><a id="n123650"><a id="n123652">&nbsp;</a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;v:&nbsp;~[~str]&nbsp;=&nbsp;~[];
</c41><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n123664"><a id="n123662"><a id="n123658"><a id="n123665"><a id="n123660"><a id="n123659"><a id="n123661"><a id="n123663">&nbsp;</a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{style:&nbsp;blank_line,&nbsp;lines:&nbsp;v,&nbsp;pos:&nbsp;rdr.last_pos});
</c41><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n123667">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n123670"><a id="n123669"><a id="n123671">&nbsp;</a></a></a><c41>fn&nbsp;consume_whitespace_counting_blank_lines(rdr:&nbsp;@mut&nbsp;StringReader,
</c41><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n123674"><a id="n123723"><a id="n123680"><a id="n123677"><a id="n123675"><a id="n123676"><a id="n123678">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
</c41><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n123721"><a id="n123687"><a id="n123691"><a id="n123688"><a id="n123689"><a id="n123682"><a id="n123690"><a id="n123722"><a id="n123685"><a id="n123684"><a id="n123683">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;is_whitespace(rdr.curr)&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n123701"><a id="n123695"><a id="n123699"><a id="n123716"><a id="n123715"><a id="n123704"><a id="n123697"><a id="n123705"><a id="n123703"><a id="n123698"><a id="n123694"><a id="n123696"><a id="n123702"><a id="n123714">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rdr.col&nbsp;==&nbsp;CharPos(0u)&nbsp;&amp;&amp;&nbsp;rdr.curr&nbsp;==&nbsp;'\n'&nbsp;{
</c41><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n123710"><a id="n123709"><a id="n123706"><a id="n123707"><a id="n123713"><a id="n123712"><a id="n123711">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_blank_line_comment(rdr,&nbsp;&amp;mut&nbsp;*comments);
</c41><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n123717"><a id="n123719"><a id="n123720"><a id="n123718">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n123724">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n123726"><a id="n123732"><a id="n123727"><a id="n123728"><a id="n123731">&nbsp;</a></a></a></a></a><c41>fn&nbsp;read_shebang_comment(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n123848"><a id="n123738"><a id="n123735"><a id="n123739"><a id="n123741"><a id="n123736"><a id="n123737">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
</c41><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n123766"><a id="n123764"><a id="n123761"><a id="n123769"><a id="n123765"><a id="n123762"><a id="n123763">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;shebang&nbsp;comment");
</c41><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n123784"><a id="n123783"><a id="n123787"><a id="n123786"><a id="n123785"><a id="n123788">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos;
</c41><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n123813"><a id="n123816"><a id="n123809"><a id="n123811"><a id="n123808"><a id="n123812"><a id="n123810">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&lt;&lt;&lt;&nbsp;shebang&nbsp;comment");
</c41><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n123845"><a id="n123831"><a id="n123846"><a id="n123847">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{
</c41><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n123837"><a id="n123838"><a id="n123833"><a id="n123832"><a id="n123835"><a id="n123834"><a id="n123836">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;if&nbsp;code_to_the_left&nbsp;{&nbsp;trailing&nbsp;}&nbsp;else&nbsp;{&nbsp;isolated&nbsp;},
</c41><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n123842"><a id="n123839"><a id="n123841"><a id="n123840"><a id="n123843">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;~[read_one_line_comment(rdr)],
</c41><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n123844">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;p
</c41><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;});
</c41><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n123849">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n123853"><a id="n123857"><a id="n123851"><a id="n123852"><a id="n123856">&nbsp;</a></a></a></a></a><c41>fn&nbsp;read_line_comments(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n123866"><a id="n123862"><a id="n123864"><a id="n123863"><a id="n124066"><a id="n123860"><a id="n123861">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
</c41><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n123888"><a id="n123886"><a id="n123894"><a id="n123889"><a id="n123890"><a id="n123887"><a id="n123891">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;line&nbsp;comments");
</c41><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n123909"><a id="n123913"><a id="n123911"><a id="n123910"><a id="n123912"><a id="n123908">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos;
</c41><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n123923"><a id="n123917"><a id="n123915"><a id="n123916"><a id="n123919"><a id="n123918"><a id="n123921"><a id="n123920"><a id="n123922">&nbsp;</a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;lines:&nbsp;~[~str]&nbsp;=&nbsp;~[];
</c41><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n123931"><a id="n123935"><a id="n124002"><a id="n123928"><a id="n123934"><a id="n124001"><a id="n123936"><a id="n123926"><a id="n123927"><a id="n123929"><a id="n124003"><a id="n123932"><a id="n123933">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;rdr.curr&nbsp;==&nbsp;'/'&nbsp;&amp;&amp;&nbsp;nextch(rdr)&nbsp;==&nbsp;'/'&nbsp;{
</c41><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n123939"><a id="n123940"><a id="n123937"><a id="n123943"><a id="n123938"><a id="n123941"><a id="n123942">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;line&nbsp;=&nbsp;read_one_line_comment(rdr);
</c41><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n123958"><a id="n123957"><a id="n123970"><a id="n123968"><a id="n123964"><a id="n123974"><a id="n123971"><a id="n123967"><a id="n123973"><a id="n123966"><a id="n123972"><a id="n123959"><a id="n123965"><a id="n123956"><a id="n123969"><a id="n123960"><a id="n123962"><a id="n123963"><a id="n123961">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!("%s",&nbsp;line);
</c41><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n123989"><a id="n123991"><a id="n123985"><a id="n123984"><a id="n123990"><a id="n123986">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;is_doc_comment(line)&nbsp;{&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;put&nbsp;in&nbsp;comments
</c41><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n123988"><a id="n123987">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
</c41><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n123996"><a id="n123993"><a id="n123994"><a id="n123995">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines.push(line);
</c41><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n123998"><a id="n123999"><a id="n123997"><a id="n124000">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
</c41><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n124031"><a id="n124025"><a id="n124024"><a id="n124023"><a id="n124026"><a id="n124027"><a id="n124028">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&lt;&lt;&lt;&nbsp;line&nbsp;comments");
</c41><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n124048"><a id="n124047"><a id="n124049"><a id="n124065"><a id="n124064">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!lines.is_empty()&nbsp;{
</c41><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n124051"><a id="n124063"><a id="n124062"><a id="n124061">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{
</c41><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n124056"><a id="n124052"><a id="n124054"><a id="n124058"><a id="n124057"><a id="n124055"><a id="n124053">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;if&nbsp;code_to_the_left&nbsp;{&nbsp;trailing&nbsp;}&nbsp;else&nbsp;{&nbsp;isolated&nbsp;},
</c41><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n124059">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;lines,
</c41><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n124060">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos:&nbsp;p
</c41><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
</c41><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c41>//&nbsp;Returns&nbsp;None&nbsp;if&nbsp;the&nbsp;first&nbsp;col&nbsp;chars&nbsp;of&nbsp;s&nbsp;contain&nbsp;a&nbsp;non-whitespace&nbsp;char.
</c41><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a>&nbsp;<c41>//&nbsp;Otherwise&nbsp;returns&nbsp;Some(k)&nbsp;where&nbsp;k&nbsp;is&nbsp;first&nbsp;char&nbsp;offset&nbsp;after&nbsp;that&nbsp;leading
</c41><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n124067">&nbsp;</a><c41>//&nbsp;whitespace.&nbsp;&nbsp;Note&nbsp;k&nbsp;may&nbsp;be&nbsp;outside&nbsp;bounds&nbsp;of&nbsp;s.
</c41><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n124071"><a id="n124080"><a id="n124069"><a id="n124070"><a id="n124078"><a id="n124075"><a id="n124074"><a id="n124150">&nbsp;</a></a></a></a></a></a></a></a><c41>fn&nbsp;all_whitespace(s:&nbsp;&amp;str,&nbsp;col:&nbsp;CharPos)&nbsp;-&gt;&nbsp;Option&lt;uint&gt;&nbsp;{
</c41><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n124087"><a id="n124082"><a id="n124085"><a id="n124081"><a id="n124086"><a id="n124084">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;len&nbsp;=&nbsp;s.len();
</c41><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n124092"><a id="n124089"><a id="n124093"><a id="n124094"><a id="n124091"><a id="n124088">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;col&nbsp;=&nbsp;col.to_uint();
</c41><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n124098"><a id="n124097"><a id="n124099"><a id="n124096"><a id="n124100">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;cursor:&nbsp;uint&nbsp;=&nbsp;0;
</c41><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n124144"><a id="n124143"><a id="n124103"><a id="n124142"><a id="n124110"><a id="n124107"><a id="n124105"><a id="n124104"><a id="n124109"><a id="n124108">&nbsp;</a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;col&nbsp;&gt;&nbsp;0&nbsp;&amp;&amp;&nbsp;cursor&nbsp;&lt;&nbsp;len&nbsp;{
</c41><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n124119"><a id="n124117"><a id="n124116"><a id="n124113"><a id="n124118"><a id="n124112"><a id="n124115">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r:&nbsp;str::CharRange&nbsp;=&nbsp;s.char_range_at(cursor);
</c41><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n124122"><a id="n124129"><a id="n124131"><a id="n124130"><a id="n124125"><a id="n124124"><a id="n124123">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!r.ch.is_whitespace()&nbsp;{
</c41><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n124126"><a id="n124128"><a id="n124127">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None;
</c41><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n124132"><a id="n124136"><a id="n124134"><a id="n124135"><a id="n124133">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor&nbsp;=&nbsp;r.next;
</c41><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n124140"><a id="n124139"><a id="n124138"><a id="n124141">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;col&nbsp;-=&nbsp;1;
</c41><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n124146"><a id="n124147"><a id="n124145"><a id="n124148"><a id="n124149">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;Some(cursor);
</c41><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n124151">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n124154"><a id="n124158"><a id="n124153"><a id="n124155"><a id="n124156"><a id="n124157">&nbsp;</a></a></a></a></a></a><c41>fn&nbsp;trim_whitespace_prefix_and_push_line(lines:&nbsp;&amp;mut&nbsp;~[~str],
</c41><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n124167"><a id="n124163"><a id="n124169"><a id="n124162"><a id="n124166"><a id="n124256"><a id="n124161">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s:&nbsp;~str,&nbsp;col:&nbsp;CharPos)&nbsp;{
</c41><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n124174"><a id="n124173"><a id="n124175"><a id="n124176"><a id="n124170"><a id="n124171">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;len&nbsp;=&nbsp;s.len();
</c41><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n124178"><a id="n124177"><a id="n124181"><a id="n124208"><a id="n124179"><a id="n124182"><a id="n124210"><a id="n124209"><a id="n124180">&nbsp;</a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s1&nbsp;=&nbsp;match&nbsp;all_whitespace(s,&nbsp;col)&nbsp;{
</c41><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n124202"><a id="n124204"><a id="n124184"><a id="n124183"><a id="n124203">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(col)&nbsp;=&gt;&nbsp;{
</c41><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n124188"><a id="n124187"><a id="n124196"><a id="n124186"><a id="n124201">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;col&nbsp;&lt;&nbsp;len&nbsp;{
</c41><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n124194"><a id="n124195"><a id="n124191"><a id="n124192"><a id="n124193">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.slice(col,&nbsp;len).to_owned()
</c41><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n124199"><a id="n124197"><a id="n124198"><a id="n124200">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{&nbsp;&nbsp;~""&nbsp;}
</c41><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n124206"><a id="n124207"><a id="n124205">&nbsp;</a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;s,
</c41><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;};
</c41><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n124229"><a id="n124230"><a id="n124231"><a id="n124237"><a id="n124240"><a id="n124241"><a id="n124234"><a id="n124232"><a id="n124224"><a id="n124226"><a id="n124238"><a id="n124236"><a id="n124225"><a id="n124239"><a id="n124223"><a id="n124235"><a id="n124233"><a id="n124228"><a id="n124227">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("pushing&nbsp;line:&nbsp;%s",&nbsp;s1);
</c41><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n124255"><a id="n124254"><a id="n124252"><a id="n124253">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;lines.push(s1);
</c41><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a>&nbsp;<c41>}
</c41><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n124257">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n124260"><a id="n124259"><a id="n124261">&nbsp;</a></a></a><c41>fn&nbsp;read_block_comment(rdr:&nbsp;@mut&nbsp;StringReader,
</c41><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n124265"><a id="n124264">&nbsp;</a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_to_the_left:&nbsp;bool,
</c41><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n124274"><a id="n124271"><a id="n124272"><a id="n124742"><a id="n124268"><a id="n124270"><a id="n124269">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
</c41><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n124295"><a id="n124294"><a id="n124296"><a id="n124302"><a id="n124299"><a id="n124298"><a id="n124297">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;debug!("&gt;&gt;&gt;&nbsp;block&nbsp;comment");
</c41><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n124318"><a id="n124317"><a id="n124319"><a id="n124316"><a id="n124321"><a id="n124320">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;rdr.last_pos;
</c41><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n124327"><a id="n124324"><a id="n124328"><a id="n124329"><a id="n124326"><a id="n124331"><a id="n124330"><a id="n124323"><a id="n124325">&nbsp;</a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;lines:&nbsp;~[~str]&nbsp;=&nbsp;~[];
</c41><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n124338"><a id="n124335"><a id="n124333"><a id="n124336"><a id="n124334"><a id="n124337">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;col:&nbsp;CharPos&nbsp;=&nbsp;rdr.col;
</c41><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n124342"><a id="n124340"><a id="n124341"><a id="n124339">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n124345"><a id="n124343"><a id="n124344"><a id="n124346">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n124352"><a id="n124350"><a id="n124349"><a id="n124348"><a id="n124347"><a id="n124351">&nbsp;</a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;curr_line&nbsp;=&nbsp;~"/*";
</c41><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;really&nbsp;comments,&nbsp;they&nbsp;are&nbsp;attributes
</c41><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n124456"><a id="n124361"><a id="n124650"><a id="n124362"><a id="n124360"><a id="n124358"><a id="n124356"><a id="n124355"><a id="n124649"><a id="n124357"><a id="n124363"><a id="n124364">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;rdr.curr&nbsp;==&nbsp;'*'&nbsp;||&nbsp;rdr.curr&nbsp;==&nbsp;'!'&nbsp;{
</c41><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n124371"><a id="n124377"><a id="n124380"><a id="n124375"><a id="n124383"><a id="n124370"><a id="n124372"><a id="n124387"><a id="n124378"><a id="n124385"><a id="n124386"><a id="n124398"><a id="n124381"><a id="n124376"><a id="n124400"><a id="n124379"><a id="n124369"><a id="n124399"><a id="n124384"><a id="n124374">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;!(rdr.curr&nbsp;==&nbsp;'*'&nbsp;&amp;&amp;&nbsp;nextch(rdr)&nbsp;==&nbsp;'/')&nbsp;&amp;&amp;&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n124392"><a id="n124390"><a id="n124393"><a id="n124391"><a id="n124389">&nbsp;</a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_line.push_char(rdr.curr);
</c41><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n124395"><a id="n124394"><a id="n124396"><a id="n124397">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bump(rdr);
</c41><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a><a id="n124403"><a id="n124402"><a id="n124420"><a id="n124404"><a id="n124419"><a id="n124421"><a id="n124405">&nbsp;</a></a></a></a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!is_eof(rdr)&nbsp;{
</c41><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a><a id="n124408"><a id="n124409"><a id="n124410"><a id="n124407">&nbsp;</a></a></a></a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curr_line.push_str("*/");
</c41><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a><a id="n124412"><a id="n124413"><a id="n124414"><a id="n124411">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n124416"><a id="n124415"><a id="n124417"><a id="n124418">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n124423"><a id="n124425"><a id="n124426"><a id="n124430"><a id="n124428"><a id="n124427"><a id="n124431"><a id="n124429"><a id="n124424">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#236_1_refs">&nbsp;</a></c13><c5><a href="#236_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#354">is_block_non_doc_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c4>)</c4><c27><a href="#236_1_refs">&nbsp;</a></c27><c3>{</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c1><a href="#236_1_refs">return</a></c1><c3>;</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n124436"><a id="n124437"><a id="n124435"><a id="n124438">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#236_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n64238">.contains_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64238">'\n'</a></c12><c4>))</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n124455"><a id="n124454"><a id="n124452"><a id="n124453">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#242">lines</a></c26><c10><a href="../../libstd/vec.rs.html#n53598">.push</a></c10><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n124647"><a id="n124648">&nbsp;</a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#236_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n124461"><a id="n124460"><a id="n124462"><a id="n124458"><a id="n124459">&nbsp;</a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#236_1_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#236_1_refs">&nbsp;</a></c22><c20><a href="#264_16_refs">level</a></c20><c13><a href="#236_1_refs">:&nbsp;</a></c13><c8><a href="#236_1_refs">int</a></c8><c13><a href="#236_1_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#236_1_refs">1</a></c12><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a><a id="n124466"><a id="n124464"><a id="n124629"><a id="n124465"><a id="n124631"><a id="n124630">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#264">level</a></c26><c5><a href="#236_1_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#236_1_refs">0</a></c12><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a><a id="n124486"><a id="n124484"><a id="n124496"><a id="n124489"><a id="n124497"><a id="n124490"><a id="n124479"><a id="n124483"><a id="n124491"><a id="n124485"><a id="n124492"><a id="n124482"><a id="n124495"><a id="n124481"><a id="n124488"><a id="n124494"><a id="n124493"><a id="n124480"><a id="n124487">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c20><a href="#266_19_refs">"===&nbsp;block&nbsp;comment&nbsp;level&nbsp;%d"</a></c20><c3>,</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">level</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a><a id="n124522"><a id="n124509"><a id="n124507"><a id="n124508"><a id="n124521"><a id="n124523">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#236_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/lexer.rs.html#247">is_eof</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c27><a href="#236_1_refs">&nbsp;</a></c27><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n124519"><a id="n124515"><a id="n124511"><a id="n124520"><a id="n124518"><a id="n124516"><a id="n124514"><a id="n124517"><a id="n124513">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c21><a href="#236_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#236_1_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/parse/lexer.rs.html#27">reader</a></c8><c4>)</c4><c1><a href="#236_1_refs">.</a></c1><c13><a href="#236_1_refs">fatal</a></c13><c4>(</c4><c16><a href="#236_1_refs">~</a></c16><c12><a href="#236_1_refs">"unterminated&nbsp;block&nbsp;comment"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;270</ln><a id="270">&nbsp;</a><a id="n124525"><a id="n124528"><a id="n124527"><a id="n124526"><a id="n124545"><a id="n124628">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#236_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#236_1_refs">'\n'</a></c12><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;271</ln><a id="271">&nbsp;</a><a id="n124535"><a id="n124529"><a id="n124534"><a id="n124532"><a id="n124530"><a id="n124531">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#221">trim_whitespace_prefix_and_push_line</a></c26><c4>(</c4><c5><a href="#236_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#242">lines</a></c26><c3>,</c3><c27><a href="#236_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c3>,</c3><c27><a href="#236_1_refs">
</a></c27><br/><ln>&nbsp;272</ln><a id="272">&nbsp;</a><a id="n124533">&nbsp;</a><c27><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#243">col</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;273</ln><a id="273">&nbsp;</a><a id="n124537"><a id="n124538"><a id="n124536"><a id="n124539"><a id="n124540">&nbsp;</a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c13><a href="#236_1_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#236_1_refs">~</a></c16><c12><a href="#236_1_refs">""</a></c12><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;274</ln><a id="274">&nbsp;</a><a id="n124544"><a id="n124542"><a id="n124543"><a id="n124541">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;275</ln><a id="275">&nbsp;</a><a id="n124626"><a id="n124627">&nbsp;</a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#236_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;276</ln><a id="276">&nbsp;</a><a id="n124549"><a id="n124548"><a id="n124551"><a id="n124547"><a id="n124550">&nbsp;</a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n67040">.push_char</a></c10><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;277</ln><a id="277">&nbsp;</a><a id="n124583"><a id="n124556"><a id="n124555"><a id="n124562"><a id="n124563"><a id="n124554"><a id="n124560"><a id="n124564"><a id="n124559"><a id="n124557"><a id="n124625"><a id="n124561">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#236_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#236_1_refs">'/'</a></c12><c1><a href="#236_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c27><a href="#236_1_refs">&nbsp;==</a></c27><c5><a href="#236_1_refs">&nbsp;</a></c5><c12><a href="#236_1_refs">'*'</a></c12><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;278</ln><a id="278">&nbsp;</a><a id="n124568"><a id="n124565"><a id="n124566"><a id="n124567">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;279</ln><a id="279">&nbsp;</a><a id="n124570"><a id="n124571"><a id="n124569"><a id="n124572">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;280</ln><a id="280">&nbsp;</a><a id="n124574"><a id="n124577"><a id="n124576"><a id="n124575">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n67040">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n67040">'*'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;281</ln><a id="281">&nbsp;</a><a id="n124581"><a id="n124582"><a id="n124579"><a id="n124580">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#264">level</a></c26><c13><a href="#236_1_refs">&nbsp;+=&nbsp;</a></c13><c12><a href="#236_1_refs">1</a></c12><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;282</ln><a id="282">&nbsp;</a><a id="n124624"><a id="n124623">&nbsp;</a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#236_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;283</ln><a id="283">&nbsp;</a><a id="n124586"><a id="n124622"><a id="n124593"><a id="n124589"><a id="n124595"><a id="n124592"><a id="n124615"><a id="n124594"><a id="n124591"><a id="n124596"><a id="n124588"><a id="n124587">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#236_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#236_1_refs">'*'</a></c12><c1><a href="#236_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c27><a href="#236_1_refs">&nbsp;==</a></c27><c5><a href="#236_1_refs">&nbsp;</a></c5><c12><a href="#236_1_refs">'/'</a></c12><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;284</ln><a id="284">&nbsp;</a><a id="n124600"><a id="n124598"><a id="n124599"><a id="n124597">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;285</ln><a id="285">&nbsp;</a><a id="n124603"><a id="n124601"><a id="n124604"><a id="n124602">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;286</ln><a id="286">&nbsp;</a><a id="n124606"><a id="n124607"><a id="n124608"><a id="n124609">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c13><a href="../../libstd/str.rs.html#n67040">.push_char</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n67040">'/'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;287</ln><a id="287">&nbsp;</a><a id="n124612"><a id="n124614"><a id="n124613"><a id="n124611">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#264">level</a></c26><c1><a href="#236_1_refs">&nbsp;-=&nbsp;</a></c1><c12><a href="#236_1_refs">1</a></c12><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;288</ln><a id="288">&nbsp;</a><a id="n124619"><a id="n124616"><a id="n124617"><a id="n124620"><a id="n124621"><a id="n124618">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#236_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/lexer.rs.html#223">bump</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;289</ln><a id="289">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;290</ln><a id="290">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;291</ln><a id="291">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;292</ln><a id="292">&nbsp;</a><a id="n124634"><a id="n124646"><a id="n124637"><a id="n124645"><a id="n124636"><a id="n124635">&nbsp;</a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#236_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c10><a href="../../libstd/str.rs.html#n63769">.len</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n63769">&nbsp;!=</a></c10><c5><a href="#236_1_refs">&nbsp;</a></c5><c12><a href="#236_1_refs">0</a></c12><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;293</ln><a id="293">&nbsp;</a><a id="n124644"><a id="n124640"><a id="n124643"><a id="n124642"><a id="n124639"><a id="n124641"><a id="n124638">&nbsp;</a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#221">trim_whitespace_prefix_and_push_line</a></c26><c4>(</c4><c5><a href="#236_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#242">lines</a></c26><c3>,</c3><c27><a href="#236_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#247">curr_line</a></c26><c3>,</c3><c27><a href="#236_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#243">col</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;294</ln><a id="294">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;295</ln><a id="295">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;296</ln><a id="296">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;297</ln><a id="297">&nbsp;</a><a id="n124658"><a id="n124652"><a id="n124661"><a id="n124655"><a id="n124653"><a id="n124657"><a id="n124660"><a id="n124659"><a id="n124651"><a id="n124654"><a id="n124656">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#236_1_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#236_1_refs">&nbsp;</a></c22><c20><a href="#297_12_refs">style</a></c20><c16><a href="#236_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#236_1_refs">if&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#238">code_to_the_left</a></c26><c21><a href="#236_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#28">trailing</a></c26><c22><a href="#236_1_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#236_1_refs">&nbsp;else&nbsp;</a></c21><c3>{</c3><c22><a href="#236_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#27">isolated</a></c26><c22><a href="#236_1_refs">&nbsp;</a></c22><c3>};</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;298</ln><a id="298">&nbsp;</a><a id="n124664"><a id="n124663"><a id="n124665"><a id="n124662">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#144">consume_non_eol_whitespace</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;299</ln><a id="299">&nbsp;</a><a id="n124676"><a id="n124683"><a id="n124682"><a id="n124669"><a id="n124691"><a id="n124674"><a id="n124684"><a id="n124675"><a id="n124670"><a id="n124692"><a id="n124678"><a id="n124685"><a id="n124677"><a id="n124681"><a id="n124690"><a id="n124672"><a id="n124671">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#236_1_refs">&nbsp;</a></c13><c5><a href="#236_1_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#247">is_eof</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c4>)</c4><c27><a href="#236_1_refs">&nbsp;&amp;&amp;</a></c27><c1><a href="#236_1_refs">&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#237">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#236_1_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#236_1_refs">'\n'</a></c12><c1><a href="#236_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/comments.rs.html#242">lines</a></c26><c10><a href="../../libstd/vec.rs.html#n51248">.len</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51248">&nbsp;==</a></c10><c5><a href="#236_1_refs">&nbsp;</a></c5><c12><a href="#236_1_refs">1u</a></c12><c13><a href="#236_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;300</ln><a id="300">&nbsp;</a><a id="n124687"><a id="n124689"><a id="n124686"><a id="n124688">&nbsp;</a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#297">style</a></c26><c5><a href="#236_1_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#29">mixed</a></c26><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;301</ln><a id="301">&nbsp;</a>&nbsp;<c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;302</ln><a id="302">&nbsp;</a><a id="n124713"><a id="n124712"><a id="n124720"><a id="n124716"><a id="n124717"><a id="n124714"><a id="n124715">&nbsp;</a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">"&lt;&lt;&lt;&nbsp;block&nbsp;comment"</a></c26><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;303</ln><a id="303">&nbsp;</a><a id="n124737"><a id="n124735"><a id="n124740"><a id="n124736"><a id="n124741"><a id="n124738"><a id="n124739">&nbsp;</a></a></a></a></a></a></a><c22><a href="#236_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#239">comments</a></c26><c13><a href="../../libstd/vec.rs.html#n53598">.push</a></c13><c4>(</c4><c1><a href="../../libsyntax/parse/comments.rs.html#33">cmnt</a></c1><c13><a href="../../libstd/vec.rs.html#n53598">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libstd/vec.rs.html#n53598">style:&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#297">style</a></c26><c3>,</c3><c13><a href="../../libstd/vec.rs.html#n53598">&nbsp;lines:&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#242">lines</a></c26><c3>,</c3><c13><a href="../../libstd/vec.rs.html#n53598">&nbsp;pos:&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#241">p</a></c26><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#236_1_refs">
</a></c22><br/><ln>&nbsp;304</ln><a id="304">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;305</ln><a id="305">&nbsp;</a><a id="n124743">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;306</ln><a id="306">&nbsp;</a><a id="n124800"><a id="n124750"><a id="n124745"><a id="n124747"><a id="n124746">&nbsp;</a></a></a></a></a><c30>fn</c30><c30><a href="#305_1_refs">&nbsp;peeking_at_comment</a></c30><c4>(</c4><c20><a href="#306_22_refs">rdr</a></c20><c1><a href="#305_1_refs">:&nbsp;</a></c1><c8><a href="#305_1_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/parse/lexer.rs.html#42">StringReader</a></c8><c4>)</c4><c1><a href="#305_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#305_1_refs">&nbsp;</a></c1><c8><a href="#305_1_refs">bool</a></c8><c1><a href="#305_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#305_1_refs">
</a></c22><br/><ln>&nbsp;307</ln><a id="307">&nbsp;</a><a id="n124762"><a id="n124765"><a id="n124758"><a id="n124766"><a id="n124756"><a id="n124797"><a id="n124761"><a id="n124755"><a id="n124798"><a id="n124799"><a id="n124764"><a id="n124782"><a id="n124757"><a id="n124760"><a id="n124763"><a id="n124781">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#305_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#305_1_refs">&nbsp;</a></c13><c4>((</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#305_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#305_1_refs">'/'</a></c12><c1><a href="#305_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c4>)</c4><c27><a href="#305_1_refs">&nbsp;==</a></c27><c5><a href="#305_1_refs">&nbsp;</a></c5><c12><a href="#305_1_refs">'/'</a></c12><c4>)</c4><c1><a href="#305_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;308</ln><a id="308">&nbsp;</a><a id="n124777"><a id="n124775"><a id="n124779"><a id="n124780"><a id="n124769"><a id="n124778"><a id="n124776"><a id="n124774"><a id="n124770"><a id="n124771"><a id="n124772">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c1><a href="#305_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#305_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#305_1_refs">'/'</a></c12><c1><a href="#305_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c4>)</c4><c27><a href="#305_1_refs">&nbsp;==</a></c27><c5><a href="#305_1_refs">&nbsp;</a></c5><c12><a href="#305_1_refs">'*'</a></c12><c4>))</c4><c1><a href="#305_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;309</ln><a id="309">&nbsp;</a><a id="n124795"><a id="n124790"><a id="n124785"><a id="n124794"><a id="n124788"><a id="n124786"><a id="n124791"><a id="n124796"><a id="n124792"><a id="n124787"><a id="n124793">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c1><a href="#305_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#305_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#305_1_refs">'#'</a></c12><c1><a href="#305_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#306">rdr</a></c26><c4>)</c4><c27><a href="#305_1_refs">&nbsp;==</a></c27><c5><a href="#305_1_refs">&nbsp;</a></c5><c12><a href="#305_1_refs">'!'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#305_1_refs">
</a></c22><br/><ln>&nbsp;310</ln><a id="310">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;311</ln><a id="311">&nbsp;</a><a id="n124801">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;312</ln><a id="312">&nbsp;</a><a id="n124805"><a id="n124804"><a id="n124803">&nbsp;</a></a></a><c30>fn</c30><c30><a href="#311_1_refs">&nbsp;consume_comment</a></c30><c4>(</c4><c20><a href="#312_19_refs">rdr</a></c20><c1><a href="#311_1_refs">:&nbsp;</a></c1><c8><a href="#311_1_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/parse/lexer.rs.html#42">StringReader</a></c8><c3>,</c3><c1><a href="#311_1_refs">
</a></c1><br/><ln>&nbsp;313</ln><a id="313">&nbsp;</a><a id="n124809"><a id="n124808">&nbsp;</a></a><c1><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#313_19_refs">code_to_the_left</a></c20><c1><a href="#311_1_refs">:&nbsp;</a></c1><c8><a href="#311_1_refs">bool</a></c8><c3>,</c3><c1><a href="#311_1_refs">
</a></c1><br/><ln>&nbsp;314</ln><a id="314">&nbsp;</a><a id="n124814"><a id="n124973"><a id="n124818"><a id="n124813"><a id="n124812"><a id="n124816"><a id="n124815">&nbsp;</a></a></a></a></a></a></a><c1><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#314_19_refs">comments</a></c20><c1><a href="#311_1_refs">:&nbsp;</a></c1><c8><a href="#311_1_refs">&amp;mut&nbsp;~</a></c8><c3>[</c3><c8><a href="../../libsyntax/parse/comments.rs.html#33">cmnt</a></c8><c3>]</c3><c4>)</c4><c1><a href="#311_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;315</ln><a id="315">&nbsp;</a><a id="n124842"><a id="n124840"><a id="n124839"><a id="n124843"><a id="n124838"><a id="n124846"><a id="n124841">&nbsp;</a></a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">"&gt;&gt;&gt;&nbsp;consume&nbsp;comment"</a></c26><c4>)</c4><c3>;</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;316</ln><a id="316">&nbsp;</a><a id="n124868"><a id="n124931"><a id="n124867"><a id="n124872"><a id="n124870"><a id="n124930"><a id="n124869"><a id="n124863"><a id="n124865"><a id="n124879"><a id="n124862"><a id="n124871"><a id="n124864">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#311_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#311_1_refs">'/'</a></c12><c1><a href="#311_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c4>)</c4><c27><a href="#311_1_refs">&nbsp;==</a></c27><c5><a href="#311_1_refs">&nbsp;</a></c5><c12><a href="#311_1_refs">'/'</a></c12><c21><a href="#311_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;317</ln><a id="317">&nbsp;</a><a id="n124876"><a id="n124873"><a id="n124877"><a id="n124875"><a id="n124878"><a id="n124874">&nbsp;</a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#179">read_line_comments</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#313">code_to_the_left</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#314">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;318</ln><a id="318">&nbsp;</a><a id="n124884"><a id="n124887"><a id="n124883"><a id="n124891"><a id="n124892"><a id="n124888"><a id="n124929"><a id="n124899"><a id="n124882"><a id="n124889"><a id="n124885"><a id="n124890">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#311_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#311_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#311_1_refs">'/'</a></c12><c1><a href="#311_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c4>)</c4><c27><a href="#311_1_refs">&nbsp;==</a></c27><c5><a href="#311_1_refs">&nbsp;</a></c5><c12><a href="#311_1_refs">'*'</a></c12><c21><a href="#311_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;319</ln><a id="319">&nbsp;</a><a id="n124893"><a id="n124897"><a id="n124898"><a id="n124895"><a id="n124894"><a id="n124896">&nbsp;</a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#236">read_block_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#313">code_to_the_left</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#314">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;320</ln><a id="320">&nbsp;</a><a id="n124908"><a id="n124928"><a id="n124919"><a id="n124903"><a id="n124912"><a id="n124911"><a id="n124909"><a id="n124905"><a id="n124904"><a id="n124910"><a id="n124907"><a id="n124902">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#311_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#311_1_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#311_1_refs">'#'</a></c12><c1><a href="#311_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../libsyntax/parse/lexer.rs.html#250">nextch</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c4>)</c4><c27><a href="#311_1_refs">&nbsp;==</a></c27><c5><a href="#311_1_refs">&nbsp;</a></c5><c12><a href="#311_1_refs">'!'</a></c12><c21><a href="#311_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;321</ln><a id="321">&nbsp;</a><a id="n124916"><a id="n124917"><a id="n124913"><a id="n124914"><a id="n124918"><a id="n124915">&nbsp;</a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#167">read_shebang_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#312">rdr</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#313">code_to_the_left</a></c26><c3>,</c3><c13><a href="#311_1_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#314">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;322</ln><a id="322">&nbsp;</a><a id="n124926"><a id="n124927">&nbsp;</a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#311_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#311_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#311_1_refs">&nbsp;fail!</a></c22><c4>()</c4><c3>;</c3><c22><a href="#311_1_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;323</ln><a id="323">&nbsp;</a><a id="n124959"><a id="n124954"><a id="n124953"><a id="n124956"><a id="n124951"><a id="n124952"><a id="n124955">&nbsp;</a></a></a></a></a></a></a><c22><a href="#311_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c1><a href="../../libstd/unstable/extfmt.rs.html#n158152">"&lt;&lt;&lt;&nbsp;consume&nbsp;comment"</a></c1><c4>)</c4><c3>;</c3><c22><a href="#311_1_refs">
</a></c22><br/><ln>&nbsp;324</ln><a id="324">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;325</ln><a id="325">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;326</ln><a id="326">&nbsp;</a><a id="n124998"><a id="n124989"><a id="n125000"><a id="n125002"><a id="n124983"><a id="n124995"><a id="n124991"><a id="n124999"><a id="n124992"><a id="n125004"><a id="n124990"><a id="n125001"><a id="n125003"><a id="n124985"><a id="n124982"><a id="n124974"><a id="n124996"><a id="n124987"><a id="n124993">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/parse/comments.rs.html#326">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;327</ln><a id="327">&nbsp;</a>&nbsp;<c21>pub</c21><c31><a href="#326_19_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#326_19_refs">&nbsp;lit&nbsp;</a></c31><c3>{</c3><c31><a href="#326_19_refs">
</a></c31><br/><ln>&nbsp;328</ln><a id="328">&nbsp;</a><a id="n124977"><a id="n124975"><a id="n124978">&nbsp;</a></a></a><c31><a href="#326_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#328_4_refs">lit:&nbsp;</a></c24><c8><a href="#328_4_refs">~str</a></c8><c3>,</c3><c31><a href="#326_19_refs">
</a></c31><br/><ln>&nbsp;329</ln><a id="329">&nbsp;</a><a id="n124979"><a id="n124981">&nbsp;</a></a><c31><a href="#326_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#329_4_refs">pos:&nbsp;</a></c24><c8><a href="../../libsyntax/codemap.rs.html#33">BytePos</a></c8><c31><a href="#326_19_refs">
</a></c31><br/><ln>&nbsp;330</ln><a id="330">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;331</ln><a id="331">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;332</ln><a id="332">&nbsp;</a>&nbsp;<c40>//&nbsp;it&nbsp;appears&nbsp;this&nbsp;function&nbsp;is&nbsp;called&nbsp;only&nbsp;from&nbsp;pprust...&nbsp;that's
</c40><br/><ln>&nbsp;333</ln><a id="333">&nbsp;</a><a id="n125006">&nbsp;</a><c40>//&nbsp;probably&nbsp;not&nbsp;a&nbsp;good&nbsp;thing.
</c40><br/><ln>&nbsp;334</ln><a id="334">&nbsp;</a><a id="n125010">&nbsp;</a><c21>pub</c21><c1><a href="#333_30_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#333_30_refs">&nbsp;gather_comments_and_literals</a></c30><c4>(</c4><c20><a href="#334_36_refs">span_diagnostic</a></c20><c1><a href="#333_30_refs">:
</a></c1><br/><ln>&nbsp;335</ln><a id="335">&nbsp;</a><a id="n125009"><a id="n125008">&nbsp;</a></a><c1><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="#333_30_refs">@</a></c8><c21>mut</c21><c8><a href="#333_30_refs">&nbsp;</a></c8><c8><a href="../../libsyntax/diagnostic.rs.html#48">diagnostic::span_handler</a></c8><c3>,</c3><c1><a href="#333_30_refs">
</a></c1><br/><ln>&nbsp;336</ln><a id="336">&nbsp;</a><a id="n125014"><a id="n125013"><a id="n125015">&nbsp;</a></a></a><c1><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#336_36_refs">path</a></c20><c1><a href="#333_30_refs">:&nbsp;</a></c1><c8><a href="#333_30_refs">@str</a></c8><c3>,</c3><c1><a href="#333_30_refs">
</a></c1><br/><ln>&nbsp;337</ln><a id="337">&nbsp;</a><a id="n125020"><a id="n125018"><a id="n125019">&nbsp;</a></a></a><c1><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#337_36_refs">srdr</a></c20><c1><a href="#333_30_refs">:&nbsp;</a></c1><c8><a href="#333_30_refs">@</a></c8><c8><a href="../../libstd/io.rs.html#n92417">io::Reader</a></c8><c4>)</c4><c1><a href="#333_30_refs">
</a></c1><br/><ln>&nbsp;338</ln><a id="338">&nbsp;</a><a id="n125024"><a id="n125030"><a id="n125029"><a id="n125293"><a id="n125028"><a id="n125023"><a id="n125025"><a id="n125027">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#333_30_refs">&nbsp;</a></c1><c4>(</c4><c8><a href="#333_30_refs">~</a></c8><c3>[</c3><c8><a href="../../libsyntax/parse/comments.rs.html#33">cmnt</a></c8><c3>],</c3><c8><a href="#333_30_refs">&nbsp;~</a></c8><c3>[</c3><c8><a href="../../libsyntax/parse/comments.rs.html#326">lit</a></c8><c3>]</c3><c4>)</c4><c1><a href="#333_30_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;339</ln><a id="339">&nbsp;</a><a id="n125032"><a id="n125038"><a id="n125034"><a id="n125037"><a id="n125039"><a id="n125031"><a id="n125041"><a id="n125036"><a id="n125040">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#339_8_refs">src</a></c20><c16><a href="#333_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/str.rs.html#n58548">str::from_utf8</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#337">srdr</a></c26><c10><a href="../../libstd/io.rs.html#n93452">.read_whole_stream</a></c10><c4>())</c4><c27><a href="#333_30_refs">.</a></c27><c10><a href="../../libstd/str.rs.html#n65458">to_managed</a></c10><c4>()</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;340</ln><a id="340">&nbsp;</a><a id="n125043"><a id="n125042"><a id="n125047"><a id="n125045"><a id="n125044"><a id="n125046">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#340_8_refs">cm</a></c20><c16><a href="#333_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/codemap.rs.html#254">CodeMap::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;341</ln><a id="341">&nbsp;</a><a id="n125048"><a id="n125054"><a id="n125053"><a id="n125049"><a id="n125055"><a id="n125056"><a id="n125052"><a id="n125051">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#341_8_refs">filemap</a></c20><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#340">cm</a></c26><c10><a href="../../libsyntax/codemap.rs.html#261">.new_filemap</a></c10><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#336">path</a></c26><c3>,</c3><c10><a href="../../libsyntax/codemap.rs.html#261">&nbsp;</a></c10><c26><a href="../../libsyntax/parse/comments.rs.html#339">src</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;342</ln><a id="342">&nbsp;</a><a id="n125062"><a id="n125058"><a id="n125057"><a id="n125061"><a id="n125064"><a id="n125059"><a id="n125063"><a id="n125060">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#342_8_refs">rdr</a></c20><c16><a href="#333_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/lexer.rs.html#68">lexer::new_low_level_string_reader</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#334">span_diagnostic</a></c26><c3>,</c3><c27><a href="#333_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#341">filemap</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;343</ln><a id="343">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;344</ln><a id="344">&nbsp;</a><a id="n125068"><a id="n125070"><a id="n125071"><a id="n125073"><a id="n125067"><a id="n125066"><a id="n125072"><a id="n125069">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#344_12_refs">comments</a></c20><c16><a href="#333_30_refs">:&nbsp;</a></c16><c8><a href="#333_30_refs">~</a></c8><c3>[</c3><c8><a href="../../libsyntax/parse/comments.rs.html#33">cmnt</a></c8><c3>]</c3><c16><a href="#333_30_refs">&nbsp;=&nbsp;~</a></c16><c3>[];</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;345</ln><a id="345">&nbsp;</a><a id="n125077"><a id="n125081"><a id="n125078"><a id="n125082"><a id="n125075"><a id="n125080"><a id="n125079"><a id="n125076">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#345_12_refs">literals</a></c20><c13><a href="#333_30_refs">:&nbsp;</a></c13><c8><a href="#333_30_refs">~</a></c8><c3>[</c3><c8><a href="../../libsyntax/parse/comments.rs.html#326">lit</a></c8><c3>]</c3><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#333_30_refs">~</a></c16><c3>[];</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;346</ln><a id="346">&nbsp;</a><a id="n125087"><a id="n125086"><a id="n125084"><a id="n125085"><a id="n125088">&nbsp;</a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#346_12_refs">first_read</a></c20><c13><a href="#333_30_refs">:&nbsp;</a></c13><c8><a href="#333_30_refs">bool</a></c8><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#333_30_refs">true</a></c12><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;347</ln><a id="347">&nbsp;</a><a id="n125090"><a id="n125091"><a id="n125287"><a id="n125288"><a id="n125289"><a id="n125092"><a id="n125093">&nbsp;</a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c13><a href="#333_30_refs">&nbsp;</a></c13><c5><a href="#333_30_refs">!</a></c5><c26><a href="../../libsyntax/parse/lexer.rs.html#247">is_eof</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c4>)</c4><c27><a href="#333_30_refs">&nbsp;</a></c27><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;348</ln><a id="348">&nbsp;</a><a id="n125144"><a id="n125145"><a id="n125146">&nbsp;</a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>loop</c21><c13><a href="#333_30_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;349</ln><a id="349">&nbsp;</a><a id="n125098"><a id="n125094"><a id="n125099"><a id="n125095"><a id="n125097"><a id="n125100">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#349_20_refs">code_to_the_left</a></c20><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#333_30_refs">!</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#346">first_read</a></c26><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;350</ln><a id="350">&nbsp;</a><a id="n125103"><a id="n125104"><a id="n125101"><a id="n125102">&nbsp;</a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#144">consume_non_eol_whitespace</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;351</ln><a id="351">&nbsp;</a><a id="n125108"><a id="n125107"><a id="n125122"><a id="n125109"><a id="n125106"><a id="n125121"><a id="n125120">&nbsp;</a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#333_30_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#53">.curr</a></c24><c5><a href="#333_30_refs">&nbsp;==&nbsp;</a></c5><c12><a href="#333_30_refs">'\n'</a></c12><c21><a href="#333_30_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;352</ln><a id="352">&nbsp;</a><a id="n125113"><a id="n125112"><a id="n125110"><a id="n125111">&nbsp;</a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#349">code_to_the_left</a></c26><c5><a href="#333_30_refs">&nbsp;=&nbsp;</a></c5><c12><a href="#333_30_refs">false</a></c12><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;353</ln><a id="353">&nbsp;</a><a id="n125117"><a id="n125119"><a id="n125118"><a id="n125114"><a id="n125115"><a id="n125116">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#156">consume_whitespace_counting_blank_lines</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c3>,</c3><c27><a href="#333_30_refs">&nbsp;</a></c27><c5><a href="#333_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#344">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;354</ln><a id="354">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;355</ln><a id="355">&nbsp;</a><a id="n125125"><a id="n125139"><a id="n125140"><a id="n125124"><a id="n125123"><a id="n125141">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>while</c21><c13><a href="#333_30_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#305">peeking_at_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c4>)</c4><c27><a href="#333_30_refs">&nbsp;</a></c27><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;356</ln><a id="356">&nbsp;</a><a id="n125128"><a id="n125126"><a id="n125127"><a id="n125129"><a id="n125131"><a id="n125130"><a id="n125132">&nbsp;</a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#311">consume_comment</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c3>,</c3><c13><a href="#333_30_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#349">code_to_the_left</a></c26><c3>,</c3><c13><a href="#333_30_refs">&nbsp;</a></c13><c5><a href="#333_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#344">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;357</ln><a id="357">&nbsp;</a><a id="n125138"><a id="n125135"><a id="n125137"><a id="n125134"><a id="n125133"><a id="n125136">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#156">consume_whitespace_counting_blank_lines</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c3>,</c3><c27><a href="#333_30_refs">&nbsp;</a></c27><c5><a href="#333_30_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#344">comments</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;358</ln><a id="358">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;359</ln><a id="359">&nbsp;</a><a id="n125142"><a id="n125143">&nbsp;</a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>break</c21><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;360</ln><a id="360">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;361</ln><a id="361">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;362</ln><a id="362">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;363</ln><a id="363">&nbsp;</a><a id="n125149"><a id="n125148"><a id="n125152"><a id="n125147"><a id="n125150"><a id="n125151">&nbsp;</a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="#363_12_refs">bstart</a></c20><c16><a href="#333_30_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c24><a href="../../libsyntax/parse/lexer.rs.html#49">.last_pos</a></c24><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;364</ln><a id="364">&nbsp;</a><a id="n125156"><a id="n125154"><a id="n125155">&nbsp;</a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#110">.next_token</a></c10><c4>()</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;365</ln><a id="365">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//discard,&nbsp;and&nbsp;look&nbsp;ahead;&nbsp;we're&nbsp;working&nbsp;with&nbsp;internal&nbsp;state
</c40><br/><ln>&nbsp;366</ln><a id="366">&nbsp;</a><a id="n125159"><a id="n125162"><a id="n125163"><a id="n125160"><a id="n125164"><a id="n125165"><a id="n125157"><a id="n125158">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#333_30_refs">&nbsp;</a></c22><c20><a href="../../libsyntax/parse/lexer.rs.html#37">TokenAndSpan&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/parse/lexer.rs.html#37">tok:&nbsp;</a></c20><c20><a href="#366_31_refs">tok</a></c20><c3>,</c3><c20><a href="../../libsyntax/parse/lexer.rs.html#37">&nbsp;sp:&nbsp;</a></c20><c20><a href="#366_40_refs">sp</a></c20><c3>}</c3><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c10><a href="../../libsyntax/parse/lexer.rs.html#122">.peek</a></c10><c4>()</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;367</ln><a id="367">&nbsp;</a><a id="n125169"><a id="n125233"><a id="n125166"><a id="n125282"><a id="n125167"><a id="n125168"><a id="n125281">&nbsp;</a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#333_30_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/parse/token.rs.html#277">token::is_lit</a></c26><c4>(</c4><c5><a href="#333_30_refs">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#366">tok</a></c26><c4>)</c4><c27><a href="#333_30_refs">&nbsp;</a></c27><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;368</ln><a id="368">&nbsp;</a><a id="n125172"><a id="n125170"><a id="n125230"><a id="n125228"><a id="n125229"><a id="n125173"><a id="n125174"><a id="n125176"><a id="n125171"><a id="n125231"><a id="n125227"><a id="n125232">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>do</c21><c27><a href="#333_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/lexer.rs.html#215">with_str_from</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#342">rdr</a></c26><c3>,</c3><c27><a href="#333_30_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/comments.rs.html#363">bstart</a></c26><c4>)</c4><c1><a href="#333_30_refs">&nbsp;|</a></c1><c20><a href="#368_43_refs">s</a></c20><c8><a href="#333_30_refs">|</a></c8><c1><a href="#333_30_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;369</ln><a id="369">&nbsp;</a><a id="n125205"><a id="n125195"><a id="n125189"><a id="n125193"><a id="n125190"><a id="n125203"><a id="n125197"><a id="n125199"><a id="n125200"><a id="n125207"><a id="n125204"><a id="n125192"><a id="n125201"><a id="n125194"><a id="n125191"><a id="n125196"><a id="n125202"><a id="n125198"><a id="n125206">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#369">"tok&nbsp;lit:&nbsp;%s"</a></c26><c3>,</c3><c22><a href="#333_30_refs">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;370</ln><a id="370">&nbsp;</a><a id="n125221"><a id="n125218"><a id="n125224"><a id="n125225"><a id="n125226"><a id="n125223"><a id="n125220"><a id="n125222">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#345">literals</a></c26><c13><a href="../../libstd/vec.rs.html#n53598">.push</a></c13><c4>(</c4><c1><a href="../../libsyntax/parse/comments.rs.html#326">lit</a></c1><c13><a href="../../libstd/vec.rs.html#n53598">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libstd/vec.rs.html#n53598">lit:&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#368">s</a></c26><c10><a href="../../libstd/str.rs.html#n65432">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="../../libstd/vec.rs.html#n53598">&nbsp;pos:&nbsp;</a></c13><c26><a href="../../libsyntax/parse/comments.rs.html#366">sp</a></c26><c24><a href="../../libsyntax/codemap.rs.html#86">.lo</a></c24><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;371</ln><a id="371">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;372</ln><a id="372">&nbsp;</a><a id="n125280"><a id="n125279">&nbsp;</a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#333_30_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#333_30_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;373</ln><a id="373">&nbsp;</a><a id="n125265"><a id="n125256"><a id="n125263"><a id="n125250"><a id="n125248"><a id="n125258"><a id="n125260"><a id="n125249"><a id="n125246"><a id="n125268"><a id="n125257"><a id="n125261"><a id="n125254"><a id="n125253"><a id="n125252"><a id="n125264"><a id="n125251"><a id="n125259"><a id="n125262"><a id="n125247"><a id="n125267"><a id="n125266"><a id="n125255"><a id="n125269">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c22><a href="#373_19_refs">"tok:&nbsp;%s"</a></c22><c3>,</c3><c22><a href="#333_30_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/parse/token.rs.html#128">token::to_str</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#494">get_ident_interner</a></c26><c4>()</c4><c3>,</c3><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">&nbsp;</a></c26><c5><a href="../../libstd/unstable/extfmt.rs.html#n158404">&amp;</a></c5><c26><a href="../../libsyntax/parse/comments.rs.html#366">tok</a></c26><c4>))</c4><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;374</ln><a id="374">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;375</ln><a id="375">&nbsp;</a><a id="n125283"><a id="n125285"><a id="n125286"><a id="n125284">&nbsp;</a></a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/comments.rs.html#346">first_read</a></c26><c13><a href="#333_30_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#333_30_refs">false</a></c12><c3>;</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;376</ln><a id="376">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;377</ln><a id="377">&nbsp;</a>&nbsp;<c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;378</ln><a id="378">&nbsp;</a><a id="n125292"><a id="n125290"><a id="n125291">&nbsp;</a></a></a><c22><a href="#333_30_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/parse/comments.rs.html#344">comments</a></c26><c3>,</c3><c14><a href="#333_30_refs">&nbsp;</a></c14><c26><a href="../../libsyntax/parse/comments.rs.html#345">literals</a></c26><c4>)</c4><c22><a href="#333_30_refs">
</a></c22><br/><ln>&nbsp;379</ln><a id="379">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;380</ln><a id="380">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;381</ln><a id="381">&nbsp;</a>&nbsp;<c50>#</c50><c3>[</c3><c50>cfg</c50><c4>(</c4><c50>test</c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;382</ln><a id="382">&nbsp;</a>&nbsp;<c21>mod</c21><c38>&nbsp;test&nbsp;</c38><c3>{</c3><c0>
</c0><br/><ln>&nbsp;383</ln><a id="383">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;super::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;384</ln><a id="384">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;385</ln><a id="385">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_1</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;386</ln><a id="386">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;*&nbsp;Test&nbsp;\n&nbsp;**&nbsp;&nbsp;Test\n&nbsp;*&nbsp;&nbsp;&nbsp;Test\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;387</ln><a id="387">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;correct_stripped&nbsp;=&nbsp;"&nbsp;Test&nbsp;\n*&nbsp;&nbsp;Test\n&nbsp;&nbsp;&nbsp;Test"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;388</ln><a id="388">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;389</ln><a id="389">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped.slice</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>&nbsp;stripped.len</c0><c4>())</c4><c3>,</c3><c0>&nbsp;correct_stripped</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;390</ln><a id="390">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;391</ln><a id="391">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;392</ln><a id="392">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_2</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;393</ln><a id="393">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;*&nbsp;Test\n&nbsp;*&nbsp;&nbsp;Test\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;394</ln><a id="394">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;correct_stripped&nbsp;=&nbsp;"&nbsp;Test\n&nbsp;&nbsp;Test"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;395</ln><a id="395">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;396</ln><a id="396">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped.slice</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>&nbsp;stripped.len</c0><c4>())</c4><c3>,</c3><c0>&nbsp;correct_stripped</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;397</ln><a id="397">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;398</ln><a id="398">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;399</ln><a id="399">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_block_doc_comment_3</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;400</ln><a id="400">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c41>/**\n&nbsp;let&nbsp;a:&nbsp;*int;\n&nbsp;*a&nbsp;=&nbsp;5;\n*/</c41><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;401</ln><a id="401">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;correct_stripped&nbsp;=&nbsp;"&nbsp;let&nbsp;a:&nbsp;*int</c0><c3>;</c3><c0>\n&nbsp;*a&nbsp;=&nbsp;5</c0><c3>;</c3><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;402</ln><a id="402">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;403</ln><a id="403">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped.slice</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>&nbsp;stripped.len</c0><c4>())</c4><c3>,</c3><c0>&nbsp;correct_stripped</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;404</ln><a id="404">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;405</ln><a id="405">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;406</ln><a id="406">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_line_doc_comment</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;407</ln><a id="407">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;comment&nbsp;=&nbsp;"</c0><c42>///&nbsp;Test";
</c42><br/><ln>&nbsp;408</ln><a id="408">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;correct_stripped&nbsp;=&nbsp;"&nbsp;Test"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;409</ln><a id="409">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;stripped&nbsp;=&nbsp;strip_doc_comment_decoration</c0><c4>(</c4><c0>comment</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;410</ln><a id="410">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>stripped.slice</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>&nbsp;stripped.len</c0><c4>())</c4><c3>,</c3><c0>&nbsp;correct_stripped</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;411</ln><a id="411">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;412</ln><a id="412">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="179_1_refs"><a href="#179"><c40>libsyntax/parse/comments.rs:179:1-179:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_line_comments(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#317"><c40>317:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_line_comments(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/><br/><a id="59_4_refs"><a href="#59"><c40>libsyntax/parse/comments.rs:59:4-59:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;vertical_trim(lines:&nbsp;~[~str])&nbsp;-&gt;&nbsp;~[~str]&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;0u;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#119"><c40>119:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;vertical_trim(lines);
<br/></a><br/><br/><a id="46_1_refs"><a href="#46"><c40>libsyntax/parse/comments.rs:46:1-46:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;doc_comment_style(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;ast::AttrStyle&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/attr.rs.html"><c40>libsyntax/attr.rs:<br/></c40></a><a href="../../libsyntax/attr.rs.html#155"><c40>155:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;style&nbsp;=&nbsp;doc_comment_style(text);
<br/></a><br/><br/><a id="144_1_refs"><a href="#144"><c40>libsyntax/parse/comments.rs:144:1-144:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_non_eol_whitespace(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#298"><c40>298:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#350"><c40>350:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#192"><c40>192:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_non_eol_whitespace(rdr);
<br/></a><br/><br/><a id="311_1_refs"><a href="#311"><c40>libsyntax/parse/comments.rs:311:1-311:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_comment(rdr:&nbsp;@mut&nbsp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#356"><c40>356:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_comment(rdr,&nbsp;code_to_the_left,&nbsp;&amp;mut&nbsp;comments);
<br/></a><br/><br/><a id="127_1_refs"><a href="#127"><c40>libsyntax/parse/comments.rs:127:1-127:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_to_eol(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#139"><c40>139:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;val&nbsp;=&nbsp;read_to_eol(rdr);
<br/></a><br/><br/><a id="33_19_refs"><a href="#33"><c40>libsyntax/parse/comments.rs:33:19-33:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>pub&nbsp;struct&nbsp;cmnt&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#151"><c40>151:&nbsp;</c40>fn&nbsp;push_blank_line_comment(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#239"><c40>239:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#33"><c40>33:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#154"><c40>154:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{style:&nbsp;blank_line,&nbsp;lines:&nbsp;v,&nbsp;pos:&nbsp;rdr.last_pos});
<br/></a><a href="../../libsyntax/parse/comments.rs.html#344"><c40>344:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;comments:&nbsp;~[cmnt]&nbsp;=&nbsp;~[];
<br/></a><a href="../../libsyntax/parse/comments.rs.html#158"><c40>158:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#181"><c40>181:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#303"><c40>303:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{style:&nbsp;style,&nbsp;lines:&nbsp;lines,&nbsp;pos:&nbsp;p});
<br/></a><a href="../../libsyntax/parse/comments.rs.html#169"><c40>169:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#173"><c40>173:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#196"><c40>196:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments.push(cmnt&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#33"><c40>33:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#338"><c40>338:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(~[cmnt],&nbsp;~[lit])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#314"><c40>314:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></a><a href="../../libsyntax/parse/comments.rs.html#33"><c40>33:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#33"><c40>33:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#2207"><c40>2207:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None::&lt;comments::cmnt&gt;;
<br/></a><a href="../../libsyntax/print/pprust.rs.html#98"><c40>98:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;None::&lt;~[comments::cmnt]&gt;,
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2210"><c40>2210:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;=&gt;&nbsp;return&nbsp;None::&lt;comments::cmnt&gt;
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2143"><c40>2143:&nbsp;</c40>pub&nbsp;fn&nbsp;print_comment(s:&nbsp;@ps,&nbsp;cmnt:&nbsp;&amp;comments::cmnt)&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2201"><c40>2201:&nbsp;</c40>pub&nbsp;fn&nbsp;next_comment(s:&nbsp;@ps)&nbsp;-&gt;&nbsp;Option&lt;comments::cmnt&gt;&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html#69"><c40>69:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;comments:&nbsp;Option&lt;~[comments::cmnt]&gt;,
<br/></a><br/><br/><a id="150_1_refs"><a href="#150"><c40>libsyntax/parse/comments.rs:150:1-150:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;push_blank_line_comment(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;comments:&nbsp;&amp;mut&nbsp;~[cmnt])&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#161"><c40>161:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_blank_line_comment(rdr,&nbsp;&amp;mut&nbsp;*comments);
<br/></a><br/><br/><a id="333_30_refs"><a href="#333"><c40>libsyntax/parse/comments.rs:333:30-333:30&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;probably&nbsp;not&nbsp;a&nbsp;good&nbsp;thing.
<br/>pub&nbsp;fn&nbsp;gather_comments_and_literals(span_diagnostic:
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#125"><c40>125:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;(cmnts,&nbsp;lits)&nbsp;=&nbsp;comments::gather_comments_and_literals(
<br/></a><br/><br/><a id="72_4_refs"><a href="#72"><c40>libsyntax/parse/comments.rs:72:4-72:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;horizontal_trim(lines:&nbsp;~[~str])&nbsp;-&gt;&nbsp;~[~str]&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;i&nbsp;=&nbsp;uint::max_value;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#120"><c40>120:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lines&nbsp;=&nbsp;horizontal_trim(lines);
<br/></a><br/><br/><a id="137_1_refs"><a href="#137"><c40>libsyntax/parse/comments.rs:137:1-137:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_one_line_comment(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#175"><c40>175:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines:&nbsp;~[read_one_line_comment(rdr)],
<br/></a><a href="../../libsyntax/parse/comments.rs.html#186"><c40>186:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;line&nbsp;=&nbsp;read_one_line_comment(rdr);
<br/></a><br/><br/><a id="167_1_refs"><a href="#167"><c40>libsyntax/parse/comments.rs:167:1-167:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_shebang_comment(rdr:&nbsp;@mut&nbsp;StringReader,&nbsp;code_to_the_left:&nbsp;bool,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#321"><c40>321:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_shebang_comment(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/><br/><a id="206_51_refs"><a href="#206"><c40>libsyntax/parse/comments.rs:206:51-206:51&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;whitespace.&nbsp;&nbsp;Note&nbsp;k&nbsp;may&nbsp;be&nbsp;outside&nbsp;bounds&nbsp;of&nbsp;s.
<br/>fn&nbsp;all_whitespace(s:&nbsp;&amp;str,&nbsp;col:&nbsp;CharPos)&nbsp;-&gt;&nbsp;Option&lt;uint&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#225"><c40>225:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s1&nbsp;=&nbsp;match&nbsp;all_whitespace(s,&nbsp;col)&nbsp;{
<br/></a><br/><br/><a id="25_23_refs"><a href="#25"><c40>libsyntax/parse/comments.rs:25:23-25:23&nbsp;-enum-&nbsp;definition:<br/></c40><pr>#[deriving(Clone,&nbsp;Eq)]
<br/>pub&nbsp;enum&nbsp;cmnt_style&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#25"><c40>25:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#25"><c40>25:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#25"><c40>25:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#25"><c40>25:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#25"><c40>25:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#35"><c40>35:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;cmnt_style,
<br/></a><br/><br/><a id="39_1_refs"><a href="#39"><c40>libsyntax/parse/comments.rs:39:1-39:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;is_doc_comment(s:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#188"><c40>188:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;is_doc_comment(line)&nbsp;{&nbsp;//&nbsp;doc-comments&nbsp;are&nbsp;not&nbsp;put&nbsp;in&nbsp;comments
<br/></a><a href="../../libsyntax/parse/comments.rs.html#48"><c40>48:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;assert!(is_doc_comment(comment));
<br/></a><br/><br/><a id="236_1_refs"><a href="#236"><c40>libsyntax/parse/comments.rs:236:1-236:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;read_block_comment(rdr:&nbsp;@mut&nbsp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#319"><c40>319:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read_block_comment(rdr,&nbsp;code_to_the_left,&nbsp;comments);
<br/></a><br/><br/><a id="326_19_refs"><a href="#326"><c40>libsyntax/parse/comments.rs:326:19-326:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>pub&nbsp;struct&nbsp;lit&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#345"><c40>345:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;literals:&nbsp;~[lit]&nbsp;=&nbsp;~[];
<br/></a><a href="../../libsyntax/parse/comments.rs.html#326"><c40>326:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#326"><c40>326:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#326"><c40>326:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#326"><c40>326:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/parse/comments.rs.html#370"><c40>370:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;literals.push(lit&nbsp;{lit:&nbsp;s.to_owned(),&nbsp;pos:&nbsp;sp.lo});
<br/></a><a href="../../libsyntax/parse/comments.rs.html#338"><c40>338:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;(~[cmnt],&nbsp;~[lit])&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html"><c40>libsyntax/print/pprust.rs:<br/></c40></a><a href="../../libsyntax/print/pprust.rs.html#99"><c40>99:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;literals:&nbsp;None::&lt;~[comments::lit]&gt;,
<br/></a><a href="../../libsyntax/print/pprust.rs.html#2114"><c40>2114:&nbsp;</c40>pub&nbsp;fn&nbsp;next_lit(s:&nbsp;@ps,&nbsp;pos:&nbsp;BytePos)&nbsp;-&gt;&nbsp;Option&lt;comments::lit&gt;&nbsp;{
<br/></a><a href="../../libsyntax/print/pprust.rs.html#70"><c40>70:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;literals:&nbsp;Option&lt;~[comments::lit]&gt;,
<br/></a><br/><br/><a id="55_1_refs"><a href="#55"><c40>libsyntax/parse/comments.rs:55:1-55:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;strip_doc_comment_decoration(comment:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/attr.rs.html"><c40>libsyntax/attr.rs:<br/></c40></a><a href="../../libsyntax/attr.rs.html#119"><c40>119:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strip_doc_comment_decoration(comment).to_managed());
<br/></a><br/><br/><a id="305_1_refs"><a href="#305"><c40>libsyntax/parse/comments.rs:305:1-305:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;peeking_at_comment(rdr:&nbsp;@mut&nbsp;StringReader)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#355"><c40>355:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;peeking_at_comment(rdr)&nbsp;{
<br/></a><br/><br/><a id="221_1_refs"><a href="#221"><c40>libsyntax/parse/comments.rs:221:1-221:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;trim_whitespace_prefix_and_push_line(lines:&nbsp;&amp;mut&nbsp;~[~str],
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#271"><c40>271:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trim_whitespace_prefix_and_push_line(&amp;mut&nbsp;lines,&nbsp;curr_line,
<br/></a><a href="../../libsyntax/parse/comments.rs.html#293"><c40>293:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trim_whitespace_prefix_and_push_line(&amp;mut&nbsp;lines,&nbsp;curr_line,&nbsp;col);
<br/></a><br/><br/><a id="156_1_refs"><a href="#156"><c40>libsyntax/parse/comments.rs:156:1-156:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;consume_whitespace_counting_blank_lines(rdr:&nbsp;@mut&nbsp;StringReader,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/parse/comments.rs.html#353"><c40>353:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_whitespace_counting_blank_lines(rdr,&nbsp;&amp;mut&nbsp;comments);
<br/></a><a href="../../libsyntax/parse/comments.rs.html#357"><c40>357:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consume_whitespace_counting_blank_lines(rdr,&nbsp;&amp;mut&nbsp;comments);
<br/></a><br/></div></c0></fileblock></div></maintext>