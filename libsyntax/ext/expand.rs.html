<head><link href="css/shCore.css" rel="stylesheet" type="text/css"/><link href="css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link rel="stylesheet" type="text/css" href="sourcestyle.css"/></head><body><div><bg7><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../libsyntax/">libsyntax</a><c1>/</c1><c0><a href="./../../libsyntax/ext/">ext</a><c1>/</c1><c0><a href="./../../libsyntax/ext/expand.rs.html">expand.rs</a><br/><br/></c0></c0><ln>&nbsp;&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>Block</c0><c3>,</c3><c0>&nbsp;Crate</c0><c3>,</c3><c0>&nbsp;DeclLocal</c0><c3>,</c3><c0>&nbsp;Expr_</c0><c3>,</c3><c0>&nbsp;ExprMac</c0><c3>,</c3><c0>&nbsp;SyntaxContext</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>Local</c0><c3>,</c3><c0>&nbsp;Ident</c0><c3>,</c3><c0>&nbsp;mac_invoc_tt</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>item_mac</c0><c3>,</c3><c0>&nbsp;Mrk</c0><c3>,</c3><c0>&nbsp;Stmt</c0><c3>,</c3><c0>&nbsp;StmtDecl</c0><c3>,</c3><c0>&nbsp;StmtMac</c0><c3>,</c3><c0>&nbsp;StmtExpr</c0><c3>,</c3><c0>&nbsp;StmtSemi</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>token_tree</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast_util::</c0><c3>{</c3><c0>mtwt_outer_mark</c0><c3>,</c3><c0>&nbsp;new_rename</c0><c3>,</c3><c0>&nbsp;new_mark</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::build::AstBuilder</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;attr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;attr::AttrMetaMethods</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>Span</c0><c3>,</c3><c0>&nbsp;Spanned</c0><c3>,</c3><c0>&nbsp;ExpnInfo</c0><c3>,</c3><c0>&nbsp;NameAndSpan</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;fold::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;opt_vec</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::</c0><c3>{</c3><c0>parse_item_from_source_str</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token::</c0><c3>{</c3><c0>fresh_mark</c0><c3>,</c3><c0>&nbsp;fresh_name</c0><c3>,</c3><c0>&nbsp;ident_to_str</c0><c3>,</c3><c0>&nbsp;intern</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;visit</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;visit::Visitor</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::vec</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n146493">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n146497"><a id="n146495"><a id="n146496">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#33_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#33_1_refs">&nbsp;expand_expr</a></c30><c4>(</c4><c20><a href="#34_19_refs">extsbox</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="#33_1_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n146500"><a id="n146502"><a id="n146501">&nbsp;</a></a></a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#35_19_refs">cx</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n146507"><a id="n146506"><a id="n146505">&nbsp;</a></a></a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#36_19_refs">e</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n146512"><a id="n146510"><a id="n146511">&nbsp;</a></a></a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#37_19_refs">fld</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="#33_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n146516"><a id="n146515"><a id="n147111">&nbsp;</a></a></a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#33_1_refs">&nbsp;</a></c1><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c1><a href="#33_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n147110"><a id="n146517"><a id="n146518">&nbsp;</a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#33_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#36">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#495">.node</a></c24><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;expr_mac&nbsp;should&nbsp;really&nbsp;be&nbsp;expr_ext&nbsp;or&nbsp;something;&nbsp;it's&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;entry-point&nbsp;for&nbsp;all&nbsp;syntax&nbsp;extensions.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n146792"><a id="n146519"><a id="n146520"><a id="n146790"><a id="n146791">&nbsp;</a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#562">ExprMac</a></c20><c4>(</c4><c20><a href="#42_16_refs">ref&nbsp;mac</a></c20><c4>)</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n146524"><a id="n146789"><a id="n146525"><a id="n146522"><a id="n146523">&nbsp;</a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>(</c4><c5><a href="#33_1_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#42">mac</a></c26><c4>)</c4><c1><a href="#33_1_refs">.</a></c1><c24><a href="../../libsyntax/codemap.rs.html#93">node</a></c24><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;it&nbsp;would&nbsp;almost&nbsp;certainly&nbsp;be&nbsp;cleaner&nbsp;to&nbsp;pass&nbsp;the&nbsp;whole
</c40><br/><ln>&nbsp;&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;macro&nbsp;invocation&nbsp;in,&nbsp;rather&nbsp;than&nbsp;pulling&nbsp;it&nbsp;apart&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;marking&nbsp;the&nbsp;tts&nbsp;and&nbsp;the&nbsp;ctxt&nbsp;separately.&nbsp;This&nbsp;also&nbsp;goes
</c40><br/><ln>&nbsp;&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;for&nbsp;the&nbsp;other&nbsp;three&nbsp;macro&nbsp;invocation&nbsp;chunks&nbsp;of&nbsp;code
</c40><br/><ln>&nbsp;&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;in&nbsp;this&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Token-tree&nbsp;macros:
</c40><br/><ln>&nbsp;&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n146787"><a id="n146528"><a id="n146786"><a id="n146788"><a id="n146529"><a id="n146526"><a id="n146527">&nbsp;</a></a></a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#682">mac_invoc_tt</a></c20><c4>(</c4><c20><a href="#50_29_refs">ref&nbsp;pth</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#50_38_refs">ref&nbsp;tts</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#50_47_refs">ctxt</a></c20><c4>)</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n146535"><a id="n146532"><a id="n146533"><a id="n146555"><a id="n146553"><a id="n146536"><a id="n146534"><a id="n146554"><a id="n146537">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#151">.segments</a></c24><c10><a href="../../libstd/vec.rs.html#n51248">.len</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51248">&nbsp;&gt;</a></c10><c5><a href="#33_1_refs">&nbsp;</a></c5><c12><a href="#33_1_refs">1u</a></c12><c4>)</c4><c1><a href="#33_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n146552"><a id="n146551"><a id="n146539">&nbsp;</a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n146540"><a id="n146541">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n146547"><a id="n146549"><a id="n146543"><a id="n146545"><a id="n146542"><a id="n146548"><a id="n146550"><a id="n146546"><a id="n146544">&nbsp;</a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="#33_1_refs">fmt!</a></c22><c4>(</c4><c12><a href="../../libsyntax/ext/expand.rs.html#54">"expected&nbsp;macro&nbsp;name&nbsp;without&nbsp;module&nbsp;\
</a></c12><br/><ln>&nbsp;&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a>&nbsp;<c12><a href="../../libsyntax/ext/expand.rs.html#54">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separators"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n146563"><a id="n146566"><a id="n146565"><a id="n146557"><a id="n146560"><a id="n146556"><a id="n146562"><a id="n146561"><a id="n146564"><a id="n146559">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#57_24_refs">extname</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#33_1_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#151">.segments</a></c24><c3>[</c3><c12><a href="../../libsyntax/ast.rs.html#159">0</a></c12><c3>]</c3><c24><a href="../../libsyntax/ast.rs.html#159">.identifier</a></c24><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n146571"><a id="n146567"><a id="n146569"><a id="n146570"><a id="n146572"><a id="n146573"><a id="n146568">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#58_24_refs">extnamestr</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#530">ident_to_str</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#57">extname</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;leaving&nbsp;explicit&nbsp;deref&nbsp;here&nbsp;to&nbsp;highlight&nbsp;unbox&nbsp;op:
</c40><br/><ln>&nbsp;&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n146576"><a id="n146580"><a id="n146582"><a id="n146579"><a id="n146785"><a id="n146578"><a id="n146581"><a id="n146577">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#34">extsbox</a></c26><c4>)</c4><c1><a href="../../libsyntax/ext/base.rs.html#551">.</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#551">find</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#57">extname</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#551">&nbsp;</a></c10><c3>{</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n146616"><a id="n146617"><a id="n146583"><a id="n146615">&nbsp;</a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n146585"><a id="n146614">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n146587"><a id="n146586">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n146606"><a id="n146594"><a id="n146602"><a id="n146590"><a id="n146600"><a id="n146589"><a id="n146593"><a id="n146588"><a id="n146599"><a id="n146591"><a id="n146612"><a id="n146604"><a id="n146603"><a id="n146597"><a id="n146609"><a id="n146611"><a id="n146601"><a id="n146610"><a id="n146595"><a id="n146605"><a id="n146608"><a id="n146596"><a id="n146613"><a id="n146607"><a id="n146598"><a id="n146592">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c16><a href="../../libstd/str.rs.html#n58962">"macro&nbsp;undefined:&nbsp;'%s'"</a></c16><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">extnamestr</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n146747"><a id="n146619"><a id="n146623"><a id="n146620"><a id="n146749"><a id="n146748"><a id="n146618"><a id="n146621"><a id="n146622">&nbsp;</a></a></a></a></a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n101876">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#149">NormalTT</a></c20><c4>(</c4><c20><a href="#66_42_refs">expandfun</a></c20><c3>,</c3><c20><a href="../../libsyntax/ext/base.rs.html#149">&nbsp;</a></c20><c20><a href="#66_53_refs">exp_span</a></c20><c4>)))</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n146633"><a id="n146632"><a id="n146625"><a id="n146631">&nbsp;</a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#355">.bt_push</a></c10><c4>(</c4><c1><a href="../../libsyntax/codemap.rs.html#166">ExpnInfo</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n146627"><a id="n146626">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_site:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#36">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#496">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n146630">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c10><c1><a href="../../libsyntax/codemap.rs.html#162">NameAndSpan</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n146628">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#58">extnamestr</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n146629">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#66">exp_span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>},</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n146634"><a id="n146638"><a id="n146636"><a id="n146637"><a id="n146635"><a id="n146639">&nbsp;</a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#74_32_refs">fm</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#580">fresh_mark</a></c26><c4>()</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;mark&nbsp;before:
</c40><br/><ln>&nbsp;&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n146647"><a id="n146646"><a id="n146644"><a id="n146645"><a id="n146649"><a id="n146641"><a id="n146640"><a id="n146648"><a id="n146642">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#76_32_refs">marked_before</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#1357">mark_tts</a></c26><c4>(</c4><c5><a href="#33_1_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#50">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#74">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n146650"><a id="n146654"><a id="n146657"><a id="n146652"><a id="n146655"><a id="n146653"><a id="n146656"><a id="n146651">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#77_32_refs">marked_ctxt</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ast_util.rs.html#737">new_mark</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#74">fm</a></c26><c3>,</c3><c27><a href="#33_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#50">ctxt</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;span&nbsp;that&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;expanders&nbsp;we&nbsp;want&nbsp;to
</c40><br/><ln>&nbsp;&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;be&nbsp;the&nbsp;root&nbsp;of&nbsp;the&nbsp;call&nbsp;stack.&nbsp;That's&nbsp;the&nbsp;most
</c40><br/><ln>&nbsp;&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;relevant&nbsp;span&nbsp;and&nbsp;it's&nbsp;the&nbsp;actual&nbsp;invocation&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;macro.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n146660"><a id="n146663"><a id="n146658"><a id="n146662"><a id="n146659"><a id="n146664"><a id="n146661">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#83_32_refs">mac_span</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1391">original_span</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n146665"><a id="n146716"><a id="n146715"><a id="n146666">&nbsp;</a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#85_32_refs">expanded</a></c20><c16><a href="#33_1_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n146669"><a id="n146674"><a id="n146714"><a id="n146668">&nbsp;</a></a></a></a><c16><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c21>match</c21><c21><a href="#33_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#66">expandfun</a></c26><c10><a href="#33_1_refs">.expand</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c3>,</c3><c10><a href="#33_1_refs">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n146671"><a id="n146670">&nbsp;</a></a><c10><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#83">mac_span</a></c26><c24><a href="../../libsyntax/codemap.rs.html#168">.call_site</a></c24><c3>,</c3><c10><a href="#33_1_refs">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n146672">&nbsp;</a><c10><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#76">marked_before</a></c26><c3>,</c3><c10><a href="#33_1_refs">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n146673">&nbsp;</a><c10><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#77">marked_ctxt</a></c26><c4>)</c4><c10><a href="#33_1_refs">&nbsp;</a></c10><c3>{</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n146677"><a id="n146678"><a id="n146675"><a id="n146676">&nbsp;</a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#138">MRExpr</a></c20><c4>(</c4><c20><a href="#90_43_refs">e</a></c20><c4>)</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c22><a href="../../libsyntax/ext/expand.rs.html#90">e</a></c22><c3>,</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n146683"><a id="n146680"><a id="n146684"><a id="n146679"><a id="n146682">&nbsp;</a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#140">MRAny</a></c20><c4>(</c4><c20><a href="#91_42_refs">any_macro</a></c20><c4>)</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#91">any_macro</a></c26><c22><a href="#33_1_refs">.make_expr</a></c22><c4>()</c4><c3>,</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n146685"><a id="n146711"><a id="n146713"><a id="n146712">&nbsp;</a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#33_1_refs">_</a></c20><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n146687"><a id="n146710">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n146689"><a id="n146688">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n146709">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="#33_1_refs">fmt!</a></c22><c4>(</c4><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n146694"><a id="n146703"><a id="n146690"><a id="n146693"><a id="n146708"><a id="n146707"><a id="n146695"><a id="n146692"><a id="n146691">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="#96_48_refs">"non-expr&nbsp;macro&nbsp;in&nbsp;expr&nbsp;pos:&nbsp;%s"</a></c20><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n146696"><a id="n146704"><a id="n146702"><a id="n146699"><a id="n146697"><a id="n146700"><a id="n146706"><a id="n146701"><a id="n146705"><a id="n146698">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">extnamestr</a></c26><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>)</c4><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;100</ln><a id="100">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;101</ln><a id="101">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;102</ln><a id="102">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;mark&nbsp;after:
</c40><br/><ln>&nbsp;&nbsp;103</ln><a id="103">&nbsp;</a><a id="n146719"><a id="n146724"><a id="n146720"><a id="n146722"><a id="n146723"><a id="n146721"><a id="n146718"><a id="n146717">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#103_32_refs">marked_after</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#1362">mark_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#85">expanded</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#74">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;104</ln><a id="104">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Keep&nbsp;going,&nbsp;outside-in.
</c40><br/><ln>&nbsp;&nbsp;106</ln><a id="106">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;XXX(pcwalton):&nbsp;Is&nbsp;it&nbsp;necessary&nbsp;to&nbsp;clone&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;108</ln><a id="108">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;node&nbsp;here?
</c40><br/><ln>&nbsp;&nbsp;109</ln><a id="109">&nbsp;</a><a id="n146735"><a id="n146726"><a id="n146734"><a id="n146725">&nbsp;</a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#109_32_refs">fully_expanded</a></c20><c16><a href="#33_1_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;&nbsp;110</ln><a id="110">&nbsp;</a><a id="n146732"><a id="n146730"><a id="n146729"><a id="n146731"><a id="n146733">&nbsp;</a></a></a></a></a><c16><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#37">fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1189">.fold_expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#103">marked_after</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/expand.rs.html#1189">.</a></c10><c24><a href="../../libsyntax/ast.rs.html#495">node</a></c24><c10><a href="../../libsyntax/ast.rs.html#519">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;111</ln><a id="111">&nbsp;</a><a id="n146737"><a id="n146738"><a id="n146739">&nbsp;</a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#366">.bt_pop</a></c13><c4>()</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;113</ln><a id="113">&nbsp;</a><a id="n146746"><a id="n146745">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#33_1_refs">@</a></c5><c1><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c1><c22><a href="#33_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;114</ln><a id="114">&nbsp;</a><a id="n146741">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#182">ast::DUMMY_NODE_ID</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;115</ln><a id="115">&nbsp;</a><a id="n146742">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#109">fully_expanded</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;116</ln><a id="116">&nbsp;</a><a id="n146744"><a id="n146743">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#36">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#496">.span</a></c24><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;117</ln><a id="117">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;118</ln><a id="118">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;119</ln><a id="119">&nbsp;</a><a id="n146750"><a id="n146782"><a id="n146783"><a id="n146784">&nbsp;</a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#33_1_refs">_</a></c20><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;120</ln><a id="120">&nbsp;</a><a id="n146781"><a id="n146752">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;121</ln><a id="121">&nbsp;</a><a id="n146753"><a id="n146754">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#50">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;122</ln><a id="122">&nbsp;</a><a id="n146762"><a id="n146759"><a id="n146780"><a id="n146771"><a id="n146778"><a id="n146760"><a id="n146766"><a id="n146758"><a id="n146773"><a id="n146768"><a id="n146772"><a id="n146755"><a id="n146777"><a id="n146764"><a id="n146763"><a id="n146779"><a id="n146774"><a id="n146761"><a id="n146756"><a id="n146769"><a id="n146767"><a id="n146770"><a id="n146757"><a id="n146776"><a id="n146765"><a id="n146775">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="#33_1_refs">fmt!</a></c22><c4>(</c4><c12><a href="#122_37_refs">"'%s'&nbsp;is&nbsp;not&nbsp;a&nbsp;tt-style&nbsp;macro"</a></c12><c3>,</c3><c22><a href="#33_1_refs">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">extnamestr</a></c26><c4>)</c4><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;125</ln><a id="125">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;126</ln><a id="126">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;127</ln><a id="127">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;128</ln><a id="128">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;129</ln><a id="129">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;130</ln><a id="130">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Desugar&nbsp;expr_for_loop
</c40><br/><ln>&nbsp;&nbsp;131</ln><a id="131">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;From:&nbsp;`['&lt;ident&gt;:]&nbsp;for&nbsp;&lt;src_pat&gt;&nbsp;in&nbsp;&lt;src_expr&gt;&nbsp;&lt;src_loop_block&gt;`
</c40><br/><ln>&nbsp;&nbsp;132</ln><a id="132">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;FIXME&nbsp;#6993&nbsp;:&nbsp;change&nbsp;type&nbsp;of&nbsp;opt_ident&nbsp;to&nbsp;Option&lt;Name&gt;
</c40><br/><ln>&nbsp;&nbsp;133</ln><a id="133">&nbsp;</a><a id="n147103"><a id="n146797"><a id="n146794"><a id="n146795"><a id="n146796"><a id="n147101"><a id="n147102"><a id="n146793">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#533">ast::ExprForLoop</a></c20><c4>(</c4><c20><a href="#133_25_refs">src_pat</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#533">&nbsp;</a></c20><c20><a href="#133_34_refs">src_expr</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#533">&nbsp;</a></c20><c20><a href="#133_44_refs">ref&nbsp;src_loop_block</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#533">&nbsp;</a></c20><c20><a href="#133_64_refs">opt_ident</a></c20><c4>)</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;134</ln><a id="134">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Expand&nbsp;any&nbsp;interior&nbsp;macros&nbsp;etc.
</c40><br/><ln>&nbsp;&nbsp;135</ln><a id="135">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;NB:&nbsp;we&nbsp;don't&nbsp;fold&nbsp;pats&nbsp;yet.&nbsp;Curious.
</c40><br/><ln>&nbsp;&nbsp;136</ln><a id="136">&nbsp;</a><a id="n146806"><a id="n146803"><a id="n146807"><a id="n146804"><a id="n146799"><a id="n146802"><a id="n146805"><a id="n146798">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#136_16_refs">src_expr</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#37">fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1189">.fold_expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#133">src_expr</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/expand.rs.html#1189">.</a></c10><c10><a href="../../libstd/clone.rs.html#n90917">clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;137</ln><a id="137">&nbsp;</a><a id="n146812"><a id="n146817"><a id="n146816"><a id="n146809"><a id="n146814"><a id="n146815"><a id="n146808"><a id="n146813">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#137_16_refs">src_loop_block</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#37">fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1217">.fold_block</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#133">src_loop_block</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/expand.rs.html#1217">.</a></c10><c10><a href="../../libsyntax/ast.rs.html#301">clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;138</ln><a id="138">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;139</ln><a id="139">&nbsp;</a><a id="n146821"><a id="n146820"><a id="n146822"><a id="n146819"><a id="n146818"><a id="n146823">&nbsp;</a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#139_16_refs">span</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#36">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#496">.span</a></c24><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;141</ln><a id="141">&nbsp;</a><a id="n146832"><a id="n146827"><a id="n146848"><a id="n146836"><a id="n146826"><a id="n146831"><a id="n146824"><a id="n146828"><a id="n146835">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>pub</c21><c1><a href="#33_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#33_1_refs">&nbsp;mk_expr</a></c30><c4>(</c4><c20><a href="#33_1_refs">_</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#33_1_refs">&nbsp;</a></c1><c20><a href="#141_40_refs">span</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c3>,</c3><c1><a href="#33_1_refs">&nbsp;</a></c1><c20><a href="#141_52_refs">node</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#519">Expr_</a></c8><c4>)</c4><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;142</ln><a id="142">&nbsp;</a><a id="n146847"><a id="n146840"><a id="n146839">&nbsp;</a></a></a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#33_1_refs">&nbsp;</a></c1><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c1><a href="#33_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;143</ln><a id="143">&nbsp;</a><a id="n146846"><a id="n146845">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#33_1_refs">@</a></c5><c1><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c1><c22><a href="#33_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;144</ln><a id="144">&nbsp;</a><a id="n146842">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#182">ast::DUMMY_NODE_ID</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;145</ln><a id="145">&nbsp;</a><a id="n146843">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#141">node</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;146</ln><a id="146">&nbsp;</a><a id="n146844">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#141">span</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;147</ln><a id="147">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;148</ln><a id="148">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;150</ln><a id="150">&nbsp;</a><a id="n146851"><a id="n146849"><a id="n146853"><a id="n146852"><a id="n146886">&nbsp;</a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#33_1_refs">&nbsp;mk_block</a></c30><c4>(</c4><c20><a href="#33_1_refs">_</a></c20><c13><a href="#33_1_refs">:&nbsp;</a></c13><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c13><a href="#33_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;151</ln><a id="151">&nbsp;</a><a id="n146859"><a id="n146858"><a id="n146860"><a id="n146857"><a id="n146856">&nbsp;</a></a></a></a></a><c13><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#151_24_refs">stmts</a></c20><c13><a href="#33_1_refs">:&nbsp;</a></c13><c8><a href="#33_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="#33_1_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c3>],</c3><c13><a href="#33_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;152</ln><a id="152">&nbsp;</a><a id="n146866"><a id="n146863"><a id="n146867"><a id="n146864">&nbsp;</a></a></a></a><c13><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#152_24_refs">expr</a></c20><c13><a href="#33_1_refs">:&nbsp;</a></c13><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c3>,</c3><c13><a href="#33_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;153</ln><a id="153">&nbsp;</a><a id="n146871"><a id="n146870">&nbsp;</a></a><c13><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#153_24_refs">span</a></c20><c13><a href="#33_1_refs">:&nbsp;</a></c13><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c4>)</c4><c13><a href="#33_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;154</ln><a id="154">&nbsp;</a><a id="n146885"><a id="n146874">&nbsp;</a></a><c13><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#33_1_refs">&nbsp;</a></c13><c8><a href="../../libsyntax/ast.rs.html#301">ast::Block</a></c8><c13><a href="#33_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;155</ln><a id="155">&nbsp;</a><a id="n146884">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libsyntax/ast.rs.html#301">ast::Block</a></c1><c22><a href="#33_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;156</ln><a id="156">&nbsp;</a><a id="n146875"><a id="n146876">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view_items:&nbsp;</a></c22><c16><a href="#33_1_refs">~</a></c16><c3>[],</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;157</ln><a id="157">&nbsp;</a><a id="n146879"><a id="n146878">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stmts:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#151">stmts</a></c26><c10><a href="../../libstd/vec.rs.html#n51323">.to_owned</a></c10><c4>()</c4><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;158</ln><a id="158">&nbsp;</a><a id="n146880">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expr:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#152">expr</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;159</ln><a id="159">&nbsp;</a><a id="n146881">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#182">ast::DUMMY_NODE_ID</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;160</ln><a id="160">&nbsp;</a><a id="n146882">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#482">ast::DefaultBlock</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;161</ln><a id="161">&nbsp;</a><a id="n146883">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#153">span</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;162</ln><a id="162">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;163</ln><a id="163">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;164</ln><a id="164">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;165</ln><a id="165">&nbsp;</a><a id="n146894"><a id="n146897"><a id="n146908"><a id="n146890"><a id="n146907"><a id="n146893"><a id="n146887"><a id="n146889">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#33_1_refs">&nbsp;mk_simple_path</a></c30><c4>(</c4><c20><a href="#165_30_refs">ident</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c1><a href="#33_1_refs">&nbsp;</a></c1><c20><a href="#165_49_refs">span</a></c20><c1><a href="#33_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c4>)</c4><c1><a href="#33_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#33_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#144">ast::Path</a></c8><c1><a href="#33_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;166</ln><a id="166">&nbsp;</a><a id="n146906">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libsyntax/ast.rs.html#144">ast::Path</a></c1><c22><a href="#33_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;167</ln><a id="167">&nbsp;</a><a id="n146898">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#165">span</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;168</ln><a id="168">&nbsp;</a><a id="n146899">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global:&nbsp;</a></c22><c12><a href="#33_1_refs">false</a></c12><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;169</ln><a id="169">&nbsp;</a><a id="n146905"><a id="n146904">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;segments:&nbsp;</a></c22><c16><a href="#33_1_refs">~</a></c16><c3>[</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;170</ln><a id="170">&nbsp;</a><a id="n146903">&nbsp;</a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c1><a href="../../libsyntax/ast.rs.html#156">ast::PathSegment</a></c1><c1><a href="#33_1_refs">&nbsp;</a></c1><c3>{</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;171</ln><a id="171">&nbsp;</a><a id="n146900">&nbsp;</a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;identifier:&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#165">ident</a></c26><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;172</ln><a id="172">&nbsp;</a><a id="n146901">&nbsp;</a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lifetime:&nbsp;</a></c1><c26><a href="../../libstd/option.rs.html#n101872">None</a></c26><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;173</ln><a id="173">&nbsp;</a><a id="n146902">&nbsp;</a><c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types:&nbsp;</a></c1><c26><a href="../../libsyntax/opt_vec.rs.html#22">opt_vec::Empty</a></c26><c3>,</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;174</ln><a id="174">&nbsp;</a>&nbsp;<c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c1><a href="#33_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;175</ln><a id="175">&nbsp;</a>&nbsp;<c1><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>],</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;176</ln><a id="176">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;177</ln><a id="177">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;178</ln><a id="178">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;179</ln><a id="179">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to:
</c40><br/><ln>&nbsp;&nbsp;180</ln><a id="180">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;181</ln><a id="181">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;{
</c40><br/><ln>&nbsp;&nbsp;182</ln><a id="182">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;let&nbsp;_i&nbsp;=&nbsp;&amp;mut&nbsp;&lt;src_expr&gt;;
</c40><br/><ln>&nbsp;&nbsp;183</ln><a id="183">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;['&lt;ident&gt;:]&nbsp;loop&nbsp;{
</c40><br/><ln>&nbsp;&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;i.next()&nbsp;{
</c40><br/><ln>&nbsp;&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;break,
</c40><br/><ln>&nbsp;&nbsp;186</ln><a id="186">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(&lt;src_pat&gt;)&nbsp;=&gt;&nbsp;&lt;src_loop_block&gt;
</c40><br/><ln>&nbsp;&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c40><br/><ln>&nbsp;&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;}
</c40><br/><ln>&nbsp;&nbsp;189</ln><a id="189">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;}
</c40><br/><ln>&nbsp;&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;191</ln><a id="191">&nbsp;</a><a id="n146912"><a id="n146914"><a id="n146910"><a id="n146911"><a id="n146913"><a id="n146915"><a id="n146909">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#191_16_refs">local_ident</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#540">token::gensym_ident</a></c26><c4>(</c4><c12><a href="#33_1_refs">"i"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;192</ln><a id="192">&nbsp;</a><a id="n146919"><a id="n146921"><a id="n146920"><a id="n146916"><a id="n146922"><a id="n146923"><a id="n146917">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#192_16_refs">next_ident</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#408">.ident_of</a></c10><c4>(</c4><c12><a href="../../libsyntax/ext/base.rs.html#408">"next"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;193</ln><a id="193">&nbsp;</a><a id="n146930"><a id="n146928"><a id="n146929"><a id="n146931"><a id="n146924"><a id="n146927"><a id="n146925">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#193_16_refs">none_ident</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#408">.ident_of</a></c10><c4>(</c4><c12><a href="#33_1_refs">"None"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;194</ln><a id="194">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;195</ln><a id="195">&nbsp;</a><a id="n146939"><a id="n146933"><a id="n146932"><a id="n146938"><a id="n146936"><a id="n146935"><a id="n146940"><a id="n146937">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#195_16_refs">local_path</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#237">.path_ident</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#237">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#191">local_ident</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;196</ln><a id="196">&nbsp;</a><a id="n146941"><a id="n146950"><a id="n146944"><a id="n146952"><a id="n146949"><a id="n146947"><a id="n146951"><a id="n146945"><a id="n146942"><a id="n146948">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#196_16_refs">some_path</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#237">.path_ident</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#237">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#408">.ident_of</a></c10><c4>(</c4><c12><a href="../../libsyntax/ext/base.rs.html#408">"Some"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;197</ln><a id="197">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;198</ln><a id="198">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`let&nbsp;i&nbsp;=&nbsp;&amp;mut&nbsp;&lt;src_expr&gt;`
</c40><br/><ln>&nbsp;&nbsp;199</ln><a id="199">&nbsp;</a><a id="n146958"><a id="n146959"><a id="n146957"><a id="n146967"><a id="n146953"><a id="n146966"><a id="n146956"><a id="n146954"><a id="n146965">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#199_16_refs">iter_decl_stmt</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#396">.stmt_let</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#396">&nbsp;</a></c10><c12><a href="#33_1_refs">false</a></c12><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#396">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#191">local_ident</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#396">
</a></c10><br/><ln>&nbsp;&nbsp;200</ln><a id="200">&nbsp;</a><a id="n146964"><a id="n146963"><a id="n146961"><a id="n146962">&nbsp;</a></a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#396">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#494">.expr_mut_addr_of</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#494">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#136">src_expr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;201</ln><a id="201">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`None&nbsp;=&gt;&nbsp;break&nbsp;['&lt;ident&gt;];`
</c40><br/><ln>&nbsp;&nbsp;203</ln><a id="203">&nbsp;</a><a id="n147009"><a id="n146969"><a id="n146968"><a id="n147010"><a id="n147011"><a id="n147008">&nbsp;</a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#203_16_refs">none_arm</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;#6993:&nbsp;this&nbsp;map&nbsp;goes&nbsp;away:
</c40><br/><ln>&nbsp;&nbsp;205</ln><a id="205">&nbsp;</a><a id="n146977"><a id="n146988"><a id="n146985"><a id="n146973"><a id="n146990"><a id="n146970"><a id="n146978"><a id="n146989"><a id="n146984"><a id="n146986"><a id="n146981"><a id="n146982"><a id="n146979"><a id="n146983"><a id="n146987"><a id="n146975"><a id="n146974"><a id="n146971">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#205_20_refs">break_expr</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#452">.expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#452">&nbsp;</a></c10><c26><a href="../../libsyntax/ast.rs.html#553">ast::ExprBreak</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#133">opt_ident</a></c26><c10><a href="../../libstd/option.rs.html#n102502">.map</a></c10><c4>(</c4><c1><a href="../../libsyntax/ext/build.rs.html#452">|</a></c1><c20><a href="#205_77_refs">x</a></c20><c8><a href="../../libsyntax/ext/build.rs.html#452">|</a></c8><c1><a href="../../libsyntax/ext/build.rs.html#452">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#205">x</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c4>)))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;206</ln><a id="206">&nbsp;</a><a id="n146992"><a id="n146996"><a id="n146991"><a id="n146995"><a id="n146997"><a id="n146998"><a id="n146994"><a id="n146999">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#206_20_refs">none_pat</a></c20><c13><a href="#33_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#594">.pat_ident</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#594">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#193">none_ident</a></c26><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;207</ln><a id="207">&nbsp;</a><a id="n147006"><a id="n147002"><a id="n147001"><a id="n147005"><a id="n147007"><a id="n147003"><a id="n147004">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#616">.arm</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#616">&nbsp;</a></c10><c16><a href="#33_1_refs">~</a></c16><c3>[</c3><c26><a href="../../libsyntax/ext/expand.rs.html#206">none_pat</a></c26><c3>],</c3><c10><a href="../../libsyntax/ext/build.rs.html#616">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#205">break_expr</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/build.rs.html#616">
</a></c10><br/><ln>&nbsp;&nbsp;208</ln><a id="208">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/build.rs.html#616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>};</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;209</ln><a id="209">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`Some(&lt;src_pat&gt;)&nbsp;=&gt;&nbsp;&lt;src_loop_block&gt;`
</c40><br/><ln>&nbsp;&nbsp;211</ln><a id="211">&nbsp;</a><a id="n147032"><a id="n147033"><a id="n147012"><a id="n147013">&nbsp;</a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#211_16_refs">some_arm</a></c20><c13><a href="#33_1_refs">&nbsp;=
</a></c13><br/><ln>&nbsp;&nbsp;212</ln><a id="212">&nbsp;</a><a id="n147015"><a id="n147031"><a id="n147016">&nbsp;</a></a></a><c13><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#616">.arm</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#616">
</a></c10><br/><ln>&nbsp;&nbsp;213</ln><a id="213">&nbsp;</a><a id="n147018"><a id="n147026"><a id="n147023"><a id="n147020"><a id="n147024"><a id="n147019"><a id="n147021"><a id="n147022"><a id="n147025">&nbsp;</a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c16><a href="#33_1_refs">~</a></c16><c3>[</c3><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#606">.pat_enum</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#606">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#196">some_path</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#606">&nbsp;</a></c10><c16><a href="../../libsyntax/ext/build.rs.html#606">~</a></c16><c3>[</c3><c26><a href="../../libsyntax/ext/expand.rs.html#133">src_pat</a></c26><c3>]</c3><c4>)</c4><c3>],</c3><c10><a href="../../libsyntax/ext/build.rs.html#616">
</a></c10><br/><ln>&nbsp;&nbsp;214</ln><a id="214">&nbsp;</a><a id="n147029"><a id="n147030"><a id="n147028">&nbsp;</a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#517">.expr_block</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#137">src_loop_block</a></c26><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;215</ln><a id="215">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;216</ln><a id="216">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`match&nbsp;i.next()&nbsp;{&nbsp;...&nbsp;}`
</c40><br/><ln>&nbsp;&nbsp;217</ln><a id="217">&nbsp;</a><a id="n147060"><a id="n147061"><a id="n147034"><a id="n147063"><a id="n147035"><a id="n147062">&nbsp;</a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#217_16_refs">match_expr</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;218</ln><a id="218">&nbsp;</a><a id="n147050"><a id="n147049"><a id="n147036"><a id="n147037">&nbsp;</a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#218_20_refs">next_call_expr</a></c20><c16><a href="#33_1_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;&nbsp;219</ln><a id="219">&nbsp;</a><a id="n147047"><a id="n147046"><a id="n147042"><a id="n147039"><a id="n147043"><a id="n147048"><a id="n147045"><a id="n147040"><a id="n147044">&nbsp;</a></a></a></a></a></a></a></a></a><c16><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#510">.expr_method_call</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#510">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#460">.expr_path</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#195">local_path</a></c26><c4>)</c4><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#510">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#192">next_ident</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#510">&nbsp;</a></c10><c16><a href="#33_1_refs">~</a></c16><c3>[]</c3><c4>)</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;220</ln><a id="220">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;221</ln><a id="221">&nbsp;</a><a id="n147052"><a id="n147055"><a id="n147054"><a id="n147059"><a id="n147056"><a id="n147058"><a id="n147053"><a id="n147057">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#628">.expr_match</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#628">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#218">next_call_expr</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#628">&nbsp;</a></c10><c16><a href="../../libsyntax/ext/build.rs.html#628">~</a></c16><c3>[</c3><c26><a href="../../libsyntax/ext/expand.rs.html#203">none_arm</a></c26><c3>,</c3><c1><a href="../../libsyntax/ext/build.rs.html#628">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#211">some_arm</a></c26><c3>]</c3><c4>)</c4><c10><a href="../../libsyntax/ext/build.rs.html#628">
</a></c10><br/><ln>&nbsp;&nbsp;222</ln><a id="222">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/build.rs.html#628">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>};</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;223</ln><a id="223">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;224</ln><a id="224">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;['ident:]&nbsp;loop&nbsp;{&nbsp;...&nbsp;}
</c40><br/><ln>&nbsp;&nbsp;225</ln><a id="225">&nbsp;</a><a id="n147068"><a id="n147076"><a id="n147067"><a id="n147078"><a id="n147077"><a id="n147064"><a id="n147065">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#225_16_refs">loop_expr</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#452">.expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#452">
</a></c10><br/><ln>&nbsp;&nbsp;226</ln><a id="226">&nbsp;</a><a id="n147072"><a id="n147069"><a id="n147071"><a id="n147073"><a id="n147074"><a id="n147075">&nbsp;</a></a></a></a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#452">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ast.rs.html#538">ast::ExprLoop</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#434">.block_expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#217">match_expr</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../libsyntax/ext/build.rs.html#452">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#133">opt_ident</a></c26><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;227</ln><a id="227">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;228</ln><a id="228">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`{&nbsp;let&nbsp;...&nbsp;;&nbsp;&nbsp;loop&nbsp;{&nbsp;...&nbsp;}&nbsp;}`
</c40><br/><ln>&nbsp;&nbsp;229</ln><a id="229">&nbsp;</a><a id="n147092"><a id="n147083"><a id="n147082"><a id="n147091"><a id="n147090"><a id="n147080"><a id="n147079">&nbsp;</a></a></a></a></a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#33_1_refs">&nbsp;</a></c22><c20><a href="#229_16_refs">block</a></c20><c16><a href="#33_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#35">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#430">.block</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#430">
</a></c10><br/><ln>&nbsp;&nbsp;230</ln><a id="230">&nbsp;</a><a id="n147085"><a id="n147086"><a id="n147084">&nbsp;</a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#430">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c16><a href="#33_1_refs">~</a></c16><c3>[</c3><c26><a href="../../libsyntax/ext/expand.rs.html#199">iter_decl_stmt</a></c26><c3>],</c3><c10><a href="../../libsyntax/ext/build.rs.html#430">
</a></c10><br/><ln>&nbsp;&nbsp;231</ln><a id="231">&nbsp;</a><a id="n147089"><a id="n147088"><a id="n147087">&nbsp;</a></a></a><c10><a href="../../libsyntax/ext/build.rs.html#430">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libstd/option.rs.html#n101876">Some</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#225">loop_expr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;232</ln><a id="232">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;233</ln><a id="233">&nbsp;</a><a id="n147100"><a id="n147099">&nbsp;</a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#33_1_refs">@</a></c5><c1><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c1><c22><a href="#33_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;234</ln><a id="234">&nbsp;</a><a id="n147094">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#182">ast::DUMMY_NODE_ID</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;235</ln><a id="235">&nbsp;</a><a id="n147095"><a id="n147097"><a id="n147096">&nbsp;</a></a></a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#542">ast::ExprBlock</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#229">block</a></c26><c4>)</c4><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;236</ln><a id="236">&nbsp;</a><a id="n147098">&nbsp;</a><c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#139">span</a></c26><c3>,</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;237</ln><a id="237">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;238</ln><a id="238">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;239</ln><a id="239">&nbsp;</a>&nbsp;<c21><a href="#33_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;240</ln><a id="240">&nbsp;</a><a id="n147107"><a id="n147104"><a id="n147108"><a id="n147105"><a id="n147109"><a id="n147106">&nbsp;</a></a></a></a></a></a><c21><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#33_1_refs">_</a></c20><c21><a href="#33_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#33_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/fold.rs.html#719">noop_fold_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#36">e</a></c26><c3>,</c3><c22><a href="#33_1_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#37">fld</a></c26><c4>)</c4><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;241</ln><a id="241">&nbsp;</a>&nbsp;<c22><a href="#33_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#33_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;242</ln><a id="242">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;243</ln><a id="243">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;244</ln><a id="244">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;is&nbsp;a&nbsp;secondary&nbsp;mechanism&nbsp;for&nbsp;invoking&nbsp;syntax&nbsp;extensions&nbsp;on&nbsp;items:
</c40><br/><ln>&nbsp;&nbsp;245</ln><a id="245">&nbsp;</a>&nbsp;<c40>//&nbsp;"decorator"&nbsp;attributes,&nbsp;such&nbsp;as&nbsp;#[auto_encode].&nbsp;These&nbsp;are&nbsp;invoked&nbsp;by&nbsp;an
</c40><br/><ln>&nbsp;&nbsp;246</ln><a id="246">&nbsp;</a>&nbsp;<c40>//&nbsp;attribute&nbsp;prefixing&nbsp;an&nbsp;item,&nbsp;and&nbsp;are&nbsp;interpreted&nbsp;by&nbsp;feeding&nbsp;the&nbsp;item
</c40><br/><ln>&nbsp;&nbsp;247</ln><a id="247">&nbsp;</a>&nbsp;<c40>//&nbsp;through&nbsp;the&nbsp;named&nbsp;attribute&nbsp;_as&nbsp;a&nbsp;syntax&nbsp;extension_&nbsp;and&nbsp;splicing&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;248</ln><a id="248">&nbsp;</a>&nbsp;<c40>//&nbsp;resulting&nbsp;item&nbsp;vec&nbsp;into&nbsp;place&nbsp;in&nbsp;favour&nbsp;of&nbsp;the&nbsp;decorator.&nbsp;Note&nbsp;that
</c40><br/><ln>&nbsp;&nbsp;249</ln><a id="249">&nbsp;</a>&nbsp;<c40>//&nbsp;these&nbsp;do&nbsp;_not_&nbsp;work&nbsp;for&nbsp;macro&nbsp;extensions,&nbsp;just&nbsp;ItemDecorator&nbsp;ones.
</c40><br/><ln>&nbsp;&nbsp;250</ln><a id="250">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;251</ln><a id="251">&nbsp;</a>&nbsp;<c40>//&nbsp;NB:&nbsp;there&nbsp;is&nbsp;some&nbsp;redundancy&nbsp;between&nbsp;this&nbsp;and&nbsp;expand_item,&nbsp;below,&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;252</ln><a id="252">&nbsp;</a><a id="n147112">&nbsp;</a><c40>//&nbsp;they&nbsp;might&nbsp;benefit&nbsp;from&nbsp;some&nbsp;amount&nbsp;of&nbsp;semantic&nbsp;and&nbsp;language-UI&nbsp;merger.
</c40><br/><ln>&nbsp;&nbsp;253</ln><a id="253">&nbsp;</a><a id="n147114"><a id="n147116"><a id="n147115">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#252_75_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#252_75_refs">&nbsp;expand_mod_items</a></c30><c4>(</c4><c20><a href="#253_24_refs">extsbox</a></c20><c1><a href="#252_75_refs">:&nbsp;</a></c1><c8><a href="#252_75_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#252_75_refs">
</a></c1><br/><ln>&nbsp;&nbsp;254</ln><a id="254">&nbsp;</a><a id="n147121"><a id="n147120"><a id="n147119">&nbsp;</a></a></a><c1><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#254_24_refs">cx</a></c20><c1><a href="#252_75_refs">:&nbsp;</a></c1><c8><a href="#252_75_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#252_75_refs">
</a></c1><br/><ln>&nbsp;&nbsp;255</ln><a id="255">&nbsp;</a><a id="n147126"><a id="n147124"><a id="n147125">&nbsp;</a></a></a><c1><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#255_24_refs">module_</a></c20><c1><a href="#252_75_refs">:&nbsp;</a></c1><c8><a href="#252_75_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c3>,</c3><c1><a href="#252_75_refs">
</a></c1><br/><ln>&nbsp;&nbsp;256</ln><a id="256">&nbsp;</a><a id="n147131"><a id="n147129"><a id="n147130">&nbsp;</a></a></a><c1><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#256_24_refs">fld</a></c20><c1><a href="#252_75_refs">:&nbsp;</a></c1><c8><a href="#252_75_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#252_75_refs">
</a></c1><br/><ln>&nbsp;&nbsp;257</ln><a id="257">&nbsp;</a><a id="n147243"><a id="n147134">&nbsp;</a></a><c1><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#252_75_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c1><a href="#252_75_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;258</ln><a id="258">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Fold&nbsp;the&nbsp;contents&nbsp;first:
</c40><br/><ln>&nbsp;&nbsp;259</ln><a id="259">&nbsp;</a><a id="n147137"><a id="n147141"><a id="n147139"><a id="n147135"><a id="n147136"><a id="n147138"><a id="n147140"><a id="n147142">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#252_75_refs">&nbsp;</a></c22><c20><a href="#259_8_refs">module_</a></c20><c13><a href="#252_75_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/fold.rs.html#684">noop_fold_mod</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#255">module_</a></c26><c3>,</c3><c27><a href="#252_75_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#256">fld</a></c26><c4>)</c4><c3>;</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;260</ln><a id="260">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;261</ln><a id="261">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;each&nbsp;item,&nbsp;look&nbsp;through&nbsp;the&nbsp;attributes.&nbsp;&nbsp;If&nbsp;any&nbsp;of&nbsp;them&nbsp;are
</c40><br/><ln>&nbsp;&nbsp;262</ln><a id="262">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;decorated&nbsp;with&nbsp;"item&nbsp;decorators",&nbsp;then&nbsp;use&nbsp;that&nbsp;function&nbsp;to&nbsp;transform
</c40><br/><ln>&nbsp;&nbsp;263</ln><a id="263">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;item&nbsp;into&nbsp;a&nbsp;new&nbsp;set&nbsp;of&nbsp;items.
</c40><br/><ln>&nbsp;&nbsp;264</ln><a id="264">&nbsp;</a><a id="n147143"><a id="n147238"><a id="n147144"><a id="n147151"><a id="n147148"><a id="n147147"><a id="n147235"><a id="n147149"><a id="n147239"><a id="n147237"><a id="n147236"><a id="n147232"><a id="n147233"><a id="n147234"><a id="n147146"><a id="n147145">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#252_75_refs">&nbsp;</a></c22><c20><a href="#264_8_refs">new_items</a></c20><c13><a href="#252_75_refs">&nbsp;=&nbsp;</a></c13><c27><a href="#252_75_refs">do&nbsp;</a></c27><c26><a href="../../libstd/vec.rs.html#n48937">vec::flat_map</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#259">module_</a></c26><c24><a href="../../libsyntax/ast.rs.html#945">.items</a></c24><c4>)</c4><c1><a href="#252_75_refs">&nbsp;|</a></c1><c20><a href="#264_53_refs">item</a></c20><c8><a href="#252_75_refs">|</a></c8><c1><a href="#252_75_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;265</ln><a id="265">&nbsp;</a><a id="n147159"><a id="n147231"><a id="n147161"><a id="n147229"><a id="n147226"><a id="n147228"><a id="n147156"><a id="n147155"><a id="n147227"><a id="n147160"><a id="n147168"><a id="n147154"><a id="n147166"><a id="n147162"><a id="n147158"><a id="n147165"><a id="n147163"><a id="n147230">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>do</c21><c10><a href="c=1 n=264829">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#264">item</a></c26><c24><a href="../../libstd/vec.rs.html#n51851">.attrs</a></c24><c10><a href="../../libstd/vec.rs.html#n51851">.rev_iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51851">.</a></c10><c10><a href="c=1 n=264829">fold</a></c10><c4>(</c4><c16><a href="c=1 n=264829">~</a></c16><c3>[</c3><c5><a href="c=1 n=264829">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#264">item</a></c26><c3>]</c3><c4>)</c4><c1><a href="c=1 n=264829">&nbsp;|</a></c1><c20><a href="#265_49_refs">items</a></c20><c3>,</c3><c1><a href="c=1 n=264829">&nbsp;</a></c1><c20><a href="#265_56_refs">attr</a></c20><c8><a href="c=1 n=264829">|</a></c8><c1><a href="c=1 n=264829">&nbsp;</a></c1><c3>{</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;266</ln><a id="266">&nbsp;</a><a id="n147169"><a id="n147174"><a id="n147170"><a id="n147173"><a id="n147172"><a id="n147175">&nbsp;</a></a></a></a></a></a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="c=1 n=264829">&nbsp;</a></c22><c20><a href="#266_16_refs">mname</a></c20><c13><a href="c=1 n=264829">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#265">attr</a></c26><c10><a href="../../libsyntax/attr.rs.html#49">.name</a></c10><c4>()</c4><c3>;</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;267</ln><a id="267">&nbsp;</a>&nbsp;<c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;268</ln><a id="268">&nbsp;</a><a id="n147225"><a id="n147185"><a id="n147180"><a id="n147182"><a id="n147181"><a id="n147183"><a id="n147179"><a id="n147184"><a id="n147178">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="c=1 n=264829">&nbsp;</a></c21><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#253">extsbox</a></c26><c4>)</c4><c1><a href="../../libsyntax/ext/base.rs.html#551">.</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#551">find</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">&amp;</a></c5><c26><a href="../../libsyntax/parse/token.rs.html#513">intern</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#266">mname</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#551">&nbsp;</a></c10><c3>{</c3><c21><a href="c=1 n=264829">
</a></c21><br/><ln>&nbsp;&nbsp;269</ln><a id="269">&nbsp;</a><a id="n147219"><a id="n147188"><a id="n147220"><a id="n147190"><a id="n147221"><a id="n147189"><a id="n147186"><a id="n147187">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n101876">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#146">ItemDecorator</a></c20><c4>(</c4><c20><a href="#269_37_refs">dec_fn</a></c20><c4>)))</c4><c21><a href="c=1 n=264829">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="c=1 n=264829">&nbsp;</a></c21><c3>{</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;270</ln><a id="270">&nbsp;</a><a id="n147200"><a id="n147198"><a id="n147199"><a id="n147192">&nbsp;</a></a></a></a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#254">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#355">.bt_push</a></c10><c4>(</c4><c1><a href="../../libsyntax/codemap.rs.html#166">ExpnInfo</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;271</ln><a id="271">&nbsp;</a><a id="n147193"><a id="n147194">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_site:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#265">attr</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;272</ln><a id="272">&nbsp;</a><a id="n147197">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c10><c1><a href="../../libsyntax/codemap.rs.html#162">NameAndSpan</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;273</ln><a id="273">&nbsp;</a><a id="n147195">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#266">mname</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;274</ln><a id="274">&nbsp;</a><a id="n147196">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c10><c26><a href="../../libstd/option.rs.html#n101872">None</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;275</ln><a id="275">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;276</ln><a id="276">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;277</ln><a id="277">&nbsp;</a><a id="n147204"><a id="n147203"><a id="n147211"><a id="n147212"><a id="n147207"><a id="n147202"><a id="n147210"><a id="n147201"><a id="n147209"><a id="n147213"><a id="n147208"><a id="n147206"><a id="n147205">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="c=1 n=264829">&nbsp;</a></c22><c20><a href="#277_22_refs">r</a></c20><c13><a href="c=1 n=264829">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#269">dec_fn</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#254">cx</a></c26><c3>,</c3><c27><a href="c=1 n=264829">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#265">attr</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c27><a href="c=1 n=264829">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#265">attr</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c24><a href="../../libsyntax/ast.rs.html#1053">.value</a></c24><c3>,</c3><c27><a href="c=1 n=264829">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#265">items</a></c26><c4>)</c4><c3>;</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;278</ln><a id="278">&nbsp;</a><a id="n147217"><a id="n147215"><a id="n147216">&nbsp;</a></a></a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#254">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#366">.bt_pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;279</ln><a id="279">&nbsp;</a><a id="n147218">&nbsp;</a><c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#277">r</a></c26><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;280</ln><a id="280">&nbsp;</a>&nbsp;<c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="c=1 n=264829">
</a></c21><br/><ln>&nbsp;&nbsp;281</ln><a id="281">&nbsp;</a><a id="n147224"><a id="n147222"><a id="n147223">&nbsp;</a></a></a><c21><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="c=1 n=264829">_</a></c20><c21><a href="c=1 n=264829">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="c=1 n=264829">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#265">items</a></c26><c3>,</c3><c21><a href="c=1 n=264829">
</a></c21><br/><ln>&nbsp;&nbsp;282</ln><a id="282">&nbsp;</a>&nbsp;<c21><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="c=1 n=264829">
</a></c22><br/><ln>&nbsp;&nbsp;283</ln><a id="283">&nbsp;</a>&nbsp;<c22><a href="c=1 n=264829">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;284</ln><a id="284">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;285</ln><a id="285">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;286</ln><a id="286">&nbsp;</a><a id="n147242">&nbsp;</a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c1><c22><a href="#252_75_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;287</ln><a id="287">&nbsp;</a><a id="n147240">&nbsp;</a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#264">new_items</a></c26><c3>,</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;288</ln><a id="288">&nbsp;</a><a id="n147241">&nbsp;</a><c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#259">module_</a></c26><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;289</ln><a id="289">&nbsp;</a>&nbsp;<c22><a href="#252_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#252_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;290</ln><a id="290">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;291</ln><a id="291">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;292</ln><a id="292">&nbsp;</a>&nbsp;<c40>//&nbsp;eval&nbsp;$e&nbsp;with&nbsp;a&nbsp;new&nbsp;exts&nbsp;frame:
</c40><br/><ln>&nbsp;&nbsp;293</ln><a id="293">&nbsp;</a>&nbsp;<c37>macro_rules!&nbsp;with_exts_frame&nbsp;</c37><c4>(</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;294</ln><a id="294">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>$extsboxexpr:expr</c0><c3>,</c3><c0>$macros_escape:expr</c0><c3>,</c3><c0>$e:expr</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;295</ln><a id="295">&nbsp;</a><a id="n147309"><a id="n147305"><a id="n148897"><a id="n148949"><a id="n148895"><a id="n148898"><a id="n147306"><a id="n147357"><a id="n148894"><a id="n147308">&nbsp;</a></a></a></a></a></a></a></a></a></a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c3>{</c3><c21>let</c21><c22>&nbsp;</c22><c20><a href="#295_10_refs">extsbox</a></c20><c16>&nbsp;=&nbsp;$extsboxexpr</c16><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;296</ln><a id="296">&nbsp;</a><a id="n147313"><a id="n147311"><a id="n147310"><a id="n148899"><a id="n148905"><a id="n147314"><a id="n148902"><a id="n147316"><a id="n148900"><a id="n147315"><a id="n148904"><a id="n148903">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#296_10_refs">oldexts</a></c20><c16>&nbsp;=&nbsp;</c16><c5>*</c5><c26><a href="../../libsyntax/ext/expand.rs.html#295">extsbox</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;297</ln><a id="297">&nbsp;</a><a id="n148910"><a id="n147321"><a id="n148907"><a id="n147319"><a id="n147318"><a id="n148911"><a id="n147322"><a id="n148912"><a id="n148908"><a id="n147323"><a id="n148913"><a id="n147324">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c5>*</c5><c26><a href="../../libsyntax/ext/expand.rs.html#295">extsbox</a></c26><c13>&nbsp;=&nbsp;</c13><c26><a href="../../libsyntax/ext/expand.rs.html#296">oldexts</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#510">.push_frame</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;298</ln><a id="298">&nbsp;</a><a id="n147340"><a id="n148915"><a id="n148916"><a id="n148918"><a id="n147328"><a id="n147329"><a id="n148930"><a id="n147326"><a id="n147327"><a id="n148929"><a id="n148917"><a id="n147341">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#295">extsbox</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#571">.insert</a></c13><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#513">intern</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#305">special_block_name</a></c26><c4>)</c4><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#571">
</a></c13><br/><ln>&nbsp;&nbsp;299</ln><a id="299">&nbsp;</a><a id="n147336"><a id="n148920"><a id="n148927"><a id="n147337"><a id="n147331"><a id="n148924"><a id="n147335"><a id="n148925"><a id="n148928"><a id="n147334"><a id="n148926"><a id="n148923"><a id="n147339"><a id="n147338">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../libsyntax/ext/base.rs.html#571">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c5><a href="../../libsyntax/ext/base.rs.html#571">@</a></c5><c26><a href="../../libsyntax/ext/base.rs.html#177">BlockInfo</a></c26><c4>(</c4><c1><a href="../../libsyntax/ext/base.rs.html#179">BlockInfo</a></c1><c3>{</c3><c27><a href="../../libsyntax/ext/base.rs.html#571">macros_escape:$macros_escape</a></c27><c3>,</c3><c27><a href="../../libsyntax/ext/base.rs.html#571">pending_renames:</a></c27><c5><a href="../../libsyntax/ext/base.rs.html#571">@mut&nbsp;</a></c5><c16><a href="../../libsyntax/ext/base.rs.html#571">~</a></c16><c3>[]}</c3><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;300</ln><a id="300">&nbsp;</a><a id="n147343"><a id="n147348"><a id="n148941"><a id="n148940"><a id="n147342"><a id="n147349"><a id="n148931"><a id="n148932">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#300_10_refs">result</a></c20><c13>&nbsp;=&nbsp;$e</c13><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;301</ln><a id="301">&nbsp;</a><a id="n148946"><a id="n147352"><a id="n147355"><a id="n147353"><a id="n148943"><a id="n148947"><a id="n148945"><a id="n148944"><a id="n147354"><a id="n147351">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c5>*</c5><c26><a href="../../libsyntax/ext/expand.rs.html#295">extsbox</a></c26><c5>&nbsp;=&nbsp;</c5><c26><a href="../../libsyntax/ext/expand.rs.html#296">oldexts</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;302</ln><a id="302">&nbsp;</a><a id="n147356"><a id="n148948">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#300">result</a></c26><c22>
</c22><br/><ln>&nbsp;&nbsp;303</ln><a id="303">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c4>)</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;304</ln><a id="304">&nbsp;</a>&nbsp;<c4>)</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;305</ln><a id="305">&nbsp;</a><a id="n147244">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;306</ln><a id="306">&nbsp;</a><a id="n147247"><a id="n147246"><a id="n147248">&nbsp;</a></a></a><c36>static</c36><c36><a href="#305_1_refs">&nbsp;special_block_name&nbsp;:&nbsp;&amp;'static&nbsp;str&nbsp;=&nbsp;"&nbsp;block"</a></c36><c36>;
</c36><br/><ln>&nbsp;&nbsp;307</ln><a id="307">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;308</ln><a id="308">&nbsp;</a><a id="n147249">&nbsp;</a><c40>//&nbsp;When&nbsp;we&nbsp;enter&nbsp;a&nbsp;module,&nbsp;record&nbsp;it,&nbsp;for&nbsp;the&nbsp;sake&nbsp;of&nbsp;`module!`
</c40><br/><ln>&nbsp;&nbsp;309</ln><a id="309">&nbsp;</a><a id="n147252"><a id="n147251"><a id="n147253">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#308_64_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#308_64_refs">&nbsp;expand_item</a></c30><c4>(</c4><c20><a href="#309_19_refs">extsbox</a></c20><c1><a href="#308_64_refs">:&nbsp;</a></c1><c8><a href="#308_64_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#308_64_refs">
</a></c1><br/><ln>&nbsp;&nbsp;310</ln><a id="310">&nbsp;</a><a id="n147256"><a id="n147257"><a id="n147258">&nbsp;</a></a></a><c1><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#310_19_refs">cx</a></c20><c1><a href="#308_64_refs">:&nbsp;</a></c1><c8><a href="#308_64_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#308_64_refs">
</a></c1><br/><ln>&nbsp;&nbsp;311</ln><a id="311">&nbsp;</a><a id="n147262"><a id="n147263"><a id="n147261">&nbsp;</a></a></a><c1><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#311_19_refs">it</a></c20><c1><a href="#308_64_refs">:&nbsp;</a></c1><c8><a href="#308_64_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c3>,</c3><c1><a href="#308_64_refs">
</a></c1><br/><ln>&nbsp;&nbsp;312</ln><a id="312">&nbsp;</a><a id="n147266"><a id="n147268"><a id="n147267">&nbsp;</a></a></a><c1><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#312_19_refs">fld</a></c20><c1><a href="#308_64_refs">:&nbsp;</a></c1><c8><a href="#308_64_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#308_64_refs">
</a></c1><br/><ln>&nbsp;&nbsp;313</ln><a id="313">&nbsp;</a><a id="n147274"><a id="n147272"><a id="n147376"><a id="n147271">&nbsp;</a></a></a></a><c1><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#308_64_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c1><a href="#308_64_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;314</ln><a id="314">&nbsp;</a><a id="n147375"><a id="n147275"><a id="n147276">&nbsp;</a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#308_64_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1119">.node</a></c24><c21><a href="#308_64_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#308_64_refs">
</a></c21><br/><ln>&nbsp;&nbsp;315</ln><a id="315">&nbsp;</a><a id="n147278"><a id="n147280"><a id="n147282"><a id="n147281"><a id="n147279"><a id="n147277"><a id="n147283"><a id="n147284">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#1139">ast::item_mac</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#1139">*</a></c20><c4>)</c4><c21><a href="#308_64_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#308_64_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#335">expand_item_mac</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#309">extsbox</a></c26><c3>,</c3><c22><a href="#308_64_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#310">cx</a></c26><c3>,</c3><c22><a href="#308_64_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c3>,</c3><c22><a href="#308_64_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#312">fld</a></c26><c4>)</c4><c3>,</c3><c21><a href="#308_64_refs">
</a></c21><br/><ln>&nbsp;&nbsp;316</ln><a id="316">&nbsp;</a><a id="n147366"><a id="n147367"><a id="n147286"><a id="n147285"><a id="n147288"><a id="n147368"><a id="n147287">&nbsp;</a></a></a></a></a></a></a><c21><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#1128">ast::item_mod</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#1128">_</a></c20><c4>)</c4><c21><a href="#308_64_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#1129">ast::item_foreign_mod</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#1129">_</a></c20><c4>)</c4><c21><a href="#308_64_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#308_64_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;317</ln><a id="317">&nbsp;</a><a id="n147290"><a id="n147291"><a id="n147294"><a id="n147293"><a id="n147292">&nbsp;</a></a></a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#310">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#352">.mod_push</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1116">.ident</a></c24><c4>)</c4><c3>;</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;318</ln><a id="318">&nbsp;</a><a id="n147302"><a id="n147298"><a id="n147295"><a id="n147301"><a id="n147297"><a id="n147299"><a id="n147300"><a id="n147296">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#308_64_refs">&nbsp;</a></c22><c20><a href="#318_16_refs">macro_escape</a></c20><c16><a href="#308_64_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#329">contains_macro_escape</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1117">.attrs</a></c24><c4>)</c4><c3>;</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;319</ln><a id="319">&nbsp;</a><a id="n147358"><a id="n147360"><a id="n147304"><a id="n147307"><a id="n147359"><a id="n147303">&nbsp;</a></a></a></a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#308_64_refs">&nbsp;</a></c22><c20><a href="#319_16_refs">result</a></c20><c16><a href="#308_64_refs">&nbsp;=&nbsp;</a></c16><c22><a href="#308_64_refs">with_exts_frame!</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#309">extsbox</a></c26><c3>,</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;320</ln><a id="320">&nbsp;</a><a id="n147332">&nbsp;</a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#318">macro_escape</a></c26><c3>,</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;321</ln><a id="321">&nbsp;</a><a id="n147344"><a id="n147346"><a id="n147345"><a id="n147347">&nbsp;</a></a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/fold.rs.html#705">noop_fold_item</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c3>,</c3><c27><a href="#308_64_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#312">fld</a></c26><c4>))</c4><c3>;</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;322</ln><a id="322">&nbsp;</a><a id="n147362"><a id="n147364"><a id="n147363">&nbsp;</a></a></a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#310">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#353">.mod_pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;323</ln><a id="323">&nbsp;</a><a id="n147365">&nbsp;</a><c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#319">result</a></c26><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;324</ln><a id="324">&nbsp;</a>&nbsp;<c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#308_64_refs">
</a></c21><br/><ln>&nbsp;&nbsp;325</ln><a id="325">&nbsp;</a><a id="n147373"><a id="n147370"><a id="n147371"><a id="n147372"><a id="n147369"><a id="n147374">&nbsp;</a></a></a></a></a></a><c21><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#308_64_refs">_</a></c20><c21><a href="#308_64_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#308_64_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/fold.rs.html#705">noop_fold_item</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#311">it</a></c26><c3>,</c3><c22><a href="#308_64_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#312">fld</a></c26><c4>)</c4><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;326</ln><a id="326">&nbsp;</a>&nbsp;<c22><a href="#308_64_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#308_64_refs">
</a></c22><br/><ln>&nbsp;&nbsp;327</ln><a id="327">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;328</ln><a id="328">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;329</ln><a id="329">&nbsp;</a><a id="n147377">&nbsp;</a><c40>//&nbsp;does&nbsp;this&nbsp;attribute&nbsp;list&nbsp;contain&nbsp;"macro_escape"&nbsp;?
</c40><br/><ln>&nbsp;&nbsp;330</ln><a id="330">&nbsp;</a><a id="n147379"><a id="n147382"><a id="n147380"><a id="n147385"><a id="n147390"><a id="n147381">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#329_53_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#329_53_refs">&nbsp;contains_macro_escape</a></c30><c4>(</c4><c20><a href="#330_29_refs">attrs</a></c20><c1><a href="#329_53_refs">:&nbsp;</a></c1><c8><a href="#329_53_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#1037">ast::Attribute</a></c8><c3>]</c3><c4>)</c4><c1><a href="#329_53_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#329_53_refs">&nbsp;</a></c1><c8><a href="#329_53_refs">bool</a></c8><c1><a href="#329_53_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#329_53_refs">
</a></c22><br/><ln>&nbsp;&nbsp;331</ln><a id="331">&nbsp;</a><a id="n147387"><a id="n147389"><a id="n147386"><a id="n147388">&nbsp;</a></a></a></a><c22><a href="#329_53_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/attr.rs.html#177">attr::contains_name</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#330">attrs</a></c26><c3>,</c3><c27><a href="#329_53_refs">&nbsp;</a></c27><c12><a href="#329_53_refs">"macro_escape"</a></c12><c4>)</c4><c27><a href="#329_53_refs">
</a></c27><br/><ln>&nbsp;&nbsp;332</ln><a id="332">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;333</ln><a id="333">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;334</ln><a id="334">&nbsp;</a>&nbsp;<c40>//&nbsp;Support&nbsp;for&nbsp;item-position&nbsp;macro&nbsp;invocations,&nbsp;exactly&nbsp;the&nbsp;same
</c40><br/><ln>&nbsp;&nbsp;335</ln><a id="335">&nbsp;</a><a id="n147391">&nbsp;</a><c40>//&nbsp;logic&nbsp;as&nbsp;for&nbsp;expression-position&nbsp;macro&nbsp;invocations.
</c40><br/><ln>&nbsp;&nbsp;336</ln><a id="336">&nbsp;</a><a id="n147395"><a id="n147393"><a id="n147394">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#335_55_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#335_55_refs">&nbsp;expand_item_mac</a></c30><c4>(</c4><c20><a href="#336_23_refs">extsbox</a></c20><c1><a href="#335_55_refs">:&nbsp;</a></c1><c8><a href="#335_55_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#335_55_refs">
</a></c1><br/><ln>&nbsp;&nbsp;337</ln><a id="337">&nbsp;</a><a id="n147398"><a id="n147400"><a id="n147399">&nbsp;</a></a></a><c1><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#337_23_refs">cx</a></c20><c1><a href="#335_55_refs">:&nbsp;</a></c1><c8><a href="#335_55_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#335_55_refs">
</a></c1><br/><ln>&nbsp;&nbsp;338</ln><a id="338">&nbsp;</a><a id="n147404"><a id="n147405"><a id="n147403">&nbsp;</a></a></a><c1><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#338_23_refs">it</a></c20><c1><a href="#335_55_refs">:&nbsp;</a></c1><c8><a href="#335_55_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c3>,</c3><c1><a href="#335_55_refs">
</a></c1><br/><ln>&nbsp;&nbsp;339</ln><a id="339">&nbsp;</a><a id="n147410"><a id="n147408"><a id="n147409">&nbsp;</a></a></a><c1><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#339_23_refs">fld</a></c20><c1><a href="#335_55_refs">:&nbsp;</a></c1><c8><a href="#335_55_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#335_55_refs">
</a></c1><br/><ln>&nbsp;&nbsp;340</ln><a id="340">&nbsp;</a><a id="n147413"><a id="n147416"><a id="n147414"><a id="n147871">&nbsp;</a></a></a></a><c1><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#335_55_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c1><a href="#335_55_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;341</ln><a id="341">&nbsp;</a><a id="n147451"><a id="n147418"><a id="n147423"><a id="n147452"><a id="n147420"><a id="n147419"><a id="n147422"><a id="n147417"><a id="n147450"><a id="n147421">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#341_9_refs">pth</a></c20><c3>,</c3><c20><a href="#335_55_refs">&nbsp;</a></c20><c20><a href="#341_14_refs">tts</a></c20><c3>,</c3><c20><a href="#335_55_refs">&nbsp;</a></c20><c20><a href="#341_19_refs">ctxt</a></c20><c4>)</c4><c13><a href="#335_55_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#335_55_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1119">.node</a></c24><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;342</ln><a id="342">&nbsp;</a><a id="n147429"><a id="n147428">&nbsp;</a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#1139">item_mac</a></c20><c4>(</c4><c20><a href="../../libsyntax/codemap.rs.html#91">codemap::Spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#91">
</a></c20><br/><ln>&nbsp;&nbsp;343</ln><a id="343">&nbsp;</a><a id="n147425"><a id="n147426"><a id="n147424"><a id="n147427">&nbsp;</a></a></a></a><c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#682">mac_invoc_tt</a></c20><c4>(</c4><c20><a href="#343_31_refs">ref&nbsp;pth</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#343_40_refs">ref&nbsp;tts</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#343_49_refs">ctxt</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#91">
</a></c20><br/><ln>&nbsp;&nbsp;344</ln><a id="344">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_
</a></c20><br/><ln>&nbsp;&nbsp;345</ln><a id="345">&nbsp;</a><a id="n147440"><a id="n147441"><a id="n147439">&nbsp;</a></a></a><c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c4>)</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;346</ln><a id="346">&nbsp;</a><a id="n147438"><a id="n147434"><a id="n147437"><a id="n147430"><a id="n147436"><a id="n147435"><a id="n147433">&nbsp;</a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#343">pth</a></c26><c3>,</c3><c14><a href="#335_55_refs">&nbsp;</a></c14><c4>(</c4><c5><a href="#335_55_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#343">tts</a></c26><c4>)</c4><c1><a href="../../libstd/vec.rs.html#n56490">.</a></c1><c10><a href="../../libstd/vec.rs.html#n56490">clone</a></c10><c4>()</c4><c3>,</c3><c14><a href="#335_55_refs">&nbsp;</a></c14><c26><a href="../../libsyntax/ext/expand.rs.html#343">ctxt</a></c26><c4>)</c4><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;347</ln><a id="347">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;348</ln><a id="348">&nbsp;</a><a id="n147445"><a id="n147446"><a id="n147447"><a id="n147448"><a id="n147442"><a id="n147449"><a id="n147444">&nbsp;</a></a></a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#335_55_refs">_</a></c20><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c22><a href="../../libsyntax/ext/base.rs.html#391">.span_bug</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#391">&nbsp;</a></c22><c12><a href="#335_55_refs">"invalid&nbsp;item&nbsp;macro&nbsp;invocation"</a></c12><c4>)</c4><c22><a href="../../libsyntax/ext/base.rs.html#391">
</a></c22><br/><ln>&nbsp;&nbsp;349</ln><a id="349">&nbsp;</a>&nbsp;<c22><a href="../../libsyntax/ext/base.rs.html#391">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;350</ln><a id="350">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;351</ln><a id="351">&nbsp;</a><a id="n147461"><a id="n147458"><a id="n147459"><a id="n147460"><a id="n147463"><a id="n147462"><a id="n147453"><a id="n147456"><a id="n147454"><a id="n147457">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#351_8_refs">extname</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#335_55_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#341">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#151">.segments</a></c24><c3>[</c3><c12><a href="#335_55_refs">0</a></c12><c3>]</c3><c24><a href="../../libsyntax/ast.rs.html#159">.identifier</a></c24><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;352</ln><a id="352">&nbsp;</a><a id="n147469"><a id="n147467"><a id="n147465"><a id="n147468"><a id="n147466"><a id="n147470"><a id="n147464">&nbsp;</a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#352_8_refs">extnamestr</a></c20><c13><a href="#335_55_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#530">ident_to_str</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#351">extname</a></c26><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;353</ln><a id="353">&nbsp;</a><a id="n147476"><a id="n147475"><a id="n147471"><a id="n147473"><a id="n147474"><a id="n147472">&nbsp;</a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#353_8_refs">fm</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/token.rs.html#580">fresh_mark</a></c26><c4>()</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;354</ln><a id="354">&nbsp;</a><a id="n147481"><a id="n147484"><a id="n147478"><a id="n147487"><a id="n147747"><a id="n147477"><a id="n147486"><a id="n147485"><a id="n147749"><a id="n147748"><a id="n147483"><a id="n147482">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#354_8_refs">expanded</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#335_55_refs">match&nbsp;</a></c21><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#336">extsbox</a></c26><c4>)</c4><c1><a href="../../libsyntax/ext/base.rs.html#551">.</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#551">find</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#351">extname</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#551">&nbsp;</a></c10><c3>{</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;355</ln><a id="355">&nbsp;</a><a id="n147520"><a id="n147490"><a id="n147491"><a id="n147492"><a id="n147519"><a id="n147488">&nbsp;</a></a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;356</ln><a id="356">&nbsp;</a><a id="n147505"><a id="n147517"><a id="n147513"><a id="n147503"><a id="n147495"><a id="n147493"><a id="n147499"><a id="n147510"><a id="n147506"><a id="n147508"><a id="n147509"><a id="n147501"><a id="n147496"><a id="n147497"><a id="n147511"><a id="n147515"><a id="n147498"><a id="n147502"><a id="n147494"><a id="n147500"><a id="n147514"><a id="n147516"><a id="n147504"><a id="n147518"><a id="n147512"><a id="n147507">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="#335_55_refs">fmt!</a></c22><c4>(</c4><c5><a href="../../libsyntax/ext/expand.rs.html#356">"macro&nbsp;undefined:&nbsp;'%s!'"</a></c5><c3>,</c3><c22><a href="#335_55_refs">&nbsp;</a></c22><c5><a href="../../libstd/unstable/extfmt.rs.html#n158152">extnamestr</a></c5><c4>))</c4><c3>,</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;357</ln><a id="357">&nbsp;</a>&nbsp;<c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;358</ln><a id="358">&nbsp;</a><a id="n147626"><a id="n147524"><a id="n147624"><a id="n147625"><a id="n147521"><a id="n147522"><a id="n147526"><a id="n147523"><a id="n147525">&nbsp;</a></a></a></a></a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n101876">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#149">NormalTT</a></c20><c4>(</c4><c20><a href="#358_26_refs">expander</a></c20><c3>,</c3><c20><a href="../../libsyntax/ext/base.rs.html#149">&nbsp;</a></c20><c20><a href="#358_36_refs">span</a></c20><c4>)))</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;359</ln><a id="359">&nbsp;</a><a id="n147589"><a id="n147530"><a id="n147532"><a id="n147531"><a id="n147533"><a id="n147587"><a id="n147528"><a id="n147588"><a id="n147529">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#335_55_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1116">.ident</a></c24><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c5><a href="#335_55_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/parse/token.rs.html#315">parse::token::special_idents::invalid</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;360</ln><a id="360">&nbsp;</a><a id="n147537"><a id="n147585"><a id="n147535"><a id="n147586"><a id="n147536">&nbsp;</a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#375">
</a></c13><br/><ln>&nbsp;&nbsp;361</ln><a id="361">&nbsp;</a><a id="n147583"><a id="n147579"><a id="n147557"><a id="n147542"><a id="n147577"><a id="n147584"><a id="n147538"><a id="n147555"><a id="n147551"><a id="n147581"><a id="n147582"><a id="n147541"><a id="n147540"><a id="n147560"><a id="n147572"><a id="n147580"><a id="n147559"><a id="n147578"><a id="n147558"><a id="n147576"><a id="n147539"><a id="n147556"><a id="n147543">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c13><a href="../../libsyntax/ext/expand.rs.html#361">"macro&nbsp;%s!&nbsp;expects&nbsp;no&nbsp;ident&nbsp;argument</a></c13><c3>,</c3><c13><a href="../../libsyntax/ext/expand.rs.html#361">&nbsp;\
</a></c13><br/><ln>&nbsp;&nbsp;362</ln><a id="362">&nbsp;</a><a id="n147553"><a id="n147550"><a id="n147547"><a id="n147548"><a id="n147549"><a id="n147554"><a id="n147545"><a id="n147544"><a id="n147546"><a id="n147552">&nbsp;</a></a></a></a></a></a></a></a></a></a><c13><a href="../../libsyntax/ext/expand.rs.html#361">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given&nbsp;'%s'"</a></c13><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c5><a href="../../libstd/unstable/extfmt.rs.html#n158145">extnamestr</a></c5><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">
</a></c22><br/><ln>&nbsp;&nbsp;363</ln><a id="363">&nbsp;</a><a id="n147575"><a id="n147567"><a id="n147563"><a id="n147566"><a id="n147571"><a id="n147573"><a id="n147569"><a id="n147568"><a id="n147561"><a id="n147570"><a id="n147565"><a id="n147564"><a id="n147562"><a id="n147574">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/parse/token.rs.html#530">ident_to_str</a></c26><c4>(</c4><c5><a href="../../libstd/unstable/extfmt.rs.html#n158404">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1116">.ident</a></c24><c4>)))</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;364</ln><a id="364">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;365</ln><a id="365">&nbsp;</a><a id="n147598"><a id="n147591"><a id="n147597"><a id="n147599">&nbsp;</a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#355">.bt_push</a></c13><c4>(</c4><c1><a href="../../libsyntax/codemap.rs.html#166">ExpnInfo</a></c1><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;366</ln><a id="366">&nbsp;</a><a id="n147593"><a id="n147592">&nbsp;</a></a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_site:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;367</ln><a id="367">&nbsp;</a><a id="n147596">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c13><c1><a href="../../libsyntax/codemap.rs.html#162">NameAndSpan</a></c1><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;368</ln><a id="368">&nbsp;</a><a id="n147594">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#352">extnamestr</a></c26><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;369</ln><a id="369">&nbsp;</a><a id="n147595">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#358">span</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;370</ln><a id="370">&nbsp;</a>&nbsp;<c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;371</ln><a id="371">&nbsp;</a>&nbsp;<c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;372</ln><a id="372">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;mark&nbsp;before&nbsp;expansion:
</c40><br/><ln>&nbsp;&nbsp;373</ln><a id="373">&nbsp;</a><a id="n147607"><a id="n147600"><a id="n147604"><a id="n147602"><a id="n147605"><a id="n147601"><a id="n147603"><a id="n147606">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#373_16_refs">marked_before</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#1357">mark_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;374</ln><a id="374">&nbsp;</a><a id="n147609"><a id="n147610"><a id="n147608"><a id="n147615"><a id="n147613"><a id="n147611"><a id="n147614"><a id="n147612">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#374_16_refs">marked_ctxt</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ast_util.rs.html#737">new_mark</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#341">ctxt</a></c26><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;375</ln><a id="375">&nbsp;</a><a id="n147622"><a id="n147620"><a id="n147619"><a id="n147618"><a id="n147621"><a id="n147623"><a id="n147617">&nbsp;</a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#358">expander</a></c26><c10><a href="#335_55_refs">.expand</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#373">marked_before</a></c26><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#374">marked_ctxt</a></c26><c4>)</c4><c10><a href="#335_55_refs">
</a></c10><br/><ln>&nbsp;&nbsp;376</ln><a id="376">&nbsp;</a>&nbsp;<c10><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;377</ln><a id="377">&nbsp;</a><a id="n147627"><a id="n147630"><a id="n147629"><a id="n147628"><a id="n147631"><a id="n147713"><a id="n147712"><a id="n147711"><a id="n147632">&nbsp;</a></a></a></a></a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#335_55_refs">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#159">IdentTT</a></c20><c4>(</c4><c20><a href="#377_25_refs">expander</a></c20><c3>,</c3><c20><a href="../../libsyntax/ext/base.rs.html#159">&nbsp;</a></c20><c20><a href="#377_35_refs">span</a></c20><c4>)))</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;378</ln><a id="378">&nbsp;</a><a id="n147637"><a id="n147638"><a id="n147672"><a id="n147636"><a id="n147639"><a id="n147635"><a id="n147674"><a id="n147634"><a id="n147673">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#335_55_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1116">.ident</a></c24><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c5><a href="#335_55_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/parse/token.rs.html#315">parse::token::special_idents::invalid</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;379</ln><a id="379">&nbsp;</a><a id="n147670"><a id="n147642"><a id="n147671"><a id="n147643"><a id="n147641">&nbsp;</a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#375">
</a></c13><br/><ln>&nbsp;&nbsp;380</ln><a id="380">&nbsp;</a><a id="n147663"><a id="n147668"><a id="n147667"><a id="n147647"><a id="n147669"><a id="n147645"><a id="n147662"><a id="n147644"><a id="n147664"><a id="n147646"><a id="n147649"><a id="n147657"><a id="n147661"><a id="n147648"><a id="n147666"><a id="n147665">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c22><a href="#335_55_refs">fmt!</a></c22><c4>(</c4><c27><a href="../../libstd/str.rs.html#n58962">"macro&nbsp;%s!&nbsp;expects&nbsp;an&nbsp;ident&nbsp;argument"</a></c27><c3>,</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;381</ln><a id="381">&nbsp;</a><a id="n147654"><a id="n147652"><a id="n147653"><a id="n147650"><a id="n147651"><a id="n147659"><a id="n147658"><a id="n147660"><a id="n147656"><a id="n147655">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libstd/unstable/extfmt.rs.html#n158152">extnamestr</a></c1><c4>))</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;382</ln><a id="382">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;383</ln><a id="383">&nbsp;</a><a id="n147683"><a id="n147684"><a id="n147676"><a id="n147682">&nbsp;</a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#355">.bt_push</a></c13><c4>(</c4><c1><a href="../../libsyntax/codemap.rs.html#166">ExpnInfo</a></c1><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;384</ln><a id="384">&nbsp;</a><a id="n147678"><a id="n147677">&nbsp;</a></a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_site:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;385</ln><a id="385">&nbsp;</a><a id="n147681">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c13><c1><a href="../../libsyntax/codemap.rs.html#162">NameAndSpan</a></c1><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;386</ln><a id="386">&nbsp;</a><a id="n147679">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#352">extnamestr</a></c26><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;387</ln><a id="387">&nbsp;</a><a id="n147680">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#377">span</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;388</ln><a id="388">&nbsp;</a>&nbsp;<c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c13><a href="../../libsyntax/ext/base.rs.html#355">
</a></c13><br/><ln>&nbsp;&nbsp;389</ln><a id="389">&nbsp;</a>&nbsp;<c13><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;390</ln><a id="390">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;mark&nbsp;before&nbsp;expansion:
</c40><br/><ln>&nbsp;&nbsp;391</ln><a id="391">&nbsp;</a><a id="n147689"><a id="n147690"><a id="n147692"><a id="n147691"><a id="n147686"><a id="n147687"><a id="n147685"><a id="n147688">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#391_16_refs">marked_tts</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#1357">mark_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;392</ln><a id="392">&nbsp;</a><a id="n147695"><a id="n147700"><a id="n147693"><a id="n147699"><a id="n147697"><a id="n147698"><a id="n147696"><a id="n147694">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#392_16_refs">marked_ctxt</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ast_util.rs.html#737">new_mark</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#341">ctxt</a></c26><c4>)</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;393</ln><a id="393">&nbsp;</a><a id="n147706"><a id="n147710"><a id="n147704"><a id="n147703"><a id="n147708"><a id="n147707"><a id="n147705"><a id="n147702"><a id="n147709">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#377">expander</a></c26><c10><a href="#335_55_refs">.expand</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1116">.ident</a></c24><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#391">marked_tts</a></c26><c3>,</c3><c10><a href="#335_55_refs">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#392">marked_ctxt</a></c26><c4>)</c4><c10><a href="#335_55_refs">
</a></c10><br/><ln>&nbsp;&nbsp;394</ln><a id="394">&nbsp;</a>&nbsp;<c10><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;395</ln><a id="395">&nbsp;</a><a id="n147716"><a id="n147746"><a id="n147745"><a id="n147714">&nbsp;</a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#335_55_refs">_</a></c20><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;396</ln><a id="396">&nbsp;</a><a id="n147722"><a id="n147741"><a id="n147739"><a id="n147720"><a id="n147728"><a id="n147726"><a id="n147725"><a id="n147723"><a id="n147727"><a id="n147738"><a id="n147743"><a id="n147732"><a id="n147735"><a id="n147740"><a id="n147733"><a id="n147719"><a id="n147736"><a id="n147721"><a id="n147724"><a id="n147742"><a id="n147734"><a id="n147729"><a id="n147730"><a id="n147731"><a id="n147737"><a id="n147718"><a id="n147744"><a id="n147717">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#338">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#1121">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c10><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#396">"%s!&nbsp;is&nbsp;not&nbsp;legal&nbsp;in&nbsp;item&nbsp;position"</a></c26><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#352">extnamestr</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;397</ln><a id="397">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>};</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;398</ln><a id="398">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;399</ln><a id="399">&nbsp;</a><a id="n147861"><a id="n147752"><a id="n147863"><a id="n147750"><a id="n147751"><a id="n147862">&nbsp;</a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#335_55_refs">&nbsp;</a></c22><c20><a href="#399_8_refs">maybe_it</a></c20><c16><a href="#335_55_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#335_55_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#354">expanded</a></c26><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;400</ln><a id="400">&nbsp;</a><a id="n147753"><a id="n147771"><a id="n147773"><a id="n147772"><a id="n147754">&nbsp;</a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#139">MRItem</a></c20><c4>(</c4><c20><a href="#400_15_refs">it</a></c20><c4>)</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;401</ln><a id="401">&nbsp;</a><a id="n147758"><a id="n147757"><a id="n147770"><a id="n147756"><a id="n147759">&nbsp;</a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1372">mark_item</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#400">it</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c4>)</c4><c27><a href="../../libstd/option.rs.html#n102316">
</a></c27><br/><ln>&nbsp;&nbsp;402</ln><a id="402">&nbsp;</a><a id="n147769"><a id="n147761"><a id="n147767"><a id="n147763"><a id="n147766"><a id="n147760"><a id="n147768"><a id="n147765">&nbsp;</a></a></a></a></a></a></a></a><c27><a href="../../libstd/option.rs.html#n102316">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</a></c27><c10><a href="../../libstd/option.rs.html#n102316">and_then</a></c10><c4>(</c4><c1><a href="#335_55_refs">|</a></c1><c20><a href="#402_27_refs">i</a></c20><c8><a href="#335_55_refs">|</a></c8><c1><a href="#335_55_refs">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#339">fld</a></c26><c22><a href="../../libsyntax/ext/expand.rs.html#1203">.fold_item</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#402">i</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n102316">
</a></c10><br/><ln>&nbsp;&nbsp;403</ln><a id="403">&nbsp;</a>&nbsp;<c10><a href="../../libstd/option.rs.html#n102316">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;404</ln><a id="404">&nbsp;</a><a id="n147774"><a id="n147803"><a id="n147802"><a id="n147801"><a id="n147775">&nbsp;</a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#138">MRExpr</a></c20><c4>(</c4><c20><a href="#335_55_refs">_</a></c20><c4>)</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;405</ln><a id="405">&nbsp;</a><a id="n147785"><a id="n147799"><a id="n147798"><a id="n147782"><a id="n147780"><a id="n147795"><a id="n147796"><a id="n147779"><a id="n147778"><a id="n147784"><a id="n147781"><a id="n147788"><a id="n147791"><a id="n147783"><a id="n147797"><a id="n147800"><a id="n147787"><a id="n147786"><a id="n147793"><a id="n147790"><a id="n147794"><a id="n147792"><a id="n147777"><a id="n147789">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#341">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c10><c22><a href="#335_55_refs">fmt!</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#405">"expr&nbsp;macro&nbsp;in&nbsp;item&nbsp;position:&nbsp;%s"</a></c26><c3>,</c3><c22><a href="#335_55_refs">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">extnamestr</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;406</ln><a id="406">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;407</ln><a id="407">&nbsp;</a><a id="n147835"><a id="n147805"><a id="n147833"><a id="n147804"><a id="n147834">&nbsp;</a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#140">MRAny</a></c20><c4>(</c4><c20><a href="#407_14_refs">any_macro</a></c20><c4>)</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;408</ln><a id="408">&nbsp;</a><a id="n147810"><a id="n147821"><a id="n147832"><a id="n147809">&nbsp;</a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#407">any_macro</a></c26><c10><a href="#335_55_refs">.make_item</a></c10><c4>()</c4><c10><a href="#335_55_refs">
</a></c10><br/><ln>&nbsp;&nbsp;409</ln><a id="409">&nbsp;</a><a id="n147819"><a id="n147817"><a id="n147818"><a id="n147820"><a id="n147816"><a id="n147811"><a id="n147815"><a id="n147814"><a id="n147812">&nbsp;</a></a></a></a></a></a></a></a></a><c10><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.</a></c10><c10><a href="../../libstd/option.rs.html#n102316">and_then</a></c10><c4>(</c4><c1><a href="../../libstd/option.rs.html#n102316">|</a></c1><c20><a href="#409_32_refs">i</a></c20><c8><a href="../../libstd/option.rs.html#n102316">|</a></c8><c1><a href="../../libstd/option.rs.html#n102316">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/expand.rs.html#1372">mark_item</a></c8><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#409">i</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#353">fm</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n102316">
</a></c10><br/><ln>&nbsp;&nbsp;410</ln><a id="410">&nbsp;</a><a id="n147827"><a id="n147829"><a id="n147828"><a id="n147822"><a id="n147831"><a id="n147823"><a id="n147830"><a id="n147825">&nbsp;</a></a></a></a></a></a></a></a><c10><a href="../../libstd/option.rs.html#n102316">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.and_then</a></c10><c4>(</c4><c1><a href="../../libstd/option.rs.html#n102316">|</a></c1><c20><a href="#410_32_refs">i</a></c20><c8><a href="#335_55_refs">|</a></c8><c1><a href="../../libstd/option.rs.html#n102316">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/expand.rs.html#339">fld</a></c8><c22><a href="../../libsyntax/ext/expand.rs.html#1203">.fold_item</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#410">i</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n102316">
</a></c10><br/><ln>&nbsp;&nbsp;411</ln><a id="411">&nbsp;</a>&nbsp;<c10><a href="../../libstd/option.rs.html#n102316">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;412</ln><a id="412">&nbsp;</a><a id="n147858"><a id="n147860"><a id="n147836"><a id="n147859"><a id="n147837">&nbsp;</a></a></a></a></a><c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#141">MRDef</a></c20><c4>(</c4><c20><a href="#412_14_refs">ref&nbsp;mdef</a></c20><c4>)</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#335_55_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;413</ln><a id="413">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;yikes...&nbsp;no&nbsp;idea&nbsp;how&nbsp;to&nbsp;apply&nbsp;the&nbsp;mark&nbsp;to&nbsp;this.&nbsp;I'm&nbsp;afraid
</c40><br/><ln>&nbsp;&nbsp;414</ln><a id="414">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we're&nbsp;going&nbsp;to&nbsp;have&nbsp;to&nbsp;wait-and-see&nbsp;on&nbsp;this&nbsp;one.
</c40><br/><ln>&nbsp;&nbsp;415</ln><a id="415">&nbsp;</a><a id="n147845"><a id="n147850"><a id="n147854"><a id="n147852"><a id="n147844"><a id="n147840"><a id="n147847"><a id="n147842"><a id="n147841"><a id="n147853"><a id="n147843"><a id="n147838"><a id="n147856"><a id="n147849"><a id="n147851"><a id="n147855">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#425">insert_macro</a></c26><c4>(</c4><c5><a href="#335_55_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#336">extsbox</a></c26><c3>,</c3><c26><a href="../../libsyntax/parse/token.rs.html#513">intern</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#412">mdef</a></c26><c24><a href="../../libsyntax/ext/base.rs.html#32">.name</a></c24><c4>)</c4><c3>,</c3><c27><a href="#335_55_refs">&nbsp;</a></c27><c5><a href="#335_55_refs">@</a></c5><c26><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c26><c4>((</c4><c5><a href="#335_55_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#412">mdef</a></c26><c4>)</c4><c1><a href="../../libsyntax/ext/base.rs.html#33">.</a></c1><c24><a href="../../libsyntax/ext/base.rs.html#33">ext</a></c24><c4>))</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;416</ln><a id="416">&nbsp;</a><a id="n147857">&nbsp;</a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n101872">None</a></c26><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;417</ln><a id="417">&nbsp;</a>&nbsp;<c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#335_55_refs">
</a></c21><br/><ln>&nbsp;&nbsp;418</ln><a id="418">&nbsp;</a>&nbsp;<c21><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;419</ln><a id="419">&nbsp;</a><a id="n147867"><a id="n147865"><a id="n147866">&nbsp;</a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#337">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#366">.bt_pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;420</ln><a id="420">&nbsp;</a><a id="n147869"><a id="n147870"><a id="n147868">&nbsp;</a></a></a><c22><a href="#335_55_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#335_55_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#399">maybe_it</a></c26><c3>;</c3><c22><a href="#335_55_refs">
</a></c22><br/><ln>&nbsp;&nbsp;421</ln><a id="421">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;422</ln><a id="422">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;423</ln><a id="423">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;424</ln><a id="424">&nbsp;</a>&nbsp;<c40>//&nbsp;insert&nbsp;a&nbsp;macro&nbsp;into&nbsp;the&nbsp;innermost&nbsp;frame&nbsp;that&nbsp;doesn't&nbsp;have&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;425</ln><a id="425">&nbsp;</a><a id="n147872">&nbsp;</a><c40>//&nbsp;macro_escape&nbsp;tag.
</c40><br/><ln>&nbsp;&nbsp;426</ln><a id="426">&nbsp;</a><a id="n147879"><a id="n147883"><a id="n147875"><a id="n147882"><a id="n147884"><a id="n147886"><a id="n147874"><a id="n147878"><a id="n147961">&nbsp;</a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#425_21_refs">&nbsp;insert_macro</a></c30><c4>(</c4><c20><a href="#426_16_refs">exts</a></c20><c1><a href="#425_21_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#425_21_refs">&nbsp;</a></c1><c20><a href="#426_33_refs">name</a></c20><c1><a href="#425_21_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c3>,</c3><c1><a href="#425_21_refs">&nbsp;</a></c1><c20><a href="#426_50_refs">transformer</a></c20><c1><a href="#425_21_refs">:&nbsp;</a></c1><c8><a href="#425_21_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#169">Transformer</a></c8><c4>)</c4><c1><a href="#425_21_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#425_21_refs">
</a></c22><br/><ln>&nbsp;&nbsp;427</ln><a id="427">&nbsp;</a><a id="n147950"><a id="n147949"><a id="n147888"><a id="n147951"><a id="n147887">&nbsp;</a></a></a></a></a><c22><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#425_21_refs">&nbsp;</a></c22><c20><a href="#427_8_refs">is_non_escaping_block</a></c20><c13><a href="#425_21_refs">&nbsp;</a></c13><c1><a href="#425_21_refs">=
</a></c1><br/><ln>&nbsp;&nbsp;428</ln><a id="428">&nbsp;</a><a id="n147890"><a id="n147946"><a id="n147947"><a id="n147892"><a id="n147893"><a id="n147891"><a id="n147948"><a id="n147896">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c1><c20><a href="#428_9_refs">t</a></c20><c1><a href="#425_21_refs">&nbsp;:&nbsp;</a></c1><c8><a href="#425_21_refs">&amp;@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#169">Transformer</a></c8><c1><a href="#425_21_refs">|&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#425_21_refs">&nbsp;</a></c1><c8><a href="#425_21_refs">bool</a></c8><c3>{</c3><c22><a href="#425_21_refs">
</a></c22><br/><ln>&nbsp;&nbsp;429</ln><a id="429">&nbsp;</a><a id="n147945"><a id="n147897">&nbsp;</a></a><c22><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#425_21_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#428">t</a></c26><c21><a href="#425_21_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#425_21_refs">
</a></c21><br/><ln>&nbsp;&nbsp;430</ln><a id="430">&nbsp;</a><a id="n147903"><a id="n147902"><a id="n147899"><a id="n147901"><a id="n147900"><a id="n147904"><a id="n147905"><a id="n147898">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#425_21_refs">&amp;@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#177">BlockInfo</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#179">BlockInfo&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ext/base.rs.html#179">macros_escape:</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#177">false</a></c20><c3>,</c3><c20><a href="../../libsyntax/ext/base.rs.html#179">_</a></c20><c3>}</c3><c4>)</c4><c21><a href="#425_21_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#425_21_refs">&nbsp;</a></c21><c22><a href="#425_21_refs">true</a></c22><c3>,</c3><c21><a href="#425_21_refs">
</a></c21><br/><ln>&nbsp;&nbsp;431</ln><a id="431">&nbsp;</a><a id="n147911"><a id="n147909"><a id="n147910"><a id="n147908"><a id="n147907"><a id="n147906">&nbsp;</a></a></a></a></a></a><c21><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#425_21_refs">&amp;@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#177">BlockInfo</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#179">BlockInfo&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ext/base.rs.html#179">_</a></c20><c3>}</c3><c4>)</c4><c21><a href="#425_21_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#425_21_refs">&nbsp;</a></c21><c12><a href="#425_21_refs">false</a></c12><c3>,</c3><c21><a href="#425_21_refs">
</a></c21><br/><ln>&nbsp;&nbsp;432</ln><a id="432">&nbsp;</a><a id="n147912"><a id="n147944"><a id="n147943"><a id="n147935"><a id="n147918"><a id="n147933"><a id="n147940"><a id="n147920"><a id="n147917"><a id="n147916"><a id="n147938"><a id="n147915"><a id="n147934"><a id="n147931"><a id="n147927"><a id="n147919"><a id="n147932"><a id="n147914"><a id="n147937"><a id="n147928"><a id="n147939"><a id="n147930"><a id="n147936">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#425_21_refs">_</a></c20><c21><a href="#425_21_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#425_21_refs">&nbsp;</a></c21><c27><a href="#425_21_refs">fail!</a></c27><c4>(</c4><c22><a href="#425_21_refs">fmt!</a></c22><c4>(</c4><c27><a href="../../libsyntax/ext/expand.rs.html#432">"special&nbsp;identifier&nbsp;%?&nbsp;was&nbsp;bound&nbsp;to&nbsp;a&nbsp;non-BlockInfo"</a></c27><c3>,</c3><c22><a href="#425_21_refs">
</a></c22><br/><ln>&nbsp;&nbsp;433</ln><a id="433">&nbsp;</a><a id="n147922"><a id="n147921"><a id="n147923"><a id="n147926"><a id="n147925"><a id="n147929"><a id="n147924">&nbsp;</a></a></a></a></a></a></a><c22><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">special_block_name</a></c26><c4>))</c4><c27><a href="#425_21_refs">
</a></c27><br/><ln>&nbsp;&nbsp;434</ln><a id="434">&nbsp;</a>&nbsp;<c27><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c22><a href="#425_21_refs">
</a></c22><br/><ln>&nbsp;&nbsp;435</ln><a id="435">&nbsp;</a>&nbsp;<c22><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#425_21_refs">
</a></c22><br/><ln>&nbsp;&nbsp;436</ln><a id="436">&nbsp;</a><a id="n147957"><a id="n147955"><a id="n147960"><a id="n147958"><a id="n147956"><a id="n147953"><a id="n147954">&nbsp;</a></a></a></a></a></a></a><c22><a href="#425_21_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#426">exts</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#583">.insert_into_frame</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#426">name</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#426">transformer</a></c26><c3>,</c3><c26><a href="../../libsyntax/parse/token.rs.html#513">intern</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#305">special_block_name</a></c26><c4>)</c4><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#583">
</a></c10><br/><ln>&nbsp;&nbsp;437</ln><a id="437">&nbsp;</a><a id="n147959">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#583">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#427">is_non_escaping_block</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#583">
</a></c10><br/><ln>&nbsp;&nbsp;438</ln><a id="438">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;439</ln><a id="439">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;440</ln><a id="440">&nbsp;</a><a id="n147962">&nbsp;</a><c40>//&nbsp;expand&nbsp;a&nbsp;stmt
</c40><br/><ln>&nbsp;&nbsp;441</ln><a id="441">&nbsp;</a><a id="n147966"><a id="n147965"><a id="n147964">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#440_17_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#440_17_refs">&nbsp;expand_stmt</a></c30><c4>(</c4><c20><a href="#441_19_refs">extsbox</a></c20><c1><a href="#440_17_refs">:&nbsp;</a></c1><c8><a href="#440_17_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#440_17_refs">
</a></c1><br/><ln>&nbsp;&nbsp;442</ln><a id="442">&nbsp;</a><a id="n147969"><a id="n147970"><a id="n147971">&nbsp;</a></a></a><c1><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#442_19_refs">cx</a></c20><c1><a href="#440_17_refs">:&nbsp;</a></c1><c8><a href="#440_17_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#440_17_refs">
</a></c1><br/><ln>&nbsp;&nbsp;443</ln><a id="443">&nbsp;</a><a id="n147974"><a id="n147975"><a id="n147976">&nbsp;</a></a></a><c1><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#443_19_refs">s</a></c20><c1><a href="#440_17_refs">:&nbsp;</a></c1><c8><a href="#440_17_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">Stmt</a></c8><c3>,</c3><c1><a href="#440_17_refs">
</a></c1><br/><ln>&nbsp;&nbsp;444</ln><a id="444">&nbsp;</a><a id="n147979"><a id="n147981"><a id="n147980">&nbsp;</a></a></a><c1><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#444_19_refs">fld</a></c20><c1><a href="#440_17_refs">:&nbsp;</a></c1><c8><a href="#440_17_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#440_17_refs">
</a></c1><br/><ln>&nbsp;&nbsp;445</ln><a id="445">&nbsp;</a><a id="n148346"><a id="n147987"><a id="n147984"><a id="n147985">&nbsp;</a></a></a></a><c1><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#440_17_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">Stmt</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c1><a href="#440_17_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;446</ln><a id="446">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;why&nbsp;the&nbsp;copying&nbsp;here&nbsp;and&nbsp;not&nbsp;in&nbsp;expand_expr?
</c40><br/><ln>&nbsp;&nbsp;447</ln><a id="447">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;looks&nbsp;like&nbsp;classic&nbsp;changed-in-only-one-place
</c40><br/><ln>&nbsp;&nbsp;448</ln><a id="448">&nbsp;</a><a id="n147993"><a id="n147994"><a id="n148032"><a id="n148034"><a id="n147991"><a id="n147995"><a id="n148033"><a id="n147989"><a id="n147990"><a id="n147992"><a id="n147988">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#448_9_refs">pth</a></c20><c3>,</c3><c20><a href="#440_17_refs">&nbsp;</a></c20><c20><a href="#448_14_refs">tts</a></c20><c3>,</c3><c20><a href="#440_17_refs">&nbsp;</a></c20><c20><a href="#448_19_refs">semi</a></c20><c3>,</c3><c20><a href="#440_17_refs">&nbsp;</a></c20><c20><a href="#448_25_refs">ctxt</a></c20><c4>)</c4><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#440_17_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#443">s</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;449</ln><a id="449">&nbsp;</a><a id="n147997"><a id="n148020"><a id="n147998"><a id="n147996"><a id="n148021"><a id="n148019">&nbsp;</a></a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#441">StmtMac</a></c20><c4>(</c4><c20><a href="#449_16_refs">ref&nbsp;mac</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#441">&nbsp;</a></c20><c20><a href="#449_25_refs">semi</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;450</ln><a id="450">&nbsp;</a><a id="n148000"><a id="n147999"><a id="n148018">&nbsp;</a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#440_17_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#449">mac</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;451</ln><a id="451">&nbsp;</a><a id="n148017"><a id="n148003"><a id="n148004"><a id="n148002"><a id="n148015"><a id="n148001"><a id="n148016">&nbsp;</a></a></a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#682">mac_invoc_tt</a></c20><c4>(</c4><c20><a href="#451_29_refs">ref&nbsp;pth</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#451_38_refs">ref&nbsp;tts</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#451_47_refs">ctxt</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;452</ln><a id="452">&nbsp;</a><a id="n148012"><a id="n148013"><a id="n148008"><a id="n148010"><a id="n148005"><a id="n148011"><a id="n148009"><a id="n148014">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#451">pth</a></c26><c3>,</c3><c14><a href="#440_17_refs">&nbsp;</a></c14><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56490">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#451">tts</a></c26><c4>)</c4><c1><a href="../../libstd/vec.rs.html#n56490">.</a></c1><c10><a href="../../libstd/vec.rs.html#n56490">clone</a></c10><c4>()</c4><c3>,</c3><c14><a href="#440_17_refs">&nbsp;</a></c14><c26><a href="../../libsyntax/ext/expand.rs.html#449">semi</a></c26><c3>,</c3><c14><a href="#440_17_refs">&nbsp;</a></c14><c26><a href="../../libsyntax/ext/expand.rs.html#451">ctxt</a></c26><c4>)</c4><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;453</ln><a id="453">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;454</ln><a id="454">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;455</ln><a id="455">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;456</ln><a id="456">&nbsp;</a><a id="n148031"><a id="n148023"><a id="n148026"><a id="n148028"><a id="n148022"><a id="n148030"><a id="n148025"><a id="n148029"><a id="n148027">&nbsp;</a></a></a></a></a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#440_17_refs">_</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c1><a href="#440_17_refs">return&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#540">expand_non_macro_stmt</a></c26><c4>(</c4><c5><a href="#440_17_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#441">extsbox</a></c26><c3>,</c3><c27><a href="#440_17_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#443">s</a></c26><c3>,</c3><c27><a href="#440_17_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#444">fld</a></c26><c4>)</c4><c27><a href="#440_17_refs">
</a></c27><br/><ln>&nbsp;&nbsp;457</ln><a id="457">&nbsp;</a>&nbsp;<c27><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>};</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;458</ln><a id="458">&nbsp;</a><a id="n148037"><a id="n148040"><a id="n148041"><a id="n148038"><a id="n148051"><a id="n148050"><a id="n148039"><a id="n148052"><a id="n148042">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#440_17_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#151">.segments</a></c24><c10><a href="../../libstd/vec.rs.html#n51248">.len</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51248">&nbsp;&gt;</a></c10><c5><a href="#440_17_refs">&nbsp;</a></c5><c12><a href="#440_17_refs">1u</a></c12><c4>)</c4><c1><a href="#440_17_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;459</ln><a id="459">&nbsp;</a><a id="n148045"><a id="n148048"><a id="n148049"><a id="n148044"><a id="n148046">&nbsp;</a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#375">
</a></c13><br/><ln>&nbsp;&nbsp;460</ln><a id="460">&nbsp;</a><a id="n148047">&nbsp;</a><c13><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../libsyntax/ext/base.rs.html#375">"expected&nbsp;macro&nbsp;name&nbsp;without&nbsp;module&nbsp;separators"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;461</ln><a id="461">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;462</ln><a id="462">&nbsp;</a><a id="n148060"><a id="n148062"><a id="n148057"><a id="n148059"><a id="n148061"><a id="n148053"><a id="n148063"><a id="n148058"><a id="n148056"><a id="n148054">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#462_8_refs">extname</a></c20><c13><a href="#440_17_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#440_17_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#151">.segments</a></c24><c3>[</c3><c12><a href="../../libsyntax/ast.rs.html#159">0</a></c12><c3>]</c3><c24><a href="../../libsyntax/ast.rs.html#159">.identifier</a></c24><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;463</ln><a id="463">&nbsp;</a><a id="n148066"><a id="n148065"><a id="n148070"><a id="n148064"><a id="n148067"><a id="n148069"><a id="n148068">&nbsp;</a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#463_8_refs">extnamestr</a></c20><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/token.rs.html#530">ident_to_str</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#462">extname</a></c26><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;464</ln><a id="464">&nbsp;</a><a id="n148074"><a id="n148079"><a id="n148078"><a id="n148082"><a id="n148319"><a id="n148083"><a id="n148072"><a id="n148073"><a id="n148077"><a id="n148317"><a id="n148081"><a id="n148318"><a id="n148080">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#464_8_refs">fully_expanded</a></c20><c16><a href="#440_17_refs">:&nbsp;</a></c16><c8><a href="#440_17_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#440_17_refs">match&nbsp;</a></c21><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#441">extsbox</a></c26><c4>)</c4><c1><a href="../../libsyntax/ext/base.rs.html#551">.</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#551">find</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#551">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#462">extname</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#551">&nbsp;</a></c10><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;465</ln><a id="465">&nbsp;</a><a id="n148116"><a id="n148118"><a id="n148084"><a id="n148117">&nbsp;</a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;466</ln><a id="466">&nbsp;</a><a id="n148106"><a id="n148112"><a id="n148096"><a id="n148110"><a id="n148097"><a id="n148111"><a id="n148092"><a id="n148101"><a id="n148095"><a id="n148104"><a id="n148089"><a id="n148086"><a id="n148105"><a id="n148114"><a id="n148103"><a id="n148090"><a id="n148108"><a id="n148102"><a id="n148087"><a id="n148098"><a id="n148113"><a id="n148115"><a id="n148088"><a id="n148093"><a id="n148109"><a id="n148100"><a id="n148094"><a id="n148107"><a id="n148099"><a id="n148091">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c10><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c12><a href="../../libsyntax/ext/expand.rs.html#466">"macro&nbsp;undefined:&nbsp;'%s'"</a></c12><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158147">extnamestr</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;467</ln><a id="467">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;468</ln><a id="468">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;469</ln><a id="469">&nbsp;</a><a id="n148279"><a id="n148281"><a id="n148123"><a id="n148120"><a id="n148124"><a id="n148119"><a id="n148280"><a id="n148122"><a id="n148121">&nbsp;</a></a></a></a></a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n101876">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#172">SE</a></c20><c4>(</c4><c20><a href="../../libsyntax/ext/base.rs.html#149">NormalTT</a></c20><c4>(</c4><c20><a href="#469_26_refs">expandfun</a></c20><c3>,</c3><c20><a href="../../libsyntax/ext/base.rs.html#149">&nbsp;</a></c20><c20><a href="#469_37_refs">exp_span</a></c20><c4>)))</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;470</ln><a id="470">&nbsp;</a><a id="n148132"><a id="n148134"><a id="n148133"><a id="n148126">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#355">.bt_push</a></c10><c4>(</c4><c1><a href="../../libsyntax/codemap.rs.html#166">ExpnInfo</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;471</ln><a id="471">&nbsp;</a><a id="n148128"><a id="n148127">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_site:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#443">s</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;472</ln><a id="472">&nbsp;</a><a id="n148131">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c10><c1><a href="../../libsyntax/codemap.rs.html#162">NameAndSpan</a></c1><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;</a></c10><c3>{</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;473</ln><a id="473">&nbsp;</a><a id="n148129">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#463">extnamestr</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;474</ln><a id="474">&nbsp;</a><a id="n148130">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#469">exp_span</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;475</ln><a id="475">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c10><a href="../../libsyntax/ext/base.rs.html#355">
</a></c10><br/><ln>&nbsp;&nbsp;476</ln><a id="476">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#355">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;477</ln><a id="477">&nbsp;</a><a id="n148137"><a id="n148140"><a id="n148135"><a id="n148136"><a id="n148139"><a id="n148138">&nbsp;</a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#477_16_refs">fm</a></c20><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/token.rs.html#580">fresh_mark</a></c26><c4>()</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;478</ln><a id="478">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;mark&nbsp;before&nbsp;expansion:
</c40><br/><ln>&nbsp;&nbsp;479</ln><a id="479">&nbsp;</a><a id="n148141"><a id="n148145"><a id="n148146"><a id="n148144"><a id="n148148"><a id="n148147"><a id="n148142"><a id="n148143">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#479_16_refs">marked_tts</a></c20><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#1357">mark_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#477">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;480</ln><a id="480">&nbsp;</a><a id="n148150"><a id="n148154"><a id="n148149"><a id="n148155"><a id="n148152"><a id="n148156"><a id="n148151"><a id="n148153">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#480_16_refs">marked_ctxt</a></c20><c13><a href="#440_17_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ast_util.rs.html#737">new_mark</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#477">fm</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#448">ctxt</a></c26><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;481</ln><a id="481">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;482</ln><a id="482">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;See&nbsp;the&nbsp;comment&nbsp;in&nbsp;expand_expr&nbsp;for&nbsp;why&nbsp;we&nbsp;want&nbsp;the&nbsp;original&nbsp;span,
</c40><br/><ln>&nbsp;&nbsp;483</ln><a id="483">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;the&nbsp;current&nbsp;mac.span.
</c40><br/><ln>&nbsp;&nbsp;484</ln><a id="484">&nbsp;</a><a id="n148162"><a id="n148159"><a id="n148157"><a id="n148161"><a id="n148160"><a id="n148158"><a id="n148163">&nbsp;</a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#484_16_refs">mac_span</a></c20><c13><a href="#440_17_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1391">original_span</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;485</ln><a id="485">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;486</ln><a id="486">&nbsp;</a><a id="n148173"><a id="n148165"><a id="n148223"><a id="n148222"><a id="n148221"><a id="n148168"><a id="n148164"><a id="n148167">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#486_16_refs">expanded</a></c20><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#440_17_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#469">expandfun</a></c26><c10><a href="#440_17_refs">.expand</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c3>,</c3><c10><a href="#440_17_refs">
</a></c10><br/><ln>&nbsp;&nbsp;487</ln><a id="487">&nbsp;</a><a id="n148170"><a id="n148169">&nbsp;</a></a><c10><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#484">mac_span</a></c26><c24><a href="../../libsyntax/codemap.rs.html#168">.call_site</a></c24><c3>,</c3><c10><a href="#440_17_refs">
</a></c10><br/><ln>&nbsp;&nbsp;488</ln><a id="488">&nbsp;</a><a id="n148171">&nbsp;</a><c10><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#479">marked_tts</a></c26><c3>,</c3><c10><a href="#440_17_refs">
</a></c10><br/><ln>&nbsp;&nbsp;489</ln><a id="489">&nbsp;</a><a id="n148172">&nbsp;</a><c10><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#480">marked_ctxt</a></c26><c4>)</c4><c10><a href="#440_17_refs">&nbsp;</a></c10><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;490</ln><a id="490">&nbsp;</a><a id="n148174"><a id="n148175"><a id="n148185"><a id="n148187"><a id="n148186">&nbsp;</a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#138">MRExpr</a></c20><c4>(</c4><c20><a href="#490_23_refs">e</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;491</ln><a id="491">&nbsp;</a><a id="n148184"><a id="n148183">&nbsp;</a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#440_17_refs">@</a></c5><c1><a href="../../libsyntax/codemap.rs.html#91">codemap::Spanned</a></c1><c22><a href="#440_17_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;492</ln><a id="492">&nbsp;</a><a id="n148180"><a id="n148179"><a id="n148178"><a id="n148177">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c22><c26><a href="../../libsyntax/ast.rs.html#435">StmtExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#490">e</a></c26><c3>,</c3><c27><a href="#440_17_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ast.rs.html#182">ast::DUMMY_NODE_ID</a></c26><c4>)</c4><c3>,</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;493</ln><a id="493">&nbsp;</a><a id="n148181"><a id="n148182">&nbsp;</a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#490">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#496">.span</a></c24><c3>,</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;494</ln><a id="494">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;495</ln><a id="495">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;496</ln><a id="496">&nbsp;</a><a id="n148192"><a id="n148189"><a id="n148193"><a id="n148188"><a id="n148191">&nbsp;</a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ext/base.rs.html#140">MRAny</a></c20><c4>(</c4><c20><a href="#496_22_refs">any_macro</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#496">any_macro</a></c26><c22><a href="#440_17_refs">.make_stmt</a></c22><c4>()</c4><c3>,</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;497</ln><a id="497">&nbsp;</a><a id="n148196"><a id="n148194"><a id="n148220"><a id="n148219">&nbsp;</a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#440_17_refs">_</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;498</ln><a id="498">&nbsp;</a><a id="n148197"><a id="n148198">&nbsp;</a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;499</ln><a id="499">&nbsp;</a><a id="n148212"><a id="n148199"><a id="n148210"><a id="n148218"><a id="n148217"><a id="n148208"><a id="n148215"><a id="n148205"><a id="n148202"><a id="n148209"><a id="n148203"><a id="n148216"><a id="n148206"><a id="n148204"><a id="n148207"><a id="n148211"><a id="n148214"><a id="n148201"><a id="n148200"><a id="n148213">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c20><a href="#499_25_refs">"non-stmt&nbsp;macro&nbsp;in&nbsp;stmt&nbsp;pos:&nbsp;%s"</a></c20><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c5><a href="../../libsyntax/ext/expand.rs.html#463">extnamestr</a></c5><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;500</ln><a id="500">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>};</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;501</ln><a id="501">&nbsp;</a><a id="n148225"><a id="n148226"><a id="n148230"><a id="n148229"><a id="n148227"><a id="n148224"><a id="n148231"><a id="n148228">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#501_16_refs">marked_after</a></c20><c13><a href="#440_17_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1367">mark_stmt</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#486">expanded</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#477">fm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;502</ln><a id="502">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;503</ln><a id="503">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Keep&nbsp;going,&nbsp;outside-in.
</c40><br/><ln>&nbsp;&nbsp;504</ln><a id="504">&nbsp;</a><a id="n148277"><a id="n148276"><a id="n148275"><a id="n148232"><a id="n148233"><a id="n148235"><a id="n148236"><a id="n148237">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#504_16_refs">fully_expanded</a></c20><c16><a href="#440_17_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#440_17_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#444">fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1210">.fold_stmt</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#501">marked_after</a></c26><c4>)</c4><c10><a href="../../libsyntax/ext/expand.rs.html#1210">&nbsp;</a></c10><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;505</ln><a id="505">&nbsp;</a><a id="n148239"><a id="n148238"><a id="n148264"><a id="n148262"><a id="n148263">&nbsp;</a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#505_21_refs">stmt</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;506</ln><a id="506">&nbsp;</a><a id="n148240"><a id="n148245"><a id="n148242"><a id="n148246"><a id="n148243"><a id="n148244"><a id="n148241">&nbsp;</a></a></a></a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#440_17_refs">&nbsp;</a></c22><c20><a href="#506_24_refs">fully_expanded</a></c20><c13><a href="#440_17_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#440_17_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#505">stmt</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;507</ln><a id="507">&nbsp;</a><a id="n148248"><a id="n148250"><a id="n148249">&nbsp;</a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#366">.bt_pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;508</ln><a id="508">&nbsp;</a><a id="n148260"><a id="n148261">&nbsp;</a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#440_17_refs">@</a></c5><c1><a href="../../libsyntax/codemap.rs.html#91">Spanned</a></c1><c22><a href="#440_17_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;509</ln><a id="509">&nbsp;</a><a id="n148252"><a id="n148253">&nbsp;</a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#505">stmt</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;510</ln><a id="510">&nbsp;</a><a id="n148259"><a id="n148257"><a id="n148256"><a id="n148258">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c22><c4>(</c4><c5><a href="../../libsyntax/ast.rs.html#429">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#506">fully_expanded</a></c26><c4>)</c4><c1><a href="../../libsyntax/ast.rs.html#429">.</a></c1><c10><a href="../../libsyntax/ast.rs.html#429">clone</a></c10><c4>()</c4><c3>,</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;511</ln><a id="511">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;512</ln><a id="512">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;513</ln><a id="513">&nbsp;</a><a id="n148273"><a id="n148265"><a id="n148272"><a id="n148274">&nbsp;</a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;514</ln><a id="514">&nbsp;</a><a id="n148271"><a id="n148269"><a id="n148268"><a id="n148267">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;515</ln><a id="515">&nbsp;</a><a id="n148270">&nbsp;</a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c12><a href="../../libsyntax/ext/base.rs.html#375">"macro&nbsp;didn't&nbsp;expand&nbsp;to&nbsp;a&nbsp;statement"</a></c12><c4>)</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;516</ln><a id="516">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;517</ln><a id="517">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;518</ln><a id="518">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;519</ln><a id="519">&nbsp;</a><a id="n148278">&nbsp;</a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#504">fully_expanded</a></c26><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;520</ln><a id="520">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;521</ln><a id="521">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;522</ln><a id="522">&nbsp;</a><a id="n148316"><a id="n148315"><a id="n148314"><a id="n148282">&nbsp;</a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#440_17_refs">_</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;523</ln><a id="523">&nbsp;</a><a id="n148285"><a id="n148284"><a id="n148313"><a id="n148286">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#442">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#375">.span_fatal</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#448">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#146">.span</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;524</ln><a id="524">&nbsp;</a><a id="n148300"><a id="n148296"><a id="n148304"><a id="n148292"><a id="n148303"><a id="n148294"><a id="n148299"><a id="n148309"><a id="n148312"><a id="n148306"><a id="n148287"><a id="n148307"><a id="n148289"><a id="n148288"><a id="n148293"><a id="n148298"><a id="n148305"><a id="n148308"><a id="n148297"><a id="n148290"><a id="n148301"><a id="n148291"><a id="n148310"><a id="n148295"><a id="n148311"><a id="n148302">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c22><a href="../../libsyntax/ext/base.rs.html#375">fmt!</a></c22><c4>(</c4><c22><a href="../../libsyntax/ext/expand.rs.html#524">"'%s'&nbsp;is&nbsp;not&nbsp;a&nbsp;tt-style&nbsp;macro"</a></c22><c3>,</c3><c22><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;</a></c22><c27><a href="../../libstd/unstable/extfmt.rs.html#n158145">extnamestr</a></c27><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#375">
</a></c10><br/><ln>&nbsp;&nbsp;525</ln><a id="525">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/base.rs.html#375">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;526</ln><a id="526">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;527</ln><a id="527">&nbsp;</a>&nbsp;<c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;528</ln><a id="528">&nbsp;</a><a id="n148320"><a id="n148321"><a id="n148345">&nbsp;</a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#440_17_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#464">fully_expanded</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;529</ln><a id="529">&nbsp;</a><a id="n148337"><a id="n148323"><a id="n148324"><a id="n148339"><a id="n148338"><a id="n148322"><a id="n148325">&nbsp;</a></a></a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#435">StmtExpr</a></c20><c4>(</c4><c20><a href="#529_17_refs">e</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#435">&nbsp;</a></c20><c20><a href="#529_20_refs">stmt_id</a></c20><c4>)</c4><c21><a href="#440_17_refs">&nbsp;if&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#448">semi</a></c26><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;530</ln><a id="530">&nbsp;</a><a id="n148326"><a id="n148334"><a id="n148335"><a id="n148336">&nbsp;</a></a></a></a><c22><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n101876">Some</a></c26><c4>(</c4><c5><a href="#440_17_refs">@</a></c5><c1><a href="../../libsyntax/codemap.rs.html#91">Spanned</a></c1><c27><a href="#440_17_refs">&nbsp;</a></c27><c3>{</c3><c27><a href="#440_17_refs">
</a></c27><br/><ln>&nbsp;&nbsp;531</ln><a id="531">&nbsp;</a><a id="n148328"><a id="n148329">&nbsp;</a></a><c27><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#464">fully_expanded</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c27><a href="#440_17_refs">
</a></c27><br/><ln>&nbsp;&nbsp;532</ln><a id="532">&nbsp;</a><a id="n148331"><a id="n148330"><a id="n148333"><a id="n148332">&nbsp;</a></a></a></a><c27><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c27><c26><a href="../../libsyntax/ast.rs.html#438">StmtSemi</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#529">e</a></c26><c3>,</c3><c27><a href="#440_17_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#529">stmt_id</a></c26><c4>)</c4><c3>,</c3><c27><a href="#440_17_refs">
</a></c27><br/><ln>&nbsp;&nbsp;533</ln><a id="533">&nbsp;</a>&nbsp;<c27><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c4>)</c4><c27><a href="#440_17_refs">
</a></c27><br/><ln>&nbsp;&nbsp;534</ln><a id="534">&nbsp;</a>&nbsp;<c27><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;535</ln><a id="535">&nbsp;</a><a id="n148344"><a id="n148341"><a id="n148343"><a id="n148342"><a id="n148340">&nbsp;</a></a></a></a></a><c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#440_17_refs">_</a></c20><c21><a href="#440_17_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#440_17_refs">&nbsp;</a></c21><c26><a href="../../libstd/option.rs.html#n101876">Some</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#464">fully_expanded</a></c26><c4>)</c4><c3>,</c3><c21><a href="#440_17_refs">&nbsp;</a></c21><c41>/*&nbsp;might&nbsp;already&nbsp;have&nbsp;a&nbsp;semi&nbsp;*/</c41><c21><a href="#440_17_refs">
</a></c21><br/><ln>&nbsp;&nbsp;536</ln><a id="536">&nbsp;</a>&nbsp;<c21><a href="#440_17_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#440_17_refs">
</a></c22><br/><ln>&nbsp;&nbsp;537</ln><a id="537">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;538</ln><a id="538">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;539</ln><a id="539">&nbsp;</a>&nbsp;<c40>//&nbsp;expand&nbsp;a&nbsp;non-macro&nbsp;stmt.&nbsp;this&nbsp;is&nbsp;essentially&nbsp;the&nbsp;fallthrough&nbsp;for
</c40><br/><ln>&nbsp;&nbsp;540</ln><a id="540">&nbsp;</a><a id="n148347">&nbsp;</a><c40>//&nbsp;expand_stmt,&nbsp;above.
</c40><br/><ln>&nbsp;&nbsp;541</ln><a id="541">&nbsp;</a><a id="n148353"><a id="n148349"><a id="n148354"><a id="n148350"><a id="n148355"><a id="n148359"><a id="n148358"><a id="n148360">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#540_23_refs">&nbsp;expand_non_macro_stmt</a></c30><c4>(</c4><c20><a href="#541_25_refs">exts</a></c20><c1><a href="#540_23_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#540_23_refs">&nbsp;</a></c1><c20><a href="#541_42_refs">s</a></c20><c1><a href="#540_23_refs">:&nbsp;</a></c1><c8><a href="#540_23_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">Stmt</a></c8><c3>,</c3><c1><a href="#540_23_refs">&nbsp;</a></c1><c20><a href="#541_52_refs">fld</a></c20><c1><a href="#540_23_refs">:&nbsp;</a></c1><c8><a href="#540_23_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#540_23_refs">
</a></c1><br/><ln>&nbsp;&nbsp;542</ln><a id="542">&nbsp;</a><a id="n148364"><a id="n148363"><a id="n148593"><a id="n148366">&nbsp;</a></a></a></a><c1><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#540_23_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;</a></c8><c8><a href="#540_23_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">Stmt</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c1><a href="#540_23_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;543</ln><a id="543">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;is&nbsp;it&nbsp;a&nbsp;let?
</c40><br/><ln>&nbsp;&nbsp;544</ln><a id="544">&nbsp;</a><a id="n148367"><a id="n148592"><a id="n148368">&nbsp;</a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#540_23_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#541">s</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c21><a href="#540_23_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#540_23_refs">
</a></c21><br/><ln>&nbsp;&nbsp;545</ln><a id="545">&nbsp;</a><a id="n148373"><a id="n148372"><a id="n148375">&nbsp;</a></a></a><c21><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#432">StmtDecl</a></c20><c4>(</c4><c20><a href="#540_23_refs">@</a></c20><c20><a href="../../libsyntax/codemap.rs.html#91">Spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#91">
</a></c20><br/><ln>&nbsp;&nbsp;546</ln><a id="546">&nbsp;</a><a id="n148370"><a id="n148369">&nbsp;</a></a><c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#461">DeclLocal</a></c20><c4>(</c4><c20><a href="#546_28_refs">ref&nbsp;local</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#91">
</a></c20><br/><ln>&nbsp;&nbsp;547</ln><a id="547">&nbsp;</a><a id="n148371">&nbsp;</a><c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c20><c20><a href="#547_18_refs">stmt_span</a></c20><c20><a href="../../libsyntax/codemap.rs.html#91">
</a></c20><br/><ln>&nbsp;&nbsp;548</ln><a id="548">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/codemap.rs.html#91">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>},</c3><c20><a href="../../libsyntax/ast.rs.html#432">
</a></c20><br/><ln>&nbsp;&nbsp;549</ln><a id="549">&nbsp;</a><a id="n148585"><a id="n148374"><a id="n148583"><a id="n148584">&nbsp;</a></a></a></a><c20><a href="../../libsyntax/ast.rs.html#432">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c20><a href="#549_8_refs">node_id</a></c20><c4>)</c4><c21><a href="#540_23_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#540_23_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;550</ln><a id="550">&nbsp;</a><a id="n148381"><a id="n148379"><a id="n148382"><a id="n148378"><a id="n148376"><a id="n148377"><a id="n148380">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#550_16_refs">block_info</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#748">get_block_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#541">exts</a></c26><c4>)</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;551</ln><a id="551">&nbsp;</a><a id="n148385"><a id="n148383"><a id="n148387"><a id="n148384"><a id="n148388"><a id="n148386">&nbsp;</a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#551_16_refs">pending_renames</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#550">block_info</a></c26><c24><a href="../../libsyntax/ext/base.rs.html#184">.pending_renames</a></c24><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;552</ln><a id="552">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;553</ln><a id="553">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;take&nbsp;it&nbsp;apart:
</c40><br/><ln>&nbsp;&nbsp;554</ln><a id="554">&nbsp;</a><a id="n148401"><a id="n148397"><a id="n148396"><a id="n148402"><a id="n148390"><a id="n148389">&nbsp;</a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#540_23_refs">@</a></c20><c20><a href="../../libsyntax/ast.rs.html#446">Local</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#446">is_mutbl:</a></c20><c20><a href="#554_32_refs">is_mutbl</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;555</ln><a id="555">&nbsp;</a><a id="n148391">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ty:_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;556</ln><a id="556">&nbsp;</a><a id="n148392">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pat:</a></c20><c20><a href="#556_27_refs">pat</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;557</ln><a id="557">&nbsp;</a><a id="n148393">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init:</a></c20><c20><a href="#557_28_refs">init</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;558</ln><a id="558">&nbsp;</a><a id="n148394">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:</a></c20><c20><a href="#558_26_refs">id</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;559</ln><a id="559">&nbsp;</a><a id="n148395">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:</a></c20><c20><a href="#559_28_refs">span</a></c20><c20><a href="../../libsyntax/ast.rs.html#446">
</a></c20><br/><ln>&nbsp;&nbsp;560</ln><a id="560">&nbsp;</a><a id="n148400"><a id="n148399">&nbsp;</a></a><c20><a href="../../libsyntax/ast.rs.html#446">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#540_23_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#546">local</a></c26><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;561</ln><a id="561">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;types&nbsp;can't&nbsp;be&nbsp;copied&nbsp;automatically&nbsp;because&nbsp;of&nbsp;the&nbsp;owned&nbsp;ptr&nbsp;in&nbsp;ty_tup...
</c40><br/><ln>&nbsp;&nbsp;562</ln><a id="562">&nbsp;</a><a id="n148408"><a id="n148404"><a id="n148409"><a id="n148403"><a id="n148407"><a id="n148410"><a id="n148406">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#562_16_refs">ty</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#546">local</a></c26><c24><a href="../../libsyntax/ast.rs.html#780">.ty</a></c24><c10><a href="../../libsyntax/ast.rs.html#780">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;563</ln><a id="563">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;expand&nbsp;the&nbsp;pat&nbsp;(it&nbsp;might&nbsp;contain&nbsp;exprs...&nbsp;#:(o)&gt;
</c40><br/><ln>&nbsp;&nbsp;564</ln><a id="564">&nbsp;</a><a id="n148414"><a id="n148417"><a id="n148411"><a id="n148416"><a id="n148415"><a id="n148418"><a id="n148412">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#564_16_refs">expanded_pat</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#541">fld</a></c26><c10><a href="c=0 n=180681">.fold_pat</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#556">pat</a></c26><c4>)</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;565</ln><a id="565">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;find&nbsp;the&nbsp;pat_idents&nbsp;in&nbsp;the&nbsp;pattern:
</c40><br/><ln>&nbsp;&nbsp;566</ln><a id="566">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;oh&nbsp;dear&nbsp;heaven...&nbsp;this&nbsp;is&nbsp;going&nbsp;to&nbsp;include&nbsp;the&nbsp;enum&nbsp;names,&nbsp;as&nbsp;well....
</c40><br/><ln>&nbsp;&nbsp;567</ln><a id="567">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;...&nbsp;but&nbsp;that&nbsp;should&nbsp;be&nbsp;okay,&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;new&nbsp;names&nbsp;are&nbsp;gensyms
</c40><br/><ln>&nbsp;&nbsp;568</ln><a id="568">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;for&nbsp;the&nbsp;old&nbsp;ones.
</c40><br/><ln>&nbsp;&nbsp;569</ln><a id="569">&nbsp;</a><a id="n148419"><a id="n148420"><a id="n148425"><a id="n148422"><a id="n148426"><a id="n148424"><a id="n148423">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#569_16_refs">idents</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#540_23_refs">@mut&nbsp;</a></c5><c16><a href="#540_23_refs">~</a></c16><c3>[];</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;570</ln><a id="570">&nbsp;</a><a id="n148429"><a id="n148430"><a id="n148428"><a id="n148433"><a id="n148432"><a id="n148431"><a id="n148427">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#570_16_refs">name_finder</a></c20><c16><a href="#540_23_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#685">new_name_finder</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#569">idents</a></c26><c4>)</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;571</ln><a id="571">&nbsp;</a><a id="n148436"><a id="n148437"><a id="n148435"><a id="n148438"><a id="n148439">&nbsp;</a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#570">name_finder</a></c26><c13><a href="#540_23_refs">.visit_pat</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#564">expanded_pat</a></c26><c3>,</c3><c4>())</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;572</ln><a id="572">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;generate&nbsp;fresh&nbsp;names,&nbsp;push&nbsp;them&nbsp;to&nbsp;a&nbsp;new&nbsp;pending&nbsp;list
</c40><br/><ln>&nbsp;&nbsp;573</ln><a id="573">&nbsp;</a><a id="n148441"><a id="n148440"><a id="n148446"><a id="n148447"><a id="n148443"><a id="n148444"><a id="n148445">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#573_16_refs">new_pending_renames</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#540_23_refs">@mut&nbsp;</a></c5><c16><a href="#540_23_refs">~</a></c16><c3>[];</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;574</ln><a id="574">&nbsp;</a><a id="n148452"><a id="n148459"><a id="n148487"><a id="n148480"><a id="n148485"><a id="n148488"><a id="n148449"><a id="n148461"><a id="n148448"><a id="n148483"><a id="n148455"><a id="n148451"><a id="n148453"><a id="n148462"><a id="n148481"><a id="n148457"><a id="n148460"><a id="n148458"><a id="n148454"><a id="n148482"><a id="n148463"><a id="n148484"><a id="n148486">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c22><a href="../../libstd/option.rs.html#n101876">&nbsp;</a></c22><c20><a href="#574_16_refs">ident</a></c20><c22><a href="../../libstd/option.rs.html#n101876">&nbsp;in&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#569">idents</a></c26><c10><a href="../../libstd/vec.rs.html#n51839">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51839">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n101872">
</a></c22><br/><ln>&nbsp;&nbsp;575</ln><a id="575">&nbsp;</a><a id="n148470"><a id="n148465"><a id="n148464"><a id="n148467"><a id="n148466"><a id="n148469"><a id="n148468">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n101872">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n101872">&nbsp;</a></c22><c20><a href="#575_20_refs">new_name</a></c20><c16><a href="../../libstd/option.rs.html#n101872">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/parse/token.rs.html#547">fresh_name</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#574">ident</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n101872">
</a></c22><br/><ln>&nbsp;&nbsp;576</ln><a id="576">&nbsp;</a><a id="n148478"><a id="n148476"><a id="n148474"><a id="n148479"><a id="n148475"><a id="n148477"><a id="n148472">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n101872">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#573">new_pending_renames</a></c26><c13><a href="../../libstd/vec.rs.html#n53598">.push</a></c13><c4>((</c4><c5><a href="../../libstd/vec.rs.html#n53598">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#574">ident</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#575">new_name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n101872">
</a></c22><br/><ln>&nbsp;&nbsp;577</ln><a id="577">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n101872">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n101876">
</a></c22><br/><ln>&nbsp;&nbsp;578</ln><a id="578">&nbsp;</a><a id="n148491"><a id="n148492"><a id="n148490"><a id="n148495"><a id="n148493"><a id="n148494"><a id="n148489">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n101876">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#578_16_refs">rename_fld</a></c20><c16><a href="#540_23_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#774">renames_to_fold</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#573">new_pending_renames</a></c26><c4>)</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;579</ln><a id="579">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;rewrite&nbsp;the&nbsp;pattern&nbsp;using&nbsp;the&nbsp;new&nbsp;names&nbsp;(the&nbsp;old&nbsp;ones
</c40><br/><ln>&nbsp;&nbsp;580</ln><a id="580">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;have&nbsp;already&nbsp;been&nbsp;applied):
</c40><br/><ln>&nbsp;&nbsp;581</ln><a id="581">&nbsp;</a><a id="n148501"><a id="n148496"><a id="n148497"><a id="n148500"><a id="n148503"><a id="n148502"><a id="n148499">&nbsp;</a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#581_16_refs">rewritten_pat</a></c20><c16><a href="#540_23_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#578">rename_fld</a></c26><c10><a href="#540_23_refs">.fold_pat</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#564">expanded_pat</a></c26><c4>)</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;582</ln><a id="582">&nbsp;</a>&nbsp;<c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;existing&nbsp;pending&nbsp;renames:
</c40><br/><ln>&nbsp;&nbsp;583</ln><a id="583">&nbsp;</a><a id="n148526"><a id="n148511"><a id="n148504"><a id="n148531"><a id="n148523"><a id="n148527"><a id="n148507"><a id="n148514"><a id="n148534"><a id="n148508"><a id="n148517"><a id="n148524"><a id="n148530"><a id="n148513"><a id="n148515"><a id="n148529"><a id="n148505"><a id="n148521"><a id="n148518"><a id="n148528"><a id="n148509"><a id="n148525"><a id="n148516"><a id="n148532"><a id="n148533"><a id="n148519"><a id="n148510">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c16><a href="../../libstd/option.rs.html#n101876">&nbsp;</a></c16><c20><a href="#583_16_refs">pr</a></c20><c16><a href="../../libstd/option.rs.html#n101876">&nbsp;in&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#573">new_pending_renames</a></c26><c10><a href="../../libstd/vec.rs.html#n51839">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51839">&nbsp;</a></c10><c3>{</c3><c26><a href="../../libsyntax/ext/expand.rs.html#551">pending_renames</a></c26><c10><a href="../../libstd/vec.rs.html#n53598">.push</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56719">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#583">pr</a></c26><c4>)</c4><c3>}</c3><c16><a href="../../libstd/option.rs.html#n101876">
</a></c16><br/><ln>&nbsp;&nbsp;584</ln><a id="584">&nbsp;</a>&nbsp;<c16><a href="../../libstd/option.rs.html#n101876">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c40>//&nbsp;also,&nbsp;don't&nbsp;forget&nbsp;to&nbsp;expand&nbsp;the&nbsp;init:
</c40><br/><ln>&nbsp;&nbsp;585</ln><a id="585">&nbsp;</a><a id="n148544"><a id="n148552"><a id="n148538"><a id="n148548"><a id="n148542"><a id="n148551"><a id="n148539"><a id="n148549"><a id="n148535"><a id="n148536"><a id="n148547"><a id="n148550"><a id="n148540"><a id="n148553"><a id="n148546">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c16><a href="../../libstd/option.rs.html#n101876">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#585_16_refs">new_init_opt</a></c20><c13><a href="#540_23_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#557">init</a></c26><c10><a href="../../libstd/option.rs.html#n102502">.map</a></c10><c4>(</c4><c1><a href="../../libstd/option.rs.html#n102502">|</a></c1><c20><a href="#585_41_refs">e</a></c20><c8><a href="../../libstd/option.rs.html#n102502">|</a></c8><c1><a href="../../libstd/option.rs.html#n102502">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/expand.rs.html#541">fld</a></c8><c22><a href="../../libsyntax/ext/expand.rs.html#1189">.fold_expr</a></c22><c4>(</c4><c5><a href="../../libsyntax/ext/expand.rs.html#1189">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#585">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;586</ln><a id="586">&nbsp;</a><a id="n148554"><a id="n148555"><a id="n148565"><a id="n148566">&nbsp;</a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_23_refs">&nbsp;</a></c22><c20><a href="#586_16_refs">rewritten_local</a></c20><c13><a href="#540_23_refs">&nbsp;=
</a></c13><br/><ln>&nbsp;&nbsp;587</ln><a id="587">&nbsp;</a><a id="n148563"><a id="n148564">&nbsp;</a></a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c5><a href="#540_23_refs">@</a></c5><c1><a href="../../libsyntax/ast.rs.html#446">Local</a></c1><c13><a href="#540_23_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;588</ln><a id="588">&nbsp;</a><a id="n148557">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_mutbl:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#554">is_mutbl</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;589</ln><a id="589">&nbsp;</a><a id="n148558">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ty:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#562">ty</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;590</ln><a id="590">&nbsp;</a><a id="n148559">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pat:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#581">rewritten_pat</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;591</ln><a id="591">&nbsp;</a><a id="n148560">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#585">new_init_opt</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;592</ln><a id="592">&nbsp;</a><a id="n148561">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#558">id</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;593</ln><a id="593">&nbsp;</a><a id="n148562">&nbsp;</a><c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#559">span</a></c26><c3>,</c3><c13><a href="#540_23_refs">
</a></c13><br/><ln>&nbsp;&nbsp;594</ln><a id="594">&nbsp;</a>&nbsp;<c13><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>};</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;595</ln><a id="595">&nbsp;</a><a id="n148567"><a id="n148580"><a id="n148581"><a id="n148582">&nbsp;</a></a></a></a><c22><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n101876">Some</a></c26><c4>(</c4><c5><a href="#540_23_refs">@</a></c5><c1><a href="../../libsyntax/codemap.rs.html#91">Spanned</a></c1><c27><a href="#540_23_refs">&nbsp;</a></c27><c3>{</c3><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;596</ln><a id="596">&nbsp;</a><a id="n148578"><a id="n148575"><a id="n148569"><a id="n148576">&nbsp;</a></a></a></a><c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c27><c26><a href="../../libsyntax/ast.rs.html#432">StmtDecl</a></c26><c4>(</c4><c5><a href="#540_23_refs">@</a></c5><c1><a href="../../libsyntax/codemap.rs.html#91">Spanned</a></c1><c27><a href="#540_23_refs">&nbsp;</a></c27><c3>{</c3><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;597</ln><a id="597">&nbsp;</a><a id="n148571"><a id="n148573"><a id="n148572">&nbsp;</a></a></a><c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c27><c26><a href="../../libsyntax/ast.rs.html#461">DeclLocal</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#586">rewritten_local</a></c26><c4>)</c4><c3>,</c3><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;598</ln><a id="598">&nbsp;</a><a id="n148574">&nbsp;</a><c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#547">stmt_span</a></c26><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;599</ln><a id="599">&nbsp;</a>&nbsp;<c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>},</c3><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;600</ln><a id="600">&nbsp;</a><a id="n148577">&nbsp;</a><c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#549">node_id</a></c26><c4>)</c4><c3>,</c3><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;601</ln><a id="601">&nbsp;</a><a id="n148579">&nbsp;</a><c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#559">span</a></c26><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;602</ln><a id="602">&nbsp;</a>&nbsp;<c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c4>)</c4><c27><a href="#540_23_refs">
</a></c27><br/><ln>&nbsp;&nbsp;603</ln><a id="603">&nbsp;</a>&nbsp;<c27><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>},</c3><c21><a href="#540_23_refs">
</a></c21><br/><ln>&nbsp;&nbsp;604</ln><a id="604">&nbsp;</a><a id="n148586"><a id="n148590"><a id="n148587"><a id="n148588"><a id="n148591"><a id="n148589">&nbsp;</a></a></a></a></a></a><c21><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#540_23_refs">_</a></c20><c21><a href="#540_23_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#540_23_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/fold.rs.html#841">noop_fold_stmt</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#541">s</a></c26><c3>,</c3><c22><a href="#540_23_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#541">fld</a></c26><c4>)</c4><c3>,</c3><c21><a href="#540_23_refs">
</a></c21><br/><ln>&nbsp;&nbsp;605</ln><a id="605">&nbsp;</a>&nbsp;<c21><a href="#540_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#540_23_refs">
</a></c22><br/><ln>&nbsp;&nbsp;606</ln><a id="606">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;607</ln><a id="607">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;608</ln><a id="608">&nbsp;</a>&nbsp;<c40>//&nbsp;a&nbsp;visitor&nbsp;that&nbsp;extracts&nbsp;the&nbsp;pat_ident&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;609</ln><a id="609">&nbsp;</a>&nbsp;<c40>//&nbsp;from&nbsp;a&nbsp;given&nbsp;thingy&nbsp;and&nbsp;puts&nbsp;them&nbsp;in&nbsp;a&nbsp;mutable
</c40><br/><ln>&nbsp;&nbsp;610</ln><a id="610">&nbsp;</a>&nbsp;<c40>//&nbsp;array&nbsp;(passed&nbsp;in&nbsp;to&nbsp;the&nbsp;traversal)
</c40><br/><ln>&nbsp;&nbsp;611</ln><a id="611">&nbsp;</a><a id="n148617"><a id="n148611"><a id="n148606"><a id="n148618"><a id="n148614"><a id="n148608"><a id="n148619"><a id="n148613"><a id="n148601"><a id="n148615"><a id="n148602"><a id="n148594"><a id="n148609"><a id="n148610"><a id="n148604"><a id="n148616">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/ext/expand.rs.html#611">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;612</ln><a id="612">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#611_19_refs">&nbsp;NewNameFinderContext&nbsp;</a></c31><c3>{</c3><c31><a href="#611_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;613</ln><a id="613">&nbsp;</a><a id="n148595"><a id="n148599"><a id="n148598"><a id="n148600"><a id="n148597">&nbsp;</a></a></a></a></a><c31><a href="#611_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#613_4_refs">ident_accumulator:&nbsp;</a></c24><c8><a href="#613_4_refs">@mut&nbsp;~</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>],</c3><c31><a href="#611_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;614</ln><a id="614">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;615</ln><a id="615">&nbsp;</a><a id="n148621">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;616</ln><a id="616">&nbsp;</a><a id="n148623"><a id="n148622"><a id="n148625">&nbsp;</a></a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/visit.rs.html#68">Visitor</a></c33><c5><a href="../../libsyntax/visit.rs.html#68">&lt;</a></c5><c4>()</c4><c1><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c1><c33>&nbsp;for&nbsp;</c33><c8><a href="../../libsyntax/ext/expand.rs.html#611">NewNameFinderContext</a></c8><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;617</ln><a id="617">&nbsp;</a><a id="n148710"><a id="n148631"><a id="n148628"><a id="n148629"><a id="n148709"><a id="n148632"><a id="n148627"><a id="n148634">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#617_4_refs">&nbsp;visit_pat</a></c30><c4>(</c4><c18><a href="#617_4_refs">&amp;mut&nbsp;self</a></c18><c3>,</c3><c18><a href="#617_4_refs">&nbsp;</a></c18><c20><a href="#617_28_refs">pattern</a></c20><c18><a href="#617_4_refs">:&nbsp;</a></c18><c8><a href="#617_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#311">ast::Pat</a></c8><c3>,</c3><c18><a href="#617_4_refs">&nbsp;</a></c18><c20><a href="#617_4_refs">_</a></c20><c18><a href="#617_4_refs">:&nbsp;</a></c18><c4>())</c4><c18><a href="#617_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#617_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;618</ln><a id="618">&nbsp;</a><a id="n148637"><a id="n148636"><a id="n148708">&nbsp;</a></a></a><c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#617_4_refs">&nbsp;</a></c21><c5><a href="#617_4_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#617">pattern</a></c26><c21><a href="#617_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#617_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;619</ln><a id="619">&nbsp;</a>&nbsp;<c21><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;we&nbsp;found&nbsp;a&nbsp;pat_ident!
</c40><br/><ln>&nbsp;&nbsp;620</ln><a id="620">&nbsp;</a><a id="n148644">&nbsp;</a><c21><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#311">ast::Pat&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#311">
</a></c20><br/><ln>&nbsp;&nbsp;621</ln><a id="621">&nbsp;</a><a id="n148638">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#311">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c20><c20><a href="#617_4_refs">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#311">
</a></c20><br/><ln>&nbsp;&nbsp;622</ln><a id="622">&nbsp;</a><a id="n148639"><a id="n148641"><a id="n148640"><a id="n148642">&nbsp;</a></a></a></a><c20><a href="../../libsyntax/ast.rs.html#311">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#340">ast::PatIdent</a></c20><c4>(</c4><c20><a href="#617_4_refs">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#340">&nbsp;</a></c20><c20><a href="#622_39_refs">ref&nbsp;path</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#340">&nbsp;</a></c20><c20><a href="#622_49_refs">ref&nbsp;inner</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#311">
</a></c20><br/><ln>&nbsp;&nbsp;623</ln><a id="623">&nbsp;</a><a id="n148643">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#311">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c20><c20><a href="#617_4_refs">_</a></c20><c20><a href="../../libsyntax/ast.rs.html#311">
</a></c20><br/><ln>&nbsp;&nbsp;624</ln><a id="624">&nbsp;</a><a id="n148699"><a id="n148700"><a id="n148698">&nbsp;</a></a></a><c20><a href="../../libsyntax/ast.rs.html#311">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c21><a href="#617_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#617_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#617_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;625</ln><a id="625">&nbsp;</a><a id="n148645"><a id="n148665"><a id="n148666">&nbsp;</a></a></a><c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#617_4_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#622">path</a></c26><c13><a href="#617_4_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#617_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;626</ln><a id="626">&nbsp;</a>&nbsp;<c13><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;a&nbsp;path&nbsp;of&nbsp;length&nbsp;one:
</c40><br/><ln>&nbsp;&nbsp;627</ln><a id="627">&nbsp;</a><a id="n148655"><a id="n148654">&nbsp;</a></a><c13><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#617_4_refs">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#144">ast::Path&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#144">
</a></c20><br/><ln>&nbsp;&nbsp;628</ln><a id="628">&nbsp;</a><a id="n148646"><a id="n148647">&nbsp;</a></a><c20><a href="../../libsyntax/ast.rs.html#144">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;global:&nbsp;false</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#144">
</a></c20><br/><ln>&nbsp;&nbsp;629</ln><a id="629">&nbsp;</a><a id="n148648">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#144">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c20><c20><a href="#617_4_refs">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#144">
</a></c20><br/><ln>&nbsp;&nbsp;630</ln><a id="630">&nbsp;</a><a id="n148653">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#144">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;segments:&nbsp;</a></c20><c3>[</c3><c20><a href="#617_4_refs">
</a></c20><br/><ln>&nbsp;&nbsp;631</ln><a id="631">&nbsp;</a><a id="n148652">&nbsp;</a><c20><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#156">ast::PathSegment&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#156">
</a></c20><br/><ln>&nbsp;&nbsp;632</ln><a id="632">&nbsp;</a><a id="n148649">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#156">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;identifier:&nbsp;</a></c20><c20><a href="#632_44_refs">id</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#156">
</a></c20><br/><ln>&nbsp;&nbsp;633</ln><a id="633">&nbsp;</a><a id="n148650">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#156">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lifetime:&nbsp;_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#156">
</a></c20><br/><ln>&nbsp;&nbsp;634</ln><a id="634">&nbsp;</a><a id="n148651">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#156">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types:&nbsp;_
</a></c20><br/><ln>&nbsp;&nbsp;635</ln><a id="635">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/ast.rs.html#156">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c20><a href="#617_4_refs">
</a></c20><br/><ln>&nbsp;&nbsp;636</ln><a id="636">&nbsp;</a>&nbsp;<c20><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>]</c3><c20><a href="../../libsyntax/ast.rs.html#144">
</a></c20><br/><ln>&nbsp;&nbsp;637</ln><a id="637">&nbsp;</a><a id="n148660"><a id="n148661"><a id="n148658"><a id="n148657"><a id="n148659">&nbsp;</a></a></a></a></a><c20><a href="../../libsyntax/ast.rs.html#144">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c13><a href="#617_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#617_4_refs">&nbsp;</a></c13><c1><a href="c=0 n=148711">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#613">ident_accumulator</a></c24><c22><a href="../../libstd/vec.rs.html#n53598">.push</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#632">id</a></c26><c4>)</c4><c3>,</c3><c13><a href="#617_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;638</ln><a id="638">&nbsp;</a>&nbsp;<c13><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;I&nbsp;believe&nbsp;these&nbsp;must&nbsp;be&nbsp;enums...
</c40><br/><ln>&nbsp;&nbsp;639</ln><a id="639">&nbsp;</a><a id="n148662"><a id="n148664"><a id="n148663">&nbsp;</a></a></a><c13><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#617_4_refs">_</a></c20><c13><a href="#617_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#617_4_refs">&nbsp;</a></c13><c4>()</c4><c13><a href="#617_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;640</ln><a id="640">&nbsp;</a>&nbsp;<c13><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#617_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;641</ln><a id="641">&nbsp;</a>&nbsp;<c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;visit&nbsp;optional&nbsp;subpattern&nbsp;of&nbsp;pat_ident:
</c40><br/><ln>&nbsp;&nbsp;642</ln><a id="642">&nbsp;</a><a id="n148696"><a id="n148670"><a id="n148667"><a id="n148678"><a id="n148673"><a id="n148674"><a id="n148695"><a id="n148679"><a id="n148677"><a id="n148697"><a id="n148690"><a id="n148692"><a id="n148680"><a id="n148691"><a id="n148682"><a id="n148671"><a id="n148668"><a id="n148681"><a id="n148694"><a id="n148672"><a id="n148676"><a id="n148693">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libsyntax/ext/expand.rs.html#642">&nbsp;</a></c21><c20><a href="#642_20_refs">subpat</a></c20><c21><a href="../../libsyntax/ext/expand.rs.html#642">&nbsp;in&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#622">inner</a></c26><c10><a href="../../libstd/option.rs.html#n102205">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n102205">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103299">
</a></c22><br/><ln>&nbsp;&nbsp;643</ln><a id="643">&nbsp;</a><a id="n148687"><a id="n148686"><a id="n148688"><a id="n148684"><a id="n148689">&nbsp;</a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103299">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="c=0 n=148711">self.</a></c1><c10><a href="../../libsyntax/ext/expand.rs.html#617">visit_pat</a></c10><c4>(</c4><c5><a href="#617_4_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#642">subpat</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/expand.rs.html#617">&nbsp;</a></c10><c4>())</c4><c10><a href="../../libsyntax/ext/expand.rs.html#617">
</a></c10><br/><ln>&nbsp;&nbsp;644</ln><a id="644">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ext/expand.rs.html#617">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c21><a href="../../libsyntax/ext/expand.rs.html#642">
</a></c21><br/><ln>&nbsp;&nbsp;645</ln><a id="645">&nbsp;</a>&nbsp;<c21><a href="../../libsyntax/ext/expand.rs.html#642">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c21><a href="#617_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;646</ln><a id="646">&nbsp;</a>&nbsp;<c21><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;use&nbsp;the&nbsp;default&nbsp;traversal&nbsp;for&nbsp;non-pat_idents
</c40><br/><ln>&nbsp;&nbsp;647</ln><a id="647">&nbsp;</a><a id="n148706"><a id="n148702"><a id="n148701"><a id="n148703"><a id="n148704"><a id="n148705"><a id="n148707">&nbsp;</a></a></a></a></a></a></a><c21><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#617_4_refs">_</a></c20><c21><a href="#617_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#617_4_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/visit.rs.html#331">visit::walk_pat</a></c26><c4>(</c4><c1><a href="c=0 n=148711">self</a></c1><c3>,</c3><c22><a href="#617_4_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#617">pattern</a></c26><c3>,</c3><c22><a href="#617_4_refs">&nbsp;</a></c22><c4>())</c4><c22><a href="#617_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;648</ln><a id="648">&nbsp;</a>&nbsp;<c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#617_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;649</ln><a id="649">&nbsp;</a>&nbsp;<c22><a href="#617_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;650</ln><a id="650">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;&nbsp;651</ln><a id="651">&nbsp;</a><a id="n148727"><a id="n148718"><a id="n148717"><a id="n148715"><a id="n148720"><a id="n148714"><a id="n148726"><a id="n148713">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;visit_ty</c30><c4>(</c4><c18>&amp;mut&nbsp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#651_27_refs">typ</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#780">ast::Ty</a></c8><c3>,</c3><c18>&nbsp;</c18><c20>_</c20><c18>:&nbsp;</c18><c4>())</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;652</ln><a id="652">&nbsp;</a><a id="n148725"><a id="n148723"><a id="n148721"><a id="n148724"><a id="n148722">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/visit.rs.html#279">visit::walk_ty</a></c26><c4>(</c4><c1><a href="c=0 n=148728">self</a></c1><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#651">typ</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>())</c4><c27>
</c27><br/><ln>&nbsp;&nbsp;653</ln><a id="653">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;654</ln><a id="654">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;&nbsp;655</ln><a id="655">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;656</ln><a id="656">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;657</ln><a id="657">&nbsp;</a>&nbsp;<c40>//&nbsp;a&nbsp;visitor&nbsp;that&nbsp;extracts&nbsp;the&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;658</ln><a id="658">&nbsp;</a>&nbsp;<c40>//&nbsp;from&nbsp;a&nbsp;given&nbsp;thingy&nbsp;and&nbsp;puts&nbsp;them&nbsp;in&nbsp;a&nbsp;mutable
</c40><br/><ln>&nbsp;&nbsp;659</ln><a id="659">&nbsp;</a>&nbsp;<c40>//&nbsp;array&nbsp;(passed&nbsp;in&nbsp;to&nbsp;the&nbsp;traversal)
</c40><br/><ln>&nbsp;&nbsp;660</ln><a id="660">&nbsp;</a><a id="n148743"><a id="n148748"><a id="n148749"><a id="n148754"><a id="n148741"><a id="n148746"><a id="n148744"><a id="n148750"><a id="n148736"><a id="n148745"><a id="n148737"><a id="n148753"><a id="n148752"><a id="n148729"><a id="n148739"><a id="n148751">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libsyntax/ext/expand.rs.html#660">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;661</ln><a id="661">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#660_19_refs">&nbsp;NewPathExprFinderContext&nbsp;</a></c31><c3>{</c3><c31><a href="#660_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;662</ln><a id="662">&nbsp;</a><a id="n148732"><a id="n148734"><a id="n148733"><a id="n148735"><a id="n148730">&nbsp;</a></a></a></a></a><c31><a href="#660_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#662_4_refs">path_accumulator:&nbsp;</a></c24><c8><a href="#660_19_refs">@mut&nbsp;~</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#144">ast::Path</a></c8><c3>],</c3><c31><a href="#660_19_refs">
</a></c31><br/><ln>&nbsp;&nbsp;663</ln><a id="663">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;664</ln><a id="664">&nbsp;</a><a id="n148756">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;665</ln><a id="665">&nbsp;</a><a id="n148760"><a id="n148758"><a id="n148757">&nbsp;</a></a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/visit.rs.html#68">Visitor</a></c33><c5><a href="../../libsyntax/visit.rs.html#68">&lt;</a></c5><c4>()</c4><c1><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c1><c33>&nbsp;for&nbsp;</c33><c8><a href="../../libsyntax/ext/expand.rs.html#660">NewPathExprFinderContext</a></c8><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;666</ln><a id="666">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;&nbsp;667</ln><a id="667">&nbsp;</a><a id="n148763"><a id="n148767"><a id="n148762"><a id="n148797"><a id="n148769"><a id="n148766"><a id="n148798"><a id="n148764">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;visit_expr</c30><c4>(</c4><c18>&amp;mut&nbsp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#667_29_refs">expr</a></c20><c18>:&nbsp;</c18><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c3>,</c3><c18>&nbsp;</c18><c20>_</c20><c18>:&nbsp;</c18><c4>())</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;668</ln><a id="668">&nbsp;</a><a id="n148796"><a id="n148771"><a id="n148772">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c5>*</c5><c26><a href="../../libsyntax/ext/expand.rs.html#667">expr</a></c26><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;669</ln><a id="669">&nbsp;</a><a id="n148775"><a id="n148774"><a id="n148773"><a id="n148777"><a id="n148787"><a id="n148776"><a id="n148788"><a id="n148786">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#492">id:_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#492">span:_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#492">node:</a></c20><c20><a href="../../libsyntax/ast.rs.html#548">ast::ExprPath</a></c20><c4>(</c4><c20><a href="#669_53_refs">ref&nbsp;p</a></c20><c4>)</c4><c3>}</c3><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;670</ln><a id="670">&nbsp;</a><a id="n148779"><a id="n148782"><a id="n148784"><a id="n148780"><a id="n148785"><a id="n148783">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="c=0 n=148799">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#662">path_accumulator</a></c24><c13><a href="../../libstd/vec.rs.html#n53598">.push</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#669">p</a></c26><c10><a href="../../libsyntax/ast.rs.html#144">.clone</a></c10><c4>())</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;671</ln><a id="671">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;not&nbsp;calling&nbsp;visit_path,&nbsp;should&nbsp;be&nbsp;fine.
</c40><br/><ln>&nbsp;&nbsp;672</ln><a id="672">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;673</ln><a id="673">&nbsp;</a><a id="n148795"><a id="n148791"><a id="n148789"><a id="n148792"><a id="n148793"><a id="n148794"><a id="n148790">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../../libsyntax/visit.rs.html#541">visit::walk_expr</a></c26><c4>(</c4><c1><a href="c=0 n=148799">self</a></c1><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#667">expr</a></c26><c3>,</c3><c4>())</c4><c27>
</c27><br/><ln>&nbsp;&nbsp;674</ln><a id="674">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;675</ln><a id="675">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;676</ln><a id="676">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;&nbsp;677</ln><a id="677">&nbsp;</a><a id="n148802"><a id="n148814"><a id="n148801"><a id="n148815"><a id="n148808"><a id="n148806"><a id="n148805"><a id="n148803">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;visit_ty</c30><c4>(</c4><c18>&amp;mut&nbsp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#677_27_refs">typ</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#780">ast::Ty</a></c8><c3>,</c3><c18>&nbsp;</c18><c20>_</c20><c18>:&nbsp;</c18><c4>())</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;678</ln><a id="678">&nbsp;</a><a id="n148812"><a id="n148810"><a id="n148809"><a id="n148813"><a id="n148811">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/visit.rs.html#279">visit::walk_ty</a></c26><c4>(</c4><c1><a href="c=0 n=148816">self</a></c1><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#677">typ</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>())</c4><c27>
</c27><br/><ln>&nbsp;&nbsp;679</ln><a id="679">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;680</ln><a id="680">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;&nbsp;681</ln><a id="681">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;682</ln><a id="682">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;683</ln><a id="683">&nbsp;</a>&nbsp;<c40>//&nbsp;return&nbsp;a&nbsp;visitor&nbsp;that&nbsp;extracts&nbsp;the&nbsp;pat_ident&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;684</ln><a id="684">&nbsp;</a>&nbsp;<c40>//&nbsp;from&nbsp;a&nbsp;given&nbsp;thingy&nbsp;and&nbsp;puts&nbsp;them&nbsp;in&nbsp;a&nbsp;mutable
</c40><br/><ln>&nbsp;&nbsp;685</ln><a id="685">&nbsp;</a><a id="n148817">&nbsp;</a><c40>//&nbsp;array&nbsp;(passed&nbsp;in&nbsp;to&nbsp;the&nbsp;traversal)
</c40><br/><ln>&nbsp;&nbsp;686</ln><a id="686">&nbsp;</a><a id="n148843"><a id="n148819"><a id="n148822"><a id="n148820"><a id="n148825"><a id="n148823"><a id="n148827"><a id="n148821"><a id="n148828">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#685_38_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#685_38_refs">&nbsp;new_name_finder</a></c30><c4>(</c4><c20><a href="#686_23_refs">idents</a></c20><c1><a href="#685_38_refs">:&nbsp;</a></c1><c8><a href="#685_38_refs">@mut&nbsp;~</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>]</c3><c4>)</c4><c1><a href="#685_38_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#685_38_refs">&nbsp;</a></c1><c8><a href="#685_38_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/visit.rs.html#68">Visitor&lt;</a></c8><c4>()</c4><c8><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c8><c1><a href="#685_38_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#685_38_refs">
</a></c22><br/><ln>&nbsp;&nbsp;687</ln><a id="687">&nbsp;</a><a id="n148834"><a id="n148835"><a id="n148830"><a id="n148833"><a id="n148829"><a id="n148836">&nbsp;</a></a></a></a></a></a><c22><a href="#685_38_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#685_38_refs">&nbsp;</a></c22><c20><a href="#687_8_refs">context</a></c20><c13><a href="#685_38_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#685_38_refs">@mut&nbsp;</a></c5><c1><a href="../../libsyntax/ext/expand.rs.html#611">NewNameFinderContext</a></c1><c13><a href="#685_38_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#685_38_refs">
</a></c13><br/><ln>&nbsp;&nbsp;688</ln><a id="688">&nbsp;</a><a id="n148832">&nbsp;</a><c13><a href="#685_38_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ident_accumulator:&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#686">idents</a></c26><c3>,</c3><c13><a href="#685_38_refs">
</a></c13><br/><ln>&nbsp;&nbsp;689</ln><a id="689">&nbsp;</a>&nbsp;<c13><a href="#685_38_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>};</c3><c22><a href="#685_38_refs">
</a></c22><br/><ln>&nbsp;&nbsp;690</ln><a id="690">&nbsp;</a><a id="n148837"><a id="n148840"><a id="n148842"><a id="n148838"><a id="n148841">&nbsp;</a></a></a></a></a><c22><a href="#685_38_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#687">context</a></c26><c21><a href="#685_38_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#685_38_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/visit.rs.html#68">Visitor&lt;</a></c8><c4>()</c4><c8><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c8><c22><a href="#685_38_refs">
</a></c22><br/><ln>&nbsp;&nbsp;691</ln><a id="691">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;692</ln><a id="692">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;693</ln><a id="693">&nbsp;</a>&nbsp;<c40>//&nbsp;return&nbsp;a&nbsp;visitor&nbsp;that&nbsp;extracts&nbsp;the&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;694</ln><a id="694">&nbsp;</a>&nbsp;<c40>//&nbsp;from&nbsp;a&nbsp;given&nbsp;pattern&nbsp;and&nbsp;puts&nbsp;them&nbsp;in&nbsp;a&nbsp;mutable
</c40><br/><ln>&nbsp;&nbsp;695</ln><a id="695">&nbsp;</a><a id="n148844">&nbsp;</a><c40>//&nbsp;array&nbsp;(passed&nbsp;in&nbsp;to&nbsp;the&nbsp;traversal)
</c40><br/><ln>&nbsp;&nbsp;696</ln><a id="696">&nbsp;</a><a id="n148848"><a id="n148855"><a id="n148849"><a id="n148846"><a id="n148847"><a id="n148870"><a id="n148852"><a id="n148850"><a id="n148854">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;new_path_finder</c30><c4>(</c4><c20><a href="#696_23_refs">paths</a></c20><c1>:&nbsp;</c1><c8>@mut&nbsp;~</c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#144">ast::Path</a></c8><c3>]</c3><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@mut&nbsp;</c8><c8><a href="../../libsyntax/visit.rs.html#68">Visitor&lt;</a></c8><c4>()</c4><c8><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;697</ln><a id="697">&nbsp;</a><a id="n148862"><a id="n148856"><a id="n148861"><a id="n148860"><a id="n148857"><a id="n148863">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#697_8_refs">context</a></c20><c13>&nbsp;=&nbsp;</c13><c5>@mut&nbsp;</c5><c1><a href="../../libsyntax/ext/expand.rs.html#660">NewPathExprFinderContext</a></c1><c13>&nbsp;</c13><c3>{</c3><c13>
</c13><br/><ln>&nbsp;&nbsp;698</ln><a id="698">&nbsp;</a><a id="n148859">&nbsp;</a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path_accumulator:&nbsp;</c13><c26><a href="../../libsyntax/ext/expand.rs.html#696">paths</a></c26><c3>,</c3><c13>
</c13><br/><ln>&nbsp;&nbsp;699</ln><a id="699">&nbsp;</a>&nbsp;<c13>&nbsp;&nbsp;&nbsp;&nbsp;</c13><c3>};</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;700</ln><a id="700">&nbsp;</a><a id="n148867"><a id="n148865"><a id="n148868"><a id="n148869"><a id="n148864">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#697">context</a></c26><c21>&nbsp;as&nbsp;</c21><c8>@mut&nbsp;</c8><c8><a href="../../libsyntax/visit.rs.html#68">Visitor&lt;</a></c8><c4>()</c4><c8><a href="../../libsyntax/visit.rs.html#68">&gt;</a></c8><c22>
</c22><br/><ln>&nbsp;&nbsp;701</ln><a id="701">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;702</ln><a id="702">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;703</ln><a id="703">&nbsp;</a><a id="n148871">&nbsp;</a><c40>//&nbsp;expand&nbsp;a&nbsp;block.&nbsp;pushes&nbsp;a&nbsp;new&nbsp;exts_frame,&nbsp;then&nbsp;calls&nbsp;expand_block_elts
</c40><br/><ln>&nbsp;&nbsp;704</ln><a id="704">&nbsp;</a><a id="n148874"><a id="n148873"><a id="n148875">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#703_73_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#703_73_refs">&nbsp;expand_block</a></c30><c4>(</c4><c20><a href="#704_20_refs">extsbox</a></c20><c1><a href="#703_73_refs">:&nbsp;</a></c1><c8><a href="#703_73_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#703_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;705</ln><a id="705">&nbsp;</a><a id="n148880"><a id="n148879"><a id="n148878">&nbsp;</a></a></a><c1><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#703_73_refs">_</a></c20><c1><a href="#703_73_refs">:&nbsp;</a></c1><c8><a href="#703_73_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#703_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;706</ln><a id="706">&nbsp;</a><a id="n148883"><a id="n148884"><a id="n148885">&nbsp;</a></a></a><c1><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#706_20_refs">blk</a></c20><c1><a href="#703_73_refs">:&nbsp;</a></c1><c8><a href="#703_73_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#301">Block</a></c8><c3>,</c3><c1><a href="#703_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;707</ln><a id="707">&nbsp;</a><a id="n148890"><a id="n148888"><a id="n148889">&nbsp;</a></a></a><c1><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#707_20_refs">fld</a></c20><c1><a href="#703_73_refs">:&nbsp;</a></c1><c8><a href="#703_73_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#703_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;708</ln><a id="708">&nbsp;</a><a id="n148951"><a id="n148893">&nbsp;</a></a><c1><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#703_73_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#301">Block</a></c8><c1><a href="#703_73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#703_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;709</ln><a id="709">&nbsp;</a>&nbsp;<c22><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;see&nbsp;note&nbsp;below&nbsp;about&nbsp;treatment&nbsp;of&nbsp;exts&nbsp;table
</c40><br/><ln>&nbsp;&nbsp;710</ln><a id="710">&nbsp;</a><a id="n148921"><a id="n148896"><a id="n148950">&nbsp;</a></a></a><c22><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;with_exts_frame!</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#704">extsbox</a></c26><c3>,</c3><c12><a href="#703_73_refs">false</a></c12><c3>,</c3><c22><a href="#703_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;711</ln><a id="711">&nbsp;</a><a id="n148933"><a id="n148935"><a id="n148937"><a id="n148939"><a id="n148938"><a id="n148936">&nbsp;</a></a></a></a></a></a><c22><a href="#703_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#714">expand_block_elts</a></c26><c4>(</c4><c5><a href="#703_73_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#704">extsbox</a></c26><c3>,</c3><c27><a href="#703_73_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#706">blk</a></c26><c3>,</c3><c27><a href="#703_73_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#707">fld</a></c26><c4>))</c4><c22><a href="#703_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;712</ln><a id="712">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;713</ln><a id="713">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;714</ln><a id="714">&nbsp;</a><a id="n148952">&nbsp;</a><c40>//&nbsp;expand&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;block.
</c40><br/><ln>&nbsp;&nbsp;715</ln><a id="715">&nbsp;</a><a id="n148958"><a id="n148963"><a id="n148954"><a id="n148960"><a id="n148964"><a id="n148965"><a id="n148955"><a id="n148959">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#714_35_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#714_35_refs">&nbsp;expand_block_elts</a></c30><c4>(</c4><c20><a href="#715_25_refs">exts</a></c20><c1><a href="#714_35_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c1><a href="#714_35_refs">&nbsp;</a></c1><c20><a href="#715_42_refs">b</a></c20><c1><a href="#714_35_refs">:&nbsp;</a></c1><c8><a href="#714_35_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#301">Block</a></c8><c3>,</c3><c1><a href="#714_35_refs">&nbsp;</a></c1><c20><a href="#715_53_refs">fld</a></c20><c1><a href="#714_35_refs">:&nbsp;</a></c1><c8><a href="#714_35_refs">&amp;</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c8><c4>)</c4><c1><a href="#714_35_refs">
</a></c1><br/><ln>&nbsp;&nbsp;716</ln><a id="716">&nbsp;</a><a id="n148968"><a id="n149097">&nbsp;</a></a><c1><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#714_35_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#301">Block</a></c8><c1><a href="#714_35_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;717</ln><a id="717">&nbsp;</a><a id="n148972"><a id="n148970"><a id="n148969"><a id="n148973"><a id="n148971"><a id="n148975"><a id="n148974">&nbsp;</a></a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#717_8_refs">block_info</a></c20><c16><a href="#714_35_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#748">get_block_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#715">exts</a></c26><c4>)</c4><c3>;</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;718</ln><a id="718">&nbsp;</a><a id="n148979"><a id="n148976"><a id="n148978"><a id="n148977"><a id="n148980"><a id="n148981">&nbsp;</a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#718_8_refs">pending_renames</a></c20><c13><a href="#714_35_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#717">block_info</a></c26><c24><a href="../../libsyntax/ext/base.rs.html#184">.pending_renames</a></c24><c3>;</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;719</ln><a id="719">&nbsp;</a><a id="n148984"><a id="n148985"><a id="n148982"><a id="n148983"><a id="n148987"><a id="n148986"><a id="n148988">&nbsp;</a></a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#719_8_refs">rename_fld</a></c20><c13><a href="#714_35_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#774">renames_to_fold</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#718">pending_renames</a></c26><c4>)</c4><c3>;</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;720</ln><a id="720">&nbsp;</a><a id="n149006"><a id="n149000"><a id="n149001"><a id="n149004"><a id="n149005"><a id="n149003"><a id="n148997"><a id="n148990"><a id="n148994"><a id="n148989"><a id="n148992"><a id="n148995"><a id="n148999"><a id="n149002"><a id="n148993">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#720_8_refs">new_view_items</a></c20><c16><a href="#714_35_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#303">.view_items</a></c24><c10><a href="../../libstd/vec.rs.html#n52355">.map</a></c10><c4>(</c4><c1><a href="../../libstd/vec.rs.html#n52355">|</a></c1><c20><a href="#720_43_refs">x</a></c20><c8><a href="../../libstd/vec.rs.html#n52355">|</a></c8><c1><a href="../../libstd/vec.rs.html#n52355">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#715">fld</a></c26><c22><a href="c=0 n=180671">.fold_view_item</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#720">x</a></c26><c4>))</c4><c3>;</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;721</ln><a id="721">&nbsp;</a><a id="n149007"><a id="n149011"><a id="n149009"><a id="n149008"><a id="n149010"><a id="n149012">&nbsp;</a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#721_12_refs">new_stmts</a></c20><c13><a href="#714_35_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#714_35_refs">~</a></c16><c3>[];</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;722</ln><a id="722">&nbsp;</a><a id="n149054"><a id="n149017"><a id="n149016"><a id="n149026"><a id="n149019"><a id="n149060"><a id="n149059"><a id="n149018"><a id="n149027"><a id="n149028"><a id="n149023"><a id="n149058"><a id="n149014"><a id="n149013"><a id="n149021"><a id="n149055"><a id="n149029"><a id="n149020"><a id="n149025"><a id="n149052"><a id="n149057"><a id="n149053"><a id="n149056"><a id="n149024">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/vec.rs.html#n56719">&nbsp;</a></c10><c20><a href="#722_8_refs">x</a></c20><c10><a href="../../libstd/vec.rs.html#n56719">&nbsp;in&nbsp;</a></c10><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#304">.stmts</a></c24><c10><a href="../../libstd/vec.rs.html#n51839">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51839">&nbsp;</a></c10><c3>{</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;723</ln><a id="723">&nbsp;</a><a id="n149036"><a id="n149039"><a id="n149038"><a id="n149040"><a id="n149051"><a id="n149037"><a id="n149032"><a id="n149034"><a id="n149031">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#714_35_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#715">fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1210">.fold_stmt</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#740">mustbesome</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#719">rename_fld</a></c26><c10><a href="#714_35_refs">.fold_stmt</a></c10><c4>(</c4><c5><a href="#714_35_refs">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#722">x</a></c26><c4>)))</c4><c10><a href="../../libsyntax/ext/expand.rs.html#1210">&nbsp;</a></c10><c3>{</c3><c21><a href="#714_35_refs">
</a></c21><br/><ln>&nbsp;&nbsp;724</ln><a id="724">&nbsp;</a><a id="n149045"><a id="n149042"><a id="n149041"><a id="n149044"><a id="n149046"><a id="n149047">&nbsp;</a></a></a></a></a></a><c21><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#724_17_refs">s</a></c20><c4>)</c4><c21><a href="#714_35_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#714_35_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#721">new_stmts</a></c26><c22><a href="../../libstd/vec.rs.html#n53598">.push</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#724">s</a></c26><c4>)</c4><c3>,</c3><c21><a href="#714_35_refs">
</a></c21><br/><ln>&nbsp;&nbsp;725</ln><a id="725">&nbsp;</a><a id="n149050"><a id="n149049"><a id="n149048">&nbsp;</a></a></a><c21><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#714_35_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#714_35_refs">&nbsp;</a></c21><c4>()</c4><c21><a href="#714_35_refs">
</a></c21><br/><ln>&nbsp;&nbsp;726</ln><a id="726">&nbsp;</a>&nbsp;<c21><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;727</ln><a id="727">&nbsp;</a>&nbsp;<c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/vec.rs.html#n56719">
</a></c10><br/><ln>&nbsp;&nbsp;728</ln><a id="728">&nbsp;</a><a id="n149071"><a id="n149082"><a id="n149081"><a id="n149066"><a id="n149073"><a id="n149078"><a id="n149079"><a id="n149069"><a id="n149076"><a id="n149080"><a id="n149075"><a id="n149065"><a id="n149061"><a id="n149083"><a id="n149062"><a id="n149064"><a id="n149077"><a id="n149067">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libstd/vec.rs.html#n56719">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21>let</c21><c22><a href="#714_35_refs">&nbsp;</a></c22><c20><a href="#728_8_refs">new_expr</a></c20><c13><a href="#714_35_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#305">.expr</a></c24><c10><a href="../../libstd/option.rs.html#n102502">.map</a></c10><c4>(</c4><c1><a href="../../libstd/option.rs.html#n102502">|</a></c1><c20><a href="#728_31_refs">x</a></c20><c8><a href="../../libstd/option.rs.html#n102502">|</a></c8><c1><a href="../../libstd/option.rs.html#n102502">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/expand.rs.html#715">fld</a></c8><c22><a href="../../libsyntax/ext/expand.rs.html#1189">.fold_expr</a></c22><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#719">rename_fld</a></c26><c10><a href="../../libsyntax/ext/expand.rs.html#1189">.fold_expr</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/expand.rs.html#1189">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#728">x</a></c26><c4>)))</c4><c3>;</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;729</ln><a id="729">&nbsp;</a><a id="n149096">&nbsp;</a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libsyntax/ast.rs.html#301">Block</a></c1><c3>{</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;730</ln><a id="730">&nbsp;</a><a id="n149084">&nbsp;</a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;view_items:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#720">new_view_items</a></c26><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;731</ln><a id="731">&nbsp;</a><a id="n149085">&nbsp;</a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stmts:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#721">new_stmts</a></c26><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;732</ln><a id="732">&nbsp;</a><a id="n149086">&nbsp;</a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expr:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#728">new_expr</a></c26><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;733</ln><a id="733">&nbsp;</a><a id="n149091"><a id="n149089"><a id="n149088"><a id="n149090">&nbsp;</a></a></a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#715">fld</a></c26><c10><a href="c=0 n=180693">.new_id</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#306">.id</a></c24><c4>)</c4><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;734</ln><a id="734">&nbsp;</a><a id="n149092"><a id="n149093">&nbsp;</a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rules:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#307">.rules</a></c24><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;735</ln><a id="735">&nbsp;</a><a id="n149094"><a id="n149095">&nbsp;</a></a><c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#715">b</a></c26><c24><a href="../../libsyntax/ast.rs.html#308">.span</a></c24><c3>,</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;736</ln><a id="736">&nbsp;</a>&nbsp;<c22><a href="#714_35_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#714_35_refs">
</a></c22><br/><ln>&nbsp;&nbsp;737</ln><a id="737">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;738</ln><a id="738">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;739</ln><a id="739">&nbsp;</a>&nbsp;<c40>//&nbsp;rename_fold&nbsp;should&nbsp;never&nbsp;return&nbsp;"None".
</c40><br/><ln>&nbsp;&nbsp;740</ln><a id="740">&nbsp;</a><a id="n149098">&nbsp;</a><c40>//&nbsp;(basically,&nbsp;just&nbsp;.get()&nbsp;with&nbsp;a&nbsp;better&nbsp;message...)
</c40><br/><ln>&nbsp;&nbsp;741</ln><a id="741">&nbsp;</a><a id="n149102"><a id="n149106"><a id="n149103"><a id="n149121"><a id="n149100">&nbsp;</a></a></a></a></a><c30>fn</c30><c30><a href="#740_53_refs">&nbsp;mustbesome</a></c30><c5><a href="#740_53_refs">&lt;T&gt;</a></c5><c4>(</c4><c20><a href="#741_17_refs">val</a></c20><c1><a href="#740_53_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;</a></c8><c8><a href="c=0 n=149107">T</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c4>)</c4><c1><a href="#740_53_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#740_53_refs">&nbsp;</a></c1><c8><a href="c=0 n=149107">T</a></c8><c1><a href="#740_53_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#740_53_refs">
</a></c22><br/><ln>&nbsp;&nbsp;742</ln><a id="742">&nbsp;</a><a id="n149120"><a id="n149108">&nbsp;</a></a><c22><a href="#740_53_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#740_53_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#741">val</a></c26><c21><a href="#740_53_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#740_53_refs">
</a></c21><br/><ln>&nbsp;&nbsp;743</ln><a id="743">&nbsp;</a><a id="n149110"><a id="n149109"><a id="n149112"><a id="n149111">&nbsp;</a></a></a></a><c21><a href="#740_53_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#743_13_refs">v</a></c20><c4>)</c4><c21><a href="#740_53_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#740_53_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#743">v</a></c26><c3>,</c3><c21><a href="#740_53_refs">
</a></c21><br/><ln>&nbsp;&nbsp;744</ln><a id="744">&nbsp;</a><a id="n149118"><a id="n149113"><a id="n149119"><a id="n149115">&nbsp;</a></a></a></a><c21><a href="#740_53_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#740_53_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#740_53_refs">&nbsp;</a></c21><c22><a href="#740_53_refs">fail!</a></c22><c4>(</c4><c12><a href="#740_53_refs">"rename_fold&nbsp;returned&nbsp;None"</a></c12><c4>)</c4><c22><a href="#740_53_refs">
</a></c22><br/><ln>&nbsp;&nbsp;745</ln><a id="745">&nbsp;</a>&nbsp;<c22><a href="#740_53_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#740_53_refs">
</a></c22><br/><ln>&nbsp;&nbsp;746</ln><a id="746">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;747</ln><a id="747">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;748</ln><a id="748">&nbsp;</a><a id="n149122">&nbsp;</a><c40>//&nbsp;get&nbsp;the&nbsp;(innermost)&nbsp;BlockInfo&nbsp;from&nbsp;an&nbsp;exts&nbsp;stack
</c40><br/><ln>&nbsp;&nbsp;749</ln><a id="749">&nbsp;</a><a id="n149177"><a id="n149125"><a id="n149128"><a id="n149124">&nbsp;</a></a></a></a><c30>fn</c30><c30><a href="#748_52_refs">&nbsp;get_block_info</a></c30><c4>(</c4><c20><a href="#749_18_refs">exts</a></c20><c1><a href="#748_52_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c4>)</c4><c1><a href="#748_52_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#748_52_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#179">BlockInfo</a></c8><c1><a href="#748_52_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#748_52_refs">
</a></c22><br/><ln>&nbsp;&nbsp;750</ln><a id="750">&nbsp;</a><a id="n149135"><a id="n149130"><a id="n149132"><a id="n149176"><a id="n149134"><a id="n149131"><a id="n149133">&nbsp;</a></a></a></a></a></a></a><c22><a href="#748_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#748_52_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#749">exts</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#561">.find_in_topmost_frame</a></c10><c4>(</c4><c5><a href="../../libsyntax/ext/base.rs.html#561">&amp;</a></c5><c26><a href="../../libsyntax/parse/token.rs.html#513">intern</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#305">special_block_name</a></c26><c4>))</c4><c10><a href="../../libsyntax/ext/base.rs.html#561">&nbsp;</a></c10><c3>{</c3><c21><a href="#748_52_refs">
</a></c21><br/><ln>&nbsp;&nbsp;751</ln><a id="751">&nbsp;</a><a id="n149139"><a id="n149140"><a id="n149136"><a id="n149138"><a id="n149141"><a id="n149137">&nbsp;</a></a></a></a></a></a><c21><a href="#748_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n101876">@</a></c20><c20><a href="../../libsyntax/ext/base.rs.html#177">BlockInfo</a></c20><c4>(</c4><c20><a href="#751_24_refs">bi</a></c20><c4>))</c4><c21><a href="#748_52_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#748_52_refs">&nbsp;</a></c21><c22><a href="../../libsyntax/ext/expand.rs.html#751">bi</a></c22><c3>,</c3><c21><a href="#748_52_refs">
</a></c21><br/><ln>&nbsp;&nbsp;752</ln><a id="752">&nbsp;</a><a id="n149166"><a id="n149170"><a id="n149168"><a id="n149167"><a id="n149145"><a id="n149144"><a id="n149163"><a id="n149162"><a id="n149150"><a id="n149158"><a id="n149174"><a id="n149171"><a id="n149142"><a id="n149159"><a id="n149175"><a id="n149169"><a id="n149148"><a id="n149149"><a id="n149161"><a id="n149165"><a id="n149146"><a id="n149164"><a id="n149147">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21><a href="#748_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#748_52_refs">_</a></c20><c21><a href="#748_52_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#748_52_refs">&nbsp;</a></c21><c22><a href="#748_52_refs">fail!</a></c22><c4>(</c4><c22><a href="#748_52_refs">fmt!</a></c22><c4>(</c4><c16><a href="../../libsyntax/ext/expand.rs.html#752">"special&nbsp;identifier&nbsp;%?&nbsp;was&nbsp;bound&nbsp;to&nbsp;a&nbsp;non-BlockInfo"</a></c16><c3>,</c3><c22><a href="#748_52_refs">
</a></c22><br/><ln>&nbsp;&nbsp;753</ln><a id="753">&nbsp;</a><a id="n149154"><a id="n149151"><a id="n149156"><a id="n149155"><a id="n149157"><a id="n149160"><a id="n149152"><a id="n149153">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#748_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/unstable/extfmt.rs.html#n158145">@</a></c26><c12><a href="../../libstd/unstable/extfmt.rs.html#n158116">"&nbsp;block"</a></c12><c4>))</c4><c22><a href="#748_52_refs">
</a></c22><br/><ln>&nbsp;&nbsp;754</ln><a id="754">&nbsp;</a>&nbsp;<c22><a href="#748_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#748_52_refs">
</a></c22><br/><ln>&nbsp;&nbsp;755</ln><a id="755">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;756</ln><a id="756">&nbsp;</a><a id="n149178">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;757</ln><a id="757">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#756_1_refs">&nbsp;IdentRenamer&nbsp;</a></c31><c3>{</c3><c31><a href="#756_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;758</ln><a id="758">&nbsp;</a><a id="n149187"><a id="n149181"><a id="n149184"><a id="n149183"><a id="n149179"><a id="n149186"><a id="n149185">&nbsp;</a></a></a></a></a></a></a><c31><a href="#756_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#758_4_refs">renames:&nbsp;</a></c24><c8><a href="#756_1_refs">@mut&nbsp;~</a></c8><c3>[</c3><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c4>)</c4><c3>],</c3><c31><a href="#756_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;759</ln><a id="759">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;760</ln><a id="760">&nbsp;</a><a id="n149188">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;761</ln><a id="761">&nbsp;</a><a id="n149189"><a id="n149191">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#756">IdentRenamer</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;762</ln><a id="762">&nbsp;</a><a id="n149234"><a id="n149233"><a id="n149194"><a id="n149197"><a id="n149193">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fold_ident</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#762_25_refs">id</a></c20><c18>:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;763</ln><a id="763">&nbsp;</a><a id="n149228"><a id="n149225"><a id="n149198"><a id="n149208"><a id="n149205"><a id="n149226"><a id="n149216"><a id="n149199"><a id="n149222"><a id="n149224"><a id="n149204"><a id="n149207"><a id="n149203"><a id="n149202"><a id="n149223"><a id="n149213"><a id="n149211"><a id="n149227"><a id="n149210"><a id="n149206"><a id="n149212"><a id="n149214">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#763_12_refs">new_ctxt</a></c20><c16>&nbsp;=&nbsp;</c16><c1><a href="c=0 n=149235">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#758">renames</a></c24><c10><a href="../../libstd/vec.rs.html#n51839">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51839">.</a></c10><c10><a href="c=1 n=264428">fold</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#762">id</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.ctxt</a></c24><c3>,</c3><c1><a href="c=1 n=264428">&nbsp;|</a></c1><c20><a href="#763_58_refs">ctxt</a></c20><c3>,</c3><c1><a href="c=1 n=264428">&nbsp;</a></c1><c20><a href="c=1 n=264428">&amp;</a></c20><c4>(</c4><c20><a href="#763_66_refs">from</a></c20><c3>,</c3><c20><a href="c=1 n=264428">&nbsp;</a></c20><c20><a href="#763_72_refs">to</a></c20><c4>)</c4><c8><a href="c=1 n=264428">|</a></c8><c1><a href="c=1 n=264428">&nbsp;</a></c1><c3>{</c3><c22><a href="c=1 n=264428">
</a></c22><br/><ln>&nbsp;&nbsp;764</ln><a id="764">&nbsp;</a><a id="n149221"><a id="n149219"><a id="n149217"><a id="n149218"><a id="n149220">&nbsp;</a></a></a></a></a><c22><a href="c=1 n=264428">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ast_util.rs.html#766">new_rename</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#763">from</a></c26><c3>,</c3><c27><a href="c=1 n=264428">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#763">to</a></c26><c3>,</c3><c27><a href="c=1 n=264428">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#763">ctxt</a></c26><c4>)</c4><c27><a href="c=1 n=264428">
</a></c27><br/><ln>&nbsp;&nbsp;765</ln><a id="765">&nbsp;</a>&nbsp;<c27><a href="c=1 n=264428">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;766</ln><a id="766">&nbsp;</a><a id="n149232">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c1><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;767</ln><a id="767">&nbsp;</a><a id="n149230"><a id="n149229">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#762">id</a></c26><c24><a href="../../libsyntax/ast.rs.html#32">.name</a></c24><c3>,</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;768</ln><a id="768">&nbsp;</a><a id="n149231">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctxt:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#763">new_ctxt</a></c26><c3>,</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;769</ln><a id="769">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;770</ln><a id="770">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;771</ln><a id="771">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;772</ln><a id="772">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;773</ln><a id="773">&nbsp;</a>&nbsp;<c40>//&nbsp;given&nbsp;a&nbsp;mutable&nbsp;list&nbsp;of&nbsp;renames,&nbsp;return&nbsp;a&nbsp;tree-folder&nbsp;that&nbsp;applies&nbsp;those
</c40><br/><ln>&nbsp;&nbsp;774</ln><a id="774">&nbsp;</a><a id="n149236">&nbsp;</a><c40>//&nbsp;renames.
</c40><br/><ln>&nbsp;&nbsp;775</ln><a id="775">&nbsp;</a><a id="n149242"><a id="n149249"><a id="n149240"><a id="n149258"><a id="n149248"><a id="n149244"><a id="n149245"><a id="n149243"><a id="n149238"><a id="n149241">&nbsp;</a></a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#774_12_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#774_12_refs">&nbsp;renames_to_fold</a></c30><c4>(</c4><c20><a href="#775_23_refs">renames</a></c20><c1><a href="#774_12_refs">:&nbsp;</a></c1><c8><a href="#774_12_refs">@mut&nbsp;~</a></c8><c3>[</c3><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c4>)</c4><c3>]</c3><c4>)</c4><c1><a href="#774_12_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#774_12_refs">&nbsp;</a></c1><c8><a href="#774_12_refs">@</a></c8><c8><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c8><c1><a href="#774_12_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#774_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;776</ln><a id="776">&nbsp;</a><a id="n149253"><a id="n149257"><a id="n149252">&nbsp;</a></a></a><c22><a href="#774_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#774_12_refs">@</a></c5><c1><a href="../../libsyntax/ext/expand.rs.html#756">IdentRenamer</a></c1><c21><a href="#774_12_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#774_12_refs">
</a></c21><br/><ln>&nbsp;&nbsp;777</ln><a id="777">&nbsp;</a><a id="n149251">&nbsp;</a><c21><a href="#774_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;renames:&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#775">renames</a></c26><c3>,</c3><c21><a href="#774_12_refs">
</a></c21><br/><ln>&nbsp;&nbsp;778</ln><a id="778">&nbsp;</a><a id="n149256"><a id="n149255">&nbsp;</a></a><c21><a href="#774_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c21><a href="#774_12_refs">&nbsp;</a></c21><c21>as</c21><c21><a href="#774_12_refs">&nbsp;</a></c21><c8><a href="#774_12_refs">@</a></c8><c8><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c8><c22><a href="#774_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;779</ln><a id="779">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;780</ln><a id="780">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;781</ln><a id="781">&nbsp;</a><a id="n149259">&nbsp;</a><c40>//&nbsp;perform&nbsp;a&nbsp;bunch&nbsp;of&nbsp;renames
</c40><br/><ln>&nbsp;&nbsp;782</ln><a id="782">&nbsp;</a><a id="n149267"><a id="n149297"><a id="n149261"><a id="n149266"><a id="n149271"><a id="n149262"><a id="n149270"><a id="n149263">&nbsp;</a></a></a></a></a></a></a></a><c30>fn&nbsp;apply_pending_renames</c30><c4>(</c4><c20><a href="#782_25_refs">folder</a></c20><c1>&nbsp;:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c8><c3>,</c3><c1>&nbsp;</c1><c20><a href="#782_45_refs">stmt</a></c20><c1>&nbsp;:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;783</ln><a id="783">&nbsp;</a><a id="n149273"><a id="n149296"><a id="n149275"><a id="n149274"><a id="n149276">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#782">folder</a></c26><c10>.fold_stmt</c10><c4>(</c4><c5>&amp;</c5><c26><a href="../../libsyntax/ext/expand.rs.html#782">stmt</a></c26><c4>)</c4><c10>&nbsp;</c10><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;784</ln><a id="784">&nbsp;</a><a id="n149280"><a id="n149277"><a id="n149279"><a id="n149278">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#784_13_refs">s</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#784">s</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;785</ln><a id="785">&nbsp;</a><a id="n149290"><a id="n149281"><a id="n149288"><a id="n149294"><a id="n149287"><a id="n149286"><a id="n149285"><a id="n149295"><a id="n149283"><a id="n149289"><a id="n149284"><a id="n149291">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c22>fail!</c22><c4>(</c4><c22>fmt!</c22><c4>(</c4><c20><a href="#785_27_refs">"renaming&nbsp;of&nbsp;stmt&nbsp;produced&nbsp;None"</a></c20><c4>))</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;786</ln><a id="786">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;787</ln><a id="787">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;788</ln><a id="788">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;789</ln><a id="789">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;790</ln><a id="790">&nbsp;</a><a id="n149298">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;791</ln><a id="791">&nbsp;</a><a id="n149318"><a id="n149305"><a id="n149300"><a id="n149301"><a id="n149309"><a id="n149302"><a id="n149306">&nbsp;</a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#790_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#790_1_refs">&nbsp;new_span</a></c30><c4>(</c4><c20><a href="#791_16_refs">cx</a></c20><c1><a href="#790_1_refs">:&nbsp;</a></c1><c8><a href="#790_1_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c1><a href="#790_1_refs">&nbsp;</a></c1><c20><a href="#791_30_refs">sp</a></c20><c1><a href="#790_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c4>)</c4><c1><a href="#790_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#790_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c1><a href="#790_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;792</ln><a id="792">&nbsp;</a>&nbsp;<c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c41>/*&nbsp;this&nbsp;discards&nbsp;information&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;macro-defining&nbsp;macros&nbsp;*/</c41><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;793</ln><a id="793">&nbsp;</a><a id="n149317">&nbsp;</a><c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../libsyntax/codemap.rs.html#84">Span</a></c1><c22><a href="#790_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;794</ln><a id="794">&nbsp;</a><a id="n149310"><a id="n149311">&nbsp;</a></a><c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lo:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#791">sp</a></c26><c24><a href="../../libsyntax/codemap.rs.html#86">.lo</a></c24><c3>,</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;795</ln><a id="795">&nbsp;</a><a id="n149313"><a id="n149312">&nbsp;</a></a><c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hi:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#791">sp</a></c26><c24><a href="../../libsyntax/codemap.rs.html#87">.hi</a></c24><c3>,</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;796</ln><a id="796">&nbsp;</a><a id="n149316"><a id="n149315">&nbsp;</a></a><c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expn_info:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#791">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#351">.backtrace</a></c10><c4>()</c4><c3>,</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;797</ln><a id="797">&nbsp;</a>&nbsp;<c22><a href="#790_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#790_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;798</ln><a id="798">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;799</ln><a id="799">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;800</ln><a id="800">&nbsp;</a>&nbsp;<c40>//&nbsp;FIXME&nbsp;(#2247):&nbsp;this&nbsp;is&nbsp;a&nbsp;moderately&nbsp;bad&nbsp;kludge&nbsp;to&nbsp;inject&nbsp;some&nbsp;macros&nbsp;into
</c40><br/><ln>&nbsp;&nbsp;801</ln><a id="801">&nbsp;</a>&nbsp;<c40>//&nbsp;the&nbsp;default&nbsp;compilation&nbsp;environment&nbsp;in&nbsp;that&nbsp;it&nbsp;injects&nbsp;strings,&nbsp;rather&nbsp;than
</c40><br/><ln>&nbsp;&nbsp;802</ln><a id="802">&nbsp;</a>&nbsp;<c40>//&nbsp;syntax&nbsp;elements.
</c40><br/><ln>&nbsp;&nbsp;803</ln><a id="803">&nbsp;</a><a id="n149319">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;804</ln><a id="804">&nbsp;</a><a id="n149327"><a id="n149322"><a id="n149321">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#803_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;std_macros</a></c30><c4>()</c4><c1><a href="#803_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#803_1_refs">&nbsp;</a></c1><c8><a href="#803_1_refs">@str</a></c8><c1><a href="#803_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;805</ln><a id="805">&nbsp;</a><a id="n149324"><a id="n149325"><a id="n149326">&nbsp;</a></a></a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#803_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;806</ln><a id="806">&nbsp;</a><a id="n149323">&nbsp;</a><c16><a href="#803_1_refs">@</a></c16><c12><a href="#803_1_refs">"</a></c12><c21>mod</c21><c38><a href="#803_1_refs">&nbsp;__std_macros&nbsp;</a></c38><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;807</ln><a id="807">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">macro_escape</a></c12><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;808</ln><a id="808">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">doc</a></c12><c4>(</c4><c12><a href="#803_1_refs">hidden</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;809</ln><a id="809">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;810</ln><a id="810">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;ignore&nbsp;</a></c37><c4>((</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$x:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(()))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;811</ln><a id="811">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;812</ln><a id="812">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;log</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;813</ln><a id="813">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$lvl:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$arg:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;814</ln><a id="814">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;=&nbsp;$lvl</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;815</ln><a id="815">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;&lt;=&nbsp;__log_level</a></c12><c4>()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;816</ln><a id="816">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::logging::log</a></c12><c4>(</c4><c12><a href="#803_1_refs">lvl</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"%?\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$arg</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;817</ln><a id="817">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;818</ln><a id="818">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;819</ln><a id="819">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$lvl:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:expr</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;820</ln><a id="820">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;=&nbsp;$lvl</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;821</ln><a id="821">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;&lt;=&nbsp;__log_level</a></c12><c4>()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;822</ln><a id="822">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::logging::log</a></c12><c4>(</c4><c12><a href="#803_1_refs">lvl</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;823</ln><a id="823">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;824</ln><a id="824">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;825</ln><a id="825">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;826</ln><a id="826">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;error</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log!</a></c12><c4>(</c4><c12><a href="#803_1_refs">1u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;827</ln><a id="827">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;warn&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log!</a></c12><c4>(</c4><c12><a href="#803_1_refs">2u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;828</ln><a id="828">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;info&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log!</a></c12><c4>(</c4><c12><a href="#803_1_refs">3u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;829</ln><a id="829">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;debug</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;830</ln><a id="830">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;cfg!</a></c12><c4>(</c4><c12><a href="#803_1_refs">not</a></c12><c4>(</c4><c12><a href="#803_1_refs">ndebug</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;log!</a></c12><c4>(</c4><c12><a href="#803_1_refs">4u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;831</ln><a id="831">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;832</ln><a id="832">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;833</ln><a id="833">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;log2</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;834</ln><a id="834">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$lvl:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;835</ln><a id="835">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;=&nbsp;$lvl</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;836</ln><a id="836">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;lvl&nbsp;&lt;=&nbsp;__log_level</a></c12><c4>()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;837</ln><a id="837">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::logging::log</a></c12><c4>(</c4><c12><a href="#803_1_refs">lvl</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;format!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">+</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;838</ln><a id="838">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;839</ln><a id="839">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;840</ln><a id="840">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;841</ln><a id="841">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;error2</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log2!</a></c12><c4>(</c4><c12><a href="#803_1_refs">1u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;842</ln><a id="842">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;warn2&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log2!</a></c12><c4>(</c4><c12><a href="#803_1_refs">2u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;843</ln><a id="843">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;info2&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">log2!</a></c12><c4>(</c4><c12><a href="#803_1_refs">3u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;844</ln><a id="844">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;debug2</a></c37><c4>(</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;845</ln><a id="845">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;cfg!</a></c12><c4>(</c4><c12><a href="#803_1_refs">not</a></c12><c4>(</c4><c12><a href="#803_1_refs">ndebug</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;log2!</a></c12><c4>(</c4><c12><a href="#803_1_refs">4u32</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;846</ln><a id="846">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;847</ln><a id="847">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;848</ln><a id="848">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;fail</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;849</ln><a id="849">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;850</ln><a id="850">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"explicit&nbsp;failure\"</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;851</ln><a id="851">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;852</ln><a id="852">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$msg:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;853</ln><a id="853">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">$msg</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;854</ln><a id="854">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;855</ln><a id="855">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$arg:expr&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;856</ln><a id="856">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;857</ln><a id="857">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;858</ln><a id="858">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;859</ln><a id="859">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;860</ln><a id="860">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;fail2</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;861</ln><a id="861">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;862</ln><a id="862">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"explicit&nbsp;failure\"</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;863</ln><a id="863">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;864</ln><a id="864">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;865</ln><a id="865">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">format!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;866</ln><a id="866">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;867</ln><a id="867">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;868</ln><a id="868">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;869</ln><a id="869">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;assert</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;870</ln><a id="870">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$cond:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;871</ln><a id="871">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!$cond&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;872</ln><a id="872">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;873</ln><a id="873">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\"assertion&nbsp;failed:&nbsp;\"&nbsp;+&nbsp;stringify!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$cond</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;874</ln><a id="874">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;875</ln><a id="875">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>};</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;876</ln><a id="876">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$cond:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$msg:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;877</ln><a id="877">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!$cond&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;878</ln><a id="878">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">$msg</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;879</ln><a id="879">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;880</ln><a id="880">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>};</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;881</ln><a id="881">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$cond:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$arg:expr&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;882</ln><a id="882">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!$cond&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;883</ln><a id="883">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::sys::FailWithCause::fail_with</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;file!</a></c12><c4>()</c4><c3>,</c3><c12><a href="#803_1_refs">&nbsp;line!</a></c12><c4>())</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;884</ln><a id="884">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;885</ln><a id="885">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;886</ln><a id="886">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;887</ln><a id="887">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;888</ln><a id="888">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;assert_eq&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;889</ln><a id="889">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$given:expr&nbsp;</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$expected:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;890</ln><a id="890">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;891</ln><a id="891">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;given_val&nbsp;=&nbsp;$given</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;892</ln><a id="892">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;expected_val&nbsp;=&nbsp;$expected</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;893</ln><a id="893">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;check&nbsp;both&nbsp;directions&nbsp;of&nbsp;equality....
</c40><br/><ln>&nbsp;&nbsp;894</ln><a id="894">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!</a></c12><c4>((</c4><c12><a href="#803_1_refs">given_val&nbsp;==&nbsp;expected_val</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">expected_val&nbsp;==&nbsp;given_val</a></c12><c4>))</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;895</ln><a id="895">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"assertion&nbsp;failed:&nbsp;`</a></c12><c4>(</c4><c12><a href="#803_1_refs">left&nbsp;==&nbsp;right</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">right&nbsp;==&nbsp;\
</a></c12><br/><ln>&nbsp;&nbsp;896</ln><a id="896">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;left</a></c12><c4>)</c4><c12><a href="#803_1_refs">`&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">left:&nbsp;`%?`</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;right:&nbsp;`%?`</a></c12><c4>)</c4><c12><a href="#803_1_refs">\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;given_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;expected_val</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;897</ln><a id="897">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;898</ln><a id="898">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;899</ln><a id="899">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;900</ln><a id="900">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;901</ln><a id="901">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;902</ln><a id="902">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;assert_approx_eq&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;903</ln><a id="903">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$given:expr&nbsp;</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$expected:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;904</ln><a id="904">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;905</ln><a id="905">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>use</c21><c12><a href="#803_1_refs">&nbsp;std::cmp::ApproxEq</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;906</ln><a id="906">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;907</ln><a id="907">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;given_val&nbsp;=&nbsp;$given</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;908</ln><a id="908">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;expected_val&nbsp;=&nbsp;$expected</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;909</ln><a id="909">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;check&nbsp;both&nbsp;directions&nbsp;of&nbsp;equality....
</c40><br/><ln>&nbsp;&nbsp;910</ln><a id="910">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;911</ln><a id="911">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given_val.approx_eq</a></c12><c4>(</c4><c12><a href="#803_1_refs">&amp;expected_val</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;&amp;&amp;
</a></c12><br/><ln>&nbsp;&nbsp;912</ln><a id="912">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_val.approx_eq</a></c12><c4>(</c4><c12><a href="#803_1_refs">&amp;given_val</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;913</ln><a id="913">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;914</ln><a id="914">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"left:&nbsp;%?&nbsp;does&nbsp;not&nbsp;approximately&nbsp;equal&nbsp;right:&nbsp;%?\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;915</ln><a id="915">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;expected_val</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;916</ln><a id="916">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;917</ln><a id="917">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;918</ln><a id="918">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;919</ln><a id="919">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$given:expr&nbsp;</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$expected:expr&nbsp;</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$epsilon:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;920</ln><a id="920">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;921</ln><a id="921">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>use</c21><c12><a href="#803_1_refs">&nbsp;std::cmp::ApproxEq</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;922</ln><a id="922">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;923</ln><a id="923">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;given_val&nbsp;=&nbsp;$given</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;924</ln><a id="924">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;expected_val&nbsp;=&nbsp;$expected</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;925</ln><a id="925">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>let</c21><c12><a href="#803_1_refs">&nbsp;epsilon_val&nbsp;=&nbsp;$epsilon</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;926</ln><a id="926">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;check&nbsp;both&nbsp;directions&nbsp;of&nbsp;equality....
</c40><br/><ln>&nbsp;&nbsp;927</ln><a id="927">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>if</c21><c12><a href="#803_1_refs">&nbsp;!</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;928</ln><a id="928">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given_val.approx_eq_eps</a></c12><c4>(</c4><c12><a href="#803_1_refs">&amp;expected_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;&amp;epsilon_val</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;&amp;&amp;
</a></c12><br/><ln>&nbsp;&nbsp;929</ln><a id="929">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected_val.approx_eq_eps</a></c12><c4>(</c4><c12><a href="#803_1_refs">&amp;given_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;&amp;epsilon_val</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;930</ln><a id="930">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;931</ln><a id="931">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"left:&nbsp;%?&nbsp;does&nbsp;not&nbsp;approximately&nbsp;equal&nbsp;right:&nbsp;%?&nbsp;with&nbsp;epsilon:&nbsp;%?\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;932</ln><a id="932">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;expected_val</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;epsilon_val</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;933</ln><a id="933">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;934</ln><a id="934">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;935</ln><a id="935">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;936</ln><a id="936">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;937</ln><a id="937">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;938</ln><a id="938">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;FIXME(#6266):&nbsp;change&nbsp;the&nbsp;/*&nbsp;to&nbsp;/**&nbsp;when&nbsp;attributes&nbsp;are&nbsp;supported&nbsp;on&nbsp;macros
</c40><br/><ln>&nbsp;&nbsp;939</ln><a id="939">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;(Though&nbsp;even&nbsp;thenis&nbsp;it&nbsp;going&nbsp;to&nbsp;work&nbsp;according&nbsp;to&nbsp;the&nbsp;clear&nbsp;intent&nbsp;here?)
</c40><br/><ln>&nbsp;&nbsp;940</ln><a id="940">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c41>/*
</c41><br/><ln>&nbsp;&nbsp;941</ln><a id="941">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;utility&nbsp;macro&nbsp;for&nbsp;indicating&nbsp;unreachable&nbsp;code.&nbsp;It&nbsp;will&nbsp;fail&nbsp;if
</c41><br/><ln>&nbsp;&nbsp;942</ln><a id="942">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;executed.&nbsp;This&nbsp;is&nbsp;occasionally&nbsp;useful&nbsp;to&nbsp;put&nbsp;after&nbsp;loops&nbsp;that&nbsp;never
</c41><br/><ln>&nbsp;&nbsp;943</ln><a id="943">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;terminate&nbsp;normally,&nbsp;but&nbsp;instead&nbsp;directly&nbsp;return&nbsp;from&nbsp;a&nbsp;function.
</c41><br/><ln>&nbsp;&nbsp;944</ln><a id="944">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;945</ln><a id="945">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Example
</c41><br/><ln>&nbsp;&nbsp;946</ln><a id="946">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;947</ln><a id="947">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;~~~&nbsp;{.rust}
</c41><br/><ln>&nbsp;&nbsp;948</ln><a id="948">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;choose_weighted_item(v:&nbsp;&amp;[Item])&nbsp;-&gt;&nbsp;Item&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;949</ln><a id="949">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!(!v.is_empty());
</c41><br/><ln>&nbsp;&nbsp;950</ln><a id="950">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;so_far&nbsp;=&nbsp;0u;
</c41><br/><ln>&nbsp;&nbsp;951</ln><a id="951">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;v.each&nbsp;|item|&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;952</ln><a id="952">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so_far&nbsp;+=&nbsp;item.weight;
</c41><br/><ln>&nbsp;&nbsp;953</ln><a id="953">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;so_far&nbsp;&gt;&nbsp;100&nbsp;{
</c41><br/><ln>&nbsp;&nbsp;954</ln><a id="954">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;item;
</c41><br/><ln>&nbsp;&nbsp;955</ln><a id="955">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;956</ln><a id="956">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;957</ln><a id="957">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;above&nbsp;loop&nbsp;always&nbsp;returns,&nbsp;so&nbsp;we&nbsp;must&nbsp;hint&nbsp;to&nbsp;the
</c41><br/><ln>&nbsp;&nbsp;958</ln><a id="958">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;type&nbsp;checker&nbsp;that&nbsp;it&nbsp;isn't&nbsp;possible&nbsp;to&nbsp;get&nbsp;down&nbsp;here
</c41><br/><ln>&nbsp;&nbsp;959</ln><a id="959">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unreachable!();
</c41><br/><ln>&nbsp;&nbsp;960</ln><a id="960">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;}
</c41><br/><ln>&nbsp;&nbsp;961</ln><a id="961">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;~~~
</c41><br/><ln>&nbsp;&nbsp;962</ln><a id="962">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;963</ln><a id="963">&nbsp;</a>&nbsp;<c41>&nbsp;&nbsp;&nbsp;&nbsp;*/
</c41><br/><ln>&nbsp;&nbsp;964</ln><a id="964">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;unreachable&nbsp;</a></c37><c4>(()</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;965</ln><a id="965">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"internal&nbsp;error:&nbsp;entered&nbsp;unreachable&nbsp;code\"</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;966</ln><a id="966">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;967</ln><a id="967">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;968</ln><a id="968">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;condition&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;969</ln><a id="969">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;970</ln><a id="970">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;$c:ident:&nbsp;$input:ty&nbsp;</a></c12><c4>-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$out:ty</a></c12><c3>;</c3><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;971</ln><a id="971">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;972</ln><a id="972">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>mod</c21><c38><a href="#803_1_refs">&nbsp;$c&nbsp;</a></c38><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;973</ln><a id="973">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">unused_imports</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;974</ln><a id="974">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">non_uppercase_statics</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;975</ln><a id="975">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;976</ln><a id="976">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>use</c21><c12><a href="#803_1_refs">&nbsp;super::*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;977</ln><a id="977">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;978</ln><a id="978">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local_data_key!</a></c12><c4>(</c4><c12><a href="#803_1_refs">key:&nbsp;@::std::condition::Handler&lt;$input</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$out&gt;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;979</ln><a id="979">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;980</ln><a id="980">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c36>static</c36><c36><a href="#803_1_refs">&nbsp;cond&nbsp;:
</a></c36><br/><ln>&nbsp;&nbsp;981</ln><a id="981">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::condition::Condition&lt;$input</a></c12><c3>,</c3><c12><a href="#803_1_refs">$out&gt;&nbsp;=
</a></c12><br/><ln>&nbsp;&nbsp;982</ln><a id="982">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::condition::Condition&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;983</ln><a id="983">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;stringify!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$c</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;984</ln><a id="984">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key:&nbsp;key
</a></c12><br/><ln>&nbsp;&nbsp;985</ln><a id="985">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>};</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;986</ln><a id="986">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;987</ln><a id="987">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>};</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;988</ln><a id="988">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;989</ln><a id="989">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;$c:ident:&nbsp;$input:ty&nbsp;</a></c12><c4>-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$out:ty</a></c12><c3>;</c3><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;990</ln><a id="990">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;991</ln><a id="991">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>mod</c21><c38><a href="#803_1_refs">&nbsp;$c&nbsp;</a></c38><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;992</ln><a id="992">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">unused_imports</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;993</ln><a id="993">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">non_uppercase_statics</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;994</ln><a id="994">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;995</ln><a id="995">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>use</c21><c12><a href="#803_1_refs">&nbsp;super::*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;996</ln><a id="996">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;997</ln><a id="997">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;local_data_key!</a></c12><c4>(</c4><c12><a href="#803_1_refs">key:&nbsp;@::std::condition::Handler&lt;$input</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$out&gt;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;998</ln><a id="998">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;&nbsp;999</ln><a id="999">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c36>static</c36><c36><a href="#803_1_refs">&nbsp;cond&nbsp;:
</a></c36><br/><ln>&nbsp;1000</ln><a id="1000">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::condition::Condition&lt;$input</a></c12><c3>,</c3><c12><a href="#803_1_refs">$out&gt;&nbsp;=
</a></c12><br/><ln>&nbsp;1001</ln><a id="1001">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;::std::condition::Condition&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1002</ln><a id="1002">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;stringify!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$c</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1003</ln><a id="1003">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key:&nbsp;key
</a></c12><br/><ln>&nbsp;1004</ln><a id="1004">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>};</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1005</ln><a id="1005">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1006</ln><a id="1006">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1007</ln><a id="1007">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1008</ln><a id="1008">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1009</ln><a id="1009">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;NOTE(acrichto):&nbsp;start&nbsp;removing&nbsp;this&nbsp;after&nbsp;the&nbsp;next&nbsp;snapshot
</c40><br/><ln>&nbsp;1010</ln><a id="1010">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;printf&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1011</ln><a id="1011">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1012</ln><a id="1012">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"%?\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$arg</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1013</ln><a id="1013">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1014</ln><a id="1014">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$arg:expr&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1015</ln><a id="1015">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1016</ln><a id="1016">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1017</ln><a id="1017">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1018</ln><a id="1018">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1019</ln><a id="1019">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;NOTE(acrichto):&nbsp;start&nbsp;removing&nbsp;this&nbsp;after&nbsp;the&nbsp;next&nbsp;snapshot
</c40><br/><ln>&nbsp;1020</ln><a id="1020">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;printfln&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1021</ln><a id="1021">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:expr</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1022</ln><a id="1022">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">\"%?\"</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$arg</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1023</ln><a id="1023">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1024</ln><a id="1024">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">&nbsp;$arg:expr&nbsp;</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1025</ln><a id="1025">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println</a></c12><c4>(</c4><c12><a href="#803_1_refs">fmt!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">+</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1026</ln><a id="1026">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1027</ln><a id="1027">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1028</ln><a id="1028">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1029</ln><a id="1029">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;format</a></c37><c4>((</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1030</ln><a id="1030">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_args!</a></c12><c4>(</c4><c12><a href="#803_1_refs">::std::fmt::format</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1031</ln><a id="1031">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1032</ln><a id="1032">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;write</a></c37><c4>((</c4><c12><a href="#803_1_refs">$dst:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1033</ln><a id="1033">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_args!</a></c12><c4>(</c4><c12><a href="#803_1_refs">|args|&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;::std::fmt::write</a></c12><c4>(</c4><c12><a href="#803_1_refs">$dst</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;args</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>},</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1034</ln><a id="1034">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1035</ln><a id="1035">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;writeln</a></c37><c4>((</c4><c12><a href="#803_1_refs">$dst:expr</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1036</ln><a id="1036">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format_args!</a></c12><c4>(</c4><c12><a href="#803_1_refs">|args|&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">&nbsp;::std::fmt::writeln</a></c12><c4>(</c4><c12><a href="#803_1_refs">$dst</a></c12><c3>,</c3><c12><a href="#803_1_refs">&nbsp;args</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>},</c3><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1037</ln><a id="1037">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1038</ln><a id="1038">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;FIXME(#6846)&nbsp;once&nbsp;stdio&nbsp;is&nbsp;redesigned,&nbsp;this&nbsp;shouldn't&nbsp;perform&nbsp;an
</c40><br/><ln>&nbsp;1039</ln><a id="1039">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocation&nbsp;but&nbsp;should&nbsp;rather&nbsp;delegate&nbsp;to&nbsp;an&nbsp;invocation&nbsp;of
</c40><br/><ln>&nbsp;1040</ln><a id="1040">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write!&nbsp;instead&nbsp;of&nbsp;format!
</c40><br/><ln>&nbsp;1041</ln><a id="1041">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;print&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1042</ln><a id="1042">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">::std::io::print</a></c12><c4>(</c4><c12><a href="#803_1_refs">format!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1043</ln><a id="1043">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1044</ln><a id="1044">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;FIXME(#6846)&nbsp;once&nbsp;stdio&nbsp;is&nbsp;redesigned,&nbsp;this&nbsp;shouldn't&nbsp;perform&nbsp;an
</c40><br/><ln>&nbsp;1045</ln><a id="1045">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocation&nbsp;but&nbsp;should&nbsp;rather&nbsp;delegate&nbsp;to&nbsp;an&nbsp;io::Writer
</c40><br/><ln>&nbsp;1046</ln><a id="1046">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;println&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1047</ln><a id="1047">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg:tt</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">::std::io::println</a></c12><c4>(</c4><c12><a href="#803_1_refs">format!</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg</a></c12><c4>)</c4><c12><a href="#803_1_refs">*</a></c12><c4>)))</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1048</ln><a id="1048">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1049</ln><a id="1049">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1050</ln><a id="1050">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;local_data_key&nbsp;</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1051</ln><a id="1051">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$name:ident:&nbsp;$ty:ty</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1052</ln><a id="1052">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c36>static</c36><c36><a href="#803_1_refs">&nbsp;$name:&nbsp;::std::local_data::Key</a></c36><c5><a href="#803_1_refs">&lt;$ty&gt;</a></c5><c36><a href="#803_1_refs">&nbsp;=&nbsp;&amp;::std::local_data::Key</a></c36><c36>;</c36><c36><a href="#803_1_refs">
</a></c36><br/><ln>&nbsp;1053</ln><a id="1053">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1054</ln><a id="1054">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;$name:ident:&nbsp;$ty:ty</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1055</ln><a id="1055">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c36>static</c36><c36><a href="#803_1_refs">&nbsp;$name:&nbsp;::std::local_data::Key</a></c36><c5><a href="#803_1_refs">&lt;$ty&gt;</a></c5><c36><a href="#803_1_refs">&nbsp;=&nbsp;&amp;::std::local_data::Key</a></c36><c36>;</c36><c36><a href="#803_1_refs">
</a></c36><br/><ln>&nbsp;1056</ln><a id="1056">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1057</ln><a id="1057">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1058</ln><a id="1058">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1059</ln><a id="1059">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;externfn!&nbsp;declares&nbsp;a&nbsp;wrapper&nbsp;for&nbsp;an&nbsp;external&nbsp;function.
</c40><br/><ln>&nbsp;1060</ln><a id="1060">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;It&nbsp;is&nbsp;intended&nbsp;to&nbsp;be&nbsp;used&nbsp;like:
</c40><br/><ln>&nbsp;1061</ln><a id="1061">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//
</c40><br/><ln>&nbsp;1062</ln><a id="1062">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;externfn!(#[nolink]
</c40><br/><ln>&nbsp;1063</ln><a id="1063">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[abi&nbsp;=&nbsp;\"cdecl\"]
</c40><br/><ln>&nbsp;1064</ln><a id="1064">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;memcmp(cx:&nbsp;*u8,&nbsp;ct:&nbsp;*u8,&nbsp;n:&nbsp;u32)&nbsp;-&gt;&nbsp;u32)
</c40><br/><ln>&nbsp;1065</ln><a id="1065">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//
</c40><br/><ln>&nbsp;1066</ln><a id="1066">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Due&nbsp;to&nbsp;limitations&nbsp;in&nbsp;the&nbsp;macro&nbsp;parser,&nbsp;this&nbsp;pattern&nbsp;must&nbsp;be
</c40><br/><ln>&nbsp;1067</ln><a id="1067">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;implemented&nbsp;with&nbsp;4&nbsp;distinct&nbsp;patterns&nbsp;(with&nbsp;attrs&nbsp;/&nbsp;without
</c40><br/><ln>&nbsp;1068</ln><a id="1068">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;attrs&nbsp;CROSS&nbsp;with&nbsp;args&nbsp;/&nbsp;without&nbsp;ARGS).
</c40><br/><ln>&nbsp;1069</ln><a id="1069">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//
</c40><br/><ln>&nbsp;1070</ln><a id="1070">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Also,&nbsp;this&nbsp;macro&nbsp;grammar&nbsp;allows&nbsp;for&nbsp;any&nbsp;number&nbsp;of&nbsp;return&nbsp;types
</c40><br/><ln>&nbsp;1071</ln><a id="1071">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;because&nbsp;I&nbsp;couldn't&nbsp;figure&nbsp;out&nbsp;the&nbsp;syntax&nbsp;to&nbsp;specify&nbsp;at&nbsp;most&nbsp;one.
</c40><br/><ln>&nbsp;1072</ln><a id="1072">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c37>macro_rules!</c37><c37><a href="#803_1_refs">&nbsp;externfn</a></c37><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1073</ln><a id="1073">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name:ident&nbsp;</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1074</ln><a id="1074">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>unsafe</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1075</ln><a id="1075">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Note:&nbsp;to&nbsp;avoid&nbsp;obscure&nbsp;bug&nbsp;in&nbsp;macros,&nbsp;keep&nbsp;these
</c40><br/><ln>&nbsp;1076</ln><a id="1076">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;attributes&nbsp;*internal*&nbsp;to&nbsp;the&nbsp;fn
</c40><br/><ln>&nbsp;1077</ln><a id="1077">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">fixed_stack_segment</a></c12><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1078</ln><a id="1078">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">inline</a></c12><c4>(</c4><c12><a href="#803_1_refs">never</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1079</ln><a id="1079">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">missing_doc</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1080</ln><a id="1080">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1081</ln><a id="1081">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>return</c21><c12><a href="#803_1_refs">&nbsp;$name</a></c12><c4>()</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1082</ln><a id="1082">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1083</ln><a id="1083">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>extern</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1084</ln><a id="1084">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1085</ln><a id="1085">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1086</ln><a id="1086">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1087</ln><a id="1087">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1088</ln><a id="1088">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name:ident&nbsp;</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name:ident&nbsp;:&nbsp;$arg_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1089</ln><a id="1089">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>unsafe</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name&nbsp;:&nbsp;$arg_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1090</ln><a id="1090">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Note:&nbsp;to&nbsp;avoid&nbsp;obscure&nbsp;bug&nbsp;in&nbsp;macros,&nbsp;keep&nbsp;these
</c40><br/><ln>&nbsp;1091</ln><a id="1091">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;attributes&nbsp;*internal*&nbsp;to&nbsp;the&nbsp;fn
</c40><br/><ln>&nbsp;1092</ln><a id="1092">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">fixed_stack_segment</a></c12><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1093</ln><a id="1093">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">inline</a></c12><c4>(</c4><c12><a href="#803_1_refs">never</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1094</ln><a id="1094">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">missing_doc</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1095</ln><a id="1095">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1096</ln><a id="1096">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>return</c21><c12><a href="#803_1_refs">&nbsp;$name</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1097</ln><a id="1097">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1098</ln><a id="1098">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>extern</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1099</ln><a id="1099">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name&nbsp;:&nbsp;$arg_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1100</ln><a id="1100">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1101</ln><a id="1101">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1102</ln><a id="1102">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1103</ln><a id="1103">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$attrs:attr</a></c12><c4>)</c4><c12><a href="#803_1_refs">*&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name:ident&nbsp;</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1104</ln><a id="1104">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>unsafe</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1105</ln><a id="1105">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Note:&nbsp;to&nbsp;avoid&nbsp;obscure&nbsp;bug&nbsp;in&nbsp;macros,&nbsp;keep&nbsp;these
</c40><br/><ln>&nbsp;1106</ln><a id="1106">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;attributes&nbsp;*internal*&nbsp;to&nbsp;the&nbsp;fn
</c40><br/><ln>&nbsp;1107</ln><a id="1107">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">fixed_stack_segment</a></c12><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1108</ln><a id="1108">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">inline</a></c12><c4>(</c4><c12><a href="#803_1_refs">never</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1109</ln><a id="1109">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">missing_doc</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1110</ln><a id="1110">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1111</ln><a id="1111">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>return</c21><c12><a href="#803_1_refs">&nbsp;$name</a></c12><c4>()</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1112</ln><a id="1112">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1113</ln><a id="1113">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$attrs</a></c12><c4>)</c4><c12><a href="#803_1_refs">*
</a></c12><br/><ln>&nbsp;1114</ln><a id="1114">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>extern</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1115</ln><a id="1115">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>()</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1116</ln><a id="1116">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1117</ln><a id="1117">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1118</ln><a id="1118">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1119</ln><a id="1119">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$attrs:attr</a></c12><c4>)</c4><c12><a href="#803_1_refs">*&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name:ident&nbsp;</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name:ident&nbsp;:&nbsp;$arg_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty:ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c12><a href="#803_1_refs">&nbsp;</a></c12><c4>(</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1120</ln><a id="1120">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>pub</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c21>unsafe</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name&nbsp;:&nbsp;$arg_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1121</ln><a id="1121">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;Note:&nbsp;to&nbsp;avoid&nbsp;obscure&nbsp;bug&nbsp;in&nbsp;macros,&nbsp;keep&nbsp;these
</c40><br/><ln>&nbsp;1122</ln><a id="1122">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c40>//&nbsp;attributes&nbsp;*internal*&nbsp;to&nbsp;the&nbsp;fn
</c40><br/><ln>&nbsp;1123</ln><a id="1123">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">fixed_stack_segment</a></c12><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1124</ln><a id="1124">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">inline</a></c12><c4>(</c4><c12><a href="#803_1_refs">never</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1125</ln><a id="1125">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#</a></c12><c3>[</c3><c12><a href="#803_1_refs">allow</a></c12><c4>(</c4><c12><a href="#803_1_refs">missing_doc</a></c12><c4>)</c4><c3>];</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1126</ln><a id="1126">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1127</ln><a id="1127">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>return</c21><c12><a href="#803_1_refs">&nbsp;$name</a></c12><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1128</ln><a id="1128">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1129</ln><a id="1129">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$attrs</a></c12><c4>)</c4><c12><a href="#803_1_refs">*
</a></c12><br/><ln>&nbsp;1130</ln><a id="1130">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c21>extern</c21><c12><a href="#803_1_refs">&nbsp;</a></c12><c3>{</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1131</ln><a id="1131">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;$name</a></c30><c4>(</c4><c12><a href="#803_1_refs">$</a></c12><c4>(</c4><c12><a href="#803_1_refs">$arg_name&nbsp;:&nbsp;$arg_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c4>)</c4><c12><a href="#803_1_refs">&nbsp;$</a></c12><c4>(-&gt;</c4><c12><a href="#803_1_refs">&nbsp;$ret_ty</a></c12><c4>)</c4><c3>,</c3><c12><a href="#803_1_refs">*</a></c12><c3>;</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1132</ln><a id="1132">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1133</ln><a id="1133">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c3>}</c3><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1134</ln><a id="1134">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1135</ln><a id="1135">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c4>)</c4><c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1136</ln><a id="1136">&nbsp;</a>&nbsp;<c12><a href="#803_1_refs">
</a></c12><br/><ln>&nbsp;1137</ln><a id="1137">&nbsp;</a>&nbsp;<c3>}</c3><c12><a href="#803_1_refs">"</a></c12><c3>;</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;1138</ln><a id="1138">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1139</ln><a id="1139">&nbsp;</a><a id="n149328">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1140</ln><a id="1140">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#1139_1_refs">&nbsp;Injector&nbsp;</a></c31><c3>{</c3><c31><a href="#1139_1_refs">
</a></c31><br/><ln>&nbsp;1141</ln><a id="1141">&nbsp;</a><a id="n149329"><a id="n149332"><a id="n149331">&nbsp;</a></a></a><c31><a href="#1139_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1141_4_refs">sm:&nbsp;</a></c24><c8><a href="#1141_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c3>,</c3><c31><a href="#1139_1_refs">
</a></c31><br/><ln>&nbsp;1142</ln><a id="1142">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1143</ln><a id="1143">&nbsp;</a><a id="n149333">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1144</ln><a id="1144">&nbsp;</a><a id="n149336"><a id="n149334">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1139">Injector</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1145</ln><a id="1145">&nbsp;</a><a id="n149340"><a id="n149339"><a id="n149365"><a id="n149338"><a id="n149364"><a id="n149343">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fold_mod</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1145_23_refs">module</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1146</ln><a id="1146">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;Just&nbsp;inject&nbsp;the&nbsp;standard&nbsp;macros&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;first&nbsp;module
</c40><br/><ln>&nbsp;1147</ln><a id="1147">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;in&nbsp;the&nbsp;crate:&nbsp;that&nbsp;is,&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;the&nbsp;crate&nbsp;file&nbsp;itself.
</c40><br/><ln>&nbsp;1148</ln><a id="1148">&nbsp;</a><a id="n149353"><a id="n149348"><a id="n149347"><a id="n149355"><a id="n149345"><a id="n149350"><a id="n149351"><a id="n149349"><a id="n149344"><a id="n149352"><a id="n149354"><a id="n149346">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1148_12_refs">items</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../libstd/vec.rs.html#n48878">vec::append</a></c26><c4>(</c4><c16>~</c16><c3>[</c3><c1>&nbsp;</c1><c1><a href="c=0 n=149366">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1141">sm</a></c24><c1>&nbsp;</c1><c3>],</c3><c27>&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1145">module</a></c26><c24><a href="../../libsyntax/ast.rs.html#945">.items</a></c24><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1149</ln><a id="1149">&nbsp;</a><a id="n149363">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c1><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1150</ln><a id="1150">&nbsp;</a><a id="n149356">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1148">items</a></c26><c3>,</c3><c22>
</c22><br/><ln>&nbsp;1151</ln><a id="1151">&nbsp;</a><a id="n149359"><a id="n149360"><a id="n149362"><a id="n149361">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..</c22><c4>(</c4><c5><a href="../../libsyntax/ast.rs.html#942">*</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#1145">module</a></c26><c4>)</c4><c1><a href="../../libsyntax/ast.rs.html#942">.</a></c1><c10><a href="../../libsyntax/ast.rs.html#942">clone</a></c10><c4>()</c4><c10><a href="../../libsyntax/ast.rs.html#942">&nbsp;</a></c10><c40>//&nbsp;FIXME&nbsp;#2543:&nbsp;Bad&nbsp;copy.
</c40><br/><ln>&nbsp;1152</ln><a id="1152">&nbsp;</a>&nbsp;<c10><a href="../../libsyntax/ast.rs.html#942">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c22>
</c22><br/><ln>&nbsp;1153</ln><a id="1153">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1154</ln><a id="1154">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1155</ln><a id="1155">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1156</ln><a id="1156">&nbsp;</a>&nbsp;<c40>//&nbsp;add&nbsp;a&nbsp;bunch&nbsp;of&nbsp;macros&nbsp;as&nbsp;though&nbsp;they&nbsp;were&nbsp;placed&nbsp;at&nbsp;the&nbsp;head&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1157</ln><a id="1157">&nbsp;</a><a id="n149367">&nbsp;</a><c40>//&nbsp;program&nbsp;(ick).&nbsp;This&nbsp;should&nbsp;run&nbsp;before&nbsp;cfg&nbsp;stripping.
</c40><br/><ln>&nbsp;1158</ln><a id="1158">&nbsp;</a><a id="n149370"><a id="n149369"><a id="n149371">&nbsp;</a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;inject_std_macros</c30><c4>(</c4><c20><a href="#1158_25_refs">parse_sess</a></c20><c1>:&nbsp;</c1><c8>@mut&nbsp;</c8><c8><a href="../../libsyntax/parse/mod.rs.html#40">parse::ParseSess</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;1159</ln><a id="1159">&nbsp;</a><a id="n149375"><a id="n149374">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#1159_25_refs">cfg</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#256">ast::CrateConfig</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;1160</ln><a id="1160">&nbsp;</a><a id="n149379"><a id="n149380"><a id="n149378">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#1160_25_refs">c</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#259">Crate</a></c8><c4>)</c4><c1>
</c1><br/><ln>&nbsp;1161</ln><a id="1161">&nbsp;</a><a id="n149384"><a id="n149383"><a id="n149431">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#259">Crate</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1162</ln><a id="1162">&nbsp;</a><a id="n149412"><a id="n149386"><a id="n149398"><a id="n149389"><a id="n149388"><a id="n149385"><a id="n149411"><a id="n149410"><a id="n149387">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1162_8_refs">sm</a></c20><c16>&nbsp;=&nbsp;</c16><c21>match&nbsp;</c21><c26><a href="../../libsyntax/parse/mod.rs.html#108">parse_item_from_source_str</a></c26><c4>(</c4><c16>@</c16><c12>"&lt;std-macros&gt;"</c12><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1163</ln><a id="1163">&nbsp;</a><a id="n149391"><a id="n149390">&nbsp;</a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#803">std_macros</a></c26><c4>()</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1164</ln><a id="1164">&nbsp;</a><a id="n149394"><a id="n149393">&nbsp;</a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1159">cfg</a></c26><c10><a href="../../libstd/vec.rs.html#n56490">.clone</a></c10><c4>()</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1165</ln><a id="1165">&nbsp;</a><a id="n149396"><a id="n149395">&nbsp;</a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c16>~</c16><c3>[],</c3><c27>
</c27><br/><ln>&nbsp;1166</ln><a id="1166">&nbsp;</a><a id="n149397">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1158">parse_sess</a></c26><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c21>
</c21><br/><ln>&nbsp;1167</ln><a id="1167">&nbsp;</a><a id="n149402"><a id="n149401"><a id="n149400"><a id="n149399">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#1167_13_refs">item</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#1167">item</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;1168</ln><a id="1168">&nbsp;</a><a id="n149405"><a id="n149409"><a id="n149408"><a id="n149403">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c27>fail!</c27><c4>(</c4><c12>"expected&nbsp;core&nbsp;macros&nbsp;to&nbsp;parse&nbsp;correctly"</c12><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1169</ln><a id="1169">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>};</c3><c22>
</c22><br/><ln>&nbsp;1170</ln><a id="1170">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;1171</ln><a id="1171">&nbsp;</a><a id="n149413"><a id="n149414"><a id="n149418"><a id="n149423"><a id="n149422"><a id="n149417"><a id="n149424">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1171_8_refs">injector</a></c20><c13>&nbsp;=&nbsp;</c13><c5>@</c5><c1><a href="../../libsyntax/ext/expand.rs.html#1139">Injector</a></c1><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;1172</ln><a id="1172">&nbsp;</a><a id="n149416">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sm:&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#1162">sm</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;1173</ln><a id="1173">&nbsp;</a><a id="n149421"><a id="n149420">&nbsp;</a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c21>&nbsp;as&nbsp;</c21><c8>@</c8><c8><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c8><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1174</ln><a id="1174">&nbsp;</a><a id="n149430"><a id="n149428"><a id="n149427"><a id="n149429">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c5>@</c5><c26><a href="../../libsyntax/ext/expand.rs.html#1171">injector</a></c26><c10>.fold_crate</c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1160">c</a></c26><c4>)</c4><c10>
</c10><br/><ln>&nbsp;1175</ln><a id="1175">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1176</ln><a id="1176">&nbsp;</a><a id="n149432">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1177</ln><a id="1177">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#1176_1_refs">&nbsp;NoOpFolder&nbsp;</a></c31><c3>{</c3><c31><a href="#1176_1_refs">
</a></c31><br/><ln>&nbsp;1178</ln><a id="1178">&nbsp;</a><a id="n149434"><a id="n149433">&nbsp;</a></a><c31><a href="#1176_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1176_1_refs">contents:&nbsp;</a></c24><c4>()</c4><c3>,</c3><c31><a href="#1176_1_refs">
</a></c31><br/><ln>&nbsp;1179</ln><a id="1179">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1180</ln><a id="1180">&nbsp;</a><a id="n149435">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1181</ln><a id="1181">&nbsp;</a><a id="n149438"><a id="n149436">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1176">NoOpFolder</a></c33><c33>&nbsp;</c33><c3>{}</c3><c0>
</c0><br/><ln>&nbsp;1182</ln><a id="1182">&nbsp;</a><a id="n149439">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1183</ln><a id="1183">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#1182_1_refs">&nbsp;MacroExpander&nbsp;</a></c31><c3>{</c3><c31><a href="#1182_1_refs">
</a></c31><br/><ln>&nbsp;1184</ln><a id="1184">&nbsp;</a><a id="n149442"><a id="n149440"><a id="n149443">&nbsp;</a></a></a><c31><a href="#1182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1184_4_refs">extsbox:&nbsp;</a></c24><c8><a href="#1184_4_refs">@mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#165">SyntaxEnv</a></c8><c3>,</c3><c31><a href="#1182_1_refs">
</a></c31><br/><ln>&nbsp;1185</ln><a id="1185">&nbsp;</a><a id="n149447"><a id="n149444"><a id="n149446">&nbsp;</a></a></a><c31><a href="#1182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1185_4_refs">cx:&nbsp;</a></c24><c8><a href="#1185_4_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c3>,</c3><c31><a href="#1182_1_refs">
</a></c31><br/><ln>&nbsp;1186</ln><a id="1186">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1187</ln><a id="1187">&nbsp;</a><a id="n149448">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1188</ln><a id="1188">&nbsp;</a><a id="n149451"><a id="n149449">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1189</ln><a id="1189">&nbsp;</a><a id="n149454"><a id="n149453"><a id="n149458"><a id="n149455"><a id="n149469"><a id="n149459"><a id="n149468">&nbsp;</a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#1189_4_refs">&nbsp;fold_expr</a></c30><c4>(</c4><c18><a href="#1189_4_refs">&amp;self</a></c18><c3>,</c3><c18><a href="#1189_4_refs">&nbsp;</a></c18><c20><a href="#1189_24_refs">expr</a></c20><c18><a href="#1189_4_refs">:&nbsp;</a></c18><c8><a href="#1189_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c4>)</c4><c18><a href="#1189_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#1189_4_refs">&nbsp;</a></c18><c8><a href="#1189_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c18><a href="#1189_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#1189_4_refs">
</a></c22><br/><ln>&nbsp;1190</ln><a id="1190">&nbsp;</a><a id="n149461"><a id="n149460"><a id="n149467"><a id="n149462">&nbsp;</a></a></a></a><c22><a href="#1189_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#33">expand_expr</a></c26><c4>(</c4><c1><a href="c=0 n=149470">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1184">extsbox</a></c24><c3>,</c3><c27><a href="#1189_4_refs">
</a></c27><br/><ln>&nbsp;1191</ln><a id="1191">&nbsp;</a><a id="n149463"><a id="n149464">&nbsp;</a></a><c27><a href="#1189_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149470">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27><a href="#1189_4_refs">
</a></c27><br/><ln>&nbsp;1192</ln><a id="1192">&nbsp;</a><a id="n149465">&nbsp;</a><c27><a href="#1189_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1189">expr</a></c26><c3>,</c3><c27><a href="#1189_4_refs">
</a></c27><br/><ln>&nbsp;1193</ln><a id="1193">&nbsp;</a><a id="n149466">&nbsp;</a><c27><a href="#1189_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149470">self</a></c1><c4>)</c4><c27><a href="#1189_4_refs">
</a></c27><br/><ln>&nbsp;1194</ln><a id="1194">&nbsp;</a>&nbsp;<c27><a href="#1189_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1195</ln><a id="1195">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;1196</ln><a id="1196">&nbsp;</a><a id="n149477"><a id="n149472"><a id="n149486"><a id="n149473"><a id="n149487"><a id="n149474">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fold_mod</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1196_23_refs">module</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#942">ast::_mod</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1197</ln><a id="1197">&nbsp;</a><a id="n149479"><a id="n149478"><a id="n149485"><a id="n149480">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#252">expand_mod_items</a></c26><c4>(</c4><c1><a href="c=0 n=149488">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1184">extsbox</a></c24><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1198</ln><a id="1198">&nbsp;</a><a id="n149481"><a id="n149482">&nbsp;</a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c1><a href="c=0 n=149488">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1199</ln><a id="1199">&nbsp;</a><a id="n149483">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1196">module</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1200</ln><a id="1200">&nbsp;</a><a id="n149484">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c1><a href="c=0 n=149488">self</a></c1><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1201</ln><a id="1201">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1202</ln><a id="1202">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;1203</ln><a id="1203">&nbsp;</a><a id="n149495"><a id="n149496"><a id="n149508"><a id="n149490"><a id="n149498"><a id="n149492"><a id="n149507"><a id="n149491">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#1203_4_refs">&nbsp;fold_item</a></c30><c4>(</c4><c18><a href="#1203_4_refs">&amp;self</a></c18><c3>,</c3><c18><a href="#1203_4_refs">&nbsp;</a></c18><c20><a href="#1203_24_refs">item</a></c20><c18><a href="#1203_4_refs">:&nbsp;</a></c18><c8><a href="#1203_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c4>)</c4><c18><a href="#1203_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#1203_4_refs">&nbsp;</a></c18><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;</a></c8><c8><a href="#1203_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c18><a href="#1203_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#1203_4_refs">
</a></c22><br/><ln>&nbsp;1204</ln><a id="1204">&nbsp;</a><a id="n149501"><a id="n149506"><a id="n149500"><a id="n149499">&nbsp;</a></a></a></a><c22><a href="#1203_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#308">expand_item</a></c26><c4>(</c4><c1><a href="c=0 n=149509">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1184">extsbox</a></c24><c3>,</c3><c27><a href="#1203_4_refs">
</a></c27><br/><ln>&nbsp;1205</ln><a id="1205">&nbsp;</a><a id="n149502"><a id="n149503">&nbsp;</a></a><c27><a href="#1203_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149509">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27><a href="#1203_4_refs">
</a></c27><br/><ln>&nbsp;1206</ln><a id="1206">&nbsp;</a><a id="n149504">&nbsp;</a><c27><a href="#1203_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1203">item</a></c26><c3>,</c3><c27><a href="#1203_4_refs">
</a></c27><br/><ln>&nbsp;1207</ln><a id="1207">&nbsp;</a><a id="n149505">&nbsp;</a><c27><a href="#1203_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149509">self</a></c1><c4>)</c4><c27><a href="#1203_4_refs">
</a></c27><br/><ln>&nbsp;1208</ln><a id="1208">&nbsp;</a>&nbsp;<c27><a href="#1203_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1209</ln><a id="1209">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;1210</ln><a id="1210">&nbsp;</a><a id="n149516"><a id="n149511"><a id="n149529"><a id="n149528"><a id="n149512"><a id="n149517"><a id="n149519"><a id="n149513">&nbsp;</a></a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#1210_4_refs">&nbsp;fold_stmt</a></c30><c4>(</c4><c18><a href="#1210_4_refs">&amp;self</a></c18><c3>,</c3><c18><a href="#1210_4_refs">&nbsp;</a></c18><c20><a href="#1210_24_refs">stmt</a></c20><c18><a href="#1210_4_refs">:&nbsp;</a></c18><c8><a href="#1210_4_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c4>)</c4><c18><a href="#1210_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#1210_4_refs">&nbsp;</a></c18><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;</a></c8><c8><a href="#1210_4_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c18><a href="#1210_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#1210_4_refs">
</a></c22><br/><ln>&nbsp;1211</ln><a id="1211">&nbsp;</a><a id="n149522"><a id="n149521"><a id="n149527"><a id="n149520">&nbsp;</a></a></a></a><c22><a href="#1210_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#440">expand_stmt</a></c26><c4>(</c4><c1><a href="c=0 n=149530">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1184">extsbox</a></c24><c3>,</c3><c27><a href="#1210_4_refs">
</a></c27><br/><ln>&nbsp;1212</ln><a id="1212">&nbsp;</a><a id="n149523"><a id="n149524">&nbsp;</a></a><c27><a href="#1210_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149530">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27><a href="#1210_4_refs">
</a></c27><br/><ln>&nbsp;1213</ln><a id="1213">&nbsp;</a><a id="n149525">&nbsp;</a><c27><a href="#1210_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1210">stmt</a></c26><c3>,</c3><c27><a href="#1210_4_refs">
</a></c27><br/><ln>&nbsp;1214</ln><a id="1214">&nbsp;</a><a id="n149526">&nbsp;</a><c27><a href="#1210_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149530">self</a></c1><c4>)</c4><c27><a href="#1210_4_refs">
</a></c27><br/><ln>&nbsp;1215</ln><a id="1215">&nbsp;</a>&nbsp;<c27><a href="#1210_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1216</ln><a id="1216">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;1217</ln><a id="1217">&nbsp;</a><a id="n149533"><a id="n149546"><a id="n149534"><a id="n149532"><a id="n149547"><a id="n149537">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#1217_4_refs">&nbsp;fold_block</a></c30><c4>(</c4><c18><a href="#1217_4_refs">&amp;self</a></c18><c3>,</c3><c18><a href="#1217_4_refs">&nbsp;</a></c18><c20><a href="#1217_25_refs">block</a></c20><c18><a href="#1217_4_refs">:&nbsp;</a></c18><c8><a href="#1217_4_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#301">ast::Block</a></c8><c4>)</c4><c18><a href="#1217_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#1217_4_refs">&nbsp;</a></c18><c8><a href="../../libsyntax/ast.rs.html#301">ast::Block</a></c8><c18><a href="#1217_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#1217_4_refs">
</a></c22><br/><ln>&nbsp;1218</ln><a id="1218">&nbsp;</a><a id="n149540"><a id="n149539"><a id="n149538"><a id="n149545">&nbsp;</a></a></a></a><c22><a href="#1217_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#703">expand_block</a></c26><c4>(</c4><c1><a href="c=0 n=149548">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1184">extsbox</a></c24><c3>,</c3><c27><a href="#1217_4_refs">
</a></c27><br/><ln>&nbsp;1219</ln><a id="1219">&nbsp;</a><a id="n149541"><a id="n149542">&nbsp;</a></a><c27><a href="#1217_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149548">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27><a href="#1217_4_refs">
</a></c27><br/><ln>&nbsp;1220</ln><a id="1220">&nbsp;</a><a id="n149543">&nbsp;</a><c27><a href="#1217_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1217">block</a></c26><c3>,</c3><c27><a href="#1217_4_refs">
</a></c27><br/><ln>&nbsp;1221</ln><a id="1221">&nbsp;</a><a id="n149544">&nbsp;</a><c27><a href="#1217_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c1><a href="c=0 n=149548">self</a></c1><c4>)</c4><c27><a href="#1217_4_refs">
</a></c27><br/><ln>&nbsp;1222</ln><a id="1222">&nbsp;</a>&nbsp;<c27><a href="#1217_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1223</ln><a id="1223">&nbsp;</a>&nbsp;<c33>
</c33><br/><ln>&nbsp;1224</ln><a id="1224">&nbsp;</a><a id="n149554"><a id="n149561"><a id="n149560"><a id="n149550"><a id="n149551">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;new_span</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1224_23_refs">span</a></c20><c18>:&nbsp;</c18><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/codemap.rs.html#84">Span</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1225</ln><a id="1225">&nbsp;</a><a id="n149555"><a id="n149557"><a id="n149556"><a id="n149559"><a id="n149558">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#790">new_span</a></c26><c4>(</c4><c1><a href="c=0 n=149562">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1185">cx</a></c24><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1224">span</a></c26><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1226</ln><a id="1226">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1227</ln><a id="1227">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1228</ln><a id="1228">&nbsp;</a><a id="n149563">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1229</ln><a id="1229">&nbsp;</a><a id="n149565"><a id="n149567"><a id="n149566">&nbsp;</a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;expand_crate</c30><c4>(</c4><c20><a href="#1229_20_refs">parse_sess</a></c20><c1>:&nbsp;</c1><c8>@mut&nbsp;</c8><c8><a href="../../libsyntax/parse/mod.rs.html#40">parse::ParseSess</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;1230</ln><a id="1230">&nbsp;</a><a id="n149570"><a id="n149571">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#1230_20_refs">cfg</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#256">ast::CrateConfig</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;1231</ln><a id="1231">&nbsp;</a><a id="n149575"><a id="n149574"><a id="n149580"><a id="n149579"><a id="n149632"><a id="n149576">&nbsp;</a></a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#1231_20_refs">c</a></c20><c1>:&nbsp;</c1><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#259">Crate</a></c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#259">Crate</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1232</ln><a id="1232">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;adding&nbsp;*another*&nbsp;layer&nbsp;of&nbsp;indirection&nbsp;here&nbsp;so&nbsp;that&nbsp;the&nbsp;block
</c40><br/><ln>&nbsp;1233</ln><a id="1233">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;visitor&nbsp;can&nbsp;swap&nbsp;out&nbsp;one&nbsp;exts&nbsp;table&nbsp;for&nbsp;another&nbsp;for&nbsp;the&nbsp;duration
</c40><br/><ln>&nbsp;1234</ln><a id="1234">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;of&nbsp;the&nbsp;block.&nbsp;&nbsp;The&nbsp;cleaner&nbsp;alternative&nbsp;would&nbsp;be&nbsp;to&nbsp;thread&nbsp;the
</c40><br/><ln>&nbsp;1235</ln><a id="1235">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;exts&nbsp;table&nbsp;through&nbsp;the&nbsp;fold,&nbsp;but&nbsp;that&nbsp;would&nbsp;require&nbsp;updating
</c40><br/><ln>&nbsp;1236</ln><a id="1236">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;every&nbsp;method/element&nbsp;of&nbsp;AstFoldFns&nbsp;in&nbsp;fold.rs.
</c40><br/><ln>&nbsp;1237</ln><a id="1237">&nbsp;</a><a id="n149584"><a id="n149581"><a id="n149582"><a id="n149585"><a id="n149586"><a id="n149583">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1237_8_refs">extsbox</a></c20><c13>&nbsp;=&nbsp;</c13><c26><a href="../../libsyntax/ext/base.rs.html#191">syntax_expander_table</a></c26><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1238</ln><a id="1238">&nbsp;</a><a id="n149592"><a id="n149590"><a id="n149593"><a id="n149589"><a id="n149594"><a id="n149587"><a id="n149596"><a id="n149588"><a id="n149595">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1238_8_refs">cx</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../libsyntax/ext/base.rs.html#330">ExtCtxt::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1229">parse_sess</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1230">cfg</a></c26><c10><a href="../../libstd/vec.rs.html#n56490">.clone</a></c10><c4>())</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1239</ln><a id="1239">&nbsp;</a><a id="n149611"><a id="n149610"><a id="n149597"><a id="n149598"><a id="n149605"><a id="n149609"><a id="n149604">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1239_8_refs">expander</a></c20><c16>&nbsp;=&nbsp;</c16><c5>@</c5><c1><a href="../../libsyntax/ext/expand.rs.html#1182">MacroExpander</a></c1><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;1240</ln><a id="1240">&nbsp;</a><a id="n149601"><a id="n149602">&nbsp;</a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extsbox:&nbsp;</c21><c5>@mut&nbsp;</c5><c26><a href="../../libsyntax/ext/expand.rs.html#1237">extsbox</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;1241</ln><a id="1241">&nbsp;</a><a id="n149603">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cx:&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#1238">cx</a></c26><c3>,</c3><c21>
</c21><br/><ln>&nbsp;1242</ln><a id="1242">&nbsp;</a><a id="n149607"><a id="n149608">&nbsp;</a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c21>&nbsp;as&nbsp;</c21><c8>@</c8><c8><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c8><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1243</ln><a id="1243">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;1244</ln><a id="1244">&nbsp;</a><a id="n149613"><a id="n149621"><a id="n149620"><a id="n149618"><a id="n149617"><a id="n149619"><a id="n149616"><a id="n149612">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1244_8_refs">ret</a></c20><c16>&nbsp;=&nbsp;</c16><c5>@</c5><c26><a href="../../libsyntax/ext/expand.rs.html#1239">expander</a></c26><c10>.fold_crate</c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1231">c</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1245</ln><a id="1245">&nbsp;</a><a id="n149625"><a id="n149628"><a id="n149627"><a id="n149624"><a id="n149626">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1229">parse_sess</a></c26><c24><a href="../../libsyntax/parse/mod.rs.html#43">.span_diagnostic</a></c24><c10>.handler</c10><c4>()</c4><c10>.abort_if_errors</c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1246</ln><a id="1246">&nbsp;</a><a id="n149629"><a id="n149630"><a id="n149631">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><c26><a href="../../libsyntax/ext/expand.rs.html#1244">ret</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1247</ln><a id="1247">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1248</ln><a id="1248">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1249</ln><a id="1249">&nbsp;</a>&nbsp;<c40>//&nbsp;HYGIENIC&nbsp;CONTEXT&nbsp;EXTENSION:
</c40><br/><ln>&nbsp;1250</ln><a id="1250">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;these&nbsp;functions&nbsp;are&nbsp;for&nbsp;walking&nbsp;over
</c40><br/><ln>&nbsp;1251</ln><a id="1251">&nbsp;</a>&nbsp;<c40>//&nbsp;ASTs&nbsp;and&nbsp;making&nbsp;some&nbsp;change&nbsp;to&nbsp;the&nbsp;context&nbsp;of&nbsp;every
</c40><br/><ln>&nbsp;1252</ln><a id="1252">&nbsp;</a>&nbsp;<c40>//&nbsp;element&nbsp;that&nbsp;has&nbsp;one.&nbsp;a&nbsp;CtxtFn&nbsp;is&nbsp;a&nbsp;trait-ified
</c40><br/><ln>&nbsp;1253</ln><a id="1253">&nbsp;</a>&nbsp;<c40>//&nbsp;version&nbsp;of&nbsp;a&nbsp;closure&nbsp;in&nbsp;(SyntaxContext&nbsp;-&gt;&nbsp;SyntaxContext).
</c40><br/><ln>&nbsp;1254</ln><a id="1254">&nbsp;</a>&nbsp;<c40>//&nbsp;the&nbsp;ones&nbsp;defined&nbsp;here&nbsp;include:
</c40><br/><ln>&nbsp;1255</ln><a id="1255">&nbsp;</a>&nbsp;<c40>//&nbsp;Renamer&nbsp;-&nbsp;add&nbsp;a&nbsp;rename&nbsp;to&nbsp;a&nbsp;context
</c40><br/><ln>&nbsp;1256</ln><a id="1256">&nbsp;</a>&nbsp;<c40>//&nbsp;MultiRenamer&nbsp;-&nbsp;add&nbsp;a&nbsp;set&nbsp;of&nbsp;renames&nbsp;to&nbsp;a&nbsp;context
</c40><br/><ln>&nbsp;1257</ln><a id="1257">&nbsp;</a>&nbsp;<c40>//&nbsp;Marker&nbsp;-&nbsp;add&nbsp;a&nbsp;mark&nbsp;to&nbsp;a&nbsp;context
</c40><br/><ln>&nbsp;1258</ln><a id="1258">&nbsp;</a>&nbsp;<c40>//&nbsp;Repainter&nbsp;-&nbsp;replace&nbsp;a&nbsp;context&nbsp;(maybe&nbsp;Replacer&nbsp;would&nbsp;be&nbsp;a&nbsp;better&nbsp;name?)
</c40><br/><ln>&nbsp;1259</ln><a id="1259">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1260</ln><a id="1260">&nbsp;</a><a id="n149633">&nbsp;</a><c40>//&nbsp;a&nbsp;function&nbsp;in&nbsp;SyntaxContext&nbsp;-&gt;&nbsp;SyntaxContext
</c40><br/><ln>&nbsp;1261</ln><a id="1261">&nbsp;</a>&nbsp;<c21>pub</c21><c32><a href="#1260_48_refs">&nbsp;</a></c32><c32>trait</c32><c32><a href="#1260_48_refs">&nbsp;CtxtFn</a></c32><c3>{</c3><c32><a href="#1260_48_refs">
</a></c32><br/><ln>&nbsp;1262</ln><a id="1262">&nbsp;</a><a id="n149640"><a id="n149639"><a id="n149635">&nbsp;</a></a></a><c32><a href="#1260_48_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c32><c30>fn</c30><c30><a href="#1260_48_refs">&nbsp;f</a></c30><c4>(</c4><c18><a href="#1260_48_refs">&amp;self</a></c18><c3>,</c3><c18><a href="#1260_48_refs">&nbsp;</a></c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c18><a href="#1260_48_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#1260_48_refs">&nbsp;</a></c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c3>;</c3><c32><a href="#1260_48_refs">
</a></c32><br/><ln>&nbsp;1263</ln><a id="1263">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1264</ln><a id="1264">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1265</ln><a id="1265">&nbsp;</a><a id="n149641">&nbsp;</a><c40>//&nbsp;a&nbsp;renamer&nbsp;adds&nbsp;a&nbsp;rename&nbsp;to&nbsp;the&nbsp;syntax&nbsp;context
</c40><br/><ln>&nbsp;1266</ln><a id="1266">&nbsp;</a>&nbsp;<c21>pub</c21><c31><a href="#1265_49_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#1265_49_refs">&nbsp;Renamer&nbsp;</a></c31><c3>{</c3><c31><a href="#1265_49_refs">
</a></c31><br/><ln>&nbsp;1267</ln><a id="1267">&nbsp;</a><a id="n149642"><a id="n149644">&nbsp;</a></a><c31><a href="#1265_49_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1267_4_refs">from&nbsp;:&nbsp;</a></c24><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c31><a href="#1265_49_refs">
</a></c31><br/><ln>&nbsp;1268</ln><a id="1268">&nbsp;</a><a id="n149645"><a id="n149647">&nbsp;</a></a><c31><a href="#1265_49_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1268_4_refs">to&nbsp;:&nbsp;</a></c24><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c31><a href="#1265_49_refs">
</a></c31><br/><ln>&nbsp;1269</ln><a id="1269">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1270</ln><a id="1270">&nbsp;</a><a id="n149648">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1271</ln><a id="1271">&nbsp;</a><a id="n149651"><a id="n149649">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1265">Renamer</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1272</ln><a id="1272">&nbsp;</a><a id="n149657"><a id="n149665"><a id="n149666"><a id="n149654"><a id="n149653">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;f</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1272_16_refs">ctxt</a></c20><c18>&nbsp;:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1273</ln><a id="1273">&nbsp;</a><a id="n149662"><a id="n149660"><a id="n149664"><a id="n149663"><a id="n149659"><a id="n149658"><a id="n149661">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ast_util.rs.html#766">new_rename</a></c26><c4>(</c4><c1><a href="c=0 n=149667">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1267">from</a></c24><c3>,</c3><c1><a href="c=0 n=149667">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1268">to</a></c24><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1272">ctxt</a></c26><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1274</ln><a id="1274">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1275</ln><a id="1275">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1276</ln><a id="1276">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1277</ln><a id="1277">&nbsp;</a><a id="n149668">&nbsp;</a><c40>//&nbsp;a&nbsp;renamer&nbsp;that&nbsp;performs&nbsp;a&nbsp;whole&nbsp;bunch&nbsp;of&nbsp;renames
</c40><br/><ln>&nbsp;1278</ln><a id="1278">&nbsp;</a>&nbsp;<c21>pub</c21><c31><a href="#1277_52_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#1277_52_refs">&nbsp;MultiRenamer&nbsp;</a></c31><c3>{</c3><c31><a href="#1277_52_refs">
</a></c31><br/><ln>&nbsp;1279</ln><a id="1279">&nbsp;</a><a id="n149675"><a id="n149677"><a id="n149676"><a id="n149674"><a id="n149671"><a id="n149673"><a id="n149669">&nbsp;</a></a></a></a></a></a></a><c31><a href="#1277_52_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1279_4_refs">renames&nbsp;:&nbsp;</a></c24><c8><a href="#1277_52_refs">@mut&nbsp;~</a></c8><c3>[</c3><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c4>)</c4><c3>]</c3><c31><a href="#1277_52_refs">
</a></c31><br/><ln>&nbsp;1280</ln><a id="1280">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1281</ln><a id="1281">&nbsp;</a><a id="n149678">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1282</ln><a id="1282">&nbsp;</a><a id="n149681"><a id="n149679">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1277">MultiRenamer</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1283</ln><a id="1283">&nbsp;</a><a id="n149683"><a id="n149714"><a id="n149715"><a id="n149684"><a id="n149687">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;f</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1283_16_refs">starting_ctxt</a></c20><c18>&nbsp;:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1284</ln><a id="1284">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;the&nbsp;individual&nbsp;elements&nbsp;are&nbsp;memoized...&nbsp;it&nbsp;would
</c40><br/><ln>&nbsp;1285</ln><a id="1285">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;also&nbsp;be&nbsp;possible&nbsp;to&nbsp;memoize&nbsp;on&nbsp;the&nbsp;whole&nbsp;list&nbsp;at&nbsp;once.
</c40><br/><ln>&nbsp;1286</ln><a id="1286">&nbsp;</a><a id="n149710"><a id="n149691"><a id="n149713"><a id="n149693"><a id="n149690"><a id="n149699"><a id="n149709"><a id="n149712"><a id="n149698"><a id="n149711"><a id="n149692"><a id="n149695"><a id="n149694"><a id="n149703"><a id="n149697"><a id="n149701"><a id="n149700">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="c=0 n=149716">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1279">renames</a></c24><c10><a href="../../libstd/vec.rs.html#n51839">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n51839">.</a></c10><c10><a href="c=1 n=264428">fold</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1283">starting_ctxt</a></c26><c3>,</c3><c1><a href="c=1 n=264428">|</a></c1><c20><a href="#1286_48_refs">ctxt</a></c20><c3>,</c3><c20><a href="c=1 n=264428">&amp;</a></c20><c4>(</c4><c20><a href="#1286_55_refs">from</a></c20><c3>,</c3><c20><a href="#1286_60_refs">to</a></c20><c4>)</c4><c8><a href="c=1 n=264428">|</a></c8><c1><a href="c=1 n=264428">&nbsp;</a></c1><c3>{</c3><c22><a href="c=1 n=264428">
</a></c22><br/><ln>&nbsp;1287</ln><a id="1287">&nbsp;</a><a id="n149707"><a id="n149706"><a id="n149705"><a id="n149704"><a id="n149708">&nbsp;</a></a></a></a></a><c22><a href="c=1 n=264428">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ast_util.rs.html#766">new_rename</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1286">from</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1286">to</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1286">ctxt</a></c26><c4>)</c4><c27><a href="c=1 n=264428">
</a></c27><br/><ln>&nbsp;1288</ln><a id="1288">&nbsp;</a>&nbsp;<c27><a href="c=1 n=264428">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>}</c3><c4>)</c4><c10><a href="c=1 n=264428">
</a></c10><br/><ln>&nbsp;1289</ln><a id="1289">&nbsp;</a>&nbsp;<c10><a href="c=1 n=264428">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1290</ln><a id="1290">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1291</ln><a id="1291">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1292</ln><a id="1292">&nbsp;</a><a id="n149717">&nbsp;</a><c40>//&nbsp;a&nbsp;marker&nbsp;adds&nbsp;the&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;syntax&nbsp;context
</c40><br/><ln>&nbsp;1293</ln><a id="1293">&nbsp;</a><a id="n149720"><a id="n149718">&nbsp;</a></a><c21>pub</c21><c31><a href="#1292_54_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#1292_54_refs">&nbsp;Marker&nbsp;</a></c31><c3>{</c3><c31><a href="#1292_54_refs">&nbsp;</a></c31><c24><a href="#1293_20_refs">mark&nbsp;:&nbsp;</a></c24><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c31><a href="#1292_54_refs">&nbsp;</a></c31><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1294</ln><a id="1294">&nbsp;</a><a id="n149721">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1295</ln><a id="1295">&nbsp;</a><a id="n149724"><a id="n149722">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1292">Marker</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1296</ln><a id="1296">&nbsp;</a><a id="n149727"><a id="n149736"><a id="n149730"><a id="n149737"><a id="n149726">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;f</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1296_16_refs">ctxt</a></c20><c18>&nbsp;:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1297</ln><a id="1297">&nbsp;</a><a id="n149735"><a id="n149732"><a id="n149734"><a id="n149733"><a id="n149731">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ast_util.rs.html#737">new_mark</a></c26><c4>(</c4><c1><a href="c=0 n=149738">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1293">mark</a></c24><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1296">ctxt</a></c26><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1298</ln><a id="1298">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1299</ln><a id="1299">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1300</ln><a id="1300">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1301</ln><a id="1301">&nbsp;</a><a id="n149739">&nbsp;</a><c40>//&nbsp;a&nbsp;repainter&nbsp;just&nbsp;replaces&nbsp;the&nbsp;given&nbsp;context&nbsp;with&nbsp;the&nbsp;one&nbsp;it's&nbsp;closed&nbsp;over
</c40><br/><ln>&nbsp;1302</ln><a id="1302">&nbsp;</a><a id="n149742"><a id="n149740">&nbsp;</a></a><c21>pub</c21><c31><a href="#1301_77_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#1301_77_refs">&nbsp;Repainter&nbsp;</a></c31><c3>{</c3><c31><a href="#1301_77_refs">&nbsp;</a></c31><c24><a href="#1302_23_refs">ctxt&nbsp;:&nbsp;</a></c24><c8><a href="../../libsyntax/ast.rs.html#71">SyntaxContext</a></c8><c31><a href="#1301_77_refs">&nbsp;</a></c31><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1303</ln><a id="1303">&nbsp;</a><a id="n149743">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1304</ln><a id="1304">&nbsp;</a><a id="n149746"><a id="n149744">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1301">Repainter</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1305</ln><a id="1305">&nbsp;</a><a id="n149748"><a id="n149749"><a id="n149756"><a id="n149755"><a id="n149752">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;f</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20>_ctxt</c20><c18>&nbsp;:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1306</ln><a id="1306">&nbsp;</a><a id="n149754"><a id="n149753">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="c=0 n=149757">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1302">ctxt</a></c24><c22>
</c22><br/><ln>&nbsp;1307</ln><a id="1307">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1308</ln><a id="1308">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1309</ln><a id="1309">&nbsp;</a><a id="n149758">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1310</ln><a id="1310">&nbsp;</a>&nbsp;<c21>pub</c21><c31><a href="#1309_1_refs">&nbsp;</a></c31><c31>struct</c31><c31><a href="#1309_1_refs">&nbsp;ContextWrapper&nbsp;</a></c31><c3>{</c3><c31><a href="#1309_1_refs">
</a></c31><br/><ln>&nbsp;1311</ln><a id="1311">&nbsp;</a><a id="n149761"><a id="n149762"><a id="n149759">&nbsp;</a></a></a><c31><a href="#1309_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#1311_4_refs">context_function:&nbsp;</a></c24><c8><a href="#1311_4_refs">@</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c8><c3>,</c3><c31><a href="#1309_1_refs">
</a></c31><br/><ln>&nbsp;1312</ln><a id="1312">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1313</ln><a id="1313">&nbsp;</a><a id="n149763">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1314</ln><a id="1314">&nbsp;</a><a id="n149766"><a id="n149764">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../libsyntax/fold.rs.html#17">ast_fold</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../libsyntax/ext/expand.rs.html#1309">ContextWrapper</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;1315</ln><a id="1315">&nbsp;</a><a id="n149787"><a id="n149788"><a id="n149768"><a id="n149769"><a id="n149772">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fold_ident</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1315_25_refs">id</a></c20><c18>:&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1316</ln><a id="1316">&nbsp;</a><a id="n149779"><a id="n149773"><a id="n149778"><a id="n149776">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="../../libsyntax/ast.rs.html#31">ast::Ident&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#31">
</a></c20><br/><ln>&nbsp;1317</ln><a id="1317">&nbsp;</a><a id="n149774">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c20><a href="#1317_12_refs">name</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#31">
</a></c20><br/><ln>&nbsp;1318</ln><a id="1318">&nbsp;</a><a id="n149775">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c20><a href="#1318_12_refs">ctxt</a></c20><c20><a href="../../libsyntax/ast.rs.html#31">
</a></c20><br/><ln>&nbsp;1319</ln><a id="1319">&nbsp;</a><a id="n149777">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c16>&nbsp;=&nbsp;</c16><c26><a href="../../libsyntax/ext/expand.rs.html#1315">id</a></c26><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1320</ln><a id="1320">&nbsp;</a><a id="n149786">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c1><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1321</ln><a id="1321">&nbsp;</a><a id="n149780">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1317">name</a></c26><c3>,</c3><c22>
</c22><br/><ln>&nbsp;1322</ln><a id="1322">&nbsp;</a><a id="n149785"><a id="n149784"><a id="n149783"><a id="n149782">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ctxt:&nbsp;</c22><c1><a href="c=0 n=149789">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1311">context_function</a></c24><c10>.f</c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1318">ctxt</a></c26><c4>)</c4><c3>,</c3><c22>
</c22><br/><ln>&nbsp;1323</ln><a id="1323">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;1324</ln><a id="1324">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1325</ln><a id="1325">&nbsp;</a><a id="n149796"><a id="n149791"><a id="n149793"><a id="n149792"><a id="n149832"><a id="n149833">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;fold_mac</c30><c4>(</c4><c18>&amp;self</c18><c3>,</c3><c18>&nbsp;</c18><c20><a href="#1325_23_refs">m</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#673">ast::mac</a></c8><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c8><a href="../../libsyntax/ast.rs.html#673">ast::mac</a></c8><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1326</ln><a id="1326">&nbsp;</a><a id="n149825"><a id="n149827"><a id="n149826"><a id="n149800"><a id="n149799"><a id="n149797"><a id="n149798">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1326_12_refs">macro</a></c20><c16>&nbsp;=&nbsp;</c16><c21>match&nbsp;</c21><c26><a href="../../libsyntax/ext/expand.rs.html#1325">m</a></c26><c24><a href="../../libsyntax/codemap.rs.html#93">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;1327</ln><a id="1327">&nbsp;</a><a id="n149802"><a id="n149803"><a id="n149801"><a id="n149823"><a id="n149824"><a id="n149822"><a id="n149804">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#682">mac_invoc_tt</a></c20><c4>(</c4><c20><a href="#1327_25_refs">ref&nbsp;path</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#1327_35_refs">ref&nbsp;tts</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#682">&nbsp;</a></c20><c20><a href="#1327_44_refs">ctxt</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1328</ln><a id="1328">&nbsp;</a><a id="n149821"><a id="n149808"><a id="n149807"><a id="n149805"><a id="n149809">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ast.rs.html#682">mac_invoc_tt</a></c26><c4>(</c4><c1><a href="c=0 n=149834">self.</a></c1><c10><a href="c=0 n=180716">fold_path</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1327">path</a></c26><c4>)</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1329</ln><a id="1329">&nbsp;</a><a id="n149813"><a id="n149814"><a id="n149815"><a id="n149812"><a id="n149810">&nbsp;</a></a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../libsyntax/fold.rs.html#438">fold_tts</a></c26><c4>(</c4><c5>*</c5><c26><a href="../../libsyntax/ext/expand.rs.html#1327">tts</a></c26><c3>,</c3><c27>&nbsp;</c27><c1><a href="c=0 n=149834">self</a></c1><c4>)</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;1330</ln><a id="1330">&nbsp;</a><a id="n149820"><a id="n149817"><a id="n149819"><a id="n149818">&nbsp;</a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c1><a href="c=0 n=149834">self.</a></c1><c24><a href="../../libsyntax/ext/expand.rs.html#1311">context_function</a></c24><c10>.f</c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1327">ctxt</a></c26><c4>))</c4><c27>
</c27><br/><ln>&nbsp;1331</ln><a id="1331">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c21>
</c21><br/><ln>&nbsp;1332</ln><a id="1332">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>};</c3><c22>
</c22><br/><ln>&nbsp;1333</ln><a id="1333">&nbsp;</a><a id="n149831">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c1><a href="../../libsyntax/codemap.rs.html#91">Spanned</a></c1><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1334</ln><a id="1334">&nbsp;</a><a id="n149828">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1326">macro</a></c26><c3>,</c3><c22>
</c22><br/><ln>&nbsp;1335</ln><a id="1335">&nbsp;</a><a id="n149829"><a id="n149830">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1325">m</a></c26><c24><a href="../../libsyntax/codemap.rs.html#94">.span</a></c24><c3>,</c3><c22>
</c22><br/><ln>&nbsp;1336</ln><a id="1336">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;1337</ln><a id="1337">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;1338</ln><a id="1338">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1339</ln><a id="1339">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1340</ln><a id="1340">&nbsp;</a>&nbsp;<c40>//&nbsp;given&nbsp;a&nbsp;function&nbsp;from&nbsp;ctxts&nbsp;to&nbsp;ctxts,&nbsp;produce
</c40><br/><ln>&nbsp;1341</ln><a id="1341">&nbsp;</a><a id="n149835">&nbsp;</a><c40>//&nbsp;an&nbsp;ast_fold&nbsp;that&nbsp;applies&nbsp;that&nbsp;function&nbsp;to&nbsp;all&nbsp;ctxts:
</c40><br/><ln>&nbsp;1342</ln><a id="1342">&nbsp;</a><a id="n149854"><a id="n149843"><a id="n149842"><a id="n149845"><a id="n149837"><a id="n149839"><a id="n149838">&nbsp;</a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#1341_56_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#1341_56_refs">&nbsp;fun_to_ctxt_folder</a></c30><c5><a href="#1341_56_refs">&lt;T&nbsp;:&nbsp;'static&nbsp;+&nbsp;</a></c5><c5><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c5><c5><a href="#1341_56_refs">&gt;</a></c5><c4>(</c4><c20><a href="#1342_48_refs">cf</a></c20><c1><a href="#1341_56_refs">:&nbsp;</a></c1><c8><a href="#1341_56_refs">@</a></c8><c8><a href="c=0 n=149844">T</a></c8><c4>)</c4><c1><a href="#1341_56_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1341_56_refs">&nbsp;</a></c1><c8><a href="#1341_56_refs">@</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1309">ContextWrapper</a></c8><c1><a href="#1341_56_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1341_56_refs">
</a></c22><br/><ln>&nbsp;1343</ln><a id="1343">&nbsp;</a><a id="n149853"><a id="n149852">&nbsp;</a></a><c22><a href="#1341_56_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="#1341_56_refs">@</a></c5><c1><a href="../../libsyntax/ext/expand.rs.html#1309">ContextWrapper</a></c1><c22><a href="#1341_56_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#1341_56_refs">
</a></c22><br/><ln>&nbsp;1344</ln><a id="1344">&nbsp;</a><a id="n149850"><a id="n149849"><a id="n149847"><a id="n149851">&nbsp;</a></a></a></a><c22><a href="#1341_56_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_function:&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1342">cf</a></c26><c21><a href="#1341_56_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#1341_56_refs">@</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1260">CtxtFn</a></c8><c3>,</c3><c22><a href="#1341_56_refs">
</a></c22><br/><ln>&nbsp;1345</ln><a id="1345">&nbsp;</a>&nbsp;<c22><a href="#1341_56_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1341_56_refs">
</a></c22><br/><ln>&nbsp;1346</ln><a id="1346">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1347</ln><a id="1347">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1348</ln><a id="1348">&nbsp;</a><a id="n149855">&nbsp;</a><c40>//&nbsp;just&nbsp;a&nbsp;convenience:
</c40><br/><ln>&nbsp;1349</ln><a id="1349">&nbsp;</a><a id="n149857"><a id="n149862"><a id="n149858"><a id="n149869"><a id="n149861">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="#1348_23_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#1348_23_refs">&nbsp;new_mark_folder</a></c30><c4>(</c4><c20><a href="#1349_23_refs">m</a></c20><c1><a href="#1348_23_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c4>)</c4><c1><a href="#1348_23_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1348_23_refs">&nbsp;</a></c1><c8><a href="#1348_23_refs">@</a></c8><c8><a href="../../libsyntax/ext/expand.rs.html#1309">ContextWrapper</a></c8><c1><a href="#1348_23_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1348_23_refs">
</a></c22><br/><ln>&nbsp;1350</ln><a id="1350">&nbsp;</a><a id="n149868"><a id="n149863"><a id="n149867"><a id="n149866"><a id="n149865">&nbsp;</a></a></a></a></a><c22><a href="#1348_23_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1341">fun_to_ctxt_folder</a></c26><c4>(</c4><c5><a href="#1348_23_refs">@</a></c5><c1><a href="../../libsyntax/ext/expand.rs.html#1292">Marker</a></c1><c3>{</c3><c27><a href="#1348_23_refs">mark:</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1349">m</a></c26><c3>}</c3><c4>)</c4><c27><a href="#1348_23_refs">
</a></c27><br/><ln>&nbsp;1351</ln><a id="1351">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1352</ln><a id="1352">&nbsp;</a><a id="n149870">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1353</ln><a id="1353">&nbsp;</a><a id="n149880"><a id="n149876"><a id="n149872"><a id="n149873"><a id="n149877"><a id="n149881"><a id="n149889">&nbsp;</a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;new_rename_folder</c30><c4>(</c4><c20><a href="#1353_25_refs">from</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#31">ast::Ident</a></c8><c3>,</c3><c1>&nbsp;</c1><c20><a href="#1353_43_refs">to</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#111">ast::Name</a></c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ext/expand.rs.html#1309">ContextWrapper</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1354</ln><a id="1354">&nbsp;</a><a id="n149888"><a id="n149885"><a id="n149887"><a id="n149886"><a id="n149882"><a id="n149884">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1341">fun_to_ctxt_folder</a></c26><c4>(</c4><c5>@</c5><c1><a href="../../libsyntax/ext/expand.rs.html#1265">Renamer</a></c1><c3>{</c3><c27>from:</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1353">from</a></c26><c3>,</c3><c27>to:</c27><c26><a href="../../libsyntax/ext/expand.rs.html#1353">to</a></c26><c3>}</c3><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1355</ln><a id="1355">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1356</ln><a id="1356">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1357</ln><a id="1357">&nbsp;</a><a id="n149890">&nbsp;</a><c40>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;token&nbsp;trees.&nbsp;Used&nbsp;prior&nbsp;to&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
</c40><br/><ln>&nbsp;1358</ln><a id="1358">&nbsp;</a><a id="n149892"><a id="n149893"><a id="n149904"><a id="n149903"><a id="n149899"><a id="n149902"><a id="n149895"><a id="n149911"><a id="n149894"><a id="n149898">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1357_84_refs">&nbsp;mark_tts</a></c30><c4>(</c4><c20><a href="#1358_12_refs">tts</a></c20><c1><a href="#1357_84_refs">&nbsp;:&nbsp;</a></c1><c8><a href="#1357_84_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#590">token_tree</a></c8><c3>],</c3><c1><a href="#1357_84_refs">&nbsp;</a></c1><c20><a href="#1358_33_refs">m</a></c20><c1><a href="#1357_84_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c4>)</c4><c1><a href="#1357_84_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1357_84_refs">&nbsp;</a></c1><c8><a href="#1357_84_refs">~</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#590">token_tree</a></c8><c3>]</c3><c1><a href="#1357_84_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1357_84_refs">
</a></c22><br/><ln>&nbsp;1359</ln><a id="1359">&nbsp;</a><a id="n149909"><a id="n149907"><a id="n149910"><a id="n149906"><a id="n149908"><a id="n149905">&nbsp;</a></a></a></a></a></a><c22><a href="#1357_84_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/fold.rs.html#438">fold_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1358">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1348">new_mark_folder</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1358">m</a></c26><c4>))</c4><c27><a href="#1357_84_refs">
</a></c27><br/><ln>&nbsp;1360</ln><a id="1360">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1361</ln><a id="1361">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1362</ln><a id="1362">&nbsp;</a><a id="n149912">&nbsp;</a><c40>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;expr.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
</c40><br/><ln>&nbsp;1363</ln><a id="1363">&nbsp;</a><a id="n149919"><a id="n149923"><a id="n149915"><a id="n149924"><a id="n149914"><a id="n149931"><a id="n149920"><a id="n149916">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1362_82_refs">&nbsp;mark_expr</a></c30><c4>(</c4><c20><a href="#1363_13_refs">expr</a></c20><c1><a href="#1362_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="#1362_82_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c3>,</c3><c1><a href="#1362_82_refs">&nbsp;</a></c1><c20><a href="#1363_32_refs">m</a></c20><c1><a href="#1362_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c4>)</c4><c1><a href="#1362_82_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1362_82_refs">&nbsp;</a></c1><c8><a href="#1362_82_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c1><a href="#1362_82_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1362_82_refs">
</a></c22><br/><ln>&nbsp;1364</ln><a id="1364">&nbsp;</a><a id="n149927"><a id="n149926"><a id="n149930"><a id="n149929"><a id="n149928">&nbsp;</a></a></a></a></a><c22><a href="#1362_82_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1348">new_mark_folder</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1363">m</a></c26><c4>)</c4><c27><a href="c=0 n=180710">.</a></c27><c10><a href="c=0 n=180710">fold_expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1363">expr</a></c26><c4>)</c4><c10><a href="c=0 n=180710">
</a></c10><br/><ln>&nbsp;1365</ln><a id="1365">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1366</ln><a id="1366">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1367</ln><a id="1367">&nbsp;</a><a id="n149932">&nbsp;</a><c40>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;stmt.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
</c40><br/><ln>&nbsp;1368</ln><a id="1368">&nbsp;</a><a id="n149953"><a id="n149939"><a id="n149943"><a id="n149944"><a id="n149935"><a id="n149934"><a id="n149940"><a id="n149936">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1367_82_refs">&nbsp;mark_stmt</a></c30><c4>(</c4><c20><a href="#1368_13_refs">expr</a></c20><c1><a href="#1367_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="#1367_82_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c3>,</c3><c1><a href="#1367_82_refs">&nbsp;</a></c1><c20><a href="#1368_32_refs">m</a></c20><c1><a href="#1367_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c4>)</c4><c1><a href="#1367_82_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1367_82_refs">&nbsp;</a></c1><c8><a href="#1367_82_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#426">ast::Stmt</a></c8><c1><a href="#1367_82_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1367_82_refs">
</a></c22><br/><ln>&nbsp;1369</ln><a id="1369">&nbsp;</a><a id="n149950"><a id="n149949"><a id="n149947"><a id="n149948"><a id="n149951"><a id="n149952">&nbsp;</a></a></a></a></a></a><c22><a href="#1367_82_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1348">new_mark_folder</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1368">m</a></c26><c4>)</c4><c27><a href="#1367_82_refs">.</a></c27><c10><a href="c=0 n=180706">fold_stmt</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1368">expr</a></c26><c4>)</c4><c10><a href="c=0 n=180706">.</a></c10><c10><a href="../../libstd/option.rs.html#n102819">unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n102819">
</a></c10><br/><ln>&nbsp;1370</ln><a id="1370">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1371</ln><a id="1371">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1372</ln><a id="1372">&nbsp;</a><a id="n149954">&nbsp;</a><c40>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;item.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
</c40><br/><ln>&nbsp;1373</ln><a id="1373">&nbsp;</a><a id="n149961"><a id="n149956"><a id="n149966"><a id="n149975"><a id="n149968"><a id="n149957"><a id="n149965"><a id="n149958"><a id="n149962">&nbsp;</a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1372_82_refs">&nbsp;mark_item</a></c30><c4>(</c4><c20><a href="#1373_13_refs">expr</a></c20><c1><a href="#1372_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="#1372_82_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c3>,</c3><c1><a href="#1372_82_refs">&nbsp;</a></c1><c20><a href="#1373_32_refs">m</a></c20><c1><a href="#1372_82_refs">&nbsp;:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#113">Mrk</a></c8><c4>)</c4><c1><a href="#1372_82_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1372_82_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n101871">Option&lt;</a></c8><c8><a href="#1372_82_refs">@</a></c8><c8><a href="../../libsyntax/ast.rs.html#1114">ast::item</a></c8><c8><a href="../../libstd/option.rs.html#n101871">&gt;</a></c8><c1><a href="#1372_82_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1372_82_refs">
</a></c22><br/><ln>&nbsp;1374</ln><a id="1374">&nbsp;</a><a id="n149973"><a id="n149972"><a id="n149974"><a id="n149970"><a id="n149971">&nbsp;</a></a></a></a></a><c22><a href="#1372_82_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1348">new_mark_folder</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1373">m</a></c26><c4>)</c4><c27><a href="#1372_82_refs">.</a></c27><c10><a href="c=0 n=180700">fold_item</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1373">expr</a></c26><c4>)</c4><c10><a href="c=0 n=180700">
</a></c10><br/><ln>&nbsp;1375</ln><a id="1375">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1376</ln><a id="1376">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1377</ln><a id="1377">&nbsp;</a>&nbsp;<c40>//&nbsp;replace&nbsp;all&nbsp;contexts&nbsp;in&nbsp;a&nbsp;given&nbsp;expr&nbsp;with&nbsp;the&nbsp;given&nbsp;mark.&nbsp;Used
</c40><br/><ln>&nbsp;1378</ln><a id="1378">&nbsp;</a><a id="n149976">&nbsp;</a><c40>//&nbsp;for&nbsp;capturing&nbsp;macros
</c40><br/><ln>&nbsp;1379</ln><a id="1379">&nbsp;</a><a id="n149979"><a id="n149980"><a id="n149983"><a id="n149998"><a id="n149987"><a id="n149978"><a id="n149988"><a id="n149984">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;replace_ctxts</c30><c4>(</c4><c20><a href="#1379_21_refs">expr</a></c20><c1>&nbsp;:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c3>,</c3><c1>&nbsp;</c1><c20><a href="#1379_40_refs">ctxt</a></c20><c1>&nbsp;:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#71">SyntaxContext</a></c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#492">ast::Expr</a></c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1380</ln><a id="1380">&nbsp;</a><a id="n149996"><a id="n149993"><a id="n149994"><a id="n149990"><a id="n149995"><a id="n149997"><a id="n149992">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1341">fun_to_ctxt_folder</a></c26><c4>(</c4><c5><a href="c=0 n=180710">@</a></c5><c1><a href="../../libsyntax/ext/expand.rs.html#1301">Repainter</a></c1><c3>{</c3><c27><a href="c=0 n=180710">ctxt:</a></c27><c26><a href="../../libsyntax/ext/expand.rs.html#1379">ctxt</a></c26><c3>}</c3><c4>)</c4><c27><a href="c=0 n=180710">.</a></c27><c10><a href="c=0 n=180710">fold_expr</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1379">expr</a></c26><c4>)</c4><c10><a href="c=0 n=180710">
</a></c10><br/><ln>&nbsp;1381</ln><a id="1381">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1382</ln><a id="1382">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1383</ln><a id="1383">&nbsp;</a>&nbsp;<c40>//&nbsp;take&nbsp;the&nbsp;mark&nbsp;from&nbsp;the&nbsp;given&nbsp;ctxt&nbsp;(that&nbsp;has&nbsp;a&nbsp;mark&nbsp;at&nbsp;the&nbsp;outside),
</c40><br/><ln>&nbsp;1384</ln><a id="1384">&nbsp;</a>&nbsp;<c40>//&nbsp;and&nbsp;apply&nbsp;it&nbsp;to&nbsp;everything&nbsp;in&nbsp;the&nbsp;token&nbsp;trees,&nbsp;thereby&nbsp;cancelling
</c40><br/><ln>&nbsp;1385</ln><a id="1385">&nbsp;</a><a id="n149999">&nbsp;</a><c40>//&nbsp;that&nbsp;mark.
</c40><br/><ln>&nbsp;1386</ln><a id="1386">&nbsp;</a><a id="n150008"><a id="n150002"><a id="n150003"><a id="n150004"><a id="n150001"><a id="n150007">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;mtwt_cancel_outer_mark</c30><c4>(</c4><c20><a href="#1386_30_refs">tts</a></c20><c1>:&nbsp;</c1><c8>&amp;</c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#590">ast::token_tree</a></c8><c3>],</c3><c1>&nbsp;</c1><c20><a href="#1386_55_refs">ctxt</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast.rs.html#71">ast::SyntaxContext</a></c8><c4>)</c4><c1>
</c1><br/><ln>&nbsp;1387</ln><a id="1387">&nbsp;</a><a id="n150025"><a id="n150012"><a id="n150013"><a id="n150011">&nbsp;</a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>~</c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#590">ast::token_tree</a></c8><c3>]</c3><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;1388</ln><a id="1388">&nbsp;</a><a id="n150018"><a id="n150015"><a id="n150017"><a id="n150016"><a id="n150020"><a id="n150019"><a id="n150014">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#1388_8_refs">outer_mark</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../libsyntax/ast_util.rs.html#930">mtwt_outer_mark</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1386">ctxt</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;1389</ln><a id="1389">&nbsp;</a><a id="n150021"><a id="n150022"><a id="n150024"><a id="n150023">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/ext/expand.rs.html#1357">mark_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/expand.rs.html#1386">tts</a></c26><c3>,</c3><c26><a href="../../libsyntax/ext/expand.rs.html#1388">outer_mark</a></c26><c4>)</c4><c27>
</c27><br/><ln>&nbsp;1390</ln><a id="1390">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1391</ln><a id="1391">&nbsp;</a><a id="n150026">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1392</ln><a id="1392">&nbsp;</a><a id="n150033"><a id="n150034"><a id="n150029"><a id="n150077"><a id="n150028"><a id="n150030">&nbsp;</a></a></a></a></a></a><c30>fn</c30><c30><a href="#1391_1_refs">&nbsp;original_span</a></c30><c4>(</c4><c20><a href="#1392_17_refs">cx</a></c20><c1><a href="#1391_1_refs">:&nbsp;</a></c1><c8><a href="#1391_1_refs">@</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#314">ExtCtxt</a></c8><c4>)</c4><c1><a href="#1391_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1391_1_refs">&nbsp;</a></c1><c8><a href="#1391_1_refs">@</a></c8><c8><a href="../../libsyntax/codemap.rs.html#166">codemap::ExpnInfo</a></c8><c1><a href="#1391_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1393</ln><a id="1393">&nbsp;</a><a id="n150040"><a id="n150038"><a id="n150036"><a id="n150035"><a id="n150041"><a id="n150039">&nbsp;</a></a></a></a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1391_1_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#1391_1_refs">&nbsp;</a></c22><c20><a href="#1393_12_refs">relevant_info</a></c20><c13><a href="#1391_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1392">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#351">.backtrace</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1394</ln><a id="1394">&nbsp;</a><a id="n150042"><a id="n150047"><a id="n150046"><a id="n150045"><a id="n150048"><a id="n150043">&nbsp;</a></a></a></a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1391_1_refs">&nbsp;</a></c22><c21>mut</c21><c22><a href="#1391_1_refs">&nbsp;</a></c22><c20><a href="#1394_12_refs">einfo</a></c20><c13><a href="#1391_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1393">relevant_info</a></c26><c10><a href="../../libstd/option.rs.html#n102819">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1395</ln><a id="1395">&nbsp;</a><a id="n150072"><a id="n150071"><a id="n150073">&nbsp;</a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>loop</c21><c13><a href="#1391_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1396</ln><a id="1396">&nbsp;</a><a id="n150070"><a id="n150049">&nbsp;</a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1391_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/expand.rs.html#1393">relevant_info</a></c26><c21><a href="#1391_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1391_1_refs">
</a></c21><br/><ln>&nbsp;1397</ln><a id="1397">&nbsp;</a><a id="n150053"><a id="n150050"><a id="n150054"><a id="n150051"><a id="n150052">&nbsp;</a></a></a></a></a><c21><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101872">None</a></c20><c21><a href="#1391_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1391_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1391_1_refs">&nbsp;</a></c22><c1><a href="#1391_1_refs">break&nbsp;</a></c1><c3>}</c3><c21><a href="#1391_1_refs">
</a></c21><br/><ln>&nbsp;1398</ln><a id="1398">&nbsp;</a><a id="n150069"><a id="n150067"><a id="n150056"><a id="n150068"><a id="n150055">&nbsp;</a></a></a></a></a><c21><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n101876">Some</a></c20><c4>(</c4><c20><a href="#1398_17_refs">e</a></c20><c4>)</c4><c21><a href="#1391_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1391_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1399</ln><a id="1399">&nbsp;</a><a id="n150058"><a id="n150060"><a id="n150059"><a id="n150057">&nbsp;</a></a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1394">einfo</a></c26><c5><a href="#1391_1_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../../libsyntax/ext/expand.rs.html#1398">e</a></c26><c3>;</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1400</ln><a id="1400">&nbsp;</a><a id="n150061"><a id="n150065"><a id="n150063"><a id="n150066"><a id="n150062"><a id="n150064">&nbsp;</a></a></a></a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/expand.rs.html#1393">relevant_info</a></c26><c13><a href="#1391_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/expand.rs.html#1394">einfo</a></c26><c24><a href="../../libsyntax/codemap.rs.html#168">.call_site</a></c24><c24><a href="../../libsyntax/codemap.rs.html#88">.expn_info</a></c24><c3>;</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1401</ln><a id="1401">&nbsp;</a>&nbsp;<c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1391_1_refs">
</a></c21><br/><ln>&nbsp;1402</ln><a id="1402">&nbsp;</a>&nbsp;<c21><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1403</ln><a id="1403">&nbsp;</a>&nbsp;<c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1404</ln><a id="1404">&nbsp;</a><a id="n150076"><a id="n150075"><a id="n150074">&nbsp;</a></a></a><c22><a href="#1391_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#1391_1_refs">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/expand.rs.html#1394">einfo</a></c26><c3>;</c3><c22><a href="#1391_1_refs">
</a></c22><br/><ln>&nbsp;1405</ln><a id="1405">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1406</ln><a id="1406">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1407</ln><a id="1407">&nbsp;</a>&nbsp;<c50>#</c50><c3>[</c3><c50>cfg</c50><c4>(</c4><c50>test</c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;1408</ln><a id="1408">&nbsp;</a>&nbsp;<c21>mod</c21><c38>&nbsp;test&nbsp;</c38><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1409</ln><a id="1409">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;super::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1410</ln><a id="1410">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1411</ln><a id="1411">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>Attribute_</c0><c3>,</c3><c0>&nbsp;AttrOuter</c0><c3>,</c3><c0>&nbsp;MetaWord</c0><c3>,</c3><c0>&nbsp;EMPTY_CTXT</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1412</ln><a id="1412">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;ast_util::</c0><c3>{</c3><c0>get_sctable</c0><c3>,</c3><c0>&nbsp;mtwt_marksof</c0><c3>,</c3><c0>&nbsp;mtwt_resolve</c0><c3>,</c3><c0>&nbsp;new_rename</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1413</ln><a id="1413">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;ast_util</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1414</ln><a id="1414">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;codemap</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1415</ln><a id="1415">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;codemap::Spanned</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1416</ln><a id="1416">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;fold</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1417</ln><a id="1417">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;parse</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1418</ln><a id="1418">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;parse::token::</c0><c3>{</c3><c0>fresh_mark</c0><c3>,</c3><c0>&nbsp;gensym</c0><c3>,</c3><c0>&nbsp;intern</c0><c3>,</c3><c0>&nbsp;get_ident_interner</c0><c3>,</c3><c0>&nbsp;ident_to_str</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1419</ln><a id="1419">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1420</ln><a id="1420">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;print::pprust</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1421</ln><a id="1421">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;std</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1422</ln><a id="1422">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;util::parser_testing::</c0><c3>{</c3><c0>string_to_crate</c0><c3>,</c3><c0>&nbsp;string_to_crate_and_sess</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1423</ln><a id="1423">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;util::parser_testing::</c0><c3>{</c3><c0>string_to_pat</c0><c3>,</c3><c0>&nbsp;string_to_tts</c0><c3>,</c3><c0>&nbsp;strs_to_idents</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1424</ln><a id="1424">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;visit</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1425</ln><a id="1425">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1426</ln><a id="1426">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;make&nbsp;sure&nbsp;that&nbsp;fail!&nbsp;is&nbsp;present
</c40><br/><ln>&nbsp;1427</ln><a id="1427">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;fail_exists_test&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1428</ln><a id="1428">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;src&nbsp;=&nbsp;@"</c0><c30>fn&nbsp;main</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>&nbsp;fail!</c0><c4>(</c4><c0>\"something&nbsp;appropriately&nbsp;gloomy\"</c0><c4>)</c4><c3>;}</c3><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1429</ln><a id="1429">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;sess&nbsp;=&nbsp;parse::new_parse_sess</c0><c4>(</c4><c0>None</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1430</ln><a id="1430">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_ast&nbsp;=&nbsp;parse::parse_crate_from_source_str</c0><c4>(</c4><c0>
</c0><br/><ln>&nbsp;1431</ln><a id="1431">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;test&gt;"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1432</ln><a id="1432">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1433</ln><a id="1433">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[],</c3><c0>sess</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1434</ln><a id="1434">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_ast&nbsp;=&nbsp;inject_std_macros</c0><c4>(</c4><c0>sess</c0><c3>,</c3><c0>&nbsp;~</c0><c3>[],</c3><c0>&nbsp;crate_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1435</ln><a id="1435">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;don't&nbsp;bother&nbsp;with&nbsp;striping,&nbsp;doesn't&nbsp;affect&nbsp;fail!.
</c40><br/><ln>&nbsp;1436</ln><a id="1436">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate</c0><c4>(</c4><c0>sess</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>crate_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1437</ln><a id="1437">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1438</ln><a id="1438">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1439</ln><a id="1439">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;these&nbsp;following&nbsp;tests&nbsp;are&nbsp;quite&nbsp;fragile,&nbsp;in&nbsp;that&nbsp;they&nbsp;don't&nbsp;test&nbsp;what
</c40><br/><ln>&nbsp;1440</ln><a id="1440">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;*kind*&nbsp;of&nbsp;failure&nbsp;occurs.
</c40><br/><ln>&nbsp;1441</ln><a id="1441">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1442</ln><a id="1442">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;make&nbsp;sure&nbsp;that&nbsp;macros&nbsp;can&nbsp;leave&nbsp;scope
</c40><br/><ln>&nbsp;1443</ln><a id="1443">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>should_fail</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;1444</ln><a id="1444">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;macros_cant_escape_fns_test&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1445</ln><a id="1445">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;src&nbsp;=&nbsp;@"</c0><c30>fn&nbsp;bogus</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c37>macro_rules!&nbsp;z&nbsp;</c37><c4>(()</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>3+4</c0><c4>))</c4><c3>}</c3><c0>\
</c0><br/><ln>&nbsp;1446</ln><a id="1446">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;inty</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;z!</c0><c4>()</c4><c0>&nbsp;</c0><c3>}</c3><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1447</ln><a id="1447">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;sess&nbsp;=&nbsp;parse::new_parse_sess</c0><c4>(</c4><c0>None</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1448</ln><a id="1448">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_ast&nbsp;=&nbsp;parse::parse_crate_from_source_str</c0><c4>(</c4><c0>
</c0><br/><ln>&nbsp;1449</ln><a id="1449">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;test&gt;"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1450</ln><a id="1450">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1451</ln><a id="1451">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[],</c3><c0>sess</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1452</ln><a id="1452">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;fail:
</c40><br/><ln>&nbsp;1453</ln><a id="1453">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate</c0><c4>(</c4><c0>sess</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>crate_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1454</ln><a id="1454">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1455</ln><a id="1455">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1456</ln><a id="1456">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;make&nbsp;sure&nbsp;that&nbsp;macros&nbsp;can&nbsp;leave&nbsp;scope&nbsp;for&nbsp;modules
</c40><br/><ln>&nbsp;1457</ln><a id="1457">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>should_fail</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;1458</ln><a id="1458">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;macros_cant_escape_mods_test&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1459</ln><a id="1459">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;src&nbsp;=&nbsp;@"</c0><c38>mod&nbsp;foo&nbsp;</c38><c3>{</c3><c37>macro_rules!&nbsp;z&nbsp;</c37><c4>(()</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>3+4</c0><c4>))</c4><c3>}</c3><c0>\
</c0><br/><ln>&nbsp;1460</ln><a id="1460">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;inty</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;z!</c0><c4>()</c4><c0>&nbsp;</c0><c3>}</c3><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1461</ln><a id="1461">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;sess&nbsp;=&nbsp;parse::new_parse_sess</c0><c4>(</c4><c0>None</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1462</ln><a id="1462">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_ast&nbsp;=&nbsp;parse::parse_crate_from_source_str</c0><c4>(</c4><c0>
</c0><br/><ln>&nbsp;1463</ln><a id="1463">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;test&gt;"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1464</ln><a id="1464">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1465</ln><a id="1465">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[],</c3><c0>sess</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1466</ln><a id="1466">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;fail:
</c40><br/><ln>&nbsp;1467</ln><a id="1467">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate</c0><c4>(</c4><c0>sess</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>crate_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1468</ln><a id="1468">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1469</ln><a id="1469">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1470</ln><a id="1470">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;macro_escape&nbsp;modules&nbsp;shouldn't&nbsp;cause&nbsp;macros&nbsp;to&nbsp;leave&nbsp;scope
</c40><br/><ln>&nbsp;1471</ln><a id="1471">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;macros_can_escape_flattened_mods_test&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1472</ln><a id="1472">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;src&nbsp;=&nbsp;@"#</c0><c3>[</c3><c0>macro_escape</c0><c3>]</c3><c0>&nbsp;</c0><c38>mod&nbsp;foo&nbsp;</c38><c3>{</c3><c37>macro_rules!&nbsp;z&nbsp;</c37><c4>(()</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>3+4</c0><c4>))</c4><c3>}</c3><c0>\
</c0><br/><ln>&nbsp;1473</ln><a id="1473">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;inty</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;z!</c0><c4>()</c4><c0>&nbsp;</c0><c3>}</c3><c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1474</ln><a id="1474">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;sess&nbsp;=&nbsp;parse::new_parse_sess</c0><c4>(</c4><c0>None</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1475</ln><a id="1475">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_ast&nbsp;=&nbsp;parse::parse_crate_from_source_str</c0><c4>(</c4><c0>
</c0><br/><ln>&nbsp;1476</ln><a id="1476">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;test&gt;"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1477</ln><a id="1477">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1478</ln><a id="1478">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[],</c3><c0>&nbsp;sess</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1479</ln><a id="1479">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;fail:
</c40><br/><ln>&nbsp;1480</ln><a id="1480">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate</c0><c4>(</c4><c0>sess</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>crate_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1481</ln><a id="1481">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1482</ln><a id="1482">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1483</ln><a id="1483">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;std_macros_must_parse&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1484</ln><a id="1484">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;src&nbsp;=&nbsp;super::std_macros</c0><c4>()</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1485</ln><a id="1485">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;sess&nbsp;=&nbsp;parse::new_parse_sess</c0><c4>(</c4><c0>None</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1486</ln><a id="1486">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;cfg&nbsp;=&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1487</ln><a id="1487">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;item_ast&nbsp;=&nbsp;parse::parse_item_from_source_str</c0><c4>(</c4><c0>
</c0><br/><ln>&nbsp;1488</ln><a id="1488">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@"&lt;test&gt;"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1489</ln><a id="1489">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1490</ln><a id="1490">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cfg</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>sess</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1491</ln><a id="1491">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>match</c21><c0>&nbsp;item_ast&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1492</ln><a id="1492">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some</c0><c4>(</c4><c0>_</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>()</c4><c3>,</c3><c0>&nbsp;</c0><c40>//&nbsp;success
</c40><br/><ln>&nbsp;1493</ln><a id="1493">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;fail!</c0><c4>(</c4><c0>"expected&nbsp;this&nbsp;to&nbsp;parse"</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1494</ln><a id="1494">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1495</ln><a id="1495">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1496</ln><a id="1496">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1497</ln><a id="1497">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;test_contains_flatten&nbsp;</c30><c4>()</c4><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1498</ln><a id="1498">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;attr1&nbsp;=&nbsp;make_dummy_attr&nbsp;</c0><c4>(</c4><c0>@"foo"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1499</ln><a id="1499">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;attr2&nbsp;=&nbsp;make_dummy_attr&nbsp;</c0><c4>(</c4><c0>@"bar"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1500</ln><a id="1500">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;escape_attr&nbsp;=&nbsp;make_dummy_attr&nbsp;</c0><c4>(</c4><c0>@"macro_escape"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1501</ln><a id="1501">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;attrs1&nbsp;=&nbsp;~</c0><c3>[</c3><c0>attr1</c0><c3>,</c3><c0>&nbsp;escape_attr</c0><c3>,</c3><c0>&nbsp;attr2</c0><c3>];</c3><c0>
</c0><br/><ln>&nbsp;1502</ln><a id="1502">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>contains_macro_escape&nbsp;</c0><c4>(</c4><c0>attrs1</c0><c4>)</c4><c3>,</c3><c0>true</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1503</ln><a id="1503">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;attrs2&nbsp;=&nbsp;~</c0><c3>[</c3><c0>attr1</c0><c3>,</c3><c0>attr2</c0><c3>];</c3><c0>
</c0><br/><ln>&nbsp;1504</ln><a id="1504">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>contains_macro_escape&nbsp;</c0><c4>(</c4><c0>attrs2</c0><c4>)</c4><c3>,</c3><c0>false</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1505</ln><a id="1505">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1506</ln><a id="1506">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1507</ln><a id="1507">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;make&nbsp;a&nbsp;MetaWord&nbsp;outer&nbsp;attribute&nbsp;with&nbsp;the&nbsp;given&nbsp;name
</c40><br/><ln>&nbsp;1508</ln><a id="1508">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;make_dummy_attr</c30><c4>(</c4><c0>s:&nbsp;@str</c0><c4>)</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;ast::Attribute&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1509</ln><a id="1509">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Spanned&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1510</ln><a id="1510">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:codemap::dummy_sp</c0><c4>()</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1511</ln><a id="1511">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;Attribute_&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1512</ln><a id="1512">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style:&nbsp;AttrOuter</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1513</ln><a id="1513">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value:&nbsp;@Spanned&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1514</ln><a id="1514">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;MetaWord</c0><c4>(</c4><c0>s</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1515</ln><a id="1515">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;codemap::dummy_sp</c0><c4>()</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1516</ln><a id="1516">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>},</c3><c0>
</c0><br/><ln>&nbsp;1517</ln><a id="1517">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is_sugared_doc:&nbsp;false</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1518</ln><a id="1518">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1519</ln><a id="1519">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1520</ln><a id="1520">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1521</ln><a id="1521">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1522</ln><a id="1522">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;cancel_outer_mark_test</c30><c4>()</c4><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1523</ln><a id="1523">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;invalid_name&nbsp;=&nbsp;token::special_idents::invalid.name</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1524</ln><a id="1524">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;ident_str&nbsp;=&nbsp;@"x"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1525</ln><a id="1525">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;tts&nbsp;=&nbsp;string_to_tts</c0><c4>(</c4><c0>ident_str</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1526</ln><a id="1526">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;fm&nbsp;=&nbsp;fresh_mark</c0><c4>()</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1527</ln><a id="1527">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;marked_once&nbsp;=&nbsp;fold::fold_tts</c0><c4>(</c4><c0>tts</c0><c3>,</c3><c0>new_mark_folder</c0><c4>(</c4><c0>fm</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1528</ln><a id="1528">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>marked_once.len</c0><c4>()</c4><c3>,</c3><c0>1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1529</ln><a id="1529">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;marked_once_ctxt&nbsp;=
</c0><br/><ln>&nbsp;1530</ln><a id="1530">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>match</c21><c0>&nbsp;marked_once</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1531</ln><a id="1531">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::tt_tok</c0><c4>(</c4><c0>_</c0><c3>,</c3><c0>token::IDENT</c0><c4>(</c4><c0>id</c0><c3>,</c3><c0>_</c0><c4>))</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;id.ctxt</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1532</ln><a id="1532">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;fail!</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"unexpected&nbsp;shape&nbsp;for&nbsp;marked&nbsp;tts:&nbsp;%?"</c0><c3>,</c3><c0>marked_once</c0><c3>[</c3><c0>0</c0><c3>]</c3><c4>))</c4><c0>
</c0><br/><ln>&nbsp;1533</ln><a id="1533">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1534</ln><a id="1534">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>mtwt_marksof</c0><c4>(</c4><c0>marked_once_ctxt</c0><c3>,</c3><c0>invalid_name</c0><c4>)</c4><c3>,</c3><c0>~</c0><c3>[</c3><c0>fm</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1535</ln><a id="1535">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;remarked&nbsp;=&nbsp;mtwt_cancel_outer_mark</c0><c4>(</c4><c0>marked_once</c0><c3>,</c3><c0>marked_once_ctxt</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1536</ln><a id="1536">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>remarked.len</c0><c4>()</c4><c3>,</c3><c0>1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1537</ln><a id="1537">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>match</c21><c0>&nbsp;remarked</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1538</ln><a id="1538">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::tt_tok</c0><c4>(</c4><c0>_</c0><c3>,</c3><c0>token::IDENT</c0><c4>(</c4><c0>id</c0><c3>,</c3><c0>_</c0><c4>))</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>
</c0><br/><ln>&nbsp;1539</ln><a id="1539">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>mtwt_marksof</c0><c4>(</c4><c0>id.ctxt</c0><c3>,</c3><c0>invalid_name</c0><c4>)</c4><c3>,</c3><c0>~</c0><c3>[]</c3><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1540</ln><a id="1540">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;fail!</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"unexpected&nbsp;shape&nbsp;for&nbsp;marked&nbsp;tts:&nbsp;%?"</c0><c3>,</c3><c0>remarked</c0><c3>[</c3><c0>0</c0><c3>]</c3><c4>))</c4><c0>
</c0><br/><ln>&nbsp;1541</ln><a id="1541">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1542</ln><a id="1542">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1543</ln><a id="1543">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1544</ln><a id="1544">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;1545</ln><a id="1545">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;renaming&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1546</ln><a id="1546">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;item_ast&nbsp;=&nbsp;string_to_crate</c0><c4>(</c4><c0>@"</c0><c30>fn&nbsp;f</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;a&nbsp;</c0><c3>}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1547</ln><a id="1547">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;a_name&nbsp;=&nbsp;intern</c0><c4>(</c4><c0>"a"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1548</ln><a id="1548">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;a2_name&nbsp;=&nbsp;gensym</c0><c4>(</c4><c0>"a2"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1549</ln><a id="1549">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;renamer&nbsp;=&nbsp;new_rename_folder</c0><c4>(</c4><c0>ast::Ident</c0><c3>{</c3><c0>name:a_name</c0><c3>,</c3><c0>ctxt:EMPTY_CTXT</c0><c3>},</c3><c0>
</c0><br/><ln>&nbsp;1550</ln><a id="1550">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a2_name</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1551</ln><a id="1551">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;renamed_ast&nbsp;=&nbsp;renamer.fold_crate</c0><c4>(</c4><c0>item_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1552</ln><a id="1552">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varrefs&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1553</ln><a id="1553">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_path_finder</c0><c4>(</c4><c0>varrefs</c0><c4>)</c4><c3>,</c3><c0>&nbsp;&amp;renamed_ast</c0><c3>,</c3><c0>&nbsp;</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1554</ln><a id="1554">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>match</c21><c0>&nbsp;varrefs&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1555</ln><a id="1555">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</c0><c3>[</c3><c0>Path</c0><c3>{</c3><c0>segments:</c0><c3>[</c3><c0>ref&nbsp;seg</c0><c3>],</c3><c0>_</c0><c3>}]</c3><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;assert_eq!</c0><c4>(</c4><c0>mtwt_resolve</c0><c4>(</c4><c0>seg.identifier</c0><c4>)</c4><c3>,</c3><c0>a2_name</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1556</ln><a id="1556">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;assert_eq!</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>1</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1557</ln><a id="1557">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1558</ln><a id="1558">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1559</ln><a id="1559">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;try&nbsp;a&nbsp;double-rename,&nbsp;with&nbsp;pending_renames.
</c40><br/><ln>&nbsp;1560</ln><a id="1560">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;a3_name&nbsp;=&nbsp;gensym</c0><c4>(</c4><c0>"a3"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1561</ln><a id="1561">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;a&nbsp;context&nbsp;that&nbsp;renames&nbsp;from&nbsp;("a",empty)&nbsp;to&nbsp;"a2"&nbsp;:
</c40><br/><ln>&nbsp;1562</ln><a id="1562">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;ctxt2&nbsp;=&nbsp;new_rename</c0><c4>(</c4><c0>ast::Ident::new</c0><c4>(</c4><c0>a_name</c0><c4>)</c4><c3>,</c3><c0>a2_name</c0><c3>,</c3><c0>EMPTY_CTXT</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1563</ln><a id="1563">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;pending_renames&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[</c3><c4>(</c4><c0>ast::Ident::new</c0><c4>(</c4><c0>a_name</c0><c4>)</c4><c3>,</c3><c0>a2_name</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1564</ln><a id="1564">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>ast::Ident</c0><c3>{</c3><c0>name:a_name</c0><c3>,</c3><c0>ctxt:ctxt2</c0><c3>},</c3><c0>a3_name</c0><c4>)</c4><c3>];</c3><c0>
</c0><br/><ln>&nbsp;1565</ln><a id="1565">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;double_renamed&nbsp;=&nbsp;renames_to_fold</c0><c4>(</c4><c0>pending_renames</c0><c4>)</c4><c0>.fold_crate</c0><c4>(</c4><c0>item_ast</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1566</ln><a id="1566">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varrefs&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1567</ln><a id="1567">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_path_finder</c0><c4>(</c4><c0>varrefs</c0><c4>)</c4><c3>,</c3><c0>&nbsp;&amp;double_renamed</c0><c3>,</c3><c0>&nbsp;</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1568</ln><a id="1568">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>match</c21><c0>&nbsp;varrefs&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1569</ln><a id="1569">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</c0><c3>[</c3><c0>Path</c0><c3>{</c3><c0>segments:</c0><c3>[</c3><c0>ref&nbsp;seg</c0><c3>],</c3><c0>_</c0><c3>}]</c3><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;assert_eq!</c0><c4>(</c4><c0>mtwt_resolve</c0><c4>(</c4><c0>seg.identifier</c0><c4>)</c4><c3>,</c3><c0>a3_name</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1570</ln><a id="1570">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;assert_eq!</c0><c4>(</c4><c0>0</c0><c3>,</c3><c0>1</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1571</ln><a id="1571">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1572</ln><a id="1572">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1573</ln><a id="1573">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1574</ln><a id="1574">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;fake_print_crate</c30><c4>(</c4><c0>crate:&nbsp;@ast::Crate</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1575</ln><a id="1575">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;s&nbsp;=&nbsp;pprust::rust_printer</c0><c4>(</c4><c0>std::io::stderr</c0><c4>()</c4><c3>,</c3><c0>get_ident_interner</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1576</ln><a id="1576">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pprust::print_crate_</c0><c4>(</c4><c0>s</c0><c3>,</c3><c0>&nbsp;crate</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1577</ln><a id="1577">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1578</ln><a id="1578">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1579</ln><a id="1579">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;expand_crate_str</c30><c4>(</c4><c0>crate_str:&nbsp;@str</c0><c4>)</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;@ast::Crate&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1580</ln><a id="1580">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c4>(</c4><c0>crate_ast</c0><c3>,</c3><c0>ps</c0><c4>)</c4><c0>&nbsp;=&nbsp;string_to_crate_and_sess</c0><c4>(</c4><c0>crate_str</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1581</ln><a id="1581">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;cfg&nbsp;argument&nbsp;actually&nbsp;does&nbsp;matter,&nbsp;here...
</c40><br/><ln>&nbsp;1582</ln><a id="1582">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate</c0><c4>(</c4><c0>ps</c0><c3>,</c3><c0>~</c0><c3>[],</c3><c0>crate_ast</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1583</ln><a id="1583">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1584</ln><a id="1584">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1585</ln><a id="1585">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//fn&nbsp;expand_and_resolve(crate_str:&nbsp;@str)&nbsp;-&gt;&nbsp;ast::crate&nbsp;{
</c40><br/><ln>&nbsp;1586</ln><a id="1586">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//let&nbsp;expanded_ast&nbsp;=&nbsp;expand_crate_str(crate_str);
</c40><br/><ln>&nbsp;1587</ln><a id="1587">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;std::io::println(fmt!("expanded:&nbsp;%?\n",expanded_ast));
</c40><br/><ln>&nbsp;1588</ln><a id="1588">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//mtwt_resolve_crate(expanded_ast)
</c40><br/><ln>&nbsp;1589</ln><a id="1589">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//}
</c40><br/><ln>&nbsp;1590</ln><a id="1590">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//fn&nbsp;expand_and_resolve_and_pretty_print&nbsp;(crate_str&nbsp;:&nbsp;@str)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c40><br/><ln>&nbsp;1591</ln><a id="1591">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//let&nbsp;resolved_ast&nbsp;=&nbsp;expand_and_resolve(crate_str);
</c40><br/><ln>&nbsp;1592</ln><a id="1592">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//pprust::to_str(&amp;resolved_ast,fake_print_crate,get_ident_interner())
</c40><br/><ln>&nbsp;1593</ln><a id="1593">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//}
</c40><br/><ln>&nbsp;1594</ln><a id="1594">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1595</ln><a id="1595">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;macro_tokens_should_match</c30><c4>()</c4><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1596</ln><a id="1596">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_crate_str</c0><c4>(</c4><c0>@"</c0><c37>macro_rules!&nbsp;m</c37><c4>((</c4><c0>a</c0><c4>)=&gt;(</c4><c0>13</c0><c4>))</c4><c0>&nbsp;</c0><c30>fn&nbsp;main</c30><c4>()</c4><c3>{</c3><c0>m!</c0><c4>(</c4><c0>a</c0><c4>)</c4><c3>;}</c3><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1597</ln><a id="1597">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1598</ln><a id="1598">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1599</ln><a id="1599">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;renaming&nbsp;tests&nbsp;expand&nbsp;a&nbsp;crate&nbsp;and&nbsp;then&nbsp;check&nbsp;that&nbsp;the&nbsp;bindings&nbsp;match
</c40><br/><ln>&nbsp;1600</ln><a id="1600">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;right&nbsp;varrefs.&nbsp;The&nbsp;specification&nbsp;of&nbsp;the&nbsp;test&nbsp;case&nbsp;includes&nbsp;the
</c40><br/><ln>&nbsp;1601</ln><a id="1601">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;text&nbsp;of&nbsp;the&nbsp;crate,&nbsp;and&nbsp;also&nbsp;an&nbsp;array&nbsp;of&nbsp;arrays.&nbsp;&nbsp;Each&nbsp;element&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;1602</ln><a id="1602">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;outer&nbsp;array&nbsp;corresponds&nbsp;to&nbsp;a&nbsp;binding&nbsp;in&nbsp;the&nbsp;traversal&nbsp;of&nbsp;the&nbsp;AST
</c40><br/><ln>&nbsp;1603</ln><a id="1603">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;induced&nbsp;by&nbsp;visit.&nbsp;&nbsp;Each&nbsp;of&nbsp;these&nbsp;arrays&nbsp;contains&nbsp;a&nbsp;list&nbsp;of&nbsp;indexes,
</c40><br/><ln>&nbsp;1604</ln><a id="1604">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;interpreted&nbsp;as&nbsp;the&nbsp;varrefs&nbsp;in&nbsp;the&nbsp;varref&nbsp;traversal&nbsp;that&nbsp;this&nbsp;binding
</c40><br/><ln>&nbsp;1605</ln><a id="1605">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;match.&nbsp;&nbsp;So,&nbsp;for&nbsp;instance,&nbsp;in&nbsp;a&nbsp;program&nbsp;with&nbsp;two&nbsp;bindings&nbsp;and
</c40><br/><ln>&nbsp;1606</ln><a id="1606">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;three&nbsp;varrefs,&nbsp;the&nbsp;array&nbsp;~[~[1,2],~[0]]&nbsp;would&nbsp;indicate&nbsp;that&nbsp;the&nbsp;first
</c40><br/><ln>&nbsp;1607</ln><a id="1607">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;binding&nbsp;should&nbsp;match&nbsp;the&nbsp;second&nbsp;two&nbsp;varrefs,&nbsp;and&nbsp;the&nbsp;second&nbsp;binding
</c40><br/><ln>&nbsp;1608</ln><a id="1608">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;match&nbsp;the&nbsp;first&nbsp;varref.
</c40><br/><ln>&nbsp;1609</ln><a id="1609">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//
</c40><br/><ln>&nbsp;1610</ln><a id="1610">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;The&nbsp;comparisons&nbsp;are&nbsp;done&nbsp;post-mtwt-resolve,&nbsp;so&nbsp;we're&nbsp;comparing&nbsp;renamed
</c40><br/><ln>&nbsp;1611</ln><a id="1611">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;names;&nbsp;differences&nbsp;in&nbsp;marks&nbsp;don't&nbsp;matter&nbsp;any&nbsp;more.
</c40><br/><ln>&nbsp;1612</ln><a id="1612">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//
</c40><br/><ln>&nbsp;1613</ln><a id="1613">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;oog...&nbsp;I&nbsp;also&nbsp;want&nbsp;tests&nbsp;that&nbsp;check&nbsp;"binding-identifier-=?".&nbsp;That&nbsp;is,
</c40><br/><ln>&nbsp;1614</ln><a id="1614">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;not&nbsp;just&nbsp;"do&nbsp;these&nbsp;have&nbsp;the&nbsp;same&nbsp;name",&nbsp;but&nbsp;"do&nbsp;they&nbsp;have&nbsp;the&nbsp;same
</c40><br/><ln>&nbsp;1615</ln><a id="1615">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;name&nbsp;*and*&nbsp;the&nbsp;same&nbsp;marks"?&nbsp;Understanding&nbsp;this&nbsp;is&nbsp;really&nbsp;pretty&nbsp;painful.
</c40><br/><ln>&nbsp;1616</ln><a id="1616">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;in&nbsp;principle,&nbsp;you&nbsp;might&nbsp;want&nbsp;to&nbsp;control&nbsp;this&nbsp;boolean&nbsp;on&nbsp;a&nbsp;per-varref&nbsp;basis,
</c40><br/><ln>&nbsp;1617</ln><a id="1617">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;but&nbsp;that&nbsp;would&nbsp;make&nbsp;things&nbsp;even&nbsp;harder&nbsp;to&nbsp;understand,&nbsp;and&nbsp;might&nbsp;not&nbsp;be
</c40><br/><ln>&nbsp;1618</ln><a id="1618">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;necessary&nbsp;for&nbsp;thorough&nbsp;testing.
</c40><br/><ln>&nbsp;1619</ln><a id="1619">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c35>type&nbsp;renaming_test&nbsp;=&nbsp;</c35><c4>(</c4><c0>&amp;'</c0><c36>static&nbsp;str,&nbsp;~[~[uint]],&nbsp;bool);
</c36><br/><ln>&nbsp;1620</ln><a id="1620">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1621</ln><a id="1621">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;1622</ln><a id="1622">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;automatic_renaming&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1623</ln><a id="1623">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;tests&nbsp;:&nbsp;~</c0><c3>[</c3><c0>renaming_test</c0><c3>]</c3><c0>&nbsp;=
</c0><br/><ln>&nbsp;1624</ln><a id="1624">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c40>//&nbsp;b&nbsp;&amp;&nbsp;c&nbsp;should&nbsp;get&nbsp;new&nbsp;names&nbsp;throughout,&nbsp;in&nbsp;the&nbsp;expr&nbsp;too:
</c40><br/><ln>&nbsp;1625</ln><a id="1625">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>"</c0><c30>fn&nbsp;a</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;let&nbsp;b&nbsp;=&nbsp;13</c0><c3>;</c3><c0>&nbsp;let&nbsp;c&nbsp;=&nbsp;b</c0><c3>;</c3><c0>&nbsp;b+c&nbsp;</c0><c3>}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1626</ln><a id="1626">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c0>~</c0><c3>[</c3><c0>0</c0><c3>,</c3><c0>1</c0><c3>],</c3><c0>~</c0><c3>[</c3><c0>2</c0><c3>]],</c3><c0>&nbsp;false</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1627</ln><a id="1627">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;both&nbsp;x's&nbsp;should&nbsp;be&nbsp;renamed&nbsp;(how&nbsp;is&nbsp;this&nbsp;causing&nbsp;a&nbsp;bug?)
</c40><br/><ln>&nbsp;1628</ln><a id="1628">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>"</c0><c30>fn&nbsp;main&nbsp;</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>let&nbsp;x&nbsp;:&nbsp;int&nbsp;=&nbsp;13</c0><c3>;</c3><c0>x</c0><c3>;}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1629</ln><a id="1629">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c0>~</c0><c3>[</c3><c0>0</c0><c3>]],</c3><c0>&nbsp;false</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1630</ln><a id="1630">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;use&nbsp;of&nbsp;b&nbsp;after&nbsp;the&nbsp;+&nbsp;should&nbsp;be&nbsp;renamed,&nbsp;the&nbsp;other&nbsp;one&nbsp;not:
</c40><br/><ln>&nbsp;1631</ln><a id="1631">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>"</c0><c37>macro_rules!&nbsp;f&nbsp;</c37><c4>((</c4><c0>$x:ident</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>b&nbsp;+&nbsp;$x</c0><c4>))</c4><c0>&nbsp;</c0><c30>fn&nbsp;a</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;let&nbsp;b&nbsp;=&nbsp;13</c0><c3>;</c3><c0>&nbsp;f!</c0><c4>(</c4><c0>b</c0><c4>)</c4><c3>}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1632</ln><a id="1632">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c0>~</c0><c3>[</c3><c0>1</c0><c3>]],</c3><c0>&nbsp;false</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1633</ln><a id="1633">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;b&nbsp;before&nbsp;the&nbsp;plus&nbsp;should&nbsp;not&nbsp;be&nbsp;renamed&nbsp;(requires&nbsp;marks)
</c40><br/><ln>&nbsp;1634</ln><a id="1634">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>"</c0><c37>macro_rules!&nbsp;f&nbsp;</c37><c4>((</c4><c0>$x:ident</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c3>{</c3><c0>let&nbsp;b=9</c0><c3>;</c3><c0>&nbsp;</c0><c4>(</c4><c0>$x&nbsp;+&nbsp;b</c0><c4>)</c4><c3>}</c3><c4>))</c4><c0>&nbsp;</c0><c30>fn&nbsp;a</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>&nbsp;f!</c0><c4>(</c4><c0>b</c0><c4>)</c4><c3>}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1635</ln><a id="1635">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c0>~</c0><c3>[</c3><c0>1</c0><c3>]],</c3><c0>&nbsp;false</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1636</ln><a id="1636">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;marks&nbsp;going&nbsp;in&nbsp;and&nbsp;out&nbsp;of&nbsp;letty&nbsp;should&nbsp;cancel,&nbsp;allowing&nbsp;that&nbsp;$x&nbsp;to
</c40><br/><ln>&nbsp;1637</ln><a id="1637">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;capture&nbsp;the&nbsp;one&nbsp;following&nbsp;the&nbsp;semicolon.
</c40><br/><ln>&nbsp;1638</ln><a id="1638">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;this&nbsp;was&nbsp;an&nbsp;awesome&nbsp;test&nbsp;case,&nbsp;and&nbsp;caught&nbsp;a&nbsp;*lot*&nbsp;of&nbsp;bugs.
</c40><br/><ln>&nbsp;1639</ln><a id="1639">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>"</c0><c37>macro_rules!&nbsp;letty</c37><c4>((</c4><c0>$x:ident</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>let&nbsp;$x&nbsp;=&nbsp;15</c0><c3>;</c3><c4>))</c4><c0>
</c0><br/><ln>&nbsp;1640</ln><a id="1640">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c37>macro_rules!&nbsp;user</c37><c4>((</c4><c0>$x:ident</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c3>{</c3><c0>letty!</c0><c4>(</c4><c0>$x</c0><c4>)</c4><c3>;</c3><c0>&nbsp;$x</c0><c3>}</c3><c4>))</c4><c0>
</c0><br/><ln>&nbsp;1641</ln><a id="1641">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;main</c30><c4>()</c4><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;int&nbsp;</c0><c3>{</c3><c0>user!</c0><c4>(</c4><c0>z</c0><c4>)</c4><c3>}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1642</ln><a id="1642">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~</c0><c3>[</c3><c0>~</c0><c3>[</c3><c0>0</c0><c3>]],</c3><c0>&nbsp;false</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1643</ln><a id="1643">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;FIXME&nbsp;#8062:&nbsp;this&nbsp;test&nbsp;exposes&nbsp;a&nbsp;*potential*&nbsp;bug;&nbsp;our&nbsp;system&nbsp;does
</c40><br/><ln>&nbsp;1644</ln><a id="1644">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;not&nbsp;behave&nbsp;exactly&nbsp;like&nbsp;MTWT,&nbsp;but&nbsp;I&nbsp;haven't&nbsp;thought&nbsp;of&nbsp;a&nbsp;way&nbsp;that
</c40><br/><ln>&nbsp;1645</ln><a id="1645">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;this&nbsp;could&nbsp;cause&nbsp;a&nbsp;bug&nbsp;in&nbsp;Rust,&nbsp;yet.
</c40><br/><ln>&nbsp;1646</ln><a id="1646">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;("fn&nbsp;main()&nbsp;{let&nbsp;hrcoo&nbsp;=&nbsp;19;&nbsp;macro_rules!&nbsp;getx(()=&gt;(hrcoo));&nbsp;getx!();}",
</c40><br/><ln>&nbsp;1647</ln><a id="1647">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;~[~[0]],&nbsp;true)
</c40><br/><ln>&nbsp;1648</ln><a id="1648">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;FIXME&nbsp;#6994:&nbsp;the&nbsp;next&nbsp;string&nbsp;exposes&nbsp;the&nbsp;bug&nbsp;referred&nbsp;to&nbsp;in&nbsp;issue&nbsp;6994,&nbsp;so&nbsp;I'm
</c40><br/><ln>&nbsp;1649</ln><a id="1649">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;commenting&nbsp;it&nbsp;out.
</c40><br/><ln>&nbsp;1650</ln><a id="1650">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;z&nbsp;flows&nbsp;into&nbsp;and&nbsp;out&nbsp;of&nbsp;two&nbsp;macros&nbsp;(g&nbsp;&amp;&nbsp;f)&nbsp;along&nbsp;one&nbsp;path,&nbsp;and&nbsp;one
</c40><br/><ln>&nbsp;1651</ln><a id="1651">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;(just&nbsp;g)&nbsp;along&nbsp;the&nbsp;other,&nbsp;so&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;whole&nbsp;thing&nbsp;should
</c40><br/><ln>&nbsp;1652</ln><a id="1652">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;be&nbsp;"let&nbsp;z_123&nbsp;=&nbsp;3;&nbsp;z_123"
</c40><br/><ln>&nbsp;1653</ln><a id="1653">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//"macro_rules!&nbsp;g&nbsp;(($x:ident)&nbsp;=&gt;
</c40><br/><ln>&nbsp;1654</ln><a id="1654">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;&nbsp;&nbsp;({macro_rules!&nbsp;f(($y:ident)=&gt;({let&nbsp;$y=3;$x}));f!($x)}))
</c40><br/><ln>&nbsp;1655</ln><a id="1655">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;&nbsp;&nbsp;fn&nbsp;a(){g!(z)}"
</c40><br/><ln>&nbsp;1656</ln><a id="1656">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;create&nbsp;a&nbsp;really&nbsp;evil&nbsp;test&nbsp;case&nbsp;where&nbsp;a&nbsp;$x&nbsp;appears&nbsp;inside&nbsp;a&nbsp;binding&nbsp;of&nbsp;$x
</c40><br/><ln>&nbsp;1657</ln><a id="1657">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;but&nbsp;*shouldnt*&nbsp;bind&nbsp;because&nbsp;it&nbsp;was&nbsp;inserted&nbsp;by&nbsp;a&nbsp;different&nbsp;macro....
</c40><br/><ln>&nbsp;1658</ln><a id="1658">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>];</c3><c0>
</c0><br/><ln>&nbsp;1659</ln><a id="1659">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>for</c21><c0>&nbsp;</c0><c4>(</c4><c0>idx</c0><c3>,</c3><c0>s</c0><c4>)</c4><c0>&nbsp;in&nbsp;tests.iter</c0><c4>()</c4><c0>.enumerate</c0><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1660</ln><a id="1660">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run_renaming_test</c0><c4>(</c4><c0>s</c0><c3>,</c3><c0>idx</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1661</ln><a id="1661">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1662</ln><a id="1662">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1663</ln><a id="1663">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1664</ln><a id="1664">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;run&nbsp;one&nbsp;of&nbsp;the&nbsp;renaming&nbsp;tests
</c40><br/><ln>&nbsp;1665</ln><a id="1665">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;run_renaming_test</c30><c4>(</c4><c0>t&nbsp;:&nbsp;&amp;renaming_test</c0><c3>,</c3><c0>&nbsp;test_idx:&nbsp;uint</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1666</ln><a id="1666">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;invalid_name&nbsp;=&nbsp;token::special_idents::invalid.name</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1667</ln><a id="1667">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c4>(</c4><c0>teststr</c0><c3>,</c3><c0>&nbsp;bound_connections</c0><c3>,</c3><c0>&nbsp;bound_ident_check</c0><c4>)</c4><c0>&nbsp;=&nbsp;match&nbsp;*t&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1668</ln><a id="1668">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c21>ref</c21><c0>&nbsp;str</c0><c3>,</c3><c0>ref&nbsp;conns</c0><c3>,</c3><c0>&nbsp;bic</c0><c4>)</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c0>str.to_managed</c0><c4>()</c4><c3>,</c3><c0>&nbsp;conns.clone</c0><c4>()</c4><c3>,</c3><c0>&nbsp;bic</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1669</ln><a id="1669">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1670</ln><a id="1670">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;cr&nbsp;=&nbsp;expand_crate_str</c0><c4>(</c4><c0>teststr.to_managed</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1671</ln><a id="1671">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;find&nbsp;the&nbsp;bindings:
</c40><br/><ln>&nbsp;1672</ln><a id="1672">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;bindings&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1673</ln><a id="1673">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_name_finder</c0><c4>(</c4><c0>bindings</c0><c4>)</c4><c3>,</c3><c0>cr</c0><c3>,</c3><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1674</ln><a id="1674">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;find&nbsp;the&nbsp;varrefs:
</c40><br/><ln>&nbsp;1675</ln><a id="1675">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varrefs&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1676</ln><a id="1676">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_path_finder</c0><c4>(</c4><c0>varrefs</c0><c4>)</c4><c3>,</c3><c0>cr</c0><c3>,</c3><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1677</ln><a id="1677">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;must&nbsp;be&nbsp;one&nbsp;check&nbsp;clause&nbsp;for&nbsp;each&nbsp;binding:
</c40><br/><ln>&nbsp;1678</ln><a id="1678">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>bindings.len</c0><c4>()</c4><c3>,</c3><c0>bound_connections.len</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1679</ln><a id="1679">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>for</c21><c0>&nbsp;</c0><c4>(</c4><c0>binding_idx</c0><c3>,</c3><c0>shouldmatch</c0><c4>)</c4><c0>&nbsp;in&nbsp;bound_connections.iter</c0><c4>()</c4><c0>.enumerate</c0><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1680</ln><a id="1680">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;binding_name&nbsp;=&nbsp;mtwt_resolve</c0><c4>(</c4><c0>bindings</c0><c3>[</c3><c0>binding_idx</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1681</ln><a id="1681">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;binding_marks&nbsp;=&nbsp;mtwt_marksof</c0><c4>(</c4><c0>bindings</c0><c3>[</c3><c0>binding_idx</c0><c3>]</c3><c0>.ctxt</c0><c3>,</c3><c0>invalid_name</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1682</ln><a id="1682">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;shouldmatch&nbsp;can't&nbsp;name&nbsp;varrefs&nbsp;that&nbsp;don't&nbsp;exist:
</c40><br/><ln>&nbsp;1683</ln><a id="1683">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>((</c4><c0>shouldmatch.len</c0><c4>()</c4><c0>&nbsp;==&nbsp;0</c0><c4>)</c4><c0>&nbsp;||
</c0><br/><ln>&nbsp;1684</ln><a id="1684">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c4>(</c4><c0>varrefs.len</c0><c4>()</c4><c0>&nbsp;&gt;&nbsp;*shouldmatch.iter</c0><c4>()</c4><c0>.max</c0><c4>()</c4><c0>.unwrap</c0><c4>()))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1685</ln><a id="1685">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>for</c21><c0>&nbsp;</c0><c4>(</c4><c0>idx</c0><c3>,</c3><c0>varref</c0><c4>)</c4><c0>&nbsp;in&nbsp;varrefs.iter</c0><c4>()</c4><c0>.enumerate</c0><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1686</ln><a id="1686">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;shouldmatch.contains</c0><c4>(</c4><c0>&amp;idx</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1687</ln><a id="1687">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;it&nbsp;should&nbsp;be&nbsp;a&nbsp;path&nbsp;of&nbsp;length&nbsp;1,&nbsp;and&nbsp;it&nbsp;should
</c40><br/><ln>&nbsp;1688</ln><a id="1688">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;be&nbsp;free-identifier=?&nbsp;or&nbsp;bound-identifier=?&nbsp;to&nbsp;the&nbsp;given&nbsp;binding
</c40><br/><ln>&nbsp;1689</ln><a id="1689">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>varref.segments.len</c0><c4>()</c4><c3>,</c3><c0>1</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1690</ln><a id="1690">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varref_name&nbsp;=&nbsp;mtwt_resolve</c0><c4>(</c4><c0>varref.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1691</ln><a id="1691">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varref_marks&nbsp;=&nbsp;mtwt_marksof</c0><c4>(</c4><c0>varref.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier.ctxt</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1692</ln><a id="1692">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid_name</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1693</ln><a id="1693">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;</c0><c4>(</c4><c0>!</c0><c4>(</c4><c0>varref_name==binding_name</c0><c4>))</c4><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1694</ln><a id="1694">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>"uh&nbsp;oh</c0><c3>,</c3><c0>&nbsp;should&nbsp;match&nbsp;but&nbsp;doesn't:"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1695</ln><a id="1695">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"varref:&nbsp;%?"</c0><c3>,</c3><c0>varref</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1696</ln><a id="1696">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"binding:&nbsp;%?"</c0><c3>,</c3><c0>&nbsp;bindings</c0><c3>[</c3><c0>binding_idx</c0><c3>]</c3><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1697</ln><a id="1697">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast_util::display_sctable</c0><c4>(</c4><c0>get_sctable</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1698</ln><a id="1698">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1699</ln><a id="1699">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>varref_name</c0><c3>,</c3><c0>binding_name</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1700</ln><a id="1700">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;</c0><c4>(</c4><c0>bound_ident_check</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1701</ln><a id="1701">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;we're&nbsp;checking&nbsp;bound-identifier=?,&nbsp;and&nbsp;the&nbsp;marks
</c40><br/><ln>&nbsp;1702</ln><a id="1702">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;should&nbsp;be&nbsp;the&nbsp;same,&nbsp;too:
</c40><br/><ln>&nbsp;1703</ln><a id="1703">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>varref_marks</c0><c3>,</c3><c0>binding_marks.clone</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1704</ln><a id="1704">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1705</ln><a id="1705">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>&nbsp;</c0><c21>else</c21><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1706</ln><a id="1706">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;fail&nbsp;=&nbsp;</c0><c4>(</c4><c0>varref.segments.len</c0><c4>()</c4><c0>&nbsp;==&nbsp;1</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1707</ln><a id="1707">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;</c0><c4>(</c4><c0>mtwt_resolve</c0><c4>(</c4><c0>varref.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)</c4><c0>&nbsp;==&nbsp;binding_name</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1708</ln><a id="1708">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;temp&nbsp;debugging:
</c40><br/><ln>&nbsp;1709</ln><a id="1709">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;</c0><c4>(</c4><c0>fail</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1710</ln><a id="1710">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</c0><c4>(</c4><c0>"failure&nbsp;on&nbsp;test&nbsp;</c0><c3>{}</c3><c0>"</c0><c3>,</c3><c0>test_idx</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1711</ln><a id="1711">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</c0><c4>(</c4><c0>"text&nbsp;of&nbsp;test&nbsp;case:&nbsp;\"</c0><c3>{}</c3><c0>\""</c0><c3>,</c3><c0>&nbsp;teststr</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1712</ln><a id="1712">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</c0><c4>(</c4><c0>""</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1713</ln><a id="1713">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</c0><c4>(</c4><c0>"uh&nbsp;oh</c0><c3>,</c3><c0>&nbsp;matches&nbsp;but&nbsp;shouldn't:"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1714</ln><a id="1714">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"varref:&nbsp;%?"</c0><c3>,</c3><c0>varref</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1715</ln><a id="1715">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;good&nbsp;lord,&nbsp;you&nbsp;can't&nbsp;make&nbsp;a&nbsp;path&nbsp;with&nbsp;0&nbsp;segments,&nbsp;can&nbsp;you?
</c40><br/><ln>&nbsp;1716</ln><a id="1716">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</c0><c4>(</c4><c0>"varref's&nbsp;first&nbsp;segment's&nbsp;uint:&nbsp;</c0><c3>{},</c3><c0>&nbsp;and&nbsp;string:&nbsp;\"</c0><c3>{}</c3><c0>\""</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1717</ln><a id="1717">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;varref.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier.name</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1718</ln><a id="1718">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ident_to_str</c0><c4>(</c4><c0>&amp;varref.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1719</ln><a id="1719">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"binding:&nbsp;%?"</c0><c3>,</c3><c0>&nbsp;bindings</c0><c3>[</c3><c0>binding_idx</c0><c3>]</c3><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1720</ln><a id="1720">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast_util::display_sctable</c0><c4>(</c4><c0>get_sctable</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1721</ln><a id="1721">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1722</ln><a id="1722">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>!fail</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1723</ln><a id="1723">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1724</ln><a id="1724">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1725</ln><a id="1725">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1726</ln><a id="1726">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1727</ln><a id="1727">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1728</ln><a id="1728">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>&nbsp;</c0><c30>fn&nbsp;fmt_in_macro_used_inside_module_macro</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1729</ln><a id="1729">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;crate_str&nbsp;=&nbsp;@"</c0><c37>macro_rules!&nbsp;fmt_wrap</c37><c4>((</c4><c0>$b:expr</c0><c4>)=&gt;(</c4><c0>fmt!</c0><c4>(</c4><c0>\"left:&nbsp;%?\"</c0><c3>,</c3><c0>&nbsp;$b</c0><c4>)))</c4><c0>
</c0><br/><ln>&nbsp;1730</ln><a id="1730">&nbsp;</a>&nbsp;<c37>macro_rules!&nbsp;foo_module&nbsp;</c37><c4>(()</c4><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;</c0><c4>(</c4><c38>mod&nbsp;generated&nbsp;</c38><c3>{</c3><c0>&nbsp;</c0><c30>fn&nbsp;a</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>&nbsp;let&nbsp;xx&nbsp;=&nbsp;147</c0><c3>;</c3><c0>&nbsp;fmt_wrap!</c0><c4>(</c4><c0>xx</c0><c4>)</c4><c3>;}}</c3><c4>))</c4><c0>
</c0><br/><ln>&nbsp;1731</ln><a id="1731">&nbsp;</a>&nbsp;<c0>foo_module!</c0><c4>()</c4><c0>
</c0><br/><ln>&nbsp;1732</ln><a id="1732">&nbsp;</a>&nbsp;<c0>"</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1733</ln><a id="1733">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;cr&nbsp;=&nbsp;expand_crate_str</c0><c4>(</c4><c0>crate_str</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1734</ln><a id="1734">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;find&nbsp;the&nbsp;xx&nbsp;binding
</c40><br/><ln>&nbsp;1735</ln><a id="1735">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;bindings&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1736</ln><a id="1736">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_name_finder</c0><c4>(</c4><c0>bindings</c0><c4>)</c4><c3>,</c3><c0>&nbsp;cr</c0><c3>,</c3><c0>&nbsp;</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1737</ln><a id="1737">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;cxbinds&nbsp;:&nbsp;~</c0><c3>[</c3><c0>&amp;ast::Ident</c0><c3>]</c3><c0>&nbsp;=
</c0><br/><ln>&nbsp;1738</ln><a id="1738">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bindings.iter</c0><c4>()</c4><c0>.filter</c0><c4>(</c4><c0>|b|</c0><c3>{</c3><c0>@"xx"&nbsp;==&nbsp;</c0><c4>(</c4><c0>ident_to_str</c0><c4>(</c4><c0>*b</c0><c4>))</c4><c3>}</c3><c4>)</c4><c0>.collect</c0><c4>()</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1739</ln><a id="1739">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;cxbind&nbsp;=&nbsp;match&nbsp;cxbinds&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1740</ln><a id="1740">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>[</c3><c0>b</c0><c3>]</c3><c0>&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;b</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;1741</ln><a id="1741">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</c0><c4>=&gt;</c4><c0>&nbsp;fail!</c0><c4>(</c4><c0>"expected&nbsp;just&nbsp;one&nbsp;binding&nbsp;for&nbsp;ext_cx"</c0><c4>)</c4><c0>
</c0><br/><ln>&nbsp;1742</ln><a id="1742">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1743</ln><a id="1743">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;resolved_binding&nbsp;=&nbsp;mtwt_resolve</c0><c4>(</c4><c0>*cxbind</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1744</ln><a id="1744">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;find&nbsp;all&nbsp;the&nbsp;xx&nbsp;varrefs:
</c40><br/><ln>&nbsp;1745</ln><a id="1745">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;varrefs&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1746</ln><a id="1746">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate</c0><c4>(</c4><c0>&amp;mut&nbsp;new_path_finder</c0><c4>(</c4><c0>varrefs</c0><c4>)</c4><c3>,</c3><c0>&nbsp;cr</c0><c3>,</c3><c0>&nbsp;</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1747</ln><a id="1747">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;the&nbsp;xx&nbsp;binding&nbsp;should&nbsp;bind&nbsp;all&nbsp;of&nbsp;the&nbsp;xx&nbsp;varrefs:
</c40><br/><ln>&nbsp;1748</ln><a id="1748">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>for</c21><c0>&nbsp;</c0><c4>(</c4><c0>idx</c0><c3>,</c3><c0>v</c0><c4>)</c4><c0>&nbsp;in&nbsp;varrefs.iter</c0><c4>()</c4><c0>.filter</c0><c4>(</c4><c0>|p|</c0><c3>{</c3><c0>&nbsp;p.segments.len</c0><c4>()</c4><c0>&nbsp;==&nbsp;1
</c0><br/><ln>&nbsp;1749</ln><a id="1749">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&amp;&nbsp;</c0><c4>(</c4><c0>@"xx"&nbsp;==&nbsp;</c0><c4>(</c4><c0>ident_to_str</c0><c4>(</c4><c0>&amp;p.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)))</c4><c0>
</c0><br/><ln>&nbsp;1750</ln><a id="1750">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c4>)</c4><c0>.enumerate</c0><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1751</ln><a id="1751">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;</c0><c4>(</c4><c0>mtwt_resolve</c0><c4>(</c4><c0>v.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)</c4><c0>&nbsp;!=&nbsp;resolved_binding</c0><c4>)</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1752</ln><a id="1752">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>"uh&nbsp;oh</c0><c3>,</c3><c0>&nbsp;xx&nbsp;binding&nbsp;didn't&nbsp;match&nbsp;xx&nbsp;varref:"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1753</ln><a id="1753">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"this&nbsp;is&nbsp;xx&nbsp;varref&nbsp;#&nbsp;%?"</c0><c3>,</c3><c0>idx</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1754</ln><a id="1754">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"binding:&nbsp;%?"</c0><c3>,</c3><c0>cxbind</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1755</ln><a id="1755">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"resolves&nbsp;to:&nbsp;%?"</c0><c3>,</c3><c0>resolved_binding</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1756</ln><a id="1756">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"varref:&nbsp;%?"</c0><c3>,</c3><c0>v.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1757</ln><a id="1757">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"resolves&nbsp;to:&nbsp;%?"</c0><c3>,</c3><c0>mtwt_resolve</c0><c4>(</c4><c0>v.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1758</ln><a id="1758">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;table&nbsp;=&nbsp;get_sctable</c0><c4>()</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1759</ln><a id="1759">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>"SC&nbsp;table:"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1760</ln><a id="1760">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>for</c21><c0>&nbsp;</c0><c4>(</c4><c0>idx</c0><c3>,</c3><c0>val</c0><c4>)</c4><c0>&nbsp;in&nbsp;table.table.iter</c0><c4>()</c4><c0>.enumerate</c0><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1761</ln><a id="1761">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std::io::println</c0><c4>(</c4><c0>fmt!</c0><c4>(</c4><c0>"%4u&nbsp;:&nbsp;%?"</c0><c3>,</c3><c0>idx</c0><c3>,</c3><c0>val</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1762</ln><a id="1762">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1763</ln><a id="1763">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1764</ln><a id="1764">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>mtwt_resolve</c0><c4>(</c4><c0>v.segments</c0><c3>[</c3><c0>0</c0><c3>]</c3><c0>.identifier</c0><c4>)</c4><c3>,</c3><c0>resolved_binding</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1765</ln><a id="1765">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;1766</ln><a id="1766">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1767</ln><a id="1767">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1768</ln><a id="1768">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;1769</ln><a id="1769">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;pat_idents</c30><c4>()</c4><c3>{</c3><c0>
</c0><br/><ln>&nbsp;1770</ln><a id="1770">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;pat&nbsp;=&nbsp;string_to_pat</c0><c4>(</c4><c0>@"</c0><c4>(</c4><c0>a</c0><c3>,</c3><c0>Foo</c0><c3>{</c3><c0>x:c&nbsp;@&nbsp;</c0><c4>(</c4><c0>b</c0><c3>,</c3><c0>9</c0><c4>)</c4><c3>,</c3><c0>y:Bar</c0><c4>(</c4><c0>4</c0><c3>,</c3><c0>d</c0><c4>)</c4><c3>}</c3><c4>)</c4><c0>"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1771</ln><a id="1771">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;idents&nbsp;=&nbsp;@mut&nbsp;~</c0><c3>[];</c3><c0>
</c0><br/><ln>&nbsp;1772</ln><a id="1772">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;pat_idents&nbsp;=&nbsp;new_name_finder</c0><c4>(</c4><c0>idents</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1773</ln><a id="1773">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pat_idents.visit_pat</c0><c4>(</c4><c0>pat</c0><c3>,</c3><c0>&nbsp;</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1774</ln><a id="1774">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>idents</c0><c3>,</c3><c0>&nbsp;@mut&nbsp;strs_to_idents</c0><c4>(</c4><c0>~</c0><c3>[</c3><c0>"a"</c0><c3>,</c3><c0>"c"</c0><c3>,</c3><c0>"b"</c0><c3>,</c3><c0>"d"</c0><c3>]</c3><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;1775</ln><a id="1775">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1776</ln><a id="1776">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1777</ln><a id="1777">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="790_1_refs"><a href="#790"><c40>libsyntax/ext/expand.rs:790:1-790:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;new_span(cx:&nbsp;@ExtCtxt,&nbsp;sp:&nbsp;Span)&nbsp;-&gt;&nbsp;Span&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1225"><c40>1225:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new_span(self.cx,&nbsp;span)
<br/></a><br/><br/><a id="335_55_refs"><a href="#335"><c40>libsyntax/ext/expand.rs:335:55-335:55&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;logic&nbsp;as&nbsp;for&nbsp;expression-position&nbsp;macro&nbsp;invocations.
<br/>pub&nbsp;fn&nbsp;expand_item_mac(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#315"><c40>315:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast::item_mac(*)&nbsp;=&gt;&nbsp;expand_item_mac(extsbox,&nbsp;cx,&nbsp;it,&nbsp;fld),
<br/></a><br/><br/><a id="1357_84_refs"><a href="#1357"><c40>libsyntax/ext/expand.rs:1357:84-1357:84&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;token&nbsp;trees.&nbsp;Used&nbsp;prior&nbsp;to&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
<br/>fn&nbsp;mark_tts(tts&nbsp;:&nbsp;&amp;[token_tree],&nbsp;m&nbsp;:&nbsp;Mrk)&nbsp;-&gt;&nbsp;~[token_tree]&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1389"><c40>1389:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mark_tts(tts,outer_mark)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#373"><c40>373:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_before&nbsp;=&nbsp;mark_tts(tts,fm);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#391"><c40>391:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_tts&nbsp;=&nbsp;mark_tts(tts,fm);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#76"><c40>76:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_before&nbsp;=&nbsp;mark_tts(*tts,fm);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#479"><c40>479:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_tts&nbsp;=&nbsp;mark_tts(tts,fm);
<br/></a><br/><br/><a id="1301_77_refs"><a href="#1301"><c40>libsyntax/ext/expand.rs:1301:77-1301:77&nbsp;-struct-&nbsp;definition:<br/></c40><pr>//&nbsp;a&nbsp;repainter&nbsp;just&nbsp;replaces&nbsp;the&nbsp;given&nbsp;context&nbsp;with&nbsp;the&nbsp;one&nbsp;it's&nbsp;closed&nbsp;over
<br/>pub&nbsp;struct&nbsp;Repainter&nbsp;{&nbsp;ctxt&nbsp;:&nbsp;SyntaxContext&nbsp;}
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1304"><c40>1304:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Repainter&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1380"><c40>1380:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Repainter{ctxt:ctxt}).fold_expr(expr)
<br/></a><br/><br/><a id="714_35_refs"><a href="#714"><c40>libsyntax/ext/expand.rs:714:35-714:35&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;expand&nbsp;the&nbsp;elements&nbsp;of&nbsp;a&nbsp;block.
<br/>pub&nbsp;fn&nbsp;expand_block_elts(exts:&nbsp;SyntaxEnv,&nbsp;b:&nbsp;&amp;Block,&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#711"><c40>711:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_block_elts(*extsbox,&nbsp;blk,&nbsp;fld))
<br/></a><br/><br/><a id="1265_49_refs"><a href="#1265"><c40>libsyntax/ext/expand.rs:1265:49-1265:49&nbsp;-struct-&nbsp;definition:<br/></c40><pr>//&nbsp;a&nbsp;renamer&nbsp;adds&nbsp;a&nbsp;rename&nbsp;to&nbsp;the&nbsp;syntax&nbsp;context
<br/>pub&nbsp;struct&nbsp;Renamer&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1354"><c40>1354:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Renamer{from:from,to:to})
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1271"><c40>1271:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Renamer&nbsp;{
<br/></a><br/><br/><a id="1367_82_refs"><a href="#1367"><c40>libsyntax/ext/expand.rs:1367:82-1367:82&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;stmt.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
<br/>fn&nbsp;mark_stmt(expr&nbsp;:&nbsp;&amp;ast::Stmt,&nbsp;m&nbsp;:&nbsp;Mrk)&nbsp;-&gt;&nbsp;@ast::Stmt&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#501"><c40>501:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_after&nbsp;=&nbsp;mark_stmt(expanded,fm);
<br/></a><br/><br/><a id="1372_82_refs"><a href="#1372"><c40>libsyntax/ext/expand.rs:1372:82-1372:82&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;item.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
<br/>fn&nbsp;mark_item(expr&nbsp;:&nbsp;@ast::item,&nbsp;m&nbsp;:&nbsp;Mrk)&nbsp;-&gt;&nbsp;Option&lt;@ast::item&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#409"><c40>409:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.and_then(|i|&nbsp;mark_item(i,fm))
<br/></a><a href="../../libsyntax/ext/expand.rs.html#401"><c40>401:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mark_item(it,fm)
<br/></a><br/><br/><a id="740_53_refs"><a href="#740"><c40>libsyntax/ext/expand.rs:740:53-740:53&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;(basically,&nbsp;just&nbsp;.get()&nbsp;with&nbsp;a&nbsp;better&nbsp;message...)
<br/>fn&nbsp;mustbesome&lt;T&gt;(val&nbsp;:&nbsp;Option&lt;T&gt;)&nbsp;-&gt;&nbsp;T&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#723"><c40>723:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;fld.fold_stmt(mustbesome(rename_fld.fold_stmt(*x)))&nbsp;{
<br/></a><br/><br/><a id="1309_1_refs"><a href="#1309"><c40>libsyntax/ext/expand.rs:1309:1-1309:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;struct&nbsp;ContextWrapper&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1314"><c40>1314:&nbsp;</c40>impl&nbsp;ast_fold&nbsp;for&nbsp;ContextWrapper&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1353"><c40>1353:&nbsp;</c40>pub&nbsp;fn&nbsp;new_rename_folder(from:&nbsp;ast::Ident,&nbsp;to:&nbsp;ast::Name)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1342"><c40>1342:&nbsp;</c40>pub&nbsp;fn&nbsp;fun_to_ctxt_folder&lt;T&nbsp;:&nbsp;'static&nbsp;+&nbsp;CtxtFn&gt;(cf:&nbsp;@T)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1349"><c40>1349:&nbsp;</c40>pub&nbsp;fn&nbsp;new_mark_folder(m:&nbsp;Mrk)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1343"><c40>1343:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;@ContextWrapper&nbsp;{
<br/></a><br/><br/><a id="748_52_refs"><a href="#748"><c40>libsyntax/ext/expand.rs:748:52-748:52&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;get&nbsp;the&nbsp;(innermost)&nbsp;BlockInfo&nbsp;from&nbsp;an&nbsp;exts&nbsp;stack
<br/>fn&nbsp;get_block_info(exts&nbsp;:&nbsp;SyntaxEnv)&nbsp;-&gt;&nbsp;BlockInfo&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#717"><c40>717:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;block_info&nbsp;=&nbsp;get_block_info(exts);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#550"><c40>550:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;block_info&nbsp;=&nbsp;get_block_info(exts);
<br/></a><br/><br/><a id="33_1_refs"><a href="#33"><c40>libsyntax/ext/expand.rs:33:1-33:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;expand_expr(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1190"><c40>1190:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_expr(self.extsbox,
<br/></a><br/><br/><a id="1260_48_refs"><a href="#1260"><c40>libsyntax/ext/expand.rs:1260:48-1260:48&nbsp;-trait-&nbsp;definition:<br/></c40><pr>//&nbsp;a&nbsp;function&nbsp;in&nbsp;SyntaxContext&nbsp;-&gt;&nbsp;SyntaxContext
<br/>pub&nbsp;trait&nbsp;CtxtFn{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1311"><c40>1311:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;context_function:&nbsp;@CtxtFn,
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1295"><c40>1295:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Marker&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1282"><c40>1282:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;MultiRenamer&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1304"><c40>1304:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Repainter&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1342"><c40>1342:&nbsp;</c40>pub&nbsp;fn&nbsp;fun_to_ctxt_folder&lt;T&nbsp;:&nbsp;'static&nbsp;+&nbsp;CtxtFn&gt;(cf:&nbsp;@T)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1344"><c40>1344:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_function:&nbsp;cf&nbsp;as&nbsp;@CtxtFn,
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1271"><c40>1271:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Renamer&nbsp;{
<br/></a><br/><br/><a id="756_1_refs"><a href="#756"><c40>libsyntax/ext/expand.rs:756:1-756:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;IdentRenamer&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#761"><c40>761:&nbsp;</c40>impl&nbsp;ast_fold&nbsp;for&nbsp;IdentRenamer&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#776"><c40>776:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;@IdentRenamer&nbsp;{
<br/></a><br/><br/><a id="611_19_refs"><a href="#611"><c40>libsyntax/ext/expand.rs:611:19-611:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>struct&nbsp;NewNameFinderContext&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#611"><c40>611:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#616"><c40>616:&nbsp;</c40>impl&nbsp;Visitor&lt;()&gt;&nbsp;for&nbsp;NewNameFinderContext&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#687"><c40>687:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;context&nbsp;=&nbsp;@mut&nbsp;NewNameFinderContext&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#611"><c40>611:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#611"><c40>611:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#611"><c40>611:&nbsp;</c40>#[deriving(Clone)]
<br/></a><br/><br/><a id="685_38_refs"><a href="#685"><c40>libsyntax/ext/expand.rs:685:38-685:38&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;array&nbsp;(passed&nbsp;in&nbsp;to&nbsp;the&nbsp;traversal)
<br/>pub&nbsp;fn&nbsp;new_name_finder(idents:&nbsp;@mut&nbsp;~[ast::Ident])&nbsp;-&gt;&nbsp;@mut&nbsp;Visitor&lt;()&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#570"><c40>570:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;name_finder&nbsp;=&nbsp;new_name_finder(idents);
<br/></a><br/><br/><a id="308_64_refs"><a href="#308"><c40>libsyntax/ext/expand.rs:308:64-308:64&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;When&nbsp;we&nbsp;enter&nbsp;a&nbsp;module,&nbsp;record&nbsp;it,&nbsp;for&nbsp;the&nbsp;sake&nbsp;of&nbsp;`module!`
<br/>pub&nbsp;fn&nbsp;expand_item(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1204"><c40>1204:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_item(self.extsbox,
<br/></a><br/><br/><a id="1139_1_refs"><a href="#1139"><c40>libsyntax/ext/expand.rs:1139:1-1139:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;Injector&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1171"><c40>1171:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;injector&nbsp;=&nbsp;@Injector&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1144"><c40>1144:&nbsp;</c40>impl&nbsp;ast_fold&nbsp;for&nbsp;Injector&nbsp;{
<br/></a><br/><br/><a id="1362_82_refs"><a href="#1362"><c40>libsyntax/ext/expand.rs:1362:82-1362:82&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;apply&nbsp;a&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;given&nbsp;expr.&nbsp;Used&nbsp;following&nbsp;the&nbsp;expansion&nbsp;of&nbsp;a&nbsp;macro.
<br/>fn&nbsp;mark_expr(expr&nbsp;:&nbsp;@ast::Expr,&nbsp;m&nbsp;:&nbsp;Mrk)&nbsp;-&gt;&nbsp;@ast::Expr&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#103"><c40>103:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;marked_after&nbsp;=&nbsp;mark_expr(expanded,fm);
<br/></a><br/><br/><a id="803_1_refs"><a href="#803"><c40>libsyntax/ext/expand.rs:803:1-803:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;std_macros()&nbsp;-&gt;&nbsp;@str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1163"><c40>1163:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;std_macros(),
<br/></a><br/><br/><a id="1391_1_refs"><a href="#1391"><c40>libsyntax/ext/expand.rs:1391:1-1391:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;original_span(cx:&nbsp;@ExtCtxt)&nbsp;-&gt;&nbsp;@codemap::ExpnInfo&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#484"><c40>484:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mac_span&nbsp;=&nbsp;original_span(cx);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#83"><c40>83:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mac_span&nbsp;=&nbsp;original_span(cx);
<br/></a><br/><br/><a id="660_19_refs"><a href="#660"><c40>libsyntax/ext/expand.rs:660:19-660:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>struct&nbsp;NewPathExprFinderContext&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#660"><c40>660:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#697"><c40>697:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;context&nbsp;=&nbsp;@mut&nbsp;NewPathExprFinderContext&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#660"><c40>660:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#665"><c40>665:&nbsp;</c40>impl&nbsp;Visitor&lt;()&gt;&nbsp;for&nbsp;NewPathExprFinderContext&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#660"><c40>660:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../libsyntax/ext/expand.rs.html#660"><c40>660:&nbsp;</c40>#[deriving(Clone)]
<br/></a><br/><br/><a id="1341_56_refs"><a href="#1341"><c40>libsyntax/ext/expand.rs:1341:56-1341:56&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;an&nbsp;ast_fold&nbsp;that&nbsp;applies&nbsp;that&nbsp;function&nbsp;to&nbsp;all&nbsp;ctxts:
<br/>pub&nbsp;fn&nbsp;fun_to_ctxt_folder&lt;T&nbsp;:&nbsp;'static&nbsp;+&nbsp;CtxtFn&gt;(cf:&nbsp;@T)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1350"><c40>1350:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Marker{mark:m})
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1354"><c40>1354:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Renamer{from:from,to:to})
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1380"><c40>1380:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Repainter{ctxt:ctxt}).fold_expr(expr)
<br/></a><br/><br/><a id="540_23_refs"><a href="#540"><c40>libsyntax/ext/expand.rs:540:23-540:23&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;expand_stmt,&nbsp;above.
<br/>fn&nbsp;expand_non_macro_stmt(exts:&nbsp;SyntaxEnv,&nbsp;s:&nbsp;&amp;Stmt,&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#456"><c40>456:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;=&gt;&nbsp;return&nbsp;expand_non_macro_stmt(*extsbox,&nbsp;s,&nbsp;fld)
<br/></a><br/><br/><a id="774_12_refs"><a href="#774"><c40>libsyntax/ext/expand.rs:774:12-774:12&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;renames.
<br/>pub&nbsp;fn&nbsp;renames_to_fold(renames:&nbsp;@mut&nbsp;~[(ast::Ident,ast::Name)])&nbsp;-&gt;&nbsp;@ast_fold&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#719"><c40>719:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rename_fld&nbsp;=&nbsp;renames_to_fold(pending_renames);
<br/></a><a href="../../libsyntax/ext/expand.rs.html#578"><c40>578:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rename_fld&nbsp;=&nbsp;renames_to_fold(new_pending_renames);
<br/></a><br/><br/><a id="1348_23_refs"><a href="#1348"><c40>libsyntax/ext/expand.rs:1348:23-1348:23&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;just&nbsp;a&nbsp;convenience:
<br/>pub&nbsp;fn&nbsp;new_mark_folder(m:&nbsp;Mrk)&nbsp;-&gt;&nbsp;@ContextWrapper&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1364"><c40>1364:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;new_mark_folder(m).fold_expr(expr)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1369"><c40>1369:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;new_mark_folder(m).fold_stmt(expr).unwrap()
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1374"><c40>1374:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;new_mark_folder(m).fold_item(expr)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1359"><c40>1359:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fold_tts(tts,new_mark_folder(m))
<br/></a><br/><br/><a id="1277_52_refs"><a href="#1277"><c40>libsyntax/ext/expand.rs:1277:52-1277:52&nbsp;-struct-&nbsp;definition:<br/></c40><pr>//&nbsp;a&nbsp;renamer&nbsp;that&nbsp;performs&nbsp;a&nbsp;whole&nbsp;bunch&nbsp;of&nbsp;renames
<br/>pub&nbsp;struct&nbsp;MultiRenamer&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1282"><c40>1282:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;MultiRenamer&nbsp;{
<br/></a><br/><br/><a id="703_73_refs"><a href="#703"><c40>libsyntax/ext/expand.rs:703:73-703:73&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;expand&nbsp;a&nbsp;block.&nbsp;pushes&nbsp;a&nbsp;new&nbsp;exts_frame,&nbsp;then&nbsp;calls&nbsp;expand_block_elts
<br/>pub&nbsp;fn&nbsp;expand_block(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1218"><c40>1218:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_block(self.extsbox,
<br/></a><br/><br/><a id="1176_1_refs"><a href="#1176"><c40>libsyntax/ext/expand.rs:1176:1-1176:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;NoOpFolder&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1181"><c40>1181:&nbsp;</c40>impl&nbsp;ast_fold&nbsp;for&nbsp;NoOpFolder&nbsp;{}
<br/></a><br/><br/><a id="252_75_refs"><a href="#252"><c40>libsyntax/ext/expand.rs:252:75-252:75&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;they&nbsp;might&nbsp;benefit&nbsp;from&nbsp;some&nbsp;amount&nbsp;of&nbsp;semantic&nbsp;and&nbsp;language-UI&nbsp;merger.
<br/>pub&nbsp;fn&nbsp;expand_mod_items(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1197"><c40>1197:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_mod_items(self.extsbox,
<br/></a><br/><br/><a id="329_53_refs"><a href="#329"><c40>libsyntax/ext/expand.rs:329:53-329:53&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;does&nbsp;this&nbsp;attribute&nbsp;list&nbsp;contain&nbsp;"macro_escape"&nbsp;?
<br/>pub&nbsp;fn&nbsp;contains_macro_escape(attrs:&nbsp;&amp;[ast::Attribute])&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#318"><c40>318:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;macro_escape&nbsp;=&nbsp;contains_macro_escape(it.attrs);
<br/></a><br/><br/><a id="1182_1_refs"><a href="#1182"><c40>libsyntax/ext/expand.rs:1182:1-1182:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;MacroExpander&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1239"><c40>1239:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;expander&nbsp;=&nbsp;@MacroExpander&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#256"><c40>256:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#715"><c40>715:&nbsp;</c40>pub&nbsp;fn&nbsp;expand_block_elts(exts:&nbsp;SyntaxEnv,&nbsp;b:&nbsp;&amp;Block,&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#444"><c40>444:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#339"><c40>339:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#37"><c40>37:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#312"><c40>312:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#707"><c40>707:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1188"><c40>1188:&nbsp;</c40>impl&nbsp;ast_fold&nbsp;for&nbsp;MacroExpander&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#541"><c40>541:&nbsp;</c40>fn&nbsp;expand_non_macro_stmt(exts:&nbsp;SyntaxEnv,&nbsp;s:&nbsp;&amp;Stmt,&nbsp;fld:&nbsp;&amp;MacroExpander)
<br/></a><br/><br/><a id="440_17_refs"><a href="#440"><c40>libsyntax/ext/expand.rs:440:17-440:17&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;expand&nbsp;a&nbsp;stmt
<br/>pub&nbsp;fn&nbsp;expand_stmt(extsbox:&nbsp;@mut&nbsp;SyntaxEnv,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1211"><c40>1211:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand_stmt(self.extsbox,
<br/></a><br/><br/><a id="1292_54_refs"><a href="#1292"><c40>libsyntax/ext/expand.rs:1292:54-1292:54&nbsp;-struct-&nbsp;definition:<br/></c40><pr>//&nbsp;a&nbsp;marker&nbsp;adds&nbsp;the&nbsp;given&nbsp;mark&nbsp;to&nbsp;the&nbsp;syntax&nbsp;context
<br/>pub&nbsp;struct&nbsp;Marker&nbsp;{&nbsp;mark&nbsp;:&nbsp;Mrk&nbsp;}
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#1295"><c40>1295:&nbsp;</c40>impl&nbsp;CtxtFn&nbsp;for&nbsp;Marker&nbsp;{
<br/></a><a href="../../libsyntax/ext/expand.rs.html#1350"><c40>1350:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fun_to_ctxt_folder(@Marker{mark:m})
<br/></a><br/><br/><a id="425_21_refs"><a href="#425"><c40>libsyntax/ext/expand.rs:425:21-425:21&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;macro_escape&nbsp;tag.
<br/>fn&nbsp;insert_macro(exts:&nbsp;SyntaxEnv,&nbsp;name:&nbsp;ast::Name,&nbsp;transformer:&nbsp;@Transformer)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/expand.rs.html#415"><c40>415:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert_macro(*extsbox,intern(mdef.name),&nbsp;@SE((*mdef).ext));
<br/></a><br/></div></c0></fileblock></div></maintext>