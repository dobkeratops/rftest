<head><link href="../../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../../libsyntax/">libsyntax</a></c0><c1>/</c1><c0><a href="./../../../libsyntax/ext/">ext</a></c0><c1>/</c1><c0><a href="./../../../libsyntax/ext/tt/">tt</a></c0><c1>/</c1><c0><a href="./../../../libsyntax/ext/tt/macro_rules.rs.html">macro_rules.rs</a></c0><br/><br/><c40>&nbsp;&nbsp;&nbsp;&nbsp;git&nbsp;branch:&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;master&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5200215&nbsp;auto&nbsp;merge&nbsp;of&nbsp;#14035&nbsp;:&nbsp;alexcrichton/rust/experimental,&nbsp;r=huonw<br/></c40><c40>&nbsp;&nbsp;&nbsp;&nbsp;modified:&nbsp;&nbsp;&nbsp;&nbsp;Fri&nbsp;May&nbsp;&nbsp;9&nbsp;13:02:28&nbsp;2014<br/></c40></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>Ident</c0><c3>,</c3><c0>&nbsp;Matcher_</c0><c3>,</c3><c0>&nbsp;Matcher</c0><c3>,</c3><c0>&nbsp;MatchTok</c0><c3>,</c3><c0>&nbsp;MatchNonterminal</c0><c3>,</c3><c0>&nbsp;MatchSeq</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast::</c0><c3>{</c3><c0>TTDelim</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>Span</c0><c3>,</c3><c0>&nbsp;Spanned</c0><c3>,</c3><c0>&nbsp;DUMMY_SP</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base::</c0><c3>{</c3><c0>ExtCtxt</c0><c3>,</c3><c0>&nbsp;MacResult</c0><c3>,</c3><c0>&nbsp;MacroDef</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base::</c0><c3>{</c3><c0>NormalTT</c0><c3>,</c3><c0>&nbsp;MacroExpander</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::tt::macro_parser::</c0><c3>{</c3><c0>Success</c0><c3>,</c3><c0>&nbsp;Error</c0><c3>,</c3><c0>&nbsp;Failure</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::tt::macro_parser::</c0><c3>{</c3><c0>NamedMatch</c0><c3>,</c3><c0>&nbsp;MatchedSeq</c0><c3>,</c3><c0>&nbsp;MatchedNonterminal</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::tt::macro_parser::</c0><c3>{</c3><c0>parse</c0><c3>,</c3><c0>&nbsp;parse_or_else</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::lexer::new_tt_reader</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::parser::Parser</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::attr::ParserAttr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token::</c0><c3>{</c3><c0>special_idents</c0><c3>,</c3><c0>&nbsp;gensym_ident</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token::</c0><c3>{</c3><c0>FAT_ARROW</c0><c3>,</c3><c0>&nbsp;SEMI</c0><c3>,</c3><c0>&nbsp;NtMatchers</c0><c3>,</c3><c0>&nbsp;NtTT</c0><c3>,</c3><c0>&nbsp;EOF</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;print</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::small_vector::SmallVector</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::cell::RefCell</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::rc::Rc</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n197391">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#line32_col1_refs">&nbsp;ParserAnyMacro</a></c31><c5><a href="#line32_col1_refs">&lt;'a&gt;</a></c5><c31><a href="#line32_col1_refs">&nbsp;</a></c31><c3>{</c3><c31><a href="#line32_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n197393"><a id="n197392"><a id="n197395">&nbsp;</a></a></a><c31><a href="#line32_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#line34_col4_refs">parser:&nbsp;</a></c24><c1><a href="../../../libcore/cell.rs.html#n76570">RefCell&lt;</a></c1><c1><a href="../../../libsyntax/parse/parser.rs.html#313">Parser&lt;'a&gt;</a></c1><c1><a href="../../../libcore/cell.rs.html#n76570">&gt;</a></c1><c3>,</c3><c31><a href="#line32_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n197399">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n197401">&nbsp;</a><c33>impl</c33><c5>&lt;'a&gt;</c5><c33>&nbsp;</c33><c33><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">ParserAnyMacro</a></c33><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">&lt;'a&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;Make&nbsp;sure&nbsp;we&nbsp;don't&nbsp;have&nbsp;any&nbsp;tokens&nbsp;left&nbsp;to&nbsp;parse,&nbsp;so&nbsp;we&nbsp;don't
</c42><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;silently&nbsp;drop&nbsp;anything.&nbsp;`allow_semi`&nbsp;is&nbsp;so&nbsp;that&nbsp;"optional"
</c42><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;semilons&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;normal&nbsp;expressions&nbsp;aren't&nbsp;complained
</c42><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;about&nbsp;e.g.&nbsp;the&nbsp;semicolon&nbsp;in&nbsp;`macro_rules!&nbsp;kapow(&nbsp;()&nbsp;=&gt;&nbsp;{
</c42><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;fail!();&nbsp;}&nbsp;)`&nbsp;doesn't&nbsp;get&nbsp;picked&nbsp;up&nbsp;by&nbsp;.parse_expr(),&nbsp;but&nbsp;it's
</c42><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a>&nbsp;<c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;allowed&nbsp;to&nbsp;be&nbsp;there.
</c42><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n197404"><a id="n197412"><a id="n197413"><a id="n197409"><a id="n197411"><a id="n197407">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#line44_col4_refs">&nbsp;ensure_complete_parse</a></c30><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">&amp;self</a></c20><c3>,</c3><c18><a href="#line44_col4_refs">&nbsp;</a></c18><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#46">allow_semi</a></c20><c18><a href="#line44_col4_refs">:&nbsp;</a></c18><c1><a href="#line44_col4_refs">bool</a></c1><c4>)</c4><c18><a href="#line44_col4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n197417"><a id="n197416"><a id="n197419"><a id="n197418"><a id="n197414"><a id="n197420"><a id="n197415">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line44_col4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line45_col12_refs">&nbsp;parser</a></c20><c16><a href="#line44_col4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#34">.parser</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n197423"><a id="n197426"><a id="n197424"><a id="n197422"><a id="n197421"><a id="n197429"><a id="n197425"><a id="n197428"><a id="n197427">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#line44_col4_refs">&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">allow_semi</a></c26><c1><a href="#line44_col4_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c24><a href="../../../libcore/cell.rs.html#n76911">.token</a></c24><c5><a href="#line44_col4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../../libsyntax/parse/token.rs.html#65">SEMI</a></c26><c13><a href="#line44_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n197430"><a id="n197431">&nbsp;</a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c10><a href="../../../libsyntax/parse/parser.rs.html#759">.bump</a></c10><c4>()</c4><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a>&nbsp;<c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n197436"><a id="n197432"><a id="n197434"><a id="n197435"><a id="n197433"><a id="n197437">&nbsp;</a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line44_col4_refs">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c24><a href="../../../libcore/cell.rs.html#n76911">.token</a></c24><c5><a href="#line44_col4_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../../libsyntax/parse/token.rs.html#103">EOF</a></c26><c21><a href="#line44_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n197439"><a id="n197442"><a id="n197440"><a id="n197438"><a id="n197441"><a id="n197443">&nbsp;</a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line44_col4_refs">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#53">token_str</a></c20><c13><a href="#line44_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c10><a href="../../../libsyntax/parse/parser.rs.html#353">.this_token_to_str</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n197462"><a id="n197467"><a id="n197457"><a id="n197475"><a id="n197476"><a id="n197470"><a id="n197496"><a id="n197446"><a id="n197478"><a id="n197477"><a id="n197449"><a id="n197482"><a id="n197448"><a id="n197481"><a id="n197494"><a id="n197495"><a id="n197444"><a id="n197480"><a id="n197473"><a id="n197458"><a id="n197499"><a id="n197465"><a id="n197500"><a id="n197463"><a id="n197483"><a id="n197504"><a id="n197485"><a id="n197474"><a id="n197466"><a id="n197491"><a id="n197492"><a id="n197456"><a id="n197469"><a id="n197498"><a id="n197471"><a id="n197464"><a id="n197497"><a id="n197479"><a id="n197472"><a id="n197484"><a id="n197468"><a id="n197452"><a id="n197459"><a id="n197445"><a id="n197493"><a id="n197447"><a id="n197455"><a id="n197486"><a id="n197454">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line44_col4_refs">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#55">msg</a></c20><c16><a href="#line44_col4_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#line44_col4_refs">format!</a></c21><c4>(</c4><c22><a href="../../../libstd/fmt/rt.rs.html#n81020">"macro&nbsp;expansion&nbsp;ignores&nbsp;token&nbsp;`</a></c22><c3>{}</c3><c22><a href="../../../libstd/fmt/rt.rs.html#n81020">`&nbsp;and&nbsp;any&nbsp;\
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c22><a href="../../../libstd/fmt/rt.rs.html#n81020">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;following"</a></c22><c3>,</c3><c21><a href="#line44_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n197453"><a id="n197450"><a id="n197487"><a id="n197489"><a id="n197490"><a id="n197451"><a id="n197488">&nbsp;</a></a></a></a></a></a></a><c21><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../../libstd/fmt/mod.rs.html#n83169">token_str</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n197507"><a id="n197508"><a id="n197506"><a id="n197509"><a id="n197505"><a id="n197510">&nbsp;</a></a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line44_col4_refs">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#55">span</a></c20><c13><a href="#line44_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c24><a href="../../../libcore/cell.rs.html#n76911">.span</a></c24><c3>;</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n197515"><a id="n197512"><a id="n197514"><a id="n197511"><a id="n197513">&nbsp;</a></a></a></a></a><c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#45">parser</a></c26><c10><a href="../../../libsyntax/parse/parser.rs.html#835">.span_err</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#54">span</a></c26><c3>,</c3><c10><a href="../../../libsyntax/parse/parser.rs.html#835">&nbsp;</a></c10><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#51">msg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a>&nbsp;<c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line44_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a>&nbsp;<c22><a href="#line44_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n197516">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n197519"><a id="n197518">&nbsp;</a></a><c33>impl</c33><c5>&lt;'a&gt;</c5><c33>&nbsp;</c33><c33><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">ParserAnyMacro</a></c33><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">&lt;'a&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n197529"><a id="n197531"><a id="n197526"><a id="n197525"><a id="n197528"><a id="n197522">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;make_expr</c30><c4>(</c4><c20><a href="#line61_col17_refs">&amp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c1><a href="../../../libcore/option.rs.html#n86243">Option&lt;@</a></c1><c1><a href="../../../libsyntax/ast.rs.html#471">ast::Expr</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">&gt;</a></c1><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n197535"><a id="n197538"><a id="n197537"><a id="n197534"><a id="n197532"><a id="n197536"><a id="n197539"><a id="n197533">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#64">ret</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#61">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#34">.parser</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../../libsyntax/parse/parser.rs.html#2606">.parse_expr</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n197541"><a id="n197540"><a id="n197542"><a id="n197543">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#61">self</a></c26><c10><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">.ensure_complete_parse</a></c10><c4>(</c4><c12><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">true</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n197544"><a id="n197546"><a id="n197545">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#62">ret</a></c26><c4>)</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n197558"><a id="n197555"><a id="n197556"><a id="n197547"><a id="n197551"><a id="n197550"><a id="n197553">&nbsp;</a></a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;make_items</c30><c4>(</c4><c20><a href="#line66_col18_refs">&amp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c1><a href="../../../libcore/option.rs.html#n86243">Option&lt;</a></c1><c1><a href="../../../libsyntax/util/small_vector.rs.html#15">SmallVector&lt;</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">@</a></c1><c1><a href="../../../libsyntax/ast.rs.html#1105">ast::Item</a></c1><c1><a href="../../../libsyntax/util/small_vector.rs.html#15">&gt;</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">&gt;</a></c1><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n197564"><a id="n197559"><a id="n197561"><a id="n197563"><a id="n197562"><a id="n197560">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c21>mut</c21><c20><a href="#line67_col12_refs">&nbsp;ret</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../../libsyntax/util/small_vector.rs.html#53">SmallVector::zero</a></c26><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n197567"><a id="n197566"><a id="n197565">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>loop</c21><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n197571"><a id="n197569"><a id="n197568"><a id="n197572"><a id="n197574"><a id="n197570"><a id="n197573">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c21>mut</c21><c20><a href="#line69_col16_refs">&nbsp;parser</a></c20><c13>&nbsp;=&nbsp;</c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#66">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#34">.parser</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n197579"><a id="n197580"><a id="n197577"><a id="n197575"><a id="n197576"><a id="n197578">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#71">attrs</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#69">parser</a></c26><c10><a href="../../../libsyntax/parse/attr.rs.html#31">.parse_outer_attributes</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n197583"><a id="n197584"><a id="n197582"><a id="n197581">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#69">parser</a></c26><c10><a href="../../../libsyntax/parse/parser.rs.html#4806">.parse_item</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#70">attrs</a></c26><c4>)</c4><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n197585"><a id="n197587"><a id="n197588"><a id="n197589"><a id="n197586">&nbsp;</a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../../libcore/option.rs.html#n86245">Some</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#72">item</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#67">ret</a></c26><c10><a href="../../../libsyntax/util/small_vector.rs.html#73">.push</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#72">item</a></c26><c4>)</c4><c3>,</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n197590"><a id="n197591">&nbsp;</a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../../libcore/option.rs.html#n86244">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c1>break
</c1><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a>&nbsp;<c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n197592"><a id="n197593"><a id="n197595"><a id="n197594">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#66">self</a></c26><c10><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">.ensure_complete_parse</a></c10><c4>(</c4><c12><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">false</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n197598"><a id="n197597"><a id="n197596">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#67">ret</a></c26><c4>)</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n197606"><a id="n197605"><a id="n197599"><a id="n197603"><a id="n197608"><a id="n197602">&nbsp;</a></a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;make_stmt</c30><c4>(</c4><c20><a href="#line79_col17_refs">&amp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c1><a href="../../../libcore/option.rs.html#n86243">Option&lt;@</a></c1><c1><a href="../../../libsyntax/ast.rs.html#402">ast::Stmt</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">&gt;</a></c1><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n197616"><a id="n197615"><a id="n197614"><a id="n197611"><a id="n197612"><a id="n197609"><a id="n197610"><a id="n197613">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#81">attrs</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#79">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#34">.parser</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../../libsyntax/parse/attr.rs.html#31">.parse_outer_attributes</a></c10><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n197619"><a id="n197622"><a id="n197623"><a id="n197625"><a id="n197620"><a id="n197618"><a id="n197621"><a id="n197617"><a id="n197624">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#83">ret</a></c20><c13>&nbsp;=&nbsp;</c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#79">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#34">.parser</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../../libsyntax/parse/parser.rs.html#3092">.parse_stmt</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#80">attrs</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n197628"><a id="n197626"><a id="n197627"><a id="n197629">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#79">self</a></c26><c10><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">.ensure_complete_parse</a></c10><c4>(</c4><c12><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#44">true</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n197632"><a id="n197631"><a id="n197630">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#81">ret</a></c26><c4>)</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n197633">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#line86_col1_refs">&nbsp;MacroRulesMacroExpander&nbsp;</a></c31><c3>{</c3><c31><a href="#line86_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n197635"><a id="n197634">&nbsp;</a></a><c31><a href="#line86_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#101">name:&nbsp;</a></c24><c1><a href="../../../libsyntax/ast.rs.html#41">Ident</a></c1><c3>,</c3><c31><a href="#line86_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n197642"><a id="n197637"><a id="n197640"><a id="n197638">&nbsp;</a></a></a></a><c31><a href="#line86_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#103">lhses:&nbsp;</a></c24><c1><a href="../../../libstd/vec.rs.html#n7811">Vec&lt;</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">Rc&lt;</a></c1><c1><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#167">NamedMatch</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">&gt;</a></c1><c1><a href="../../../libstd/vec.rs.html#n7811">&gt;</a></c1><c3>,</c3><c31><a href="#line86_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n197647"><a id="n197644"><a id="n197645"><a id="n197649">&nbsp;</a></a></a></a><c31><a href="#line86_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#104">rhses:&nbsp;</a></c24><c1><a href="../../../libstd/vec.rs.html#n7811">Vec&lt;</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">Rc&lt;</a></c1><c1><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#167">NamedMatch</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">&gt;</a></c1><c1><a href="../../../libstd/vec.rs.html#n7811">&gt;</a></c1><c3>,</c3><c31><a href="#line86_col1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n197651">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n197652"><a id="n197653">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../../libsyntax/ext/base.rs.html#47">MacroExpander</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">MacroRulesMacroExpander</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n197655"><a id="n197658">&nbsp;</a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;expand</c30><c4>(</c4><c20><a href="#line94_col14_refs">&amp;self</a></c20><c3>,</c3><c18>
</c18><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n197661"><a id="n197663"><a id="n197660">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">cx</a></c20><c18>:&nbsp;</c18><c1>&amp;mut&nbsp;</c1><c1><a href="../../../libsyntax/ext/base.rs.html#374">ExtCtxt</a></c1><c3>,</c3><c18>
</c18><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n197667"><a id="n197665">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#100">sp</a></c20><c18>:&nbsp;</c18><c1><a href="../../../libsyntax/codemap.rs.html#88">Span</a></c1><c3>,</c3><c18>
</c18><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n197671"><a id="n197673"><a id="n197669"><a id="n197670">&nbsp;</a></a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#102">arg</a></c20><c18>:&nbsp;</c18><c1>&amp;</c1><c3>[</c3><c1><a href="../../../libsyntax/ast.rs.html#548">ast::TokenTree</a></c1><c3>]</c3><c4>)</c4><c18>
</c18><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n197676"><a id="n197678"><a id="n197674">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c1><a href="../../../libcore/owned.rs.html#n25849">Box&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">&gt;</a></c1><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n197681"><a id="n197679"><a id="n197680">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#117">generic_extension</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#95">cx</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n197682">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#96">sp</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n197683"><a id="n197684">&nbsp;</a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#94">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#88">.name</a></c24><c3>,</c3><c27>
</c27><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n197685">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#97">arg</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n197686"><a id="n197688"><a id="n197687">&nbsp;</a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#94">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#89">.lhses</a></c24><c10><a href="../../../libstd/vec.rs.html#n10195">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n197689"><a id="n197691"><a id="n197690">&nbsp;</a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#94">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#90">.rhses</a></c24><c10><a href="../../../libstd/vec.rs.html#n10195">.as_slice</a></c10><c4>())</c4><c22>
</c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n197692">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a>&nbsp;<c31>struct</c31><c31><a href="#line107_col1_refs">&nbsp;MacroRulesDefiner&nbsp;</a></c31><c3>{</c3><c31><a href="#line107_col1_refs">
</a></c31><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n197696"><a id="n197698"><a id="n197693"><a id="n197694">&nbsp;</a></a></a></a><c31><a href="#line107_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#113">def:&nbsp;</a></c24><c1><a href="../../../libcore/cell.rs.html#n76570">RefCell&lt;</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">Option&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#31">MacroDef</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">&gt;</a></c1><c1><a href="../../../libcore/cell.rs.html#n76570">&gt;</a></c1><c31><a href="#line107_col1_refs">
</a></c31><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n197700">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n197701"><a id="n197702">&nbsp;</a></a><c33>impl&nbsp;</c33><c33><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c33><c33>&nbsp;for&nbsp;</c33><c33><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">MacroRulesDefiner</a></c33><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n197707"><a id="n197712"><a id="n197708"><a id="n197710"><a id="n197704">&nbsp;</a></a></a></a></a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;make_def</c30><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#113">&amp;self</a></c20><c4>)</c4><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c1><a href="../../../libcore/option.rs.html#n86243">Option&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#31">MacroDef</a></c1><c1><a href="../../../libcore/option.rs.html#n86243">&gt;</a></c1><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n197714"><a id="n197720"><a id="n197713"><a id="n197717"><a id="n197719"><a id="n197715"><a id="n197716"><a id="n197718">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#112">self</a></c26><c24><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#109">.def</a></c24><c10><a href="../../../libcore/cell.rs.html#n76745">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../../libcore/option.rs.html#n87151">.take</a></c10><c4>()</c4><c10><a href="../../../libstd/option.rs.html#n26928">.expect</a></c10><c4>(</c4><c12><a href="../../../libstd/option.rs.html#n26928">"MacroRulesDefiner&nbsp;expanded&nbsp;twice"</a></c12><c4>))</c4><c22>
</c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n197721">&nbsp;</a><c40>//&nbsp;Given&nbsp;`lhses`&nbsp;and&nbsp;`rhses`,&nbsp;this&nbsp;is&nbsp;the&nbsp;new&nbsp;macro&nbsp;we&nbsp;create
</c40><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n197724"><a id="n197723"><a id="n197726">&nbsp;</a></a></a><c30>fn</c30><c30><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;generic_extension</a></c30><c4>(</c4><c20><a href="#line118_col21_refs">cx</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;&amp;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#374">ExtCtxt</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n197728"><a id="n197730">&nbsp;</a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line119_col21_refs">sp</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;</a></c1><c1><a href="../../../libsyntax/codemap.rs.html#88">Span</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n197732"><a id="n197734">&nbsp;</a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#127">name</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;</a></c1><c1><a href="../../../libsyntax/ast.rs.html#41">Ident</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n197738"><a id="n197736"><a id="n197737"><a id="n197740">&nbsp;</a></a></a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line121_col21_refs">arg</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;&amp;</a></c1><c3>[</c3><c1><a href="../../../libsyntax/ast.rs.html#548">ast::TokenTree</a></c1><c3>],</c3><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n197748"><a id="n197744"><a id="n197743"><a id="n197746"><a id="n197742">&nbsp;</a></a></a></a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#137">lhses</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;&amp;</a></c1><c3>[</c3><c1><a href="../../../libstd/rc.rs.html#n17072">Rc&lt;</a></c1><c1><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#167">NamedMatch</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">&gt;</a></c1><c3>],</c3><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n197750"><a id="n197751"><a id="n197756"><a id="n197754"><a id="n197752">&nbsp;</a></a></a></a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#148">rhses</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">:&nbsp;&amp;</a></c1><c3>[</c3><c1><a href="../../../libstd/rc.rs.html#n17072">Rc&lt;</a></c1><c1><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#167">NamedMatch</a></c1><c1><a href="../../../libstd/rc.rs.html#n17072">&gt;</a></c1><c3>]</c3><c4>)</c4><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c1><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n197757"><a id="n197761"><a id="n197759">&nbsp;</a></a></a><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">Box&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">&gt;</a></c1><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c1><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n197764"><a id="n197765"><a id="n197766"><a id="n197763"><a id="n197762">&nbsp;</a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#495">.trace_macros</a></c10><c4>()</c4><c13><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c13><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n197845"><a id="n197827"><a id="n197823"><a id="n197830"><a id="n197843"><a id="n197836"><a id="n197861"><a id="n197844"><a id="n197822"><a id="n197859"><a id="n197835"><a id="n197831"><a id="n197833"><a id="n197796"><a id="n197810"><a id="n197839"><a id="n197841"><a id="n197864"><a id="n197803"><a id="n197838"><a id="n197768"><a id="n197816"><a id="n197858"><a id="n197829"><a id="n197834"><a id="n197813"><a id="n197819"><a id="n197840"><a id="n197812"><a id="n197804"><a id="n197866"><a id="n197802"><a id="n197826"><a id="n197825"><a id="n197801"><a id="n197862"><a id="n197769"><a id="n197808"><a id="n197860"><a id="n197809"><a id="n197807"><a id="n197824"><a id="n197821"><a id="n197800"><a id="n197848"><a id="n197828"><a id="n197818"><a id="n197815"><a id="n197817"><a id="n197814"><a id="n197767"><a id="n197870"><a id="n197832"><a id="n197857"><a id="n197842"><a id="n197820"><a id="n197846"><a id="n197837"><a id="n197811"><a id="n197865"><a id="n197847"><a id="n197863"><a id="n197799">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</a></c22><c4>(</c4><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#126">"</a></c22><c3>{}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#126">!&nbsp;\\</a></c22><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#126">&nbsp;</a></c22><c3>{}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#126">&nbsp;\\</a></c22><c3>}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#126">"</a></c22><c3>,</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n197851"><a id="n197797"><a id="n197772"><a id="n197773"><a id="n197771"><a id="n197849"><a id="n197852"><a id="n197770"><a id="n197850">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/parse/token.rs.html#626">token::get_ident</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#120">name</a></c26><c4>)</c4><c3>,</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n197780"><a id="n197779"><a id="n197776"><a id="n197856"><a id="n197782"><a id="n197784"><a id="n197853"><a id="n197854"><a id="n197775"><a id="n197774"><a id="n197777"><a id="n197781"><a id="n197778"><a id="n197855"><a id="n197783"><a id="n197785"><a id="n197798">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/print/pprust.rs.html#165">print::pprust::tt_to_str</a></c26><c4>(</c4><c5><a href="../../../libstd/fmt/mod.rs.html#n83169">&amp;</a></c5><c26><a href="../../../libsyntax/ast.rs.html#555">TTDelim</a></c26><c4>(</c4><c26><a href="../../../libstd/rc.rs.html#n17092">Rc::new</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#121">arg</a></c26><c10><a href="../../../libcore/slice.rs.html#n90823">.iter</a></c10><c4>()</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n197791"><a id="n197789"><a id="n197790"><a id="n197786"><a id="n197793"><a id="n197788"><a id="n197794"><a id="n197795"><a id="n197792">&nbsp;</a></a></a></a></a></a></a></a></a><c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map</nop></c10><c4>(</c4><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">|</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#129">x</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">|</a></c1><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c4>(</c4><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#129">x</a></c26><c4>)</c4><c10><a href="../../../libsyntax/ast.rs.html#547">.clone</a></c10><c4>())</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a>&nbsp;<c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.collect</nop></c10><c4>()))))</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Which&nbsp;arm's&nbsp;failure&nbsp;should&nbsp;we&nbsp;report?&nbsp;(the&nbsp;one&nbsp;furthest&nbsp;along)
</c40><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n197874"><a id="n197872"><a id="n197875"><a id="n197873"><a id="n197871">&nbsp;</a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line134_col8_refs">&nbsp;best_fail_spot</a></c20><c13><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/codemap.rs.html#96">DUMMY_SP</a></c26><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n197878"><a id="n197876"><a id="n197880"><a id="n197881"><a id="n197879"><a id="n197877">&nbsp;</a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line135_col8_refs">&nbsp;best_fail_msg</a></c20><c16><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c16><c12><nop>"internal&nbsp;error:&nbsp;ran&nbsp;no&nbsp;matchers"</nop></c12><c10><nop>.to_strbuf</nop></c10><c4>()</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n197895"><a id="n197890"><a id="n197900"><a id="n197883"><a id="n197901"><a id="n197899"><a id="n197886"><a id="n197889"><a id="n197893"><a id="n197885"><a id="n197891"><a id="n197882"><a id="n197897"><a id="n197896"><a id="n197887"><a id="n197898"><a id="n197888"><a id="n197884"><a id="n197892"><a id="n197894">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../../libcore/option.rs.html#n86244">&nbsp;</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#148">i</a></c20><c3>,</c3><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#137">&nbsp;</a></c20><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#138">lhs</a></c20><c4>)</c4><c20><a href="../../../libcore/option.rs.html#n86244">&nbsp;in&nbsp;</a></c20><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#122">lhses</a></c26><c10><a href="../../../libcore/slice.rs.html#n90823">.iter</a></c10><c4>()</c4><c10><nop>.enumerate</nop></c10><c4>()</c4><c20><a href="../../../libcore/option.rs.html#n86244">&nbsp;</a></c20><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c40>//&nbsp;try&nbsp;each&nbsp;arm's&nbsp;matchers
</c40><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n197903"><a id="n197905"><a id="n197904"><a id="n197902">&nbsp;</a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">**</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#137">lhs</a></c26><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n197907"><a id="n197910"><a id="n197906"><a id="n197908"><a id="n197909">&nbsp;</a></a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#170">MatchedNonterminal</a></c20><c4>(</c4><c20><a href="../../../libsyntax/parse/token.rs.html#119">NtMatchers</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#146">ref&nbsp;mtcs</a></c20><c4>))</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;`None`&nbsp;is&nbsp;because&nbsp;we're&nbsp;not&nbsp;interpolating
</c40><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n197919"><a id="n197915"><a id="n197920"><a id="n197912"><a id="n197916"><a id="n197917"><a id="n197911"><a id="n197914"><a id="n197918"><a id="n197913">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#146">arg_rdr</a></c20><c13><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/transcribe.rs.html#48">new_tt_reader</a></c26><c4>(</c4><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&amp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c24><a href="../../../libsyntax/parse/mod.rs.html#37">.span_diagnostic</a></c24><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c27><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n197921">&nbsp;</a><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86244">None</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c27><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n197922"><a id="n197923"><a id="n197925"><a id="n197924">&nbsp;</a></a></a></a><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#121">arg</a></c26><c10><a href="../../../libcore/slice.rs.html#n90823">.iter</a></c10><c4>()</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n197933"><a id="n197935"><a id="n197934"><a id="n197929"><a id="n197928"><a id="n197931"><a id="n197932"><a id="n197926"><a id="n197930">&nbsp;</a></a></a></a></a></a></a></a></a><c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map</nop></c10><c4>(</c4><c22><nop>|</nop></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#144">x</a></c20><c1><nop>|</nop></c1><c22><nop>&nbsp;</nop></c22><c4>(</c4><c5><nop>*</nop></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#144">x</a></c26><c4>)</c4><c10><a href="../../../libsyntax/ast.rs.html#547">.clone</a></c10><c4>())</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a>&nbsp;<c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.collect</nop></c10><c4>())</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n197936"><a id="n197941"><a id="n197942"><a id="n197943"><a id="n197940"><a id="n197945"><a id="n197937"><a id="n197938"><a id="n197939"><a id="n197944">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#233">parse</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#415">.cfg</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#141">arg_rdr</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#139">mtcs</a></c26><c10><a href="../../../libstd/vec.rs.html#n10195">.as_slice</a></c10><c4>())</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n197949"><a id="n197946"><a id="n197947"><a id="n197948">&nbsp;</a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#203">Success</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#167">named_matches</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n197958"><a id="n197955"><a id="n197950"><a id="n197952"><a id="n197953"><a id="n197954"><a id="n197956"><a id="n197951"><a id="n197957">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#168">rhs</a></c20><c16><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c16><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">match&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#123">rhses</a></c26><c3>[</c3><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#137">i</a></c26><c3>]</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;okay,&nbsp;what's&nbsp;your&nbsp;transcriber?
</c40><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n197959"><a id="n197963"><a id="n197960"><a id="n197961"><a id="n197962">&nbsp;</a></a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#170">MatchedNonterminal</a></c20><c4>(</c4><c20><a href="../../../libsyntax/parse/token.rs.html#118">NtTT</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#151">tt</a></c20><c4>))</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n197964"><a id="n197965"><a id="n197966">&nbsp;</a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#150">tt</a></c26><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;cut&nbsp;off&nbsp;delimiters;&nbsp;don't&nbsp;parse&nbsp;'em
</c40><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n197968"><a id="n197969"><a id="n197970"><a id="n197967">&nbsp;</a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ast.rs.html#555">TTDelim</a></c20><c4>(</c4><c20><a href="#line153_col36_refs">ref&nbsp;tts</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n197981"><a id="n197978"><a id="n197983"><a id="n197972"><a id="n197976"><a id="n197973"><a id="n197977"><a id="n197975"><a id="n197971"><a id="n197979"><a id="n197984"><a id="n197980"><a id="n197974"><a id="n197982">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c5><nop>*</nop></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#153">tts</a></c26><c4>)</c4><c10><a href="../../../libstd/vec.rs.html#n9268">.slice</a></c10><c4>(</c4><c12><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">1u</a></c12><c3>,</c3><c4>(</c4><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#153">tts</a></c26><c4>)</c4><c10><a href="../../../libstd/vec.rs.html#n8679">.len</a></c10><c4>()</c4><c5><a href="../../../libcore/slice.rs.html#n90823">-</a></c5><c12><a href="../../../libcore/slice.rs.html#n90823">1u</a></c12><c4>)</c4><c10><a href="../../../libcore/slice.rs.html#n90823">
</a></c10><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a>&nbsp;<c10><a href="../../../libcore/slice.rs.html#n90823">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.iter</a></c10><c4>()</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n197991"><a id="n197985"><a id="n197990"><a id="n197993"><a id="n197994"><a id="n197988"><a id="n197992"><a id="n197987"><a id="n197989">&nbsp;</a></a></a></a></a></a></a></a></a><c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map</nop></c10><c4>(</c4><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">|</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#156">x</a></c20><c1><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">|</a></c1><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c4>(</c4><c5><a href="../../../libsyntax/ast.rs.html#547">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#156">x</a></c26><c4>)</c4><c22><a href="../../../libsyntax/ast.rs.html#547">.clone</a></c22><c4>())</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a>&nbsp;<c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.collect</nop></c10><c4>()</c4><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n197995"><a id="n197996"><a id="n197997">&nbsp;</a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">_</a></c20><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#461">.span_fatal</a></c10><c4>(</c4><c10><a href="../../../libsyntax/ext/base.rs.html#461">
</a></c10><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n197999"><a id="n197998">&nbsp;</a></a><c10><a href="../../../libsyntax/ext/base.rs.html#461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#119">sp</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#461">&nbsp;</a></c10><c12><a href="../../../libsyntax/ext/base.rs.html#461">"macro&nbsp;rhs&nbsp;must&nbsp;be&nbsp;delimited"</a></c12><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n198003"><a id="n198001"><a id="n198000"><a id="n198004"><a id="n198002">&nbsp;</a></a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">_</a></c20><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#483">.span_bug</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#119">sp</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#483">&nbsp;</a></c10><c12><a href="../../../libsyntax/ext/base.rs.html#483">"bad&nbsp;thing&nbsp;in&nbsp;rhs"</a></c12><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;rhs&nbsp;has&nbsp;holes&nbsp;(&nbsp;`$id`&nbsp;and&nbsp;`$(...)`&nbsp;that&nbsp;need&nbsp;filled)
</c40><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n198011"><a id="n198009"><a id="n198012"><a id="n198006"><a id="n198008"><a id="n198014"><a id="n198013"><a id="n198007"><a id="n198010"><a id="n198005">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#169">trncbr</a></c20><c13><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/transcribe.rs.html#48">new_tt_reader</a></c26><c4>(</c4><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&amp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c24><a href="../../../libsyntax/parse/mod.rs.html#37">.span_diagnostic</a></c24><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c27><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n198017"><a id="n198015"><a id="n198016">&nbsp;</a></a></a><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#147">named_matches</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c27><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n198018">&nbsp;</a><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#148">rhs</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n198027"><a id="n198022"><a id="n198023"><a id="n198026"><a id="n198025"><a id="n198028"><a id="n198030"><a id="n198019"><a id="n198021"><a id="n198024"><a id="n198020"><a id="n198029">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#173">p</a></c20><c16><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libsyntax/parse/parser.rs.html#275">Parser</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#415">.cfg</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c27><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">box&nbsp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#166">trncbr</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Let&nbsp;the&nbsp;context&nbsp;choose&nbsp;how&nbsp;to&nbsp;interpret&nbsp;the&nbsp;result.
</c40><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Weird,&nbsp;but&nbsp;useful&nbsp;for&nbsp;X-macros.
</c40><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n198034"><a id="n198033"><a id="n198032"><a id="n198031">&nbsp;</a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">box&nbsp;</a></c5><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">ParserAnyMacro&nbsp;</a></c31><c3>{</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">
</a></c31><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n198035"><a id="n198037"><a id="n198036">&nbsp;</a></a></a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser:&nbsp;</a></c31><c26><a href="../../../libcore/cell.rs.html#n76606">RefCell::new</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#169">p</a></c26><c4>)</c4><c3>,</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">
</a></c31><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n198038"><a id="n198040">&nbsp;</a></a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#32">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c3>}</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c21>as</c21><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c1><a href="../../../libcore/owned.rs.html#n25849">Box&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">&gt;</a></c1><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n198045"><a id="n198043"><a id="n198051"><a id="n198047"><a id="n198048"><a id="n198049"><a id="n198050"><a id="n198042"><a id="n198044"><a id="n198046">&nbsp;</a></a></a></a></a></a></a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#204">Failure</a></c20><c4>(</c4><c20><a href="#line176_col22_refs">sp</a></c20><c3>,</c3><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#204">&nbsp;</a></c20><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#178">ref&nbsp;msg</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;if&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#176">sp</a></c26><c24><a href="../../../libsyntax/codemap.rs.html#90">.lo</a></c24><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&gt;=&nbsp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#134">best_fail_spot</a></c26><c24><a href="../../../libsyntax/codemap.rs.html#90">.lo</a></c24><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n198055"><a id="n198053"><a id="n198052"><a id="n198054">&nbsp;</a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#134">best_fail_spot</a></c26><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#176">sp</a></c26><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n198060"><a id="n198058"><a id="n198061"><a id="n198062"><a id="n198059"><a id="n198057"><a id="n198056">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#135">best_fail_msg</a></c26><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;=&nbsp;</a></c5><c4>(</c4><c5><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#176">msg</a></c26><c4>)</c4><c10><a href="../../../libstd/strbuf.rs.html#n14032">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n198063"><a id="n198065"><a id="n198068"><a id="n198070"><a id="n198069"><a id="n198067"><a id="n198064"><a id="n198066">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#205">Error</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#180">sp</a></c20><c3>,</c3><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#205">&nbsp;</a></c20><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#180">ref&nbsp;msg</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#461">.span_fatal</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#180">sp</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#461">&nbsp;</a></c10><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#180">msg</a></c26><c10><a href="../../../libstd/strbuf.rs.html#n14731">.as_slice</a></c10><c4>())</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n198071"><a id="n198073"><a id="n198072"><a id="n198074">&nbsp;</a></a></a></a><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">_</a></c20><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#491">.bug</a></c10><c4>(</c4><c12><a href="../../../libsyntax/ext/base.rs.html#491">"non-matcher&nbsp;found&nbsp;in&nbsp;parsed&nbsp;lhses"</a></c12><c4>)</c4><c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c21><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../../libcore/option.rs.html#n86244">
</a></c20><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n198078"><a id="n198076"><a id="n198079"><a id="n198080"><a id="n198077"><a id="n198075">&nbsp;</a></a></a></a></a></a><c20><a href="../../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#118">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#461">.span_fatal</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#134">best_fail_spot</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#461">&nbsp;</a></c10><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#135">best_fail_msg</a></c26><c10><a href="../../../libstd/strbuf.rs.html#n14731">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#99">
</a></c22><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a>&nbsp;<c40>//&nbsp;this&nbsp;procedure&nbsp;performs&nbsp;the&nbsp;expansion&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c40>//&nbsp;macro_rules!&nbsp;macro.&nbsp;It&nbsp;parses&nbsp;the&nbsp;RHS&nbsp;and&nbsp;adds
</c40><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n198081">&nbsp;</a><c40>//&nbsp;an&nbsp;extension&nbsp;to&nbsp;the&nbsp;current&nbsp;context.
</c40><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n198086"><a id="n198083"><a id="n198084">&nbsp;</a></a></a><c21>pub</c21><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;add_new_extension</a></c30><c4>(</c4><c20><a href="#line192_col25_refs">cx</a></c20><c1><a href="../../../libsyntax/ext/base.rs.html#275">:&nbsp;&amp;mut&nbsp;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#374">ExtCtxt</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c1><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n198090"><a id="n198088">&nbsp;</a></a><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line193_col25_refs">sp</a></c20><c1><a href="../../../libsyntax/ext/base.rs.html#275">:&nbsp;</a></c1><c1><a href="../../../libsyntax/codemap.rs.html#88">Span</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c1><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n198094"><a id="n198092">&nbsp;</a></a><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line194_col25_refs">name</a></c20><c1><a href="../../../libsyntax/ext/base.rs.html#275">:&nbsp;</a></c1><c1><a href="../../../libsyntax/ast.rs.html#41">Ident</a></c1><c3>,</c3><c1><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c1><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n198100"><a id="n198096"><a id="n198098">&nbsp;</a></a></a><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#225">arg</a></c20><c1><a href="../../../libsyntax/ext/base.rs.html#275">:&nbsp;</a></c1><c1><a href="../../../libstd/vec.rs.html#n7811">Vec&lt;</a></c1><c1><a href="../../../libsyntax/ast.rs.html#548">ast::TokenTree</a></c1><c1><a href="../../../libstd/vec.rs.html#n7811">&gt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c1><c4>)</c4><c1><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c1><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n198103"><a id="n198105"><a id="n198101">&nbsp;</a></a></a><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">Box&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#103">base::MacResult</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">&gt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c1><c3>{</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;these&nbsp;spans&nbsp;won't&nbsp;matter,&nbsp;anyways
</c40><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n198107"><a id="n198114"><a id="n198111"><a id="n198106"><a id="n198112"><a id="n198109">&nbsp;</a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#line198_col4_refs">&nbsp;ms</a></c30><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#200">m</a></c20><c13><a href="#line198_col4_refs">:&nbsp;</a></c13><c1><a href="../../../libsyntax/ast.rs.html#623">Matcher_</a></c1><c4>)</c4><c13><a href="#line198_col4_refs">&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#line198_col4_refs">&nbsp;</a></c13><c1><a href="../../../libsyntax/ast.rs.html#620">Matcher</a></c1><c13><a href="#line198_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line198_col4_refs">
</a></c22><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n198115">&nbsp;</a><c22><a href="#line198_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c31><a href="../../../libsyntax/codemap.rs.html#99">Spanned&nbsp;</a></c31><c3>{</c3><c31><a href="../../../libsyntax/codemap.rs.html#99">
</a></c31><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n198117"><a id="n198116">&nbsp;</a></a><c31><a href="../../../libsyntax/codemap.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c31><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">m</a></c26><c10><a href="../../../libsyntax/ast.rs.html#623">.clone</a></c10><c4>()</c4><c3>,</c3><c31><a href="../../../libsyntax/codemap.rs.html#99">
</a></c31><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n198118">&nbsp;</a><c31><a href="../../../libsyntax/codemap.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;span:&nbsp;</a></c31><c26><a href="../../../libsyntax/codemap.rs.html#96">DUMMY_SP</a></c26><c31><a href="../../../libsyntax/codemap.rs.html#99">
</a></c31><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c31><a href="../../../libsyntax/codemap.rs.html#99">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c3>}</c3><c22><a href="#line198_col4_refs">
</a></c22><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a>&nbsp;<c22><a href="#line198_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n198124"><a id="n198125"><a id="n198119"><a id="n198123"><a id="n198121"><a id="n198120"><a id="n198122">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="#line205_col8_refs">lhs_nm</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;&nbsp;</a></c16><c26><a href="../../../libsyntax/parse/token.rs.html#657">gensym_ident</a></c26><c4>(</c4><c12><a href="../../../libsyntax/ext/base.rs.html#275">"lhs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n198126"><a id="n198130"><a id="n198128"><a id="n198131"><a id="n198129"><a id="n198132"><a id="n198127">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="#line206_col8_refs">rhs_nm</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;&nbsp;</a></c16><c26><a href="../../../libsyntax/parse/token.rs.html#657">gensym_ident</a></c26><c4>(</c4><c12><a href="../../../libsyntax/ext/base.rs.html#275">"rhs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;pattern&nbsp;that&nbsp;macro_rules&nbsp;matches.
</c40><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;grammar&nbsp;for&nbsp;macro_rules!&nbsp;is:
</c40><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;$(&nbsp;$lhs:mtcs&nbsp;=&gt;&nbsp;$rhs:tt&nbsp;);+
</c40><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;...quasiquoting&nbsp;this&nbsp;would&nbsp;be&nbsp;nice.
</c40><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n198137"><a id="n198136"><a id="n198133"><a id="n198134"><a id="n198135">&nbsp;</a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#229">argument_gram</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c16><c22><a href="../../../libsyntax/ext/base.rs.html#275">vec!</a></c22><c4>(</c4><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n198150"><a id="n198148"><a id="n198149"><a id="n198151"><a id="n198152">&nbsp;</a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#629">MatchSeq</a></c26><c4>(</c4><c22><a href="../../../libsyntax/ext/base.rs.html#275">vec!</a></c22><c4>(</c4><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n198169"><a id="n198163"><a id="n198168"><a id="n198164"><a id="n198167"><a id="n198166"><a id="n198165">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#631">MatchNonterminal</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#205">lhs_nm</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c26><a href="../../../libsyntax/parse/token.rs.html#382">special_idents::matchers</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">0u</a></c12><c4>))</c4><c3>,</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n198175"><a id="n198173"><a id="n198174"><a id="n198177"><a id="n198176">&nbsp;</a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#626">MatchTok</a></c26><c4>(</c4><c26><a href="../../../libsyntax/parse/token.rs.html#71">FAT_ARROW</a></c26><c4>))</c4><c3>,</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n198181"><a id="n198192"><a id="n198190"><a id="n198183"><a id="n198187"><a id="n198184"><a id="n198194"><a id="n198193"><a id="n198185"><a id="n198182"><a id="n198189"><a id="n198186"><a id="n198191">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#631">MatchNonterminal</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#206">rhs_nm</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c26><a href="../../../libsyntax/parse/token.rs.html#382">special_idents::tt</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">1u</a></c12><c4>)))</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/parse/token.rs.html#65">SEMI</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">false</a></c12><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">0u</a></c12><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">2u</a></c12><c4>))</c4><c3>,</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//to&nbsp;phase&nbsp;into&nbsp;semicolon-termination&nbsp;instead&nbsp;of
</c40><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//semicolon-separation
</c40><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n198199"><a id="n198219"><a id="n198214"><a id="n198217"><a id="n198200"><a id="n198201"><a id="n198213"><a id="n198215"><a id="n198222"><a id="n198202"><a id="n198221"><a id="n198198"><a id="n198220"><a id="n198216">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#629">MatchSeq</a></c26><c4>(</c4><c22><a href="../../../libsyntax/ext/base.rs.html#275">vec!</a></c22><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#198">ms</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast.rs.html#626">MatchTok</a></c26><c4>(</c4><c26><a href="../../../libsyntax/parse/token.rs.html#65">SEMI</a></c26><c4>)))</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86244">None</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">true</a></c12><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">2u</a></c12><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c27><c12><a href="../../../libsyntax/ext/base.rs.html#275">2u</a></c12><c4>)))</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Parse&nbsp;the&nbsp;macro_rules!&nbsp;invocation&nbsp;(`none`&nbsp;is&nbsp;for&nbsp;no&nbsp;interpolations):
</c40><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n198229"><a id="n198232"><a id="n198224"><a id="n198233"><a id="n198226"><a id="n198225"><a id="n198227"><a id="n198228"><a id="n198231"><a id="n198230">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#228">arg_reader</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libsyntax/ext/tt/transcribe.rs.html#48">new_tt_reader</a></c26><c4>(</c4><c5><a href="../../../libsyntax/ext/base.rs.html#275">&amp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#192">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c24><a href="../../../libsyntax/parse/mod.rs.html#37">.span_diagnostic</a></c24><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c27><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n198234">&nbsp;</a><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86244">None</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c27><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n198235"><a id="n198236">&nbsp;</a></a><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#195">arg</a></c26><c10><a href="../../../libstd/vec.rs.html#n8340">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n198238"><a id="n198244"><a id="n198237"><a id="n198239"><a id="n198240"><a id="n198241"><a id="n198243"><a id="n198242">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="#line226_col8_refs">argument_map</a></c20><c13><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#207">parse_or_else</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#192">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#414">.parse_sess</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c27><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n198246"><a id="n198245">&nbsp;</a></a><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#192">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#415">.cfg</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c27><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n198247">&nbsp;</a><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#223">arg_reader</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c27><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n198248">&nbsp;</a><c27><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#212">argument_gram</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Extract&nbsp;the&nbsp;arguments:
</c40><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n198259"><a id="n198253"><a id="n198251"><a id="n198258"><a id="n198254"><a id="n198255"><a id="n198249"><a id="n198257"><a id="n198256"><a id="n198250"><a id="n198252">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#244">lhses</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c16><c21><a href="../../../libsyntax/ext/base.rs.html#275">match&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/base.rs.html#275">**</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#226">argument_map</a></c26><c10><a href="../../../libcollections/hashmap.rs.html#n15878">.get</a></c10><c4>(</c4><c5><a href="../../../libcollections/hashmap.rs.html#n15878">&amp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#205">lhs_nm</a></c26><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n198264"><a id="n198263"><a id="n198266"><a id="n198261"><a id="n198262"><a id="n198260"><a id="n198265">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#169">MatchedSeq</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#233">ref&nbsp;s</a></c20><c3>,</c3><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#169">&nbsp;_</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c41>/*&nbsp;FIXME&nbsp;(#2543)&nbsp;*/</c41><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>(</c4><c5><a href="../../../libstd/vec.rs.html#n8340">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#233">s</a></c26><c4>)</c4><c10><a href="../../../libstd/vec.rs.html#n8340">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n198269"><a id="n198270"><a id="n198271"><a id="n198267"><a id="n198268">&nbsp;</a></a></a></a></a><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/base.rs.html#275">_</a></c20><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#192">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#483">.span_bug</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#193">sp</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#483">&nbsp;</a></c10><c12><a href="../../../libsyntax/ext/base.rs.html#483">"wrong-structured&nbsp;lhs"</a></c12><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n198274"><a id="n198278"><a id="n198279"><a id="n198281"><a id="n198277"><a id="n198280"><a id="n198275"><a id="n198272"><a id="n198276"><a id="n198282"><a id="n198273">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#245">rhses</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c16><c21><a href="../../../libsyntax/ext/base.rs.html#275">match&nbsp;</a></c21><c5><a href="../../../libsyntax/ext/base.rs.html#275">**</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#226">argument_map</a></c26><c10><a href="../../../libcollections/hashmap.rs.html#n15878">.get</a></c10><c4>(</c4><c5><a href="../../../libcollections/hashmap.rs.html#n15878">&amp;</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#206">rhs_nm</a></c26><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n198283"><a id="n198284"><a id="n198288"><a id="n198286"><a id="n198285"><a id="n198287"><a id="n198289">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#169">MatchedSeq</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#238">ref&nbsp;s</a></c20><c3>,</c3><c20><a href="../../../libsyntax/ext/tt/macro_parser.rs.html#169">&nbsp;_</a></c20><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c41>/*&nbsp;FIXME&nbsp;(#2543)&nbsp;*/</c41><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>(</c4><c5><a href="../../../libstd/vec.rs.html#n8340">*</a></c5><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#238">s</a></c26><c4>)</c4><c10><a href="../../../libstd/vec.rs.html#n8340">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n198292"><a id="n198291"><a id="n198294"><a id="n198290"><a id="n198293">&nbsp;</a></a></a></a></a><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/ext/base.rs.html#275">_</a></c20><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#192">cx</a></c26><c10><a href="../../../libsyntax/ext/base.rs.html#483">.span_bug</a></c10><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#193">sp</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ext/base.rs.html#483">&nbsp;</a></c10><c12><a href="../../../libsyntax/ext/base.rs.html#483">"wrong-structured&nbsp;rhs"</a></c12><c4>)</c4><c21><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c21><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a>&nbsp;<c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n198299"><a id="n198297"><a id="n198295"><a id="n198300"><a id="n198296"><a id="n198298">&nbsp;</a></a></a></a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c22><c20><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#251">exp</a></c20><c16><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;=&nbsp;</a></c16><c5><a href="../../../libsyntax/ext/base.rs.html#275">box&nbsp;</a></c5><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">MacroRulesMacroExpander&nbsp;</a></c31><c3>{</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">
</a></c31><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n198301">&nbsp;</a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c31><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#194">name</a></c26><c3>,</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">
</a></c31><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n198302">&nbsp;</a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lhses:&nbsp;</a></c31><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#232">lhses</a></c26><c3>,</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">
</a></c31><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n198303">&nbsp;</a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rhses:&nbsp;</a></c31><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#237">rhses</a></c26><c3>,</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">
</a></c31><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a>&nbsp;<c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#86">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c3>};</c3><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a>&nbsp;<c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n198306"><a id="n198304"><a id="n198305">&nbsp;</a></a></a><c22><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="../../../libsyntax/ext/base.rs.html#275">box&nbsp;</a></c5><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">MacroRulesDefiner&nbsp;</a></c31><c3>{</c3><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">
</a></c31><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n198307"><a id="n198310"><a id="n198308"><a id="n198309"><a id="n198311">&nbsp;</a></a></a></a></a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def:&nbsp;</a></c31><c26><a href="../../../libcore/cell.rs.html#n76606">RefCell::new</a></c26><c4>(</c4><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c31><a href="../../../libsyntax/ext/base.rs.html#31">MacroDef&nbsp;</a></c31><c3>{</c3><c31><a href="../../../libsyntax/ext/base.rs.html#31">
</a></c31><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n198316"><a id="n198314"><a id="n198313"><a id="n198312"><a id="n198315">&nbsp;</a></a></a></a></a><c31><a href="../../../libsyntax/ext/base.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;</a></c31><c26><a href="../../../libsyntax/parse/token.rs.html#626">token::get_ident</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#194">name</a></c26><c4>)</c4><c10><a href="../../../libstd/to_str.rs.html#n22259">.to_str</a></c10><c4>()</c4><c10><nop>.to_strbuf</nop></c10><c4>()</c4><c3>,</c3><c31><a href="../../../libsyntax/ext/base.rs.html#31">
</a></c31><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n198320"><a id="n198322"><a id="n198317"><a id="n198319"><a id="n198321"><a id="n198318">&nbsp;</a></a></a></a></a></a><c31><a href="../../../libsyntax/ext/base.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext:&nbsp;</a></c31><c26><a href="../../../libsyntax/ext/base.rs.html#232">NormalTT</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#242">exp</a></c26><c3>,</c3><c27><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">&nbsp;</a></c27><c26><a href="../../../libcore/option.rs.html#n86245">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#193">sp</a></c26><c4>))</c4><c31><a href="../../../libsyntax/ext/base.rs.html#31">
</a></c31><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a>&nbsp;<c31><a href="../../../libsyntax/ext/base.rs.html#31">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c3>}</c3><c4>))</c4><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">
</a></c31><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n198325"><a id="n198323">&nbsp;</a></a><c31><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#107">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c3>}</c3><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c21>as</c21><c21><a href="../../../libsyntax/ext/base.rs.html#275">&nbsp;</a></c21><c1><a href="../../../libcore/owned.rs.html#n25849">Box&lt;</a></c1><c1><a href="../../../libsyntax/ext/base.rs.html#103">MacResult</a></c1><c1><a href="../../../libcore/owned.rs.html#n25849">&gt;</a></c1><c22><a href="../../../libsyntax/ext/base.rs.html#275">
</a></c22><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><br/><a id="line198_col4_refs"><c43>libsyntax/ext/tt/macro_rules.rs:198:4-198:4&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#198"><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;ms(m:&nbsp;Matcher_)&nbsp;-&gt;&nbsp;Matcher&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Spanned&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;m.clone(),
<br/></pr></a></a><c43>references:-&nbsp;6</c43><br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#213"><c40>212:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;argument_gram&nbsp;=&nbsp;vec!(
</c2><br/><c41>213:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms(MatchSeq(vec!(
</c1><br/><c40>214:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms(MatchNonterminal(lhs_nm,&nbsp;special_idents::matchers,&nbsp;0u)),
</c2><br/></a>--<br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#219"><c40>218:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//semicolon-separation
</c2><br/><c41>219:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms(MatchSeq(vec!(ms(MatchTok(SEMI))),&nbsp;None,&nbsp;true,&nbsp;2u,&nbsp;2u)));
</c1><br/></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#215"></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#219"></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#214"></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#216"></a><br/><br/><a id="line107_col1_refs"><c43>libsyntax/ext/tt/macro_rules.rs:107:1-107:1&nbsp;-struct-&nbsp;definition:<br/></c43><a href="#107"><pr>struct&nbsp;MacroRulesDefiner&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;def:&nbsp;RefCell&lt;Option&lt;MacroDef&gt;&gt;
<br/>}
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#248"><c41>248:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;box&nbsp;MacroRulesDefiner&nbsp;{
</c1><br/><c40>249:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def:&nbsp;RefCell::new(Some(MacroDef&nbsp;{
</c2><br/></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#111"></a><br/><br/><a id="line86_col1_refs"><c43>libsyntax/ext/tt/macro_rules.rs:86:1-86:1&nbsp;-struct-&nbsp;definition:<br/></c43><a href="#86"><pr>struct&nbsp;MacroRulesMacroExpander&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;Ident,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;lhses:&nbsp;Vec&lt;Rc&lt;NamedMatch&gt;&gt;,
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#93"><c41>93:&nbsp;</c41><c1>impl&nbsp;MacroExpander&nbsp;for&nbsp;MacroRulesMacroExpander&nbsp;{
</c1><br/><c40>94:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;expand(&amp;self,
</c2><br/></a>--<br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#242"><c41>242:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;exp&nbsp;=&nbsp;box&nbsp;MacroRulesMacroExpander&nbsp;{
</c1><br/><c40>243:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;name,
</c2><br/></a><br/><br/><a id="line32_col1_refs"><c43>libsyntax/ext/tt/macro_rules.rs:32:1-32:1&nbsp;-struct-&nbsp;definition:<br/></c43><a href="#32"><pr>struct&nbsp;ParserAnyMacro&lt;'a&gt;&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;parser:&nbsp;RefCell&lt;Parser&lt;'a&gt;&gt;,
<br/>}
<br/></pr></a></a><c43>references:-&nbsp;3</c43><br/><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#172"><c40>171:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Weird,&nbsp;but&nbsp;useful&nbsp;for&nbsp;X-macros.
</c2><br/><c41>172:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;box&nbsp;ParserAnyMacro&nbsp;{
</c1><br/><c40>173:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser:&nbsp;RefCell::new(p),
</c2><br/></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#37"></a><a href="../../../libsyntax/ext/tt/macro_rules.rs.html#60"></a></div></maintext></div></body>