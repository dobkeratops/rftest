<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../libsyntax/">libsyntax</a></c0><c1>/</c1><c0><a href="./../../libsyntax/ext/">ext</a></c0><c1>/</c1><c0><a href="./../../libsyntax/ext/source_util.rs.html">source_util.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>Pos</c0><c3>,</c3><c0>&nbsp;Span</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;codemap::</c0><c3>{</c3><c0>ExpnInfo</c0><c3>,</c3><c0>&nbsp;NameAndSpan</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::base</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;ext::build::AstBuilder</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;print::pprust</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io::File</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::rc::Rc</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c40>//&nbsp;These&nbsp;macros&nbsp;all&nbsp;relate&nbsp;to&nbsp;the&nbsp;file&nbsp;system;&nbsp;they&nbsp;either&nbsp;return
</c40><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c40>//&nbsp;the&nbsp;column/row/filename&nbsp;of&nbsp;the&nbsp;expression,&nbsp;or&nbsp;they&nbsp;include
</c40><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c40>//&nbsp;a&nbsp;given&nbsp;file&nbsp;into&nbsp;the&nbsp;current&nbsp;one.
</c40><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n193563">&nbsp;</a><c41>/*&nbsp;line!():&nbsp;expands&nbsp;to&nbsp;the&nbsp;current&nbsp;line&nbsp;number&nbsp;*/</c41><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n193572"><a id="n193567"><a id="n193578"><a id="n193566"><a id="n193575"><a id="n193568"><a id="n193576"><a id="n193577"><a id="n193571">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#30_50_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#30_50_refs">&nbsp;expand_line</a></c30><c4>(</c4><c20><a href="#31_19_refs">cx</a></c20><c1><a href="#30_50_refs">:&nbsp;</a></c1><c8><a href="#30_50_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#30_50_refs">&nbsp;</a></c1><c20><a href="#31_37_refs">sp</a></c20><c1><a href="#30_50_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#30_50_refs">&nbsp;</a></c1><c20><a href="#31_47_refs">tts</a></c20><c1><a href="#30_50_refs">:&nbsp;</a></c1><c8><a href="#30_50_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#30_50_refs">
</a></c1><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n193580"><a id="n193607">&nbsp;</a></a><c1><a href="#30_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#30_50_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#30_50_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n193581"><a id="n193584"><a id="n193583"><a id="n193586"><a id="n193587"><a id="n193582"><a id="n193585">&nbsp;</a></a></a></a></a></a></a><c22><a href="#30_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#460">base::check_zero_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#31">cx</a></c26><c3>,</c3><c13><a href="#30_50_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#31">sp</a></c26><c3>,</c3><c13><a href="#30_50_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#31">tts</a></c26><c3>,</c3><c13><a href="#30_50_refs">&nbsp;</a></c13><c12><a href="#30_50_refs">"line!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n193591"><a id="n193590"><a id="n193593"><a id="n193588"><a id="n193596"><a id="n193594"><a id="n193589"><a id="n193592"><a id="n193595">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#30_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#30_50_refs">&nbsp;</a></c22><c20><a href="#35_8_refs">topmost</a></c20><c13><a href="#30_50_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#151">topmost_expn_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#31">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#356">.backtrace</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n193603"><a id="n193597"><a id="n193599"><a id="n193600"><a id="n193598"><a id="n193601"><a id="n193605"><a id="n193604"><a id="n193606"><a id="n193602">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#30_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#30_50_refs">&nbsp;</a></c22><c20><a href="#36_8_refs">loc</a></c20><c13><a href="#30_50_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#31">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#346">.codemap</a></c10><c4>()</c4><c10><a href="../../libsyntax/codemap.rs.html#317">.lookup_char_pos</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#35">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c24><a href="../../libsyntax/codemap.rs.html#89">.lo</a></c24><c4>)</c4><c3>;</c3><c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n193611"><a id="n193613"><a id="n193614"><a id="n193609"><a id="n193610"><a id="n193615"><a id="n193608"><a id="n193612">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#30_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#31">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#561">.expr_uint</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#35">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#561">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/source_util.rs.html#36">loc</a></c26><c24><a href="../../libsyntax/codemap.rs.html#146">.line</a></c24><c4>))</c4><c22><a href="#30_50_refs">
</a></c22><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n193616">&nbsp;</a><c41>/*&nbsp;col!():&nbsp;expands&nbsp;to&nbsp;the&nbsp;current&nbsp;column&nbsp;number&nbsp;*/</c41><c0>
</c0><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n193628"><a id="n193630"><a id="n193619"><a id="n193625"><a id="n193631"><a id="n193621"><a id="n193624"><a id="n193629"><a id="n193620">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#41_51_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#41_51_refs">&nbsp;expand_col</a></c30><c4>(</c4><c20><a href="#42_18_refs">cx</a></c20><c1><a href="#41_51_refs">:&nbsp;</a></c1><c8><a href="#41_51_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#41_51_refs">&nbsp;</a></c1><c20><a href="#42_36_refs">sp</a></c20><c1><a href="#41_51_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#41_51_refs">&nbsp;</a></c1><c20><a href="#42_46_refs">tts</a></c20><c1><a href="#41_51_refs">:&nbsp;</a></c1><c8><a href="#41_51_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#41_51_refs">
</a></c1><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n193633"><a id="n193660">&nbsp;</a></a><c1><a href="#41_51_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#41_51_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#41_51_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n193639"><a id="n193638"><a id="n193635"><a id="n193634"><a id="n193640"><a id="n193636"><a id="n193637">&nbsp;</a></a></a></a></a></a></a><c22><a href="#41_51_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#460">base::check_zero_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#42">cx</a></c26><c3>,</c3><c13><a href="#41_51_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#42">sp</a></c26><c3>,</c3><c13><a href="#41_51_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#42">tts</a></c26><c3>,</c3><c13><a href="#41_51_refs">&nbsp;</a></c13><c12><a href="#41_51_refs">"col!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n193648"><a id="n193649"><a id="n193642"><a id="n193641"><a id="n193644"><a id="n193643"><a id="n193645"><a id="n193647"><a id="n193646">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#41_51_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#41_51_refs">&nbsp;</a></c22><c20><a href="#46_8_refs">topmost</a></c20><c16><a href="#41_51_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/source_util.rs.html#151">topmost_expn_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#42">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#356">.backtrace</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n193652"><a id="n193651"><a id="n193655"><a id="n193656"><a id="n193653"><a id="n193654"><a id="n193659"><a id="n193657"><a id="n193650"><a id="n193658">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#41_51_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#41_51_refs">&nbsp;</a></c22><c20><a href="#47_8_refs">loc</a></c20><c16><a href="#41_51_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/source_util.rs.html#42">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#346">.codemap</a></c10><c4>()</c4><c10><a href="../../libsyntax/codemap.rs.html#317">.lookup_char_pos</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#46">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c24><a href="../../libsyntax/codemap.rs.html#89">.lo</a></c24><c4>)</c4><c3>;</c3><c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n193669"><a id="n193663"><a id="n193666"><a id="n193664"><a id="n193662"><a id="n193667"><a id="n193668"><a id="n193665"><a id="n193661">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#41_51_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#42">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#561">.expr_uint</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#46">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#561">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/source_util.rs.html#47">loc</a></c26><c24><a href="../../libsyntax/codemap.rs.html#148">.col</a></c24><c10><a href="../../libsyntax/codemap.rs.html#66">.to_uint</a></c10><c4>()))</c4><c22><a href="#41_51_refs">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a>&nbsp;<c41>/*&nbsp;file!():&nbsp;expands&nbsp;to&nbsp;the&nbsp;current&nbsp;filename&nbsp;*/</c41><c0>
</c0><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c41>/*&nbsp;The&nbsp;filemap&nbsp;(`loc.file`)&nbsp;contains&nbsp;a&nbsp;bunch&nbsp;more&nbsp;information&nbsp;we&nbsp;could&nbsp;spit
</c41><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n193670">&nbsp;</a><c41>&nbsp;*&nbsp;out&nbsp;if&nbsp;we&nbsp;wanted.&nbsp;*/
</c41><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n193684"><a id="n193679"><a id="n193682"><a id="n193678"><a id="n193675"><a id="n193683"><a id="n193674"><a id="n193673"><a id="n193685">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#53_24_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#53_24_refs">&nbsp;expand_file</a></c30><c4>(</c4><c20><a href="#54_19_refs">cx</a></c20><c1><a href="#53_24_refs">:&nbsp;</a></c1><c8><a href="#53_24_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#53_24_refs">&nbsp;</a></c1><c20><a href="#54_37_refs">sp</a></c20><c1><a href="#53_24_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#53_24_refs">&nbsp;</a></c1><c20><a href="#54_47_refs">tts</a></c20><c1><a href="#53_24_refs">:&nbsp;</a></c1><c8><a href="#53_24_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#53_24_refs">
</a></c1><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n193687"><a id="n193723">&nbsp;</a></a><c1><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#53_24_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#53_24_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n193690"><a id="n193691"><a id="n193689"><a id="n193692"><a id="n193688"><a id="n193693"><a id="n193694">&nbsp;</a></a></a></a></a></a></a><c22><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#460">base::check_zero_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#54">cx</a></c26><c3>,</c3><c13><a href="#53_24_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#54">sp</a></c26><c3>,</c3><c13><a href="#53_24_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#54">tts</a></c26><c3>,</c3><c13><a href="#53_24_refs">&nbsp;</a></c13><c12><a href="#53_24_refs">"file!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a>&nbsp;<c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n193696"><a id="n193695"><a id="n193698"><a id="n193701"><a id="n193697"><a id="n193702"><a id="n193703"><a id="n193700"><a id="n193699">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#53_24_refs">&nbsp;</a></c22><c20><a href="#58_8_refs">topmost</a></c20><c13><a href="#53_24_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#151">topmost_expn_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#54">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#356">.backtrace</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n193709"><a id="n193706"><a id="n193713"><a id="n193710"><a id="n193711"><a id="n193705"><a id="n193707"><a id="n193704"><a id="n193712"><a id="n193708">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#53_24_refs">&nbsp;</a></c22><c20><a href="#59_8_refs">loc</a></c20><c16><a href="#53_24_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/source_util.rs.html#54">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#346">.codemap</a></c10><c4>()</c4><c10><a href="../../libsyntax/codemap.rs.html#317">.lookup_char_pos</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#58">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c24><a href="../../libsyntax/codemap.rs.html#89">.lo</a></c24><c4>)</c4><c3>;</c3><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n193716"><a id="n193719"><a id="n193715"><a id="n193714"><a id="n193722"><a id="n193721"><a id="n193718"><a id="n193717"><a id="n193720">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#53_24_refs">&nbsp;</a></c22><c20><a href="#60_8_refs">filename</a></c20><c13><a href="#53_24_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#633">token::intern_and_get_ident</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#59">loc</a></c26><c24><a href="../../libsyntax/codemap.rs.html#144">.file</a></c24><c24><a href="../../libstd/rc.rs.html#n73659">.name</a></c24><c4>)</c4><c3>;</c3><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n193730"><a id="n193728"><a id="n193726"><a id="n193727"><a id="n193729"><a id="n193724"><a id="n193725">&nbsp;</a></a></a></a></a></a></a><c22><a href="#53_24_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#54">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#591">.expr_str</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#58">topmost</a></c26><c24><a href="../../libsyntax/codemap.rs.html#184">.call_site</a></c24><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#591">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/source_util.rs.html#60">filename</a></c26><c4>))</c4><c22><a href="#53_24_refs">
</a></c22><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n193731">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n193739"><a id="n193734"><a id="n193740"><a id="n193746"><a id="n193745"><a id="n193735"><a id="n193744"><a id="n193736"><a id="n193743">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#63_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#63_1_refs">&nbsp;expand_stringify</a></c30><c4>(</c4><c20><a href="#64_24_refs">cx</a></c20><c1><a href="#63_1_refs">:&nbsp;</a></c1><c8><a href="#63_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#63_1_refs">&nbsp;</a></c1><c20><a href="#64_42_refs">sp</a></c20><c1><a href="#63_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#63_1_refs">&nbsp;</a></c1><c20><a href="#64_52_refs">tts</a></c20><c1><a href="#63_1_refs">:&nbsp;</a></c1><c8><a href="#63_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#63_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n193756"><a id="n193748">&nbsp;</a></a><c1><a href="#63_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#63_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#63_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#63_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n193750"><a id="n193754"><a id="n193753"><a id="n193752"><a id="n193755"><a id="n193749"><a id="n193751">&nbsp;</a></a></a></a></a></a></a><c22><a href="#63_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#63_1_refs">&nbsp;</a></c22><c20><a href="#66_8_refs">s</a></c20><c16><a href="#63_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/print/pprust.rs.html#169">pprust::tts_to_str</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#64">tts</a></c26><c4>)</c4><c3>;</c3><c22><a href="#63_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n193758"><a id="n193764"><a id="n193761"><a id="n193760"><a id="n193757"><a id="n193763"><a id="n193762"><a id="n193759">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#63_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#64">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#591">.expr_str</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#64">sp</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#591">&nbsp;</a></c10><c26><a href="../../libsyntax/parse/token.rs.html#633">token::intern_and_get_ident</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#66">s</a></c26><c4>)))</c4><c22><a href="#63_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n193765">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n193770"><a id="n193769"><a id="n193773"><a id="n193778"><a id="n193777"><a id="n193779"><a id="n193768"><a id="n193774"><a id="n193780">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#69_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#69_1_refs">&nbsp;expand_mod</a></c30><c4>(</c4><c20><a href="#70_18_refs">cx</a></c20><c1><a href="#69_1_refs">:&nbsp;</a></c1><c8><a href="#69_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#69_1_refs">&nbsp;</a></c1><c20><a href="#70_36_refs">sp</a></c20><c1><a href="#69_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#69_1_refs">&nbsp;</a></c1><c20><a href="#70_46_refs">tts</a></c20><c1><a href="#69_1_refs">:&nbsp;</a></c1><c8><a href="#69_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#69_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n193811"><a id="n193782">&nbsp;</a></a><c1><a href="#69_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#69_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#69_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#69_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n193789"><a id="n193786"><a id="n193788"><a id="n193787"><a id="n193784"><a id="n193785"><a id="n193783">&nbsp;</a></a></a></a></a></a></a><c22><a href="#69_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#460">base::check_zero_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#70">cx</a></c26><c3>,</c3><c27><a href="#69_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#70">sp</a></c26><c3>,</c3><c27><a href="#69_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#70">tts</a></c26><c3>,</c3><c27><a href="#69_1_refs">&nbsp;</a></c27><c12><a href="#69_1_refs">"module_path!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#69_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n193794"><a id="n193807"><a id="n193809"><a id="n193791"><a id="n193793"><a id="n193792"><a id="n193810"><a id="n193790">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#69_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#69_1_refs">&nbsp;</a></c22><c20><a href="#73_8_refs">string</a></c20><c16><a href="#69_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/source_util.rs.html#70">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#359">.mod_path</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n58129">
</a></c10><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n193800"><a id="n193804"><a id="n193806"><a id="n193798"><a id="n193796"><a id="n193797"><a id="n193803"><a id="n193799"><a id="n193805"><a id="n193802"><a id="n193801">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libstd/vec.rs.html#n58129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.map</a></c10><c4>(</c4><c1><a href="#69_1_refs">|</a></c1><c20><a href="#74_25_refs">x</a></c20><c8><a href="#69_1_refs">|</a></c8><c1><a href="#69_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/parse/token.rs.html#626">token</a></c8><c26><a href="../../libsyntax/parse/token.rs.html#626">::get_ident</a></c26><c4>(</c4><c5><a href="../../libsyntax/parse/token.rs.html#576">*</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#74">x</a></c26><c4>)</c4><c10><a href="../../libsyntax/parse/token.rs.html#576">.get</a></c10><c4>()</c4><c10><a href="../../libstd/to_str.rs.html#n99159">.to_str</a></c10><c4>())</c4><c10><a href="../../libstd/str.rs.html#n59333">
</a></c10><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n193808">&nbsp;</a><c10><a href="../../libstd/str.rs.html#n59333">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.connect</a></c10><c4>(</c4><c12><a href="#69_1_refs">"::"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#69_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n193817"><a id="n193819"><a id="n193814"><a id="n193813"><a id="n193815"><a id="n193818"><a id="n193816"><a id="n193812">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#69_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#70">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#591">.expr_str</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#70">sp</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#591">&nbsp;</a></c10><c26><a href="../../libsyntax/parse/token.rs.html#633">token::intern_and_get_ident</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#73">string</a></c26><c4>)))</c4><c22><a href="#69_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a>&nbsp;<c40>//&nbsp;include!&nbsp;:&nbsp;parse&nbsp;the&nbsp;given&nbsp;file&nbsp;as&nbsp;an&nbsp;expr
</c40><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;is&nbsp;generally&nbsp;a&nbsp;bad&nbsp;idea&nbsp;because&nbsp;it's&nbsp;going&nbsp;to&nbsp;behave
</c40><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n193820">&nbsp;</a><c40>//&nbsp;unhygienically.
</c40><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n193832"><a id="n193825"><a id="n193833"><a id="n193829"><a id="n193824"><a id="n193828"><a id="n193834"><a id="n193835"><a id="n193823">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#81_19_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#81_19_refs">&nbsp;expand_include</a></c30><c4>(</c4><c20><a href="#82_22_refs">cx</a></c20><c1><a href="#81_19_refs">:&nbsp;</a></c1><c8><a href="#81_19_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#81_19_refs">&nbsp;</a></c1><c20><a href="#82_40_refs">sp</a></c20><c1><a href="#81_19_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#81_19_refs">&nbsp;</a></c1><c20><a href="#82_50_refs">tts</a></c20><c1><a href="#81_19_refs">:&nbsp;</a></c1><c8><a href="#81_19_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#81_19_refs">
</a></c1><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n193837"><a id="n193877">&nbsp;</a></a><c1><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#81_19_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#81_19_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#81_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n193840"><a id="n193841"><a id="n193842"><a id="n193855"><a id="n193843"><a id="n193845"><a id="n193856"><a id="n193839"><a id="n193838"><a id="n193846"><a id="n193844">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#81_19_refs">&nbsp;</a></c22><c20><a href="#84_8_refs">file</a></c20><c16><a href="#81_19_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#81_19_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/base.rs.html#471">get_single_str_from_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#82">cx</a></c26><c3>,</c3><c27><a href="#81_19_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#82">sp</a></c26><c3>,</c3><c27><a href="#81_19_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#82">tts</a></c26><c3>,</c3><c27><a href="#81_19_refs">&nbsp;</a></c27><c12><a href="#81_19_refs">"include!"</a></c12><c4>)</c4><c21><a href="#81_19_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#81_19_refs">
</a></c21><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n193847"><a id="n193849"><a id="n193848">&nbsp;</a></a></a><c21><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#85_13_refs">f</a></c20><c4>)</c4><c21><a href="#81_19_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#81_19_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#85">f</a></c26><c3>,</c3><c21><a href="#81_19_refs">
</a></c21><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n193851"><a id="n193850"><a id="n193852"><a id="n193853"><a id="n193854">&nbsp;</a></a></a></a></a><c21><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#81_19_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#81_19_refs">&nbsp;</a></c21><c1><a href="#81_19_refs">return&nbsp;</a></c1><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#82">sp</a></c26><c4>)</c4><c3>,</c3><c21><a href="#81_19_refs">
</a></c21><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a>&nbsp;<c21><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#81_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c22><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;file&nbsp;will&nbsp;be&nbsp;added&nbsp;to&nbsp;the&nbsp;code&nbsp;map&nbsp;by&nbsp;the&nbsp;parser
</c40><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n193857"><a id="n193858"><a id="n193876"><a id="n193859">&nbsp;</a></a></a></a><c22><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#81_19_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#89_8_refs">&nbsp;p</a></c20><c13><a href="#81_19_refs">&nbsp;=
</a></c13><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n193862"><a id="n193860"><a id="n193861"><a id="n193875">&nbsp;</a></a></a></a><c13><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../libsyntax/parse/mod.rs.html#188">parse::new_sub_parser_from_file</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#82">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#347">.parse_sess</a></c10><c4>()</c4><c3>,</c3><c27><a href="#81_19_refs">
</a></c27><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n193864"><a id="n193863">&nbsp;</a></a><c27><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#82">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#348">.cfg</a></c10><c4>()</c4><c3>,</c3><c27><a href="#81_19_refs">
</a></c27><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n193872"><a id="n193873"><a id="n193866"><a id="n193865">&nbsp;</a></a></a></a><c27><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c5><a href="#81_19_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#178">res_rel_file</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#82">cx</a></c26><c3>,</c3><c27><a href="#81_19_refs">
</a></c27><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n193867">&nbsp;</a><c27><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#82">sp</a></c26><c3>,</c3><c27><a href="#81_19_refs">
</a></c27><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n193869"><a id="n193871"><a id="n193868"><a id="n193870">&nbsp;</a></a></a></a><c27><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c5><a href="#81_19_refs">&amp;</a></c5><c26><a href="../../libstd/path/posix.rs.html#n155452">Path::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#84">file</a></c26><c4>))</c4><c3>,</c3><c27><a href="#81_19_refs">
</a></c27><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n193874">&nbsp;</a><c27><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#82">sp</a></c26><c4>)</c4><c3>;</c3><c22><a href="#81_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n193880"><a id="n193879"><a id="n193881"><a id="n193878">&nbsp;</a></a></a></a><c22><a href="#81_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#89">p</a></c26><c10><a href="../../libsyntax/parse/parser.rs.html#2658">.parse_expr</a></c10><c4>())</c4><c22><a href="#81_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n193882">&nbsp;</a><c40>//&nbsp;include_str!&nbsp;:&nbsp;read&nbsp;the&nbsp;given&nbsp;file,&nbsp;insert&nbsp;it&nbsp;as&nbsp;a&nbsp;literal&nbsp;string&nbsp;expr
</c40><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n193895"><a id="n193891"><a id="n193890"><a id="n193894"><a id="n193886"><a id="n193885"><a id="n193896"><a id="n193887"><a id="n193897">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#99_74_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#99_74_refs">&nbsp;expand_include_str</a></c30><c4>(</c4><c20><a href="#100_26_refs">cx</a></c20><c1><a href="#99_74_refs">:&nbsp;</a></c1><c8><a href="#99_74_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#99_74_refs">&nbsp;</a></c1><c20><a href="#100_44_refs">sp</a></c20><c1><a href="#99_74_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#99_74_refs">&nbsp;</a></c1><c20><a href="#100_54_refs">tts</a></c20><c1><a href="#99_74_refs">:&nbsp;</a></c1><c8><a href="#99_74_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#99_74_refs">
</a></c1><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n193899"><a id="n194033">&nbsp;</a></a><c1><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#99_74_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#99_74_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n193901"><a id="n193906"><a id="n193907"><a id="n193917"><a id="n193902"><a id="n193900"><a id="n193908"><a id="n193903"><a id="n193905"><a id="n193918"><a id="n193904">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#99_74_refs">&nbsp;</a></c22><c20><a href="#102_8_refs">file</a></c20><c13><a href="#99_74_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#99_74_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/base.rs.html#471">get_single_str_from_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c3>,</c3><c27><a href="#99_74_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c3>,</c3><c27><a href="#99_74_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#100">tts</a></c26><c3>,</c3><c27><a href="#99_74_refs">&nbsp;</a></c27><c12><a href="#99_74_refs">"include_str!"</a></c12><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n193910"><a id="n193911"><a id="n193909">&nbsp;</a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#103_13_refs">f</a></c20><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#103">f</a></c26><c3>,</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n193914"><a id="n193912"><a id="n193915"><a id="n193916"><a id="n193913">&nbsp;</a></a></a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c1><a href="#99_74_refs">return&nbsp;</a></c1><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c4>)</c4><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n193929"><a id="n193922"><a id="n193919"><a id="n193920"><a id="n193925"><a id="n193924"><a id="n193928"><a id="n193926"><a id="n193930"><a id="n193927"><a id="n193921"><a id="n193923">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#99_74_refs">&nbsp;</a></c22><c20><a href="#106_8_refs">file</a></c20><c13><a href="#99_74_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#178">res_rel_file</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c3>,</c3><c27><a href="#99_74_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c3>,</c3><c27><a href="#99_74_refs">&nbsp;</a></c27><c5><a href="#99_74_refs">&amp;</a></c5><c26><a href="../../libstd/path/posix.rs.html#n155452">Path::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#102">file</a></c26><c4>))</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n193936"><a id="n194032"><a id="n193935"><a id="n193938"><a id="n193937"><a id="n193934"><a id="n193931"><a id="n193932"><a id="n193933"><a id="n194031">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#99_74_refs">&nbsp;</a></c22><c20><a href="#107_8_refs">bytes</a></c20><c16><a href="#99_74_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#99_74_refs">match&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140003">File::open</a></c26><c4>(</c4><c5><a href="#99_74_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#106">file</a></c26><c4>)</c4><c10><a href="c=1 n=251233">.read_to_end</a></c10><c4>()</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n193939"><a id="n193940"><a id="n194026"><a id="n194027">&nbsp;</a></a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#108_12_refs">e</a></c20><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n193978"><a id="n194014"><a id="n193960"><a id="n193963"><a id="n193959"><a id="n193988"><a id="n193992"><a id="n193984"><a id="n193951"><a id="n193998"><a id="n194019"><a id="n193941"><a id="n194005"><a id="n193982"><a id="n194017"><a id="n193970"><a id="n193964"><a id="n193942"><a id="n193999"><a id="n193956"><a id="n193946"><a id="n193952"><a id="n193986"><a id="n193981"><a id="n193989"><a id="n193987"><a id="n194012"><a id="n193961"><a id="n193994"><a id="n194004"><a id="n193995"><a id="n193948"><a id="n193996"><a id="n193993"><a id="n194018"><a id="n193955"><a id="n193958"><a id="n193944"><a id="n193997"><a id="n193966"><a id="n193977"><a id="n193985"><a id="n193968"><a id="n194001"><a id="n193945"><a id="n194020"><a id="n194007"><a id="n193971"><a id="n193947"><a id="n193974"><a id="n193965"><a id="n194010"><a id="n193969"><a id="n193967"><a id="n193972"><a id="n193990"><a id="n193957"><a id="n193943"><a id="n194000"><a id="n193983"><a id="n194009"><a id="n194006"><a id="n193975"><a id="n194008"><a id="n193949"><a id="n194002"><a id="n193962"><a id="n193973"><a id="n193950"><a id="n193980"><a id="n194003"><a id="n193991"><a id="n193976"><a id="n193979"><a id="n194011">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#404">.span_err</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c13><c21><a href="../../libsyntax/ext/base.rs.html#404">format!</a></c21><c4>(</c4><c13><a href="../../libstd/fmt/rt.rs.html#n169507">"couldn't&nbsp;read&nbsp;</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n169507">:&nbsp;</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n169507">"</a></c13><c3>,</c3><c21><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#106">file</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n171474">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c21><c20><a href="#109_76_refs">e</a></c20><c4>))</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n194024"><a id="n194023"><a id="n194021"><a id="n194025"><a id="n194022">&nbsp;</a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#99_74_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c4>)</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n194029"><a id="n194028"><a id="n194030">&nbsp;</a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="#112_11_refs">bytes</a></c20><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#112">bytes</a></c26><c3>,</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a>&nbsp;<c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n194036"><a id="n194034"><a id="n194134"><a id="n194035">&nbsp;</a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#99_74_refs">&nbsp;</a></c21><c26><a href="../../libstd/str.rs.html#n58881">str::from_utf8_owned</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#107">bytes</a></c26><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n194038"><a id="n194059"><a id="n194066"><a id="n194037">&nbsp;</a></a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#115_13_refs">src</a></c20><c4>)</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Add&nbsp;this&nbsp;input&nbsp;file&nbsp;to&nbsp;the&nbsp;code&nbsp;map&nbsp;to&nbsp;make&nbsp;it&nbsp;available&nbsp;as
</c40><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;dependency&nbsp;information
</c40><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n194043"><a id="n194042"><a id="n194039"><a id="n194044"><a id="n194045"><a id="n194040"><a id="n194041">&nbsp;</a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#99_74_refs">&nbsp;</a></c22><c20><a href="#118_16_refs">filename</a></c20><c13><a href="#99_74_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#106">file</a></c26><c10><a href="c=1 n=252273">.display</a></c10><c4>()</c4><c10><a href="../../libstd/to_str.rs.html#n99159">.to_str</a></c10><c4>()</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n194048"><a id="n194046"><a id="n194047"><a id="n194049"><a id="n194052"><a id="n194050"><a id="n194051">&nbsp;</a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#99_74_refs">&nbsp;</a></c22><c20><a href="#119_16_refs">interned</a></c20><c13><a href="#99_74_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/parse/token.rs.html#633">token::intern_and_get_ident</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#115">src</a></c26><c4>)</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n194056"><a id="n194058"><a id="n194053"><a id="n194057"><a id="n194054"><a id="n194055">&nbsp;</a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#346">.codemap</a></c10><c4>()</c4><c10><a href="../../libsyntax/codemap.rs.html#274">.new_filemap</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#118">filename</a></c26><c3>,</c3><c10><a href="../../libsyntax/codemap.rs.html#274">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/source_util.rs.html#115">src</a></c26><c4>)</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n194064"><a id="n194062"><a id="n194060"><a id="n194065"><a id="n194063"><a id="n194061">&nbsp;</a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#591">.expr_str</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#591">&nbsp;</a></c10><c26><a href="../../libsyntax/ext/source_util.rs.html#119">interned</a></c26><c4>))</c4><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n194132"><a id="n194133"><a id="n194067">&nbsp;</a></a></a><c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#99_74_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#99_74_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n194080"><a id="n194093"><a id="n194097"><a id="n194079"><a id="n194085"><a id="n194086"><a id="n194089"><a id="n194108"><a id="n194125"><a id="n194115"><a id="n194120"><a id="n194076"><a id="n194084"><a id="n194099"><a id="n194106"><a id="n194118"><a id="n194075"><a id="n194111"><a id="n194107"><a id="n194074"><a id="n194101"><a id="n194091"><a id="n194103"><a id="n194112"><a id="n194069"><a id="n194073"><a id="n194071"><a id="n194105"><a id="n194068"><a id="n194081"><a id="n194083"><a id="n194110"><a id="n194087"><a id="n194095"><a id="n194070"><a id="n194072"><a id="n194126"><a id="n194117"><a id="n194102"><a id="n194109"><a id="n194088"><a id="n194092"><a id="n194116"><a id="n194123"><a id="n194082"><a id="n194094"><a id="n194100"><a id="n194098"><a id="n194113"><a id="n194124"><a id="n194090"><a id="n194096"><a id="n194104"><a id="n194114">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#100">cx</a></c26><c13><a href="../../libsyntax/ext/base.rs.html#404">.span_err</a></c13><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c3>,</c3><c13><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c13><c21><a href="../../libsyntax/ext/base.rs.html#404">format!</a></c21><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#125">"</a></c26><c3>{}</c3><c26><a href="../../libsyntax/ext/source_util.rs.html#125">&nbsp;wasn't&nbsp;a&nbsp;utf-8&nbsp;file"</a></c26><c3>,</c3><c21><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#106">file</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n169877">.display</a></c27><c4>()))</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n194127"><a id="n194131"><a id="n194128"><a id="n194129"><a id="n194130">&nbsp;</a></a></a></a></a><c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#99_74_refs">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#100">sp</a></c26><c4>)</c4><c3>;</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a>&nbsp;<c22><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#99_74_refs">
</a></c21><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a>&nbsp;<c21><a href="#99_74_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#99_74_refs">
</a></c22><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n194135">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n194147"><a id="n194148"><a id="n194140"><a id="n194150"><a id="n194144"><a id="n194143"><a id="n194149"><a id="n194139"><a id="n194138">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#130_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#130_1_refs">&nbsp;expand_include_bin</a></c30><c4>(</c4><c20><a href="#131_26_refs">cx</a></c20><c1><a href="#130_1_refs">:&nbsp;</a></c1><c8><a href="#130_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#130_1_refs">&nbsp;</a></c1><c20><a href="#131_44_refs">sp</a></c20><c1><a href="#130_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">Span</a></c8><c3>,</c3><c1><a href="#130_1_refs">&nbsp;</a></c1><c20><a href="#131_54_refs">tts</a></c20><c1><a href="#130_1_refs">:&nbsp;</a></c1><c8><a href="#130_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#561">ast::TokenTree</a></c8><c3>]</c3><c4>)</c4><c1><a href="#130_1_refs">
</a></c1><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n194184"><a id="n194152">&nbsp;</a></a><c1><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#130_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/ext/base.rs.html#107">base::MacResult</a></c8><c1><a href="#130_1_refs">
</a></c1><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a>&nbsp;<c3>{</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n194159"><a id="n194158"><a id="n194156"><a id="n194160"><a id="n194153"><a id="n194171"><a id="n194161"><a id="n194154"><a id="n194170"><a id="n194155"><a id="n194157">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#130_1_refs">&nbsp;</a></c22><c20><a href="#134_8_refs">file</a></c20><c13><a href="#130_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#130_1_refs">match&nbsp;</a></c21><c26><a href="../../libsyntax/ext/base.rs.html#471">get_single_str_from_tts</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">cx</a></c26><c3>,</c3><c27><a href="#130_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c3>,</c3><c27><a href="#130_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#131">tts</a></c26><c3>,</c3><c27><a href="#130_1_refs">&nbsp;</a></c27><c12><a href="#130_1_refs">"include_bin!"</a></c12><c4>)</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n194162"><a id="n194164"><a id="n194163">&nbsp;</a></a></a><c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#135_13_refs">f</a></c20><c4>)</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#135">f</a></c26><c3>,</c3><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n194167"><a id="n194166"><a id="n194165"><a id="n194169"><a id="n194168">&nbsp;</a></a></a></a></a><c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#130_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c1><a href="#130_1_refs">return&nbsp;</a></c1><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c4>)</c4><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a>&nbsp;<c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n194178"><a id="n194183"><a id="n194175"><a id="n194181"><a id="n194182"><a id="n194176"><a id="n194179"><a id="n194177"><a id="n194173"><a id="n194180"><a id="n194174"><a id="n194172">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#130_1_refs">&nbsp;</a></c22><c20><a href="#138_8_refs">file</a></c20><c16><a href="#130_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libsyntax/ext/source_util.rs.html#178">res_rel_file</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">cx</a></c26><c3>,</c3><c27><a href="#130_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c3>,</c3><c27><a href="#130_1_refs">&nbsp;</a></c27><c5><a href="#130_1_refs">&amp;</a></c5><c26><a href="../../libstd/path/posix.rs.html#n155452">Path::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#134">file</a></c26><c4>))</c4><c3>;</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n194309"><a id="n194187"><a id="n194188"><a id="n194185"><a id="n194189"><a id="n194186">&nbsp;</a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#130_1_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140003">File::open</a></c26><c4>(</c4><c5><a href="#130_1_refs">&amp;</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#138">file</a></c26><c4>)</c4><c10><a href="c=1 n=251233">.read_to_end</a></c10><c4>()</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n194278"><a id="n194191"><a id="n194190"><a id="n194277">&nbsp;</a></a></a></a><c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#140_12_refs">e</a></c20><c4>)</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n194192"><a id="n194233"><a id="n194261"><a id="n194199"><a id="n194241"><a id="n194247"><a id="n194253"><a id="n194202"><a id="n194252"><a id="n194198"><a id="n194201"><a id="n194217"><a id="n194230"><a id="n194195"><a id="n194213"><a id="n194224"><a id="n194211"><a id="n194222"><a id="n194209"><a id="n194207"><a id="n194250"><a id="n194242"><a id="n194221"><a id="n194227"><a id="n194260"><a id="n194194"><a id="n194218"><a id="n194220"><a id="n194254"><a id="n194265"><a id="n194210"><a id="n194271"><a id="n194231"><a id="n194226"><a id="n194223"><a id="n194251"><a id="n194203"><a id="n194229"><a id="n194208"><a id="n194239"><a id="n194236"><a id="n194219"><a id="n194258"><a id="n194193"><a id="n194263"><a id="n194196"><a id="n194262"><a id="n194238"><a id="n194245"><a id="n194270"><a id="n194248"><a id="n194249"><a id="n194237"><a id="n194197"><a id="n194256"><a id="n194243"><a id="n194246"><a id="n194244"><a id="n194268"><a id="n194259"><a id="n194225"><a id="n194214"><a id="n194240"><a id="n194212"><a id="n194255"><a id="n194206"><a id="n194232"><a id="n194215"><a id="n194269"><a id="n194235"><a id="n194257"><a id="n194216"><a id="n194200"><a id="n194234"><a id="n194228">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#131">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#404">.span_err</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c10><c21><a href="../../libsyntax/ext/base.rs.html#404">format!</a></c21><c4>(</c4><c12><a href="../../libstd/option.rs.html#n104337">"couldn't&nbsp;read&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/option.rs.html#n104337">:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/option.rs.html#n104337">"</a></c12><c3>,</c3><c21><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#138">file</a></c26><c20><a href="#141_60_refs">.display</a></c20><c4>()</c4><c3>,</c3><c21><a href="../../libsyntax/ext/base.rs.html#404">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n171474">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n194273"><a id="n194276"><a id="n194274"><a id="n194272"><a id="n194275">&nbsp;</a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#130_1_refs">&nbsp;</a></c1><c26><a href="../../libsyntax/ext/base.rs.html#126">MacResult::dummy_expr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c4>)</c4><c3>;</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a>&nbsp;<c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n194308"><a id="n194279"><a id="n194280"><a id="n194297">&nbsp;</a></a></a></a><c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="#144_11_refs">bytes</a></c20><c4>)</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#130_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n194295"><a id="n194282"><a id="n194294"><a id="n194284"><a id="n194281"><a id="n194296"><a id="n194292"><a id="n194287"><a id="n194293"><a id="n194291"><a id="n194290"><a id="n194288"><a id="n194289"><a id="n194283"><a id="n194285">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#130_1_refs">&nbsp;</a></c22><c20><a href="#145_16_refs">bytes</a></c20><c13><a href="#130_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libsyntax/ext/source_util.rs.html#144">bytes</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="c=1 n=248977">.map</a></c10><c4>(</c4><c1><a href="c=1 n=248977">|</a></c1><c20><a href="#145_42_refs">x</a></c20><c8><a href="c=1 n=248977">|</a></c8><c1><a href="c=1 n=248977">&nbsp;</a></c1><c8><a href="c=1 n=248977">*</a></c8><c26><a href="../../libsyntax/ext/source_util.rs.html#145">x</a></c26><c4>)</c4><c10><a href="c=1 n=249980">.collect</a></c10><c4>()</c4><c3>;</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n194306"><a id="n194303"><a id="n194305"><a id="n194302"><a id="n194298"><a id="n194301"><a id="n194299"><a id="n194307"><a id="n194300"><a id="n194304">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/base.rs.html#109">base::MRExpr</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">cx</a></c26><c10><a href="../../libsyntax/ext/build.rs.html#558">.expr_lit</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#131">sp</a></c26><c3>,</c3><c10><a href="../../libsyntax/ext/build.rs.html#558">&nbsp;</a></c10><c26><a href="../../libsyntax/ast.rs.html#667">ast::LitBinary</a></c26><c4>(</c4><c26><a href="../../libstd/rc.rs.html#n73679">Rc::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#145">bytes</a></c26><c4>))))</c4><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a>&nbsp;<c22><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#130_1_refs">
</a></c21><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a>&nbsp;<c21><a href="#130_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#130_1_refs">
</a></c22><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n194310">&nbsp;</a><c40>//&nbsp;recur&nbsp;along&nbsp;an&nbsp;ExpnInfo&nbsp;chain&nbsp;to&nbsp;find&nbsp;the&nbsp;original&nbsp;expression
</c40><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n194315"><a id="n194317"><a id="n194318"><a id="n194313"><a id="n194314"><a id="n194319">&nbsp;</a></a></a></a></a></a><c30>fn</c30><c30><a href="#151_65_refs">&nbsp;topmost_expn_info</a></c30><c4>(</c4><c20><a href="#152_21_refs">expn_info</a></c20><c1><a href="#151_65_refs">:&nbsp;</a></c1><c8><a href="#151_65_refs">@</a></c8><c8><a href="../../libsyntax/codemap.rs.html#182">codemap::ExpnInfo</a></c8><c4>)</c4><c1><a href="#151_65_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#151_65_refs">&nbsp;</a></c1><c8><a href="#151_65_refs">@</a></c8><c8><a href="../../libsyntax/codemap.rs.html#182">codemap::ExpnInfo</a></c8><c1><a href="#151_65_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n194355"><a id="n194321"><a id="n194320">&nbsp;</a></a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#151_65_refs">&nbsp;</a></c21><c5><a href="#151_65_refs">*</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#152">expn_info</a></c26><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n194354"><a id="n194323"><a id="n194324"><a id="n194322">&nbsp;</a></a></a></a><c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/codemap.rs.html#182">ExpnInfo&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#182">&nbsp;call_site:&nbsp;</a></c20><c20><a href="#154_30_refs">ref&nbsp;call_site</a></c20><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#182">&nbsp;..&nbsp;</a></c20><c3>}</c3><c21><a href="#151_65_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n194353"><a id="n194325"><a id="n194326">&nbsp;</a></a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#151_65_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#154">call_site</a></c26><c24><a href="../../libsyntax/codemap.rs.html#91">.expn_info</a></c24><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n194327"><a id="n194328"><a id="n194329"><a id="n194350">&nbsp;</a></a></a></a><c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#156_21_refs">next_expn_info</a></c20><c4>)</c4><c21><a href="#151_65_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n194349"><a id="n194330"><a id="n194331">&nbsp;</a></a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#151_65_refs">&nbsp;</a></c21><c5><a href="#151_65_refs">*</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#156">next_expn_info</a></c26><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n194334">&nbsp;</a><c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/codemap.rs.html#182">ExpnInfo&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#182">
</a></c20><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n194332"><a id="n194333">&nbsp;</a></a><c20><a href="../../libsyntax/codemap.rs.html#182">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callee:&nbsp;</a></c20><c20><a href="../../libsyntax/codemap.rs.html#173">NameAndSpan&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#173">&nbsp;name:&nbsp;</a></c20><c20><a href="#159_56_refs">ref&nbsp;name</a></c20><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#173">&nbsp;..&nbsp;</a></c20><c3>},</c3><c20><a href="../../libsyntax/codemap.rs.html#182">
</a></c20><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/codemap.rs.html#182">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..
</a></c20><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n194335"><a id="n194348">&nbsp;</a></a><c20><a href="../../libsyntax/codemap.rs.html#182">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c21><a href="#151_65_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a>&nbsp;<c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Don't&nbsp;recurse&nbsp;into&nbsp;file&nbsp;using&nbsp;"include!"
</c40><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n194340"><a id="n194338"><a id="n194347"><a id="n194339"><a id="n194337"><a id="n194336">&nbsp;</a></a></a></a></a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#151_65_refs">&nbsp;</a></c21><c12><a href="#151_65_refs">"include"</a></c12><c5><a href="#151_65_refs">&nbsp;==&nbsp;*</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#159">name</a></c26><c21><a href="#151_65_refs">&nbsp;&nbsp;</a></c21><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n194341">&nbsp;</a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#152">expn_info</a></c26><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n194346"><a id="n194342">&nbsp;</a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#151_65_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#151_65_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n194344"><a id="n194345"><a id="n194343">&nbsp;</a></a></a><c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#151">topmost_expn_info</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#156">next_expn_info</a></c26><c4>)</c4><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a>&nbsp;<c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a>&nbsp;<c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a>&nbsp;<c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a>&nbsp;<c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n194352"><a id="n194351">&nbsp;</a></a><c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#151_65_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#151_65_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/ext/source_util.rs.html#152">expn_info</a></c26><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a>&nbsp;<c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a>&nbsp;<c22><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#151_65_refs">
</a></c21><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a>&nbsp;<c21><a href="#151_65_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#151_65_refs">
</a></c22><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a>&nbsp;<c40>//&nbsp;resolve&nbsp;a&nbsp;file-system&nbsp;path&nbsp;to&nbsp;an&nbsp;absolute&nbsp;file-system&nbsp;path&nbsp;(if&nbsp;it
</c40><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n194356">&nbsp;</a><c40>//&nbsp;isn't&nbsp;already)
</c40><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n194365"><a id="n194372"><a id="n194370"><a id="n194369"><a id="n194368"><a id="n194361"><a id="n194360"><a id="n194364"><a id="n194359"><a id="n194373">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#178_18_refs">&nbsp;res_rel_file</a></c30><c4>(</c4><c20><a href="#179_16_refs">cx</a></c20><c1><a href="#178_18_refs">:&nbsp;</a></c1><c8><a href="#178_18_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libsyntax/ext/base.rs.html#307">ExtCtxt</a></c8><c3>,</c3><c1><a href="#178_18_refs">&nbsp;</a></c1><c20><a href="#179_34_refs">sp</a></c20><c1><a href="#178_18_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/codemap.rs.html#87">codemap::Span</a></c8><c3>,</c3><c1><a href="#178_18_refs">&nbsp;</a></c1><c20><a href="#179_53_refs">arg</a></c20><c1><a href="#178_18_refs">:&nbsp;</a></c1><c8><a href="#178_18_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#178_18_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#178_18_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c1><a href="#178_18_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a>&nbsp;<c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;NB:&nbsp;relative&nbsp;paths&nbsp;are&nbsp;resolved&nbsp;relative&nbsp;to&nbsp;the&nbsp;compilation&nbsp;unit
</c40><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n194374"><a id="n194375"><a id="n194394"><a id="n194376"><a id="n194400">&nbsp;</a></a></a></a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#178_18_refs">&nbsp;</a></c21><c5><a href="#178_18_refs">!</a></c5><c26><a href="../../libsyntax/ext/source_util.rs.html#179">arg</a></c26><c10><a href="../../libstd/path/posix.rs.html#n155075">.is_absolute</a></c10><c4>()</c4><c21><a href="#178_18_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n194378"><a id="n194384"><a id="n194386"><a id="n194385"><a id="n194377"><a id="n194379"><a id="n194380"><a id="n194383"><a id="n194381"><a id="n194382">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#178_18_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#182_12_refs">&nbsp;cu</a></c20><c16><a href="#178_18_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/path/posix.rs.html#n155452">Path::new</a></c26><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#179">cx</a></c26><c10><a href="../../libsyntax/ext/base.rs.html#346">.codemap</a></c10><c4>()</c4><c10><a href="../../libsyntax/codemap.rs.html#342">.span_to_filename</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#179">sp</a></c26><c4>))</c4><c3>;</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n194387"><a id="n194389"><a id="n194388">&nbsp;</a></a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#182">cu</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154973">.pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n194390"><a id="n194393"><a id="n194391"><a id="n194392">&nbsp;</a></a></a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#182">cu</a></c26><c10><a href="c=1 n=252286">.push</a></c10><c4>(</c4><c26><a href="../../libsyntax/ext/source_util.rs.html#179">arg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n194395">&nbsp;</a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#182">cu</a></c26><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n194399"><a id="n194396">&nbsp;</a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#178_18_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#178_18_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n194397"><a id="n194398">&nbsp;</a></a><c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/ext/source_util.rs.html#179">arg</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154254">.clone</a></c10><c4>()</c4><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c22><a href="#178_18_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#178_18_refs">
</a></c22><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="69_1_refs"><a href="#69"><c40>libsyntax/ext/source_util.rs:69:1-69:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;expand_mod(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#281"><c40>281:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_mod));
<br/></a><br/><br/><a id="99_74_refs"><a href="#99"><c40>libsyntax/ext/source_util.rs:99:74-99:74&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;include_str!&nbsp;:&nbsp;read&nbsp;the&nbsp;given&nbsp;file,&nbsp;insert&nbsp;it&nbsp;as&nbsp;a&nbsp;literal&nbsp;string&nbsp;expr
<br/>pub&nbsp;fn&nbsp;expand_include_str(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#275"><c40>275:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_include_str));
<br/></a><br/><br/><a id="30_50_refs"><a href="#30"><c40>libsyntax/ext/source_util.rs:30:50-30:50&nbsp;-fn-&nbsp;definition:<br/></c40><pr>/*&nbsp;line!():&nbsp;expands&nbsp;to&nbsp;the&nbsp;current&nbsp;line&nbsp;number&nbsp;*/
<br/>pub&nbsp;fn&nbsp;expand_line(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#260"><c40>260:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_line));
<br/></a><br/><br/><a id="63_1_refs"><a href="#63"><c40>libsyntax/ext/source_util.rs:63:1-63:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;expand_stringify(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#269"><c40>269:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_stringify));
<br/></a><br/><br/><a id="178_18_refs"><a href="#178"><c40>libsyntax/ext/source_util.rs:178:18-178:18&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;isn't&nbsp;already)
<br/>fn&nbsp;res_rel_file(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;codemap::Span,&nbsp;arg:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/source_util.rs.html#92"><c40>92:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;res_rel_file(cx,
<br/></a><a href="../../libsyntax/ext/source_util.rs.html#106"><c40>106:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;file&nbsp;=&nbsp;res_rel_file(cx,&nbsp;sp,&nbsp;&amp;Path::new(file));
<br/></a><a href="../../libsyntax/ext/source_util.rs.html#138"><c40>138:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;file&nbsp;=&nbsp;res_rel_file(cx,&nbsp;sp,&nbsp;&amp;Path::new(file));
<br/></a><br/><br/><a id="81_19_refs"><a href="#81"><c40>libsyntax/ext/source_util.rs:81:19-81:19&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;unhygienically.
<br/>pub&nbsp;fn&nbsp;expand_include(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#272"><c40>272:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_include));
<br/></a><br/><br/><a id="130_1_refs"><a href="#130"><c40>libsyntax/ext/source_util.rs:130:1-130:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;expand_include_bin(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#278"><c40>278:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_include_bin));
<br/></a><br/><br/><a id="151_65_refs"><a href="#151"><c40>libsyntax/ext/source_util.rs:151:65-151:65&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;recur&nbsp;along&nbsp;an&nbsp;ExpnInfo&nbsp;chain&nbsp;to&nbsp;find&nbsp;the&nbsp;original&nbsp;expression
<br/>fn&nbsp;topmost_expn_info(expn_info:&nbsp;@codemap::ExpnInfo)&nbsp;-&gt;&nbsp;@codemap::ExpnInfo&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/source_util.rs.html#35"><c40>35:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;topmost&nbsp;=&nbsp;topmost_expn_info(cx.backtrace().unwrap());
<br/></a><a href="../../libsyntax/ext/source_util.rs.html#166"><c40>166:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;topmost_expn_info(next_expn_info)
<br/></a><a href="../../libsyntax/ext/source_util.rs.html#46"><c40>46:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;topmost&nbsp;=&nbsp;topmost_expn_info(cx.backtrace().unwrap());
<br/></a><a href="../../libsyntax/ext/source_util.rs.html#58"><c40>58:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;topmost&nbsp;=&nbsp;topmost_expn_info(cx.backtrace().unwrap());
<br/></a><br/><br/><a id="41_51_refs"><a href="#41"><c40>libsyntax/ext/source_util.rs:41:51-41:51&nbsp;-fn-&nbsp;definition:<br/></c40><pr>/*&nbsp;col!():&nbsp;expands&nbsp;to&nbsp;the&nbsp;current&nbsp;column&nbsp;number&nbsp;*/
<br/>pub&nbsp;fn&nbsp;expand_col(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#263"><c40>263:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_col));
<br/></a><br/><br/><a id="53_24_refs"><a href="#53"><c40>libsyntax/ext/source_util.rs:53:24-53:24&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;*&nbsp;out&nbsp;if&nbsp;we&nbsp;wanted.&nbsp;*/
<br/>pub&nbsp;fn&nbsp;expand_file(cx:&nbsp;&amp;mut&nbsp;ExtCtxt,&nbsp;sp:&nbsp;Span,&nbsp;tts:&nbsp;&amp;[ast::TokenTree])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../libsyntax/ext/base.rs.html"><c40>libsyntax/ext/base.rs:<br/></c40></a><a href="../../libsyntax/ext/base.rs.html#266"><c40>266:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ext::source_util::expand_file));
<br/></a><br/></div></maintext></div></body>