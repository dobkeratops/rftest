<head><link href="css/shCore.css" rel="stylesheet" type="text/css"/><link href="css/shThemeDefault.css" rel="stylesheet" type="text/css"/></head><style type="text/css">maintext {color:#f0f0f0; font-size:12px; font-family:"Courier New"}
a:link{ color:#f0f0f0; font-style:normal;   text-decoration:none;}
a:visited{ color:#f0f0f0; font-style:normal;   text-decoration:none;}
a:link:hover{ color:#f0f0f0; font-style:normal; background-color:#606060; }
pr{font-weight:bold}
ln{color:#606060; -moz-user-select:-moz-none; -khtml-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none;}
c24{color:#ffffff; font-style:italic; opacity:0.5}
c25{color:#ffffff; opacity:0.92}
c26{color:#ffffff; font-weight:bold; }
c27{color:#b0ffff; font-weight:bold; }
c28{color:#b0ffb0; font-weight:bold; }
c29{color:#d0e0ff; font-weight:bold; }
c30{color:#fff0e0; font-weight:bold; }
c31{color:#d0b0ff; font-weight:bold; }
c32{color:#ffffff; font-style:italic; opacity:0.6}
c1{color:#ffffc0;   font-weight:bold; }
c33{color:#e0a0d0;  }
c2{color:#60f0c0}
c3{color:#50e0ff; }
c4{color:#f090f0}
c5{color:#50ff80; }
c6{color:#f0f0e0}
c7{color:#fff0d0}
c8{color:#e0d0f0}
c9{color:#70f0f0}
c10{color:#f0f070}
c11{color:#c0f070}
c12{color:#70c0f0}
c13{color:#c0f070}
c14{color:#f0ffc0}
c15{color:#f0f0e0}
c16{color:#c0ffe0}
c17{color:#90d0f0}
c18{color:#f0a0d0}
c19{color:#d0f0a0}
c20{color:#0f0ff}
c21{color:#d0d0d0; font-weight:bold}
c22{color:#c0ffd0; }
c23{color:#d0f0ff; }
</style><body style="background-color:#34383c;"><maintext><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../../../librustc/">librustc</a><c1>/</c1><c0><a href="./../../../../librustc/middle/">middle</a><c1>/</c1><c0><a href="./../../../../librustc/middle/typeck/">typeck</a><c1>/</c1><c0><a href="./../../../../librustc/middle/typeck/infer/">infer</a><c1>/</c1><c0><a href="./../../../../librustc/middle/typeck/infer/coercion.rs.html">coercion.rs</a><br/><br/><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c24>//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c24><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c24>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c24><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c24>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c24><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c24>//
</c24><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c24>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c24><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c24>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c24><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c24>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c24><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c24>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c24><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c24>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c24><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c24>/*!
</c24><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c24>#&nbsp;Type&nbsp;Coercion
</c24><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c24>Under&nbsp;certain&nbsp;circumstances&nbsp;we&nbsp;will&nbsp;coerce&nbsp;from&nbsp;one&nbsp;type&nbsp;to&nbsp;another,
</c24><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c24>for&nbsp;example&nbsp;by&nbsp;auto-borrowing.&nbsp;&nbsp;This&nbsp;occurs&nbsp;in&nbsp;situations&nbsp;where&nbsp;the
</c24><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c24>compiler&nbsp;has&nbsp;a&nbsp;firm&nbsp;'expected&nbsp;type'&nbsp;that&nbsp;was&nbsp;supplied&nbsp;from&nbsp;the&nbsp;user,
</c24><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c24>and&nbsp;where&nbsp;the&nbsp;actual&nbsp;type&nbsp;is&nbsp;similar&nbsp;to&nbsp;that&nbsp;expected&nbsp;type&nbsp;in&nbsp;purpose
</c24><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c24>but&nbsp;not&nbsp;in&nbsp;representation&nbsp;(so&nbsp;actual&nbsp;subtyping&nbsp;is&nbsp;inappropriate).
</c24><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c24>##&nbsp;Reborrowing
</c24><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c24>Note&nbsp;that&nbsp;if&nbsp;we&nbsp;are&nbsp;expecting&nbsp;a&nbsp;borrowed&nbsp;pointer,&nbsp;we&nbsp;will&nbsp;*reborrow*
</c24><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c24>even&nbsp;if&nbsp;the&nbsp;argument&nbsp;provided&nbsp;was&nbsp;already&nbsp;a&nbsp;borrowed&nbsp;pointer.&nbsp;&nbsp;This&nbsp;is
</c24><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c24>useful&nbsp;for&nbsp;freezing&nbsp;mut/const&nbsp;things&nbsp;(that&nbsp;is,&nbsp;when&nbsp;the&nbsp;expected&nbsp;is&nbsp;&amp;T
</c24><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c24>but&nbsp;you&nbsp;have&nbsp;&amp;const&nbsp;T&nbsp;or&nbsp;&amp;mut&nbsp;T)&nbsp;and&nbsp;also&nbsp;for&nbsp;avoiding&nbsp;the&nbsp;linearity
</c24><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c24>of&nbsp;mut&nbsp;things&nbsp;(when&nbsp;the&nbsp;expected&nbsp;is&nbsp;&amp;mut&nbsp;T&nbsp;and&nbsp;you&nbsp;have&nbsp;&amp;mut&nbsp;T).&nbsp;&nbsp;See
</c24><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c24>the&nbsp;various&nbsp;`src/test/run-pass/coerce-reborrow-*.rs`&nbsp;tests&nbsp;for
</c24><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c24>examples&nbsp;of&nbsp;where&nbsp;this&nbsp;is&nbsp;useful.
</c24><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c24>##&nbsp;Subtle&nbsp;note
</c24><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a>&nbsp;<c24>When&nbsp;deciding&nbsp;what&nbsp;type&nbsp;coercions&nbsp;to&nbsp;consider,&nbsp;we&nbsp;do&nbsp;not&nbsp;attempt&nbsp;to
</c24><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c24>resolve&nbsp;any&nbsp;type&nbsp;variables&nbsp;we&nbsp;may&nbsp;encounter.&nbsp;&nbsp;This&nbsp;is&nbsp;because&nbsp;`b`
</c24><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c24>represents&nbsp;the&nbsp;expected&nbsp;type&nbsp;"as&nbsp;the&nbsp;user&nbsp;wrote&nbsp;it",&nbsp;meaning&nbsp;that&nbsp;if
</c24><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c24>the&nbsp;user&nbsp;defined&nbsp;a&nbsp;generic&nbsp;function&nbsp;like
</c24><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;fn&nbsp;foo&lt;A&gt;(a:&nbsp;A,&nbsp;b:&nbsp;A)&nbsp;{&nbsp;...&nbsp;}
</c24><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c24>and&nbsp;then&nbsp;we&nbsp;wrote&nbsp;`foo(&amp;1,&nbsp;@2)`,&nbsp;we&nbsp;will&nbsp;not&nbsp;auto-borrow
</c24><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c24>either&nbsp;argument.&nbsp;&nbsp;In&nbsp;older&nbsp;code&nbsp;we&nbsp;went&nbsp;to&nbsp;some&nbsp;lengths&nbsp;to
</c24><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c24>resolve&nbsp;the&nbsp;`b`&nbsp;variable,&nbsp;which&nbsp;could&nbsp;mean&nbsp;that&nbsp;we'd
</c24><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a>&nbsp;<c24>auto-borrow&nbsp;later&nbsp;arguments&nbsp;but&nbsp;not&nbsp;earlier&nbsp;ones,&nbsp;which
</c24><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a>&nbsp;<c24>seems&nbsp;very&nbsp;confusing.
</c24><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a>&nbsp;<c24>##&nbsp;Subtler&nbsp;note
</c24><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a>&nbsp;<c24>However,&nbsp;right&nbsp;now,&nbsp;if&nbsp;the&nbsp;user&nbsp;manually&nbsp;specifies&nbsp;the
</c24><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a>&nbsp;<c24>values&nbsp;for&nbsp;the&nbsp;type&nbsp;variables,&nbsp;as&nbsp;so:
</c24><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;foo::&lt;&amp;int&gt;(@1,&nbsp;@2)
</c24><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a>&nbsp;<c24>then&nbsp;we&nbsp;*will*&nbsp;auto-borrow,&nbsp;because&nbsp;we&nbsp;can't&nbsp;distinguish&nbsp;this&nbsp;from&nbsp;a
</c24><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a>&nbsp;<c24>function&nbsp;that&nbsp;declared&nbsp;`&amp;int`.&nbsp;&nbsp;This&nbsp;is&nbsp;inconsistent&nbsp;but&nbsp;it's&nbsp;easiest
</c24><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a>&nbsp;<c24>at&nbsp;the&nbsp;moment.&nbsp;The&nbsp;right&nbsp;thing&nbsp;to&nbsp;do,&nbsp;I&nbsp;think,&nbsp;is&nbsp;to&nbsp;consider&nbsp;the
</c24><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a>&nbsp;<c24>*unsubstituted*&nbsp;type&nbsp;when&nbsp;deciding&nbsp;whether&nbsp;to&nbsp;auto-borrow,&nbsp;but&nbsp;the
</c24><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a>&nbsp;<c24>*substituted*&nbsp;type&nbsp;when&nbsp;considering&nbsp;the&nbsp;bounds&nbsp;and&nbsp;so&nbsp;forth.&nbsp;But&nbsp;most
</c24><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a>&nbsp;<c24>of&nbsp;our&nbsp;methods&nbsp;don't&nbsp;give&nbsp;access&nbsp;to&nbsp;the&nbsp;unsubstituted&nbsp;type,&nbsp;and
</c24><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a>&nbsp;<c24>rightly&nbsp;so&nbsp;because&nbsp;they'd&nbsp;be&nbsp;error-prone.&nbsp;&nbsp;So&nbsp;maybe&nbsp;the&nbsp;thing&nbsp;to&nbsp;do&nbsp;is
</c24><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a>&nbsp;<c24>to&nbsp;actually&nbsp;determine&nbsp;the&nbsp;kind&nbsp;of&nbsp;coercions&nbsp;that&nbsp;should&nbsp;occur
</c24><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a>&nbsp;<c24>separately&nbsp;and&nbsp;pass&nbsp;them&nbsp;in.&nbsp;&nbsp;Or&nbsp;maybe&nbsp;it's&nbsp;ok&nbsp;as&nbsp;is.&nbsp;&nbsp;Anyway,&nbsp;it's
</c24><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a>&nbsp;<c24>sort&nbsp;of&nbsp;a&nbsp;minor&nbsp;point&nbsp;so&nbsp;I've&nbsp;opted&nbsp;to&nbsp;leave&nbsp;it&nbsp;for&nbsp;later---after&nbsp;all
</c24><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a>&nbsp;<c24>we&nbsp;may&nbsp;want&nbsp;to&nbsp;adjust&nbsp;precisely&nbsp;when&nbsp;coercions&nbsp;occur.
</c24><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a>&nbsp;<c24>*/
</c24><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty::</c0><c4>{</c4><c0>AutoPtr</c0><c4>,</c4><c0>&nbsp;AutoBorrowVec</c0><c4>,</c4><c0>&nbsp;AutoBorrowFn</c0><c4>};</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty::</c0><c4>{</c4><c0>AutoDerefRef</c0><c4>};</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty::</c0><c4>{</c4><c0>vstore_slice</c0><c4>,</c4><c0>&nbsp;vstore_box</c0><c4>,</c4><c0>&nbsp;vstore_uniq</c0><c4>};</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty::</c0><c4>{</c4><c0>mt</c0><c4>};</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck::infer::</c0><c4>{</c4><c0>CoerceResult</c0><c4>,</c4><c0>&nbsp;resolve_type</c0><c4>,</c4><c0>&nbsp;Coercion</c0><c4>};</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck::infer::combine::CombineFields</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck::infer::sub::Sub</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck::infer::to_str::InferStr</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck::infer::resolve::try_resolve_tvar_shallow</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::common::indenter</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast::m_imm</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a>&nbsp;<c24>//&nbsp;Note:&nbsp;Coerce&nbsp;is&nbsp;not&nbsp;actually&nbsp;a&nbsp;combiner,&nbsp;in&nbsp;that&nbsp;it&nbsp;does&nbsp;not
</c24><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c24>//&nbsp;conform&nbsp;to&nbsp;the&nbsp;same&nbsp;interface,&nbsp;though&nbsp;it&nbsp;performs&nbsp;a&nbsp;similar
</c24><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n158408">&nbsp;</a><c24>//&nbsp;function.
</c24><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n158405"><a id="n158403">&nbsp;</a></a><c21>pub</c21><c23>&nbsp;</c23><c27>struct&nbsp;Coerce</c27><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/combine.rs.html#120"><c3>CombineFields</c3></a><c25>)</c25><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n159359">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n158410">&nbsp;</a><c30>impl&nbsp;</c30><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c30>Coerce</c30></a><c30>&nbsp;</c30><c4>{</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n158411"><a id="n158413"><a id="n158415"><a id="n158633"><a id="n158420"><a id="n158634"><a id="n158417">&nbsp;</a></a></a></a></a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;tys</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n339992"><a id="n340002"><a id="n339988"><a id="n339987"><a id="n339990"><a id="n340003"><a id="n340007"><a id="n339989"><a id="n339973"><a id="n340005"><a id="n339971"><a id="n339991"><a id="n340009"><a id="n339976"><a id="n340006"><a id="n339974"><a id="n339972"><a id="n340004"><a id="n339975"><a id="n339970"><a id="n340008"><a id="n339986"><a id="n339966">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#90"><c8>"Coerce</c8></a><c8>.</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#90"><c8>tys</c8></a><c25>(</c25><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#90"><c8>s</c8></a><c8>&nbsp;</c8><c4>=&gt;</c4><c8>&nbsp;%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#90"><c8>s</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#90"><c8>"</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n339982"><a id="n339980"><a id="n339953"><a id="n339985"><a id="n339981"><a id="n339978"><a id="n339952"><a id="n339983"><a id="n339956"><a id="n339984"><a id="n339977"><a id="n339979"><a id="n339954">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c23>.</c23><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c23>inf_str</c23></a><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n339959"><a id="n340001"><a id="n339994"><a id="n339958"><a id="n339995"><a id="n339961"><a id="n339997"><a id="n339957"><a id="n339999"><a id="n339993"><a id="n340000"><a id="n339996"><a id="n339998">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c13>.</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c13>inf_str</c13></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n158425"><a id="n158426"><a id="n158421"><a id="n158422"><a id="n158423"><a id="n158424">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>_indent</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/util/common.rs.html#50"><c8>indenter</c8></a><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;Examine&nbsp;the&nbsp;supertype&nbsp;and&nbsp;consider&nbsp;auto-borrowing.
</c24><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//
</c24><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;Note:&nbsp;does&nbsp;not&nbsp;attempt&nbsp;to&nbsp;resolve&nbsp;type&nbsp;variables&nbsp;we&nbsp;encounter.
</c24><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;See&nbsp;above&nbsp;for&nbsp;details.
</c24><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n158430"><a id="n158429"><a id="n158427"><a id="n158589"><a id="n158588"><a id="n158428">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#359"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#359"><c8>get</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c25>)</c25><c9>.</c9><a href="../../../../librustc/middle/ty.rs.html#341"><c6>sty</c6></a><c13>&nbsp;</c13><c4>{</c4><c13>
</c13><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n158431"><a id="n158460"><a id="n158433"><a id="n158432"><a id="n158459"><a id="n158461">&nbsp;</a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty_rptr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#595"><c20>_</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>mt_b</c20></a><c25>)</c25><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{</c4><c22>
</c22><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n158454"><a id="n158458"><a id="n158438"><a id="n158452"><a id="n158435"><a id="n158439"><a id="n158453"><a id="n158451"><a id="n158457"><a id="n158456"><a id="n158441"><a id="n158434"><a id="n158450">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n158445"><a id="n158443"><a id="n158444"><a id="n158446"><a id="n158448"><a id="n158442">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#175"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#175"><c10>coerce_borrowed_pointer</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#101"><c8>sty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#100"><c8>mt_b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#175"><c10>
</c10></a><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c13>
</c13><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c13>
</c13><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n158462"><a id="n158490"><a id="n158463"><a id="n158491"><a id="n158489"><a id="n158464">&nbsp;</a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty_estr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#125"><c20>vstore_slice</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#125"><c20>_</c20></a><c25>))</c25><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{</c4><c22>
</c22><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n158483"><a id="n158472"><a id="n158482"><a id="n158484"><a id="n158480"><a id="n158469"><a id="n158487"><a id="n158470"><a id="n158465"><a id="n158488"><a id="n158486"><a id="n158481"><a id="n158466">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n158473"><a id="n158474"><a id="n158476"><a id="n158478"><a id="n158475">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#213"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#213"><c10>coerce_borrowed_string</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#107"><c8>sty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#213"><c10>
</c10></a><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c13>
</c13><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a>&nbsp;<c13>
</c13><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n158492"><a id="n158522"><a id="n158494"><a id="n158521"><a id="n158523"><a id="n158495"><a id="n158493">&nbsp;</a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#593"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#593"><c20>ty_evec</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#593"><c20>mt_b</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#125"><c20>vstore_slice</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#125"><c20>_</c20></a><c25>))</c25><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{</c4><c22>
</c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n158520"><a id="n158515"><a id="n158496"><a id="n158512"><a id="n158497"><a id="n158514"><a id="n158516"><a id="n158513"><a id="n158501"><a id="n158518"><a id="n158500"><a id="n158519"><a id="n158503">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n158504"><a id="n158510"><a id="n158508"><a id="n158507"><a id="n158505"><a id="n158506">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#239"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#239"><c10>coerce_borrowed_vector</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#113"><c8>sty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#112"><c8>mt_b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#239"><c10>
</c10></a><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c13>
</c13><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a>&nbsp;<c13>
</c13><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n158552"><a id="n158525"><a id="n158553"><a id="n158526"><a id="n158524"><a id="n158551">&nbsp;</a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty_closure</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#389"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#389"><c20>ClosureTy</c20></a><c20>&nbsp;</c20><c4>{</c4><a href="../../../../librustc/middle/ty.rs.html#389"><c20>sigil</c20></a><c20>:&nbsp;</c20><a href="../../../../libsyntax/ast.rs.html#n8417"><c20>ast</c20></a><c20>::</c20><a href="../../../../libsyntax/ast.rs.html#n8417"><c20>BorrowedSigil</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#389"><c20>_</c20></a><c4>}</c4><c25>)</c25><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{</c4><c22>
</c22><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n158548"><a id="n158546"><a id="n158549"><a id="n158534"><a id="n158550"><a id="n158545"><a id="n158527"><a id="n158543"><a id="n158528"><a id="n158542"><a id="n158532"><a id="n158531"><a id="n158544">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n158535"><a id="n158536"><a id="n158540"><a id="n158538"><a id="n158537">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#268"><c10>coerce_borrowed_fn</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#119"><c8>sty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#268"><c10>
</c10></a><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c13>
</c13><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c13>
</c13><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n158583"><a id="n158581"><a id="n158554"><a id="n158582"><a id="n158555">&nbsp;</a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/ty.rs.html#594"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#594"><c20>ty_ptr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#594"><c20>mt_b</c20></a><c25>)</c25><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{</c4><c22>
</c22><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n158575"><a id="n158574"><a id="n158578"><a id="n158579"><a id="n158572"><a id="n158563"><a id="n158560"><a id="n158573"><a id="n158556"><a id="n158557"><a id="n158576"><a id="n158580"><a id="n158561">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n158566"><a id="n158565"><a id="n158567"><a id="n158564"><a id="n158570"><a id="n158568">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#350"><c10>coerce_unsafe_ptr</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#125"><c8>sty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#124"><c8>mt_b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#350"><c10>
</c10></a><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c13>
</c13><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a>&nbsp;<c13>
</c13><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n158586"><a id="n158585"><a id="n158587"><a id="n158584">&nbsp;</a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20>_</c20><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>{}</c4><c13>
</c13><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a>&nbsp;<c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c4>}</c4><c22>
</c22><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n158629"><a id="n158597"><a id="n158595"><a id="n158591"><a id="n158594"><a id="n158627"><a id="n158625"><a id="n158631"><a id="n158590"><a id="n158626"><a id="n158628">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_a</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n158623"><a id="n158598"><a id="n158600">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#133"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c7>
</c7></a><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n158602"><a id="n158611"><a id="n158612"><a id="n158610"><a id="n158601">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ty_bare_fn</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ref</c20></a><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#596"><c20>a_f</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;Bare&nbsp;functions&nbsp;are&nbsp;coercable&nbsp;to&nbsp;any&nbsp;closure&nbsp;type.
</c24><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//
</c24><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;FIXME(#3320)&nbsp;this&nbsp;should&nbsp;go&nbsp;away&nbsp;and&nbsp;be
</c24><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;replaced&nbsp;with&nbsp;proper&nbsp;inference,&nbsp;got&nbsp;a&nbsp;patch
</c24><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;underway&nbsp;-&nbsp;ndm
</c24><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n158603"><a id="n158608"><a id="n158606"><a id="n158605"><a id="n158604">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#306"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#306"><c10>coerce_from_bare_fn</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#135"><c8>a_f</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#306"><c10>
</c10></a><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c7>
</c7></a><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n158621"><a id="n158620"><a id="n158622"><a id="n158613">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>_</c20></a><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;Otherwise,&nbsp;just&nbsp;use&nbsp;subtyping&nbsp;rules.
</c24><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n158614"><a id="n158618"><a id="n158616"><a id="n158615">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#89"><c8>b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>
</c10></a><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c7>
</c7></a><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>}</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n158673"><a id="n158642"><a id="n158645"><a id="n158636"><a id="n158640"><a id="n158674"><a id="n158638">&nbsp;</a></a></a></a></a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;subtype</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n158653"><a id="n158652"><a id="n158646"><a id="n158651"><a id="n158649"><a id="n158647"><a id="n158654"><a id="n158656"><a id="n158671">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/sub.rs.html#114"><c8>Sub</c8></a><c25>(</c25><c2>**</c2><a href="../../../../librustc/middle/typeck/infer/sub.rs.html#114"><c0>self</c0></a><c25>)</c25><c9>.</c9><a href="../../../../librustc/middle/typeck/infer/sub.rs.html#114"><c10>tys</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c8>b</c8></a><c25>)</c25><c10>&nbsp;</c10><c4>{</c4><c7>
</c7><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n158657"><a id="n158660"><a id="n158658"><a id="n158659"><a id="n158661"><a id="n158662">&nbsp;</a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>Ok</c20><c25>(</c25><c20>_</c20><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c8>Ok</c8><c25>(</c25><c8>None</c8><c25>)</c25><c4>,</c4><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c24>//&nbsp;No&nbsp;coercion&nbsp;required.
</c24><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n158664"><a id="n158669"><a id="n158668"><a id="n158670"><a id="n158665"><a id="n158663"><a id="n158666">&nbsp;</a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>Err</c20><c25>(</c25><c20>ref&nbsp;e</c20><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c8>Err</c8><c25>(</c25><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#154"><c8>e</c8></a><c25>)</c25><c9>
</c9><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c22>
</c22><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n158732">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;unpack_actual_value</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n158676"><a id="n158678">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n158688"><a id="n158684"><a id="n158687"><a id="n158680"><a id="n158683">&nbsp;</a></a></a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>f</c20><c18>:&nbsp;</c18><c3>&amp;</c3><c26>fn</c26><c25>(</c25><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c25>)</c25><c3>&nbsp;</c3><c4>-&gt;</c4><c3>&nbsp;</c3><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n158731"><a id="n158691">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n158693"><a id="n158697"><a id="n158694"><a id="n158695"><a id="n158729"><a id="n158692"><a id="n158696">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#431"><c8>resolve_type</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#159"><c8>a</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/resolve.rs.html#76"><c8>try_resolve_tvar_shallow</c8></a><c25>)</c25><c9>&nbsp;</c9><c4>{</c4><c7>
</c7><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n158710"><a id="n158709"><a id="n158708"><a id="n158698"><a id="n158699">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>Ok</c20><c25>(</c25><c20>t</c20><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n158702"><a id="n158706"><a id="n158704"><a id="n158705"><a id="n158701"><a id="n158700"><a id="n158703">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#160"><c8>f</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../../../librustc/middle/ty.rs.html#359"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#359"><c8>get</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#163"><c8>t</c8></a><c25>)</c25><c9>.</c9><a href="../../../../librustc/middle/ty.rs.html#341"><c6>sty</c6></a><c25>)</c25><c9>
</c9><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c7>
</c7><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n158727"><a id="n158728"><a id="n158711"><a id="n158726"><a id="n158712">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>Err</c20><c25>(</c25><c20>e</c20><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n158724"><a id="n158713"><a id="n158715"><a id="n158714"><a id="n158725"><a id="n158716">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/driver/session.rs.html#238"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#239"><c6>sess</c6></a><c10>.</c10><a href="../../../../librustc/driver/session.rs.html#238"><c10>span_bug</c10></a><c25>(</c25><a href="../../../../librustc/driver/session.rs.html#238"><c10>
</c10></a><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n158717"><a id="n158719"><a id="n158718"><a id="n158721">&nbsp;</a></a></a></a><c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><a href="../../../../librustc/driver/session.rs.html#238"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>trace</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#137"><c6>origin</c6></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#816"><c10>span</c10></a><c25>()</c25><c4>,</c4><a href="../../../../librustc/driver/session.rs.html#238"><c10>
</c10></a><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n340027"><a id="n340016"><a id="n340028"><a id="n158722"><a id="n340017"><a id="n340014"><a id="n340031"><a id="n340013"><a id="n340018"><a id="n340020"><a id="n340029"><a id="n340015"><a id="n340019"><a id="n340030">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><a href="../../../../librustc/driver/session.rs.html#238"><c22>fmt</c22></a><c22>!</c22><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>"Failed</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>to</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>resolve</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>even</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>without</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>\
</c8></a><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n340022"><a id="n340023"><a id="n340025"><a id="n340026"><a id="n340012"><a id="n340021"><a id="n340024">&nbsp;</a></a></a></a></a></a></a><c8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>any</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>force</c8></a><c8>&nbsp;</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>options</c8></a><c8>:&nbsp;%</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128930"><c8>?"</c8></a><c4>,</c4><c22>&nbsp;</c22><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c8>e</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>}</c4><c22>
</c22><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n158844">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_borrowed_pointer</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n158734"><a id="n158736">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n158740"><a id="n158741"><a id="n158738">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n158745"><a id="n158743">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n158747"><a id="n158749">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>mt_b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#114"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#114"><c3>mt</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n158752"><a id="n158843">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n340108"><a id="n340126"><a id="n340124"><a id="n340117"><a id="n340104"><a id="n340110"><a id="n340109"><a id="n340072"><a id="n340089"><a id="n340087"><a id="n340127"><a id="n340125"><a id="n340120"><a id="n340118"><a id="n340076"><a id="n340060"><a id="n340050"><a id="n340077"><a id="n340121"><a id="n340075"><a id="n340105"><a id="n340074"><a id="n340090"><a id="n340086"><a id="n340054"><a id="n340071"><a id="n340093"><a id="n340103"><a id="n340122"><a id="n340088"><a id="n340107"><a id="n340084"><a id="n340070"><a id="n340073"><a id="n340057"><a id="n340056"><a id="n340119"><a id="n340091"><a id="n340085"><a id="n340106"><a id="n340059"><a id="n340123"><a id="n340092"><a id="n340058"><a id="n340055">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>"coerce_borrowed_pointer</c13></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>a=</c13></a><c13>%</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>s</c13></a><c4>,</c4><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>sty_a=</c13></a><c13>%</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>?</c13></a><c4>,</c4><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>b=</c13></a><c13>%</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>s</c13></a><c4>,</c4><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>mt_b=</c13></a><c13>%</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>?</c13></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#181"><c13>"</c13></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n340066"><a id="n340039"><a id="n340063"><a id="n340069"><a id="n340038"><a id="n340064"><a id="n340065"><a id="n340035"><a id="n340083"><a id="n340068"><a id="n340082"><a id="n340061"><a id="n340062"><a id="n340036"><a id="n340078"><a id="n340067"><a id="n340079"><a id="n340080"><a id="n340034"><a id="n340081">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#176"><c8>a</c8></a><c23>.</c23><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c23>inf_str</c23></a><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#177"><c8>sty_a</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n340098"><a id="n340044"><a id="n340115"><a id="n340100"><a id="n340099"><a id="n340112"><a id="n340113"><a id="n340040"><a id="n340094"><a id="n340097"><a id="n340111"><a id="n340096"><a id="n340045"><a id="n340114"><a id="n340095"><a id="n340101"><a id="n340102"><a id="n340041"><a id="n340042"><a id="n340116">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#178"><c8>b</c8></a><c8>.</c8><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c8>mt_b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;If&nbsp;we&nbsp;have&nbsp;a&nbsp;parameter&nbsp;of&nbsp;type&nbsp;`&amp;M&nbsp;T_a`&nbsp;and&nbsp;the&nbsp;value
</c24><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;provided&nbsp;is&nbsp;`expr`,&nbsp;we&nbsp;will&nbsp;be&nbsp;adding&nbsp;an&nbsp;implicit&nbsp;borrow,
</c24><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;meaning&nbsp;that&nbsp;we&nbsp;convert&nbsp;`f(expr)`&nbsp;to&nbsp;`f(&amp;M&nbsp;*expr)`.&nbsp;&nbsp;Therefore,
</c24><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;to&nbsp;type&nbsp;check,&nbsp;we&nbsp;will&nbsp;construct&nbsp;the&nbsp;type&nbsp;that&nbsp;`&amp;M*expr`&nbsp;would
</c24><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;yield.
</c24><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n158753"><a id="n158762"><a id="n158754"><a id="n158760"><a id="n158755"><a id="n158763"><a id="n158756"><a id="n158761"><a id="n158758">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>sub</c20><c16>&nbsp;=&nbsp;</c16><c8>Sub</c8><c25>(</c25><c2>**</c2><c0>self</c0><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n158771"><a id="n158770"><a id="n158765"><a id="n158766"><a id="n158769"><a id="n158764"><a id="n158768"><a id="n158775"><a id="n158773"><a id="n158774"><a id="n158767">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>r_borrow</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c10>next_region_var</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#215"><c8>Coercion</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>trace</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n158810"><a id="n158778"><a id="n158808"><a id="n158809"><a id="n158780"><a id="n158777"><a id="n158776">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>inner_ty</c20><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#177"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n158785"><a id="n158782"><a id="n158781"><a id="n158783"><a id="n158784">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#591"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#591"><c20>ty_box</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#591"><c20>mt_a</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#195"><c8>mt_a</c8></a><c22>.</c22><a href="../../../../librustc/middle/ty.rs.html#116"><c22>ty</c22></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n158790"><a id="n158786"><a id="n158787"><a id="n158789"><a id="n158788">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#592"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#592"><c20>ty_uniq</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#592"><c20>mt_a</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#196"><c8>mt_a</c8></a><c22>.</c22><a href="../../../../librustc/middle/ty.rs.html#116"><c22>ty</c22></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n158793"><a id="n158794"><a id="n158792"><a id="n158796"><a id="n158795"><a id="n158791">&nbsp;</a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty_rptr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#595"><c20>_</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>mt_a</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#197"><c8>mt_a</c8></a><c22>.</c22><a href="../../../../librustc/middle/ty.rs.html#116"><c22>ty</c22></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n158805"><a id="n158797"><a id="n158806"><a id="n158807">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n158804"><a id="n158798"><a id="n158802"><a id="n158799"><a id="n158800"><a id="n158803">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#176"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#178"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n158814"><a id="n158816"><a id="n158823"><a id="n158811"><a id="n158822"><a id="n158824"><a id="n158815"><a id="n158812"><a id="n158813">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_borrowed</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1166"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1166"><c8>mk_rptr</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a><a id="n158817">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#192"><c8>r_borrow</c8></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n158820"><a id="n158821"><a id="n158818"><a id="n158819">&nbsp;</a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#114"><c23>mt</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>ty:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#194"><c8>inner_ty</c8></a><c4>,</c4><c9>&nbsp;mutbl:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#179"><c8>mt_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#117"><c6>mutbl</c6></a><c4>}</c4><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n340129"><a id="n340152"><a id="n340131"><a id="n340130"><a id="n340133">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#191"><c8>sub</c8></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/sub.rs.html#114"><c10>tys</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#203"><c8>a_borrowed</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#178"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n158825"><a id="n158837"><a id="n158827"><a id="n158840"><a id="n158841"><a id="n158839"><a id="n158836"><a id="n158826">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#205"><c8>AutoDerefRef</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#208"><c23>AutoDerefRef</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n158828">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoderefs:&nbsp;</c9><c12>1</c12><c4>,</c4><c9>
</c9><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n158832"><a id="n158835"><a id="n158831"><a id="n158833"><a id="n158834"><a id="n158830"><a id="n158829">&nbsp;</a></a></a></a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoref:&nbsp;</c9><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#217"><c8>AutoPtr</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#192"><c8>r_borrow</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#179"><c8>mt_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#117"><c6>mutbl</c6></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)))</c25><c9>
</c9><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n158926">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_borrowed_string</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n158848"><a id="n158846">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n158852"><a id="n158853"><a id="n158850">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n158855"><a id="n158857">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n158925"><a id="n158860">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a><a id="n340179"><a id="n340173"><a id="n340222"><a id="n340190"><a id="n340195"><a id="n340212"><a id="n340206"><a id="n340205"><a id="n340209"><a id="n340211"><a id="n340228"><a id="n340223"><a id="n340194"><a id="n340169"><a id="n340224"><a id="n340207"><a id="n340225"><a id="n340174"><a id="n340191"><a id="n340193"><a id="n340189"><a id="n340178"><a id="n340226"><a id="n340176"><a id="n340204"><a id="n340203"><a id="n340175"><a id="n340210"><a id="n340196"><a id="n340177"><a id="n340229"><a id="n340227"><a id="n340192"><a id="n340208">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>"coerce_borrowed_string</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>a=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>s</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>sty_a=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>?</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>b=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>s</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#218"><c8>"</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n340199"><a id="n340201"><a id="n340186"><a id="n340184"><a id="n340180"><a id="n340154"><a id="n340188"><a id="n340156"><a id="n340158"><a id="n340197"><a id="n340200"><a id="n340182"><a id="n340185"><a id="n340202"><a id="n340198"><a id="n340183"><a id="n340187"><a id="n340155"><a id="n340159"><a id="n340181">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#214"><c8>a</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128758"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c8>sty_a</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n340215"><a id="n340217"><a id="n340220"><a id="n340160"><a id="n340218"><a id="n340216"><a id="n340162"><a id="n340161"><a id="n340164"><a id="n340213"><a id="n340214"><a id="n340221"><a id="n340219">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#216"><c8>b</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n158861"><a id="n158863"><a id="n158882"><a id="n158883">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#215"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n158865"><a id="n158864">&nbsp;</a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty_estr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#124"><c20>vstore_box</c20></a><c25>)</c25><c7>&nbsp;|
</c7><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n158867"><a id="n158869"><a id="n158870"><a id="n158866"><a id="n158868">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#589"><c20>ty_estr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#123"><c20>vstore_uniq</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{}</c4><c7>
</c7><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n158871"><a id="n158880"><a id="n158879"><a id="n158881">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n158872"><a id="n158878"><a id="n158876"><a id="n158874"><a id="n158873"><a id="n158877">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#214"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#216"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a><a id="n158893"><a id="n158890"><a id="n158886"><a id="n158891"><a id="n158895"><a id="n158885"><a id="n158884"><a id="n158894"><a id="n158889"><a id="n158888"><a id="n158887">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>r_a</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c10>next_region_var</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#215"><c8>Coercion</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>trace</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n158906"><a id="n158903"><a id="n158898"><a id="n158896"><a id="n158901"><a id="n158900"><a id="n158907"><a id="n158897"><a id="n158905"><a id="n158899"><a id="n158902"><a id="n158904">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_borrowed</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1143"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1143"><c8>mk_estr</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#125"><c8>vstore_slice</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#230"><c8>r_a</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n340254"><a id="n340232"><a id="n340235"><a id="n340233"><a id="n340231">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#231"><c8>a_borrowed</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#216"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n158921"><a id="n158922"><a id="n158909"><a id="n158918"><a id="n158908"><a id="n158910"><a id="n158919"><a id="n158923">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#205"><c8>AutoDerefRef</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#208"><c23>AutoDerefRef</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n158911">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoderefs:&nbsp;</c9><c12>0</c12><c4>,</c4><c9>
</c9><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a><a id="n158916"><a id="n158917"><a id="n158915"><a id="n158913"><a id="n158914"><a id="n158912">&nbsp;</a></a></a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoref:&nbsp;</c9><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#220"><c8>AutoBorrowVec</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#230"><c8>r_a</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../libsyntax/ast.rs.html#n8414"><c8>m_imm</c8></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)))</c25><c9>
</c9><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n159030">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_borrowed_vector</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n158928"><a id="n158930">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n158934"><a id="n158935"><a id="n158932">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n158939"><a id="n158937">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n158943"><a id="n158941">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>mt_b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#114"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#114"><c3>mt</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n159029"><a id="n158946">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n340291"><a id="n340280"><a id="n340313"><a id="n340275"><a id="n340326"><a id="n340325"><a id="n340331"><a id="n340328"><a id="n340306"><a id="n340278"><a id="n340295"><a id="n340329"><a id="n340305"><a id="n340276"><a id="n340309"><a id="n340279"><a id="n340293"><a id="n340281"><a id="n340308"><a id="n340297"><a id="n340311"><a id="n340330"><a id="n340307"><a id="n340298"><a id="n340277"><a id="n340324"><a id="n340271"><a id="n340312"><a id="n340327"><a id="n340310"><a id="n340296"><a id="n340292"><a id="n340294"><a id="n340314">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>"coerce_borrowed_vector</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>a=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>s</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>sty_a=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>?</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>b=</c8></a><c8>%</c8><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>s</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#245"><c8>"</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n340288"><a id="n340290"><a id="n340257"><a id="n340286"><a id="n340258"><a id="n340256"><a id="n340303"><a id="n340300"><a id="n340260"><a id="n340304"><a id="n340283"><a id="n340284"><a id="n340302"><a id="n340261"><a id="n340282"><a id="n340285"><a id="n340287"><a id="n340301"><a id="n340289"><a id="n340299">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#240"><c8>a</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128758"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128758"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c8>sty_a</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n340263"><a id="n340319"><a id="n340323"><a id="n340266"><a id="n340264"><a id="n340316"><a id="n340317"><a id="n340322"><a id="n340262"><a id="n340315"><a id="n340318"><a id="n340320"><a id="n340321">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#242"><c8>b</c8></a><c8>.</c8><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n158950"><a id="n158948"><a id="n158947"><a id="n158954"><a id="n158955"><a id="n158952"><a id="n158956"><a id="n158957"><a id="n158949">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>sub</c20><c16>&nbsp;=&nbsp;</c16><c8>Sub</c8><c25>(</c25><c2>**</c2><c0>self</c0><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n158962"><a id="n158963"><a id="n158958"><a id="n158959"><a id="n158968"><a id="n158965"><a id="n158961"><a id="n158967"><a id="n158964"><a id="n158960"><a id="n158969">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>r_borrow</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c10>next_region_var</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#215"><c8>Coercion</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>trace</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n158970"><a id="n158993"><a id="n158972"><a id="n158971"><a id="n158992"><a id="n158994"><a id="n158974">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>ty_inner</c20><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#241"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n158980"><a id="n158976"><a id="n158978"><a id="n158975"><a id="n158979"><a id="n158977">&nbsp;</a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#593"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#593"><c20>ty_evec</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#593"><c20>mt</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#593"><c20>_</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#252"><c8>mt</c8></a><c22>.</c22><a href="../../../../librustc/middle/ty.rs.html#116"><c22>ty</c22></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n158990"><a id="n158989"><a id="n158981"><a id="n158991">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a><a id="n158988"><a id="n158982"><a id="n158986"><a id="n158983"><a id="n158987"><a id="n158984">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#240"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#242"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n158995"><a id="n159010"><a id="n159000"><a id="n158998"><a id="n158999"><a id="n158996"><a id="n159009"><a id="n158997"><a id="n159008">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_borrowed</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1187"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1187"><c8>mk_evec</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a><a id="n159002"><a id="n159004"><a id="n159003"><a id="n159001">&nbsp;</a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#114"><c23>mt</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>ty:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#251"><c8>ty_inner</c8></a><c4>,</c4><c9>&nbsp;mutbl:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#243"><c8>mt_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#117"><c6>mutbl</c6></a><c4>},</c4><c9>
</c9><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n159005"><a id="n159006"><a id="n159007">&nbsp;</a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#125"><c8>vstore_slice</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#250"><c8>r_borrow</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n340335"><a id="n340337"><a id="n340334"><a id="n340333"><a id="n340356">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#249"><c8>sub</c8></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/sub.rs.html#114"><c10>tys</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#258"><c8>a_borrowed</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#242"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n159022"><a id="n159026"><a id="n159023"><a id="n159013"><a id="n159012"><a id="n159027"><a id="n159025"><a id="n159011">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#205"><c8>AutoDerefRef</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#208"><c23>AutoDerefRef</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n159014">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoderefs:&nbsp;</c9><c12>0</c12><c4>,</c4><c9>
</c9><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n159020"><a id="n159017"><a id="n159019"><a id="n159018"><a id="n159015"><a id="n159021"><a id="n159016">&nbsp;</a></a></a></a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoref:&nbsp;</c9><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#220"><c8>AutoBorrowVec</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#250"><c8>r_borrow</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#243"><c8>mt_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#117"><c6>mutbl</c6></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)))</c25><c9>
</c9><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n159145">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_borrowed_fn</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a><a id="n159034"><a id="n159032">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;270</ln><a id="270">&nbsp;</a><a id="n159038"><a id="n159039"><a id="n159036">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;271</ln><a id="271">&nbsp;</a><a id="n159041"><a id="n159043">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;272</ln><a id="272">&nbsp;</a><a id="n159144"><a id="n159046">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;273</ln><a id="273">&nbsp;</a><a id="n340400"><a id="n340395"><a id="n340379"><a id="n340427"><a id="n340396"><a id="n340383"><a id="n340412"><a id="n340382"><a id="n340373"><a id="n340397"><a id="n340415"><a id="n340398"><a id="n340432"><a id="n340393"><a id="n340377"><a id="n340428"><a id="n340414"><a id="n340407"><a id="n340378"><a id="n340430"><a id="n340416"><a id="n340408"><a id="n340394"><a id="n340433"><a id="n340410"><a id="n340413"><a id="n340409"><a id="n340381"><a id="n340431"><a id="n340380"><a id="n340411"><a id="n340399"><a id="n340429"><a id="n340426">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c2>"coerce_borrowed_fn</c2></a><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c2>a=</c2></a><c2>%</c2><a href="../../../../libstd/str.rs.html#n23684"><c2>s</c2></a><c4>,</c4><c2>&nbsp;</c2><a href="../../../../libstd/str.rs.html#n23684"><c2>sty_a=</c2></a><c2>%</c2><a href="../../../../libstd/str.rs.html#n23684"><c2>?</c2></a><c4>,</c4><c2>&nbsp;</c2><a href="../../../../libstd/str.rs.html#n23684"><c2>b=</c2></a><c2>%</c2><a href="../../../../libstd/str.rs.html#n23684"><c2>s</c2></a><c25>)</c25><a href="../../../../libstd/str.rs.html#n23684"><c2>"</c2></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;274</ln><a id="274">&nbsp;</a><a id="n340402"><a id="n340360"><a id="n340388"><a id="n340404"><a id="n340359"><a id="n340387"><a id="n340403"><a id="n340406"><a id="n340405"><a id="n340392"><a id="n340384"><a id="n340401"><a id="n340389"><a id="n340358"><a id="n340385"><a id="n340390"><a id="n340363"><a id="n340391"><a id="n340386"><a id="n340362">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#269"><c8>a</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c8>sty_a</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;275</ln><a id="275">&nbsp;</a><a id="n340421"><a id="n340368"><a id="n340417"><a id="n340420"><a id="n340422"><a id="n340365"><a id="n340425"><a id="n340424"><a id="n340418"><a id="n340419"><a id="n340366"><a id="n340364"><a id="n340423">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#271"><c8>b</c8></a><c8>.</c8><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/to_str.rs.html#28"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;276</ln><a id="276">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;277</ln><a id="277">&nbsp;</a><a id="n159101"><a id="n159100"><a id="n159051"><a id="n159047"><a id="n159102"><a id="n159049"><a id="n159048">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>fn_ty</c20><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#270"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;278</ln><a id="278">&nbsp;</a><a id="n159052"><a id="n159055"><a id="n159053"><a id="n159056"><a id="n159065"><a id="n159058"><a id="n159054">&nbsp;</a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty_closure</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ref</c20></a><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#597"><c20>f</c20></a><c25>)</c25><c7>&nbsp;if&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#278"><c8>f</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#392"><c6>sigil</c6></a><c2>&nbsp;==&nbsp;</c2><a href="../../../../libsyntax/ast.rs.html#n8419"><c8>ast</c8></a><c8>::</c8><a href="../../../../libsyntax/ast.rs.html#n8419"><c8>ManagedSigil</c8></a><c0>&nbsp;||
</c0><br/><ln>&nbsp;279</ln><a id="279">&nbsp;</a><a id="n159061"><a id="n159075"><a id="n159073"><a id="n159059"><a id="n159074"><a id="n159063"><a id="n159060">&nbsp;</a></a></a></a></a></a></a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#278"><c8>f</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#392"><c6>sigil</c6></a><c2>&nbsp;==&nbsp;</c2><a href="../../../../libsyntax/ast.rs.html#n8418"><c8>ast</c8></a><c8>::</c8><a href="../../../../libsyntax/ast.rs.html#n8418"><c8>OwnedSigil</c8></a><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;280</ln><a id="280">&nbsp;</a><a id="n159066"><a id="n159068"><a id="n159069"><a id="n159071">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c25>(</c25><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#278"><c8>f</c8></a><c25>)</c25><c0>.</c0><a href="../../../../librustc/middle/ty.rs.html#389"><c10>clone</c10></a><c25>()</c25><a href="../../../../librustc/middle/ty.rs.html#389"><c10>
</c10></a><br/><ln>&nbsp;281</ln><a id="281">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><c7>
</c7><br/><ln>&nbsp;282</ln><a id="282">&nbsp;</a><a id="n159088"><a id="n159077"><a id="n159086"><a id="n159087"><a id="n159076">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ty_bare_fn</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#596"><c20>ref</c20></a><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#596"><c20>f</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;283</ln><a id="283">&nbsp;</a><a id="n159084"><a id="n159083"><a id="n159079"><a id="n159078"><a id="n159081"><a id="n159085"><a id="n159080">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#306"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#306"><c10>coerce_from_bare_fn</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#269"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#282"><c8>f</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#271"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;284</ln><a id="284">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;285</ln><a id="285">&nbsp;</a><a id="n159099"><a id="n159089"><a id="n159097"><a id="n159098">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;286</ln><a id="286">&nbsp;</a><a id="n159092"><a id="n159094"><a id="n159091"><a id="n159090"><a id="n159096"><a id="n159095">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#269"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#271"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;287</ln><a id="287">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;288</ln><a id="288">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;289</ln><a id="289">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;290</ln><a id="290">&nbsp;</a><a id="n159103"><a id="n159105"><a id="n159110"><a id="n159106"><a id="n159113"><a id="n159109"><a id="n159114"><a id="n159107"><a id="n159104"><a id="n159108"><a id="n159112">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>r_borrow</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c10>.</c10><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#641"><c10>next_region_var</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#215"><c8>Coercion</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>trace</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;291</ln><a id="291">&nbsp;</a><a id="n159127"><a id="n159115"><a id="n159117"><a id="n159125"><a id="n159126"><a id="n159116">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_borrowed</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1200"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1200"><c8>mk_closure</c8></a><c25>(</c25><c9>
</c9><br/><ln>&nbsp;292</ln><a id="292">&nbsp;</a><a id="n159119"><a id="n159120"><a id="n159118">&nbsp;</a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;293</ln><a id="293">&nbsp;</a><a id="n159124">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#389"><c23>ty</c23></a><c23>::</c23><a href="../../../../librustc/middle/ty.rs.html#389"><c23>ClosureTy</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;294</ln><a id="294">&nbsp;</a><a id="n159121">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sigil:&nbsp;</c9><a href="../../../../libsyntax/ast.rs.html#n8417"><c8>ast</c8></a><c8>::</c8><a href="../../../../libsyntax/ast.rs.html#n8417"><c8>BorrowedSigil</c8></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;295</ln><a id="295">&nbsp;</a><a id="n159122">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;region:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#290"><c8>r_borrow</c8></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;296</ln><a id="296">&nbsp;</a><a id="n159123">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#277"><c8>fn_ty</c8></a><c9>
</c9><br/><ln>&nbsp;297</ln><a id="297">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;298</ln><a id="298">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;299</ln><a id="299">&nbsp;</a><a id="n340458"><a id="n340439"><a id="n340437"><a id="n340436"><a id="n340435">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#291"><c8>a_borrowed</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#271"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;300</ln><a id="300">&nbsp;</a><a id="n159140"><a id="n159142"><a id="n159137"><a id="n159141"><a id="n159130"><a id="n159129"><a id="n159128"><a id="n159138">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#205"><c8>AutoDerefRef</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#208"><c23>AutoDerefRef</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;301</ln><a id="301">&nbsp;</a><a id="n159131">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoderefs:&nbsp;</c9><c12>0</c12><c4>,</c4><c9>
</c9><br/><ln>&nbsp;302</ln><a id="302">&nbsp;</a><a id="n159135"><a id="n159136"><a id="n159134"><a id="n159133"><a id="n159132">&nbsp;</a></a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoref:&nbsp;</c9><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#226"><c8>AutoBorrowFn</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#290"><c8>r_borrow</c8></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;303</ln><a id="303">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)))</c25><c9>
</c9><br/><ln>&nbsp;304</ln><a id="304">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;305</ln><a id="305">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;306</ln><a id="306">&nbsp;</a><a id="n159187">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_from_bare_fn</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;307</ln><a id="307">&nbsp;</a><a id="n159147"><a id="n159149">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;308</ln><a id="308">&nbsp;</a><a id="n159154"><a id="n159153"><a id="n159151">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>fn_ty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#382"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#382"><c3>BareFnTy</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;309</ln><a id="309">&nbsp;</a><a id="n159158"><a id="n159156">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;310</ln><a id="310">&nbsp;</a><a id="n159161"><a id="n159186">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;311</ln><a id="311">&nbsp;</a><a id="n159178"><a id="n159182"><a id="n159180"><a id="n159184"><a id="n159181"><a id="n159167"><a id="n159162"><a id="n159179"><a id="n159163"><a id="n159169"><a id="n159166">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>do</c21><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c10>unpack_actual_value</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#309"><c8>b</c8></a><c25>)</c25><c0>&nbsp;|</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c20>sty_b</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#158"><c22>
</c22></a><br/><ln>&nbsp;312</ln><a id="312">&nbsp;</a><a id="n159173"><a id="n159172"><a id="n159176"><a id="n159170"><a id="n159174"><a id="n159171">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#316"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#316"><c10>coerce_from_bare_fn_post_unpack</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#307"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#308"><c8>fn_ty_a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#309"><c8>b</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#311"><c8>sty_b</c8></a><c25>)</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#316"><c10>
</c10></a><br/><ln>&nbsp;313</ln><a id="313">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><c22>
</c22><br/><ln>&nbsp;314</ln><a id="314">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;315</ln><a id="315">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;316</ln><a id="316">&nbsp;</a><a id="n159284">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_from_bare_fn_post_unpack</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;317</ln><a id="317">&nbsp;</a><a id="n159191"><a id="n159189">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;318</ln><a id="318">&nbsp;</a><a id="n159193"><a id="n159195"><a id="n159196">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>fn_ty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#382"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#382"><c3>BareFnTy</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;319</ln><a id="319">&nbsp;</a><a id="n159198"><a id="n159200">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;320</ln><a id="320">&nbsp;</a><a id="n159202"><a id="n159205"><a id="n159204">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_b</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;321</ln><a id="321">&nbsp;</a><a id="n159208"><a id="n159283">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;322</ln><a id="322">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>/*!
</c24><br/><ln>&nbsp;323</ln><a id="323">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*
</c24><br/><ln>&nbsp;324</ln><a id="324">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Attempts&nbsp;to&nbsp;coerce&nbsp;from&nbsp;a&nbsp;bare&nbsp;Rust&nbsp;function&nbsp;(`extern
</c24><br/><ln>&nbsp;325</ln><a id="325">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;"rust"&nbsp;fn`)&nbsp;into&nbsp;a&nbsp;closure.
</c24><br/><ln>&nbsp;326</ln><a id="326">&nbsp;</a>&nbsp;<c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
</c24><br/><ln>&nbsp;327</ln><a id="327">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;328</ln><a id="328">&nbsp;</a><a id="n340497"><a id="n340514"><a id="n340516"><a id="n340481"><a id="n340484"><a id="n340496"><a id="n340512"><a id="n340483"><a id="n340474"><a id="n340482"><a id="n340495"><a id="n340478"><a id="n340517"><a id="n340498"><a id="n340513"><a id="n340511"><a id="n340479"><a id="n340494"><a id="n340480"><a id="n340500"><a id="n340499"><a id="n340510"><a id="n340515">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>"coerce_from_bare_fn</c8></a><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>a=</c8></a><c8>%</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>s</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>b=</c8></a><c8>%</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>s</c8></a><c25>)</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>"</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;329</ln><a id="329">&nbsp;</a><a id="n340489"><a id="n340506"><a id="n340467"><a id="n340505"><a id="n340488"><a id="n340464"><a id="n340460"><a id="n340509"><a id="n340501"><a id="n340461"><a id="n340487"><a id="n340462"><a id="n340485"><a id="n340493"><a id="n340502"><a id="n340507"><a id="n340491"><a id="n340465"><a id="n340508"><a id="n340486"><a id="n340490"><a id="n340492"><a id="n340503"><a id="n340469"><a id="n340504"><a id="n340466">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#317"><c8>a</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#319"><c8>b</c8></a><c23>.</c23><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c23>inf_str</c23></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;330</ln><a id="330">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;331</ln><a id="331">&nbsp;</a><a id="n159209"><a id="n159222"><a id="n159214"><a id="n159224"><a id="n159223"><a id="n159212"><a id="n159210">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c2>!</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#318"><c8>fn_ty_a</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#385"><c6>abis</c6></a><c10>.</c10><a href="../../../../libsyntax/abi.rs.html#n6772"><c10>is_rust</c10></a><c25>()</c25><c10>&nbsp;</c10><c4>{</c4><c22>
</c22><br/><ln>&nbsp;332</ln><a id="332">&nbsp;</a><a id="n159219"><a id="n159221"><a id="n159216"><a id="n159220"><a id="n159217"><a id="n159215">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#317"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#319"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;333</ln><a id="333">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;334</ln><a id="334">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;335</ln><a id="335">&nbsp;</a><a id="n159249"><a id="n159227"><a id="n159225"><a id="n159247"><a id="n159226"><a id="n159248"><a id="n159229">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>fn_ty_b</c20><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#320"><c8>sty_b</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;336</ln><a id="336">&nbsp;</a><a id="n159238"><a id="n159232"><a id="n159237"><a id="n159231"><a id="n159230"><a id="n159234"><a id="n159235">&nbsp;</a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ty_closure</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#597"><c20>ref</c20></a><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#597"><c20>f</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c25>(</c25><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#336"><c8>f</c8></a><c25>)</c25><c0>.</c0><a href="../../../../librustc/middle/ty.rs.html#389"><c22>clone</c22></a><c25>()</c25><c4>,</c4><c7>
</c7><br/><ln>&nbsp;337</ln><a id="337">&nbsp;</a><a id="n159245"><a id="n159244"><a id="n159242"><a id="n159241"><a id="n159246"><a id="n159239"><a id="n159240">&nbsp;</a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c0>return&nbsp;</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#317"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#319"><c8>b</c8></a><c25>)</c25><c4>,</c4><c7>
</c7><br/><ln>&nbsp;338</ln><a id="338">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;339</ln><a id="339">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;340</ln><a id="340">&nbsp;</a><a id="n159254"><a id="n159261"><a id="n159257"><a id="n159251"><a id="n159253"><a id="n159255"><a id="n159250"><a id="n159256"><a id="n159252"><a id="n159259"><a id="n159260">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>adj</c20><c16>&nbsp;=&nbsp;</c16><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#204"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#204"><c8>AutoAddEnv</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#335"><c8>fn_ty_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#394"><c6>region</c6></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#335"><c8>fn_ty_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#392"><c6>sigil</c6></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;341</ln><a id="341">&nbsp;</a><a id="n159266"><a id="n159274"><a id="n159276"><a id="n159263"><a id="n159262"><a id="n159275"><a id="n159267"><a id="n159264"><a id="n159265">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_closure</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1200"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1200"><c8>mk_closure</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;342</ln><a id="342">&nbsp;</a><a id="n159273">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../../../librustc/middle/ty.rs.html#389"><c23>ty</c23></a><c23>::</c23><a href="../../../../librustc/middle/ty.rs.html#389"><c23>ClosureTy</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;343</ln><a id="343">&nbsp;</a><a id="n159271"><a id="n159269"><a id="n159268">&nbsp;</a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sig:&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#318"><c8>fn_ty_a</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#386"><c6>sig</c6></a><c10>.</c10><a href="../../../../librustc/middle/ty.rs.html#406"><c10>clone</c10></a><c25>()</c25><c4>,</c4><c9>
</c9><br/><ln>&nbsp;344</ln><a id="344">&nbsp;</a><a id="n159272">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#335"><c8>fn_ty_b</c8></a><c9>
</c9><br/><ln>&nbsp;345</ln><a id="345">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;346</ln><a id="346">&nbsp;</a><a id="n340520"><a id="n340521"><a id="n340542"><a id="n340519"><a id="n340523">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#341"><c8>a_closure</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#319"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;347</ln><a id="347">&nbsp;</a><a id="n159277"><a id="n159280"><a id="n159278"><a id="n159279"><a id="n159281">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#340"><c8>adj</c8></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;348</ln><a id="348">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;349</ln><a id="349">&nbsp;</a>&nbsp;<c17>
</c17><br/><ln>&nbsp;350</ln><a id="350">&nbsp;</a><a id="n159357">&nbsp;</a><c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c21>pub</c21><c18>&nbsp;</c18><c26>fn&nbsp;coerce_unsafe_ptr</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>
</c18><br/><ln>&nbsp;351</ln><a id="351">&nbsp;</a><a id="n159288"><a id="n159286">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>a</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;352</ln><a id="352">&nbsp;</a><a id="n159293"><a id="n159292"><a id="n159290">&nbsp;</a></a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>sty_a</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#581"><c3>sty</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;353</ln><a id="353">&nbsp;</a><a id="n159297"><a id="n159295">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#351"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#351"><c3>t</c3></a><c4>,</c4><c18>
</c18><br/><ln>&nbsp;354</ln><a id="354">&nbsp;</a><a id="n159299"><a id="n159301">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c20>mt_b</c20><c18>:&nbsp;</c18><a href="../../../../librustc/middle/ty.rs.html#114"><c3>ty</c3></a><c3>::</c3><a href="../../../../librustc/middle/ty.rs.html#114"><c3>mt</c3></a><c25>)</c25><c18>
</c18><br/><ln>&nbsp;355</ln><a id="355">&nbsp;</a><a id="n159304"><a id="n159356">&nbsp;</a></a><c18>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#73"><c3>CoerceResult</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;356</ln><a id="356">&nbsp;</a><a id="n340582"><a id="n340567"><a id="n340569"><a id="n340597"><a id="n340619"><a id="n340585"><a id="n340581"><a id="n340618"><a id="n340566"><a id="n340568"><a id="n340593"><a id="n340586"><a id="n340595"><a id="n340596"><a id="n340600"><a id="n340564"><a id="n340584"><a id="n340583"><a id="n340614"><a id="n340616"><a id="n340580"><a id="n340594"><a id="n340613"><a id="n340598"><a id="n340601"><a id="n340579"><a id="n340599"><a id="n340563"><a id="n340612"><a id="n340617"><a id="n340559"><a id="n340615"><a id="n340565"><a id="n340602">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>"coerce_unsafe_ptr</c8></a><c25>(</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>a=</c8></a><c8>%</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>s</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>sty_a=</c8></a><c8>%</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>?</c8></a><c4>,</c4><c8>&nbsp;</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>b=</c8></a><c8>%</c8><a href="../../../../libstd/str.rs.html#n23684"><c8>s</c8></a><c25>)</c25><a href="../../../../libstd/str.rs.html#n23684"><c8>"</c8></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;357</ln><a id="357">&nbsp;</a><a id="n340573"><a id="n340592"><a id="n340576"><a id="n340575"><a id="n340574"><a id="n340546"><a id="n340544"><a id="n340549"><a id="n340591"><a id="n340570"><a id="n340577"><a id="n340588"><a id="n340572"><a id="n340571"><a id="n340578"><a id="n340548"><a id="n340545"><a id="n340589"><a id="n340587"><a id="n340590">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#351"><c8>a</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128421"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>)</c25><c4>,</c4><c13>&nbsp;</c13><a href="../../../../libstd/unstable/extfmt.rs.html#n128443"><c23>sty_a</c23></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;358</ln><a id="358">&nbsp;</a><a id="n340550"><a id="n340551"><a id="n340604"><a id="n340605"><a id="n340603"><a id="n340554"><a id="n340607"><a id="n340609"><a id="n340608"><a id="n340610"><a id="n340606"><a id="n340552"><a id="n340611">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#353"><c8>b</c8></a><c8>.</c8><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c8>inf_str</c8></a><c25>(</c25><a href="../../../../libstd/unstable/extfmt.rs.html#n128396"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;359</ln><a id="359">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;360</ln><a id="360">&nbsp;</a><a id="n159328"><a id="n159327"><a id="n159326"><a id="n159309"><a id="n159307"><a id="n159306"><a id="n159305">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>mt_a</c20><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><c2>*</c2><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#352"><c8>sty_a</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;361</ln><a id="361">&nbsp;</a><a id="n159312"><a id="n159313"><a id="n159311"><a id="n159310"><a id="n159314">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty</c20></a><c20>::</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>ty_rptr</c20></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#595"><c20>_</c20></a><c4>,</c4><c20>&nbsp;</c20><a href="../../../../librustc/middle/ty.rs.html#595"><c20>mt</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#361"><c8>mt</c8></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;362</ln><a id="362">&nbsp;</a><a id="n159325"><a id="n159324"><a id="n159323"><a id="n159315">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>_</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;363</ln><a id="363">&nbsp;</a><a id="n159316"><a id="n159317"><a id="n159318"><a id="n159322"><a id="n159321"><a id="n159320">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c13>&nbsp;</c13><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#351"><c8>a</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#353"><c8>b</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;364</ln><a id="364">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c7>
</c7><br/><ln>&nbsp;365</ln><a id="365">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;366</ln><a id="366">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;367</ln><a id="367">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;check&nbsp;that&nbsp;the&nbsp;types&nbsp;which&nbsp;they&nbsp;point&nbsp;at&nbsp;are&nbsp;compatible
</c24><br/><ln>&nbsp;368</ln><a id="368">&nbsp;</a><a id="n159336"><a id="n159334"><a id="n159338"><a id="n159330"><a id="n159329"><a id="n159337"><a id="n159331"><a id="n159335"><a id="n159332"><a id="n159333">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>a_unsafe</c20><c16>&nbsp;=&nbsp;</c16><a href="../../../../librustc/middle/ty.rs.html#1164"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#1164"><c8>mk_ptr</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#85"><c6>infcx</c6></a><c6>.</c6><a href="../../../../librustc/middle/typeck/infer/mod.rs.html#77"><c6>tcx</c6></a><c4>,</c4><c9>&nbsp;</c9><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#360"><c8>mt_a</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;369</ln><a id="369">&nbsp;</a><a id="n340644"><a id="n340622"><a id="n340623"><a id="n340625"><a id="n340621">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>if_ok!</c13><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c0>self</c0></a><c0>.</c0><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#151"><c10>subtype</c10></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#368"><c8>a_unsafe</c8></a><c4>,</c4><c10>&nbsp;</c10><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#353"><c8>b</c8></a><c25>))</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;370</ln><a id="370">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;371</ln><a id="371">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;although&nbsp;borrowed&nbsp;ptrs&nbsp;and&nbsp;unsafe&nbsp;ptrs&nbsp;have&nbsp;the&nbsp;same
</c24><br/><ln>&nbsp;372</ln><a id="372">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;representation,&nbsp;we&nbsp;still&nbsp;register&nbsp;an&nbsp;AutoDerefRef&nbsp;so&nbsp;that
</c24><br/><ln>&nbsp;373</ln><a id="373">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;regionck&nbsp;knows&nbsp;that&nbsp;the&nbsp;region&nbsp;for&nbsp;`a`&nbsp;must&nbsp;be&nbsp;valid&nbsp;here
</c24><br/><ln>&nbsp;374</ln><a id="374">&nbsp;</a><a id="n159352"><a id="n159341"><a id="n159339"><a id="n159340"><a id="n159354"><a id="n159353"><a id="n159350"><a id="n159349">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>Ok</c8><c25>(</c25><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><c2>@</c2><a href="../../../../librustc/middle/ty.rs.html#205"><c8>AutoDerefRef</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#208"><c23>AutoDerefRef</c23></a><c9>&nbsp;</c9><c4>{</c4><c9>
</c9><br/><ln>&nbsp;375</ln><a id="375">&nbsp;</a><a id="n159342">&nbsp;</a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoderefs:&nbsp;</c9><c12>1</c12><c4>,</c4><c9>
</c9><br/><ln>&nbsp;376</ln><a id="376">&nbsp;</a><a id="n159344"><a id="n159345"><a id="n159347"><a id="n159343"><a id="n159348"><a id="n159346">&nbsp;</a></a></a></a></a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoref:&nbsp;</c9><a href="../../../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>(</c25><a href="../../../../librustc/middle/ty.rs.html#229"><c8>ty</c8></a><c8>::</c8><a href="../../../../librustc/middle/ty.rs.html#229"><c8>AutoUnsafe</c8></a><c25>(</c25><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#354"><c8>mt_b</c8></a><c6>.</c6><a href="../../../../librustc/middle/ty.rs.html#117"><c6>mutbl</c6></a><c25>))</c25><c9>
</c9><br/><ln>&nbsp;377</ln><a id="377">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c25>)))</c25><c9>
</c9><br/><ln>&nbsp;378</ln><a id="378">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;379</ln><a id="379">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><div/><br/><a id="85_13_refs"><a href="#85"><c24>librustc/middle/typeck/infer/coercion.rs:85:13-85:13&nbsp;-struct-&nbsp;definition:<br/></c24><pr>//&nbsp;function.
<br/>pub&nbsp;struct&nbsp;Coerce(CombineFields);
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#274"><c24>274:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;sty_a,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#162"><c24>162:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;resolve_type(self.infcx,&nbsp;a,&nbsp;try_resolve_tvar_shallow)&nbsp;{
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#247"><c24>247:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#250"><c24>250:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#219"><c24>219:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;sty_a,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#230"><c24>230:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_a&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#168"><c24>168:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.trace.origin.span(),
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#358"><c24>358:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#357"><c24>357:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;sty_a,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#246"><c24>246:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;sty_a,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#290"><c24>290:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#329"><c24>329:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#292"><c24>292:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.infcx.tcx,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#231"><c24>231:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;a_borrowed&nbsp;=&nbsp;ty::mk_estr(self.infcx.tcx,&nbsp;vstore_slice(r_a));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#220"><c24>220:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#91"><c24>91:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#167"><c24>167:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.infcx.tcx.sess.span_bug(
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#183"><c24>183:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx),&nbsp;mt_b);
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#182"><c24>182:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.inf_str(self.infcx),&nbsp;sty_a,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#192"><c24>192:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#250"><c24>250:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#368"><c24>368:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;a_unsafe&nbsp;=&nbsp;ty::mk_ptr(self.infcx.tcx,&nbsp;mt_a);
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#192"><c24>192:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#290"><c24>290:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_borrow&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#92"><c24>92:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#230"><c24>230:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r_a&nbsp;=&nbsp;self.infcx.next_region_var(Coercion(self.trace));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#203"><c24>203:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;a_borrowed&nbsp;=&nbsp;ty::mk_rptr(self.infcx.tcx,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#258"><c24>258:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;a_borrowed&nbsp;=&nbsp;ty::mk_evec(self.infcx.tcx,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#275"><c24>275:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.inf_str(self.infcx));
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#341"><c24>341:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;a_closure&nbsp;=&nbsp;ty::mk_closure(self.infcx.tcx,
<br/></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#88"><c24>(88)</c24></a><a href="../../../../librustc/middle/typeck/infer/coercion.rs.html#329"><c24>(329)</c24></a><br/></c0></c0>