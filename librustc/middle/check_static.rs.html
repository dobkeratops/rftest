<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/middle/">middle</a></c0><c1>/</c1><c0><a href="./../../librustc/middle/check_static.rs.html">check_static.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Verifies&nbsp;that&nbsp;the&nbsp;types&nbsp;and&nbsp;values&nbsp;of&nbsp;static&nbsp;items
</c40><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;are&nbsp;safe.&nbsp;The&nbsp;rules&nbsp;enforced&nbsp;by&nbsp;this&nbsp;module&nbsp;are:
</c40><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;-&nbsp;For&nbsp;each&nbsp;*mutable*&nbsp;static&nbsp;item,&nbsp;it&nbsp;checks&nbsp;that&nbsp;its&nbsp;**type**:
</c40><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;doesn't&nbsp;have&nbsp;a&nbsp;destructor
</c40><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;doesn't&nbsp;own&nbsp;an&nbsp;owned&nbsp;pointer
</c40><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;-&nbsp;For&nbsp;each&nbsp;*immutable*&nbsp;static&nbsp;item,&nbsp;it&nbsp;checks&nbsp;that&nbsp;its&nbsp;**value**:
</c40><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;doesn't&nbsp;own&nbsp;owned,&nbsp;managed&nbsp;pointers
</c40><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;doesn't&nbsp;contain&nbsp;a&nbsp;struct&nbsp;literal&nbsp;or&nbsp;a&nbsp;call&nbsp;to&nbsp;an&nbsp;enum&nbsp;variant&nbsp;/&nbsp;struct&nbsp;constructor&nbsp;where
</c40><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;struct/enum&nbsp;has&nbsp;a&nbsp;dtor
</c40><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Rules&nbsp;Enforced&nbsp;Elsewhere:
</c40><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;-&nbsp;It's&nbsp;not&nbsp;possible&nbsp;to&nbsp;take&nbsp;the&nbsp;address&nbsp;of&nbsp;a&nbsp;static&nbsp;item&nbsp;with&nbsp;unsafe&nbsp;interior.&nbsp;This&nbsp;is&nbsp;enforced
</c40><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;by&nbsp;borrowck::gather_loans
</c40><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::codemap::Span</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::visit::Visitor</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::visit</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::print::pprust</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[320961]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[320964, 320965, 320970, 320973, 320969, 320974, 320966, 321167, 320976, 320971]">&nbsp;</a><c30>fn</c30><c30><a href="#35_1_refs">&nbsp;safe_type_for_static_mut</a></c30><c4>(</c4><c20><a href="#36_28_refs">cx</a></c20><c1><a href="#35_1_refs">:&nbsp;</a></c1><c8><a href="#35_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#247">ty::ctxt</a></c8><c3>,</c3><c1><a href="#35_1_refs">&nbsp;</a></c1><c20><a href="#36_43_refs">e</a></c20><c1><a href="#35_1_refs">:&nbsp;</a></c1><c8><a href="#35_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n36966">ast::Expr</a></c8><c4>)</c4><c1><a href="#35_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#35_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="#35_1_refs">~str</a></c8><c8><a href="../../libstd/option.rs.html#n104336">&gt;</a></c8><c1><a href="#35_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[320983, 320977, 320978, 320980, 320985, 320982, 320981, 320979, 320984]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#35_1_refs">&nbsp;</a></c22><c20><a href="#37_8_refs">node_ty</a></c20><c13><a href="#35_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#36">cx</a></c26><c3>,</c3><c27><a href="#35_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#36">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.id</a></c24><c4>)</c4><c3>;</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[320988, 320989, 320993, 320991, 320986, 320987, 320992, 320990]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#35_1_refs">&nbsp;</a></c22><c20><a href="#38_8_refs">tcontents</a></c20><c16><a href="#35_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/middle/ty.rs.html#2071">ty::type_contents</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#36">cx</a></c26><c3>,</c3><c27><a href="#35_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#37">node_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[321078, 321043, 321121, 321111, 321073, 321055, 321114, 321072, 321116, 321056, 321115, 321069, 321108, 321137, 321059, 321074, 321070, 321058, 321049, 321088, 321046, 321117, 321067, 321119, 321053, 321063, 321045, 321057, 321090, 321064, 321044, 321112, 321092, 321080, 321110, 321061, 321035, 321066, 321134, 321076, 321047, 321081, 321089, 321068, 321054, 321077, 321084, 321093, 321040, 321052, 321065, 321120, 321091, 321062, 321083, 321118, 321085, 321075, 321050, 321094, 321039, 321071, 321095, 321082, 321060, 321113, 321109, 321086, 321087, 321079, 321051, 321048]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c27><a href="../../libstd/fmt/rt.rs.html#n169463">"safe_type_for_static_mut</a></c27><c4>(</c4><c27><a href="../../libstd/fmt/rt.rs.html#n169463">dtor=</a></c27><c3>{},</c3><c27><a href="../../libstd/fmt/rt.rs.html#n169463">&nbsp;managed=</a></c27><c3>{},</c3><c27><a href="../../libstd/fmt/rt.rs.html#n169463">&nbsp;owned=</a></c27><c3>{}</c3><c4>)</c4><c27><a href="../../libstd/fmt/rt.rs.html#n169463">"</a></c27><c3>,</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[321028, 321027, 321101, 321106, 321032, 321031, 321097, 321103, 321099, 321107, 321038, 321029, 321034, 321096, 321037, 321026, 321102, 321036, 321100, 321105, 321033, 321030, 321098, 321104]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c26><a href="../../librustc/middle/check_static.rs.html#40">.has_dtor</a></c26><c4>()</c4><c3>,</c3><c22><a href="#35_1_refs">&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c10><a href="../../librustc/middle/ty.rs.html#1956">.owns_managed</a></c10><c4>()</c4><c3>,</c3><c22><a href="#35_1_refs">&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n171474">.owns_owned</a></c26><c4>())</c4><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[321144, 321148, 321143, 321166, 321145, 321165, 321146, 321147]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#35_1_refs">&nbsp;</a></c22><c20><a href="#42_8_refs">suffix</a></c20><c13><a href="#35_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#35_1_refs">if&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c10><a href="../../librustc/middle/ty.rs.html#2027">.has_dtor</a></c10><c4>()</c4><c21><a href="#35_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[321149]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#35_1_refs">"destructors"</a></c12><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[321164, 321151, 321152, 321150]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#35_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#35_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#35_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c10><a href="../../librustc/middle/ty.rs.html#1956">.owns_managed</a></c10><c4>()</c4><c21><a href="#35_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[321153]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#35_1_refs">"managed&nbsp;pointers"</a></c12><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[321163, 321155, 321154, 321156]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#35_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#35_1_refs">&nbsp;</a></c21><c21>if</c21><c21><a href="#35_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#38">tcontents</a></c26><c10><a href="../../librustc/middle/ty.rs.html#1960">.owns_owned</a></c10><c4>()</c4><c21><a href="#35_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[321157]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#35_1_refs">"owned&nbsp;pointers"</a></c12><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[321161, 321162]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#35_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#35_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[321158, 321159, 321160]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#35_1_refs">&nbsp;</a></c13><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c3>;</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[321186, 321170, 321221, 321169, 321197, 321200, 321204, 321192, 321211, 321168, 321210, 321213, 321195, 321177, 321185, 321188, 321207, 321189, 321182, 321194, 321171, 321183, 321198, 321173, 321222, 321216, 321190, 321223, 321215, 321196, 321180, 321174, 321191, 321187, 321212, 321172, 321214, 321209, 321178, 321206, 321199, 321184, 321202, 321179, 321181, 321208, 321203, 321218, 321193, 321201, 321205]">&nbsp;</a><c22><a href="#35_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c21><a href="#35_1_refs">format!</a></c21><c4>(</c4><c13><a href="../../librustc/middle/check_static.rs.html#52">"mutable&nbsp;</a></c13><c36>static</c36><c36><a href="../../librustc/middle/check_static.rs.html#52">&nbsp;items&nbsp;are&nbsp;not&nbsp;allowed&nbsp;to&nbsp;have&nbsp;</a></c36><c3>{}</c3><c13><a href="../../librustc/middle/check_static.rs.html#52">"</a></c13><c3>,</c3><c21><a href="#35_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#52">suffix</a></c26><c4>))</c4><c22><a href="#35_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[321224]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[]">&nbsp;</a><c31>struct</c31><c31><a href="#54_1_refs">&nbsp;CheckStaticVisitor</a></c31><c5><a href="#54_1_refs">&lt;'a&gt;</a></c5><c31><a href="#54_1_refs">&nbsp;</a></c31><c3>{</c3><c31><a href="#54_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[321229, 321225, 321228]">&nbsp;</a><c31><a href="#54_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#56_4_refs">tcx:&nbsp;</a></c24><c8><a href="#56_4_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#247">ty::ctxt</a></c8><c3>,</c3><c31><a href="#54_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[321231]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[321241, 321243, 321242, 321235, 321240, 321236, 321234, 321239]">&nbsp;</a><c21>pub</c21><c1><a href="#58_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#58_1_refs">&nbsp;check_crate</a></c30><c4>(</c4><c20><a href="#59_19_refs">tcx</a></c20><c1><a href="#58_1_refs">:&nbsp;</a></c1><c8><a href="#58_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#247">ty::ctxt</a></c8><c3>,</c3><c1><a href="#58_1_refs">&nbsp;</a></c1><c20><a href="#59_35_refs">krate</a></c20><c1><a href="#58_1_refs">:&nbsp;</a></c1><c8><a href="#58_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n26023">ast::Crate</a></c8><c4>)</c4><c1><a href="#58_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#58_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[321249, 321244, 321247, 321250, 321245, 321246, 321248]">&nbsp;</a><c22><a href="#58_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/visit.rs.html#n80287">visit::walk_crate</a></c26><c4>(</c4><c5><a href="#58_1_refs">&amp;mut&nbsp;</a></c5><c1><a href="../../librustc/middle/check_static.rs.html#54">CheckStaticVisitor&nbsp;</a></c1><c3>{</c3><c1><a href="../../librustc/middle/check_static.rs.html#54">&nbsp;tcx:&nbsp;</a></c1><c26><a href="../../librustc/middle/check_static.rs.html#59">tcx</a></c26><c1><a href="../../librustc/middle/check_static.rs.html#54">&nbsp;</a></c1><c3>},</c3><c27><a href="#58_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#59">krate</a></c26><c3>,</c3><c27><a href="#58_1_refs">&nbsp;</a></c27><c12><a href="#58_1_refs">false</a></c12><c4>)</c4><c22><a href="#58_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[321251]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[321255]">&nbsp;</a><c33>impl</c33><c5>&lt;'a&gt;</c5><c33>&nbsp;</c33><c33><a href="../../librustc/middle/check_static.rs.html#54">CheckStaticVisitor</a></c33><c5><a href="../../librustc/middle/check_static.rs.html#54">&lt;'a&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[321256, 321270, 321259, 321263, 321266, 321267, 321262, 321269, 321272, 321273]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#64_4_refs">&nbsp;report_error</a></c30><c4>(</c4><c20><a href="#64_20_refs">&amp;self</a></c20><c3>,</c3><c18><a href="#64_4_refs">&nbsp;</a></c18><c20><a href="#64_27_refs">span</a></c20><c18><a href="#64_4_refs">:&nbsp;</a></c18><c8><a href="../../libsyntax/codemap.rs.html#n10620">Span</a></c8><c3>,</c3><c18><a href="#64_4_refs">&nbsp;</a></c18><c20><a href="#64_39_refs">result</a></c20><c18><a href="#64_4_refs">:&nbsp;</a></c18><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="#64_4_refs">~str</a></c8><c8><a href="../../libstd/option.rs.html#n104336">&gt;</a></c8><c4>)</c4><c18><a href="#64_4_refs">&nbsp;</a></c18><c4>-&gt;</c4><c18><a href="#64_4_refs">&nbsp;</a></c18><c8><a href="#64_4_refs">bool</a></c8><c18><a href="#64_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#64_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[321291, 321274]">&nbsp;</a><c22><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#64_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#64">result</a></c26><c21><a href="#64_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#64_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[321275, 321276, 321278, 321277]">&nbsp;</a><c21><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#64_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#64_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#64_4_refs">&nbsp;</a></c22><c12><a href="#64_4_refs">false</a></c12><c22><a href="#64_4_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#64_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[321290, 321280, 321288, 321279]">&nbsp;</a><c21><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#67_17_refs">msg</a></c20><c4>)</c4><c21><a href="#64_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#64_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#64_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[321286, 321282, 321284, 321281, 321285, 321283, 321287]">&nbsp;</a><c22><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#64">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c24><a href="../../librustc/middle/ty.rs.html#253">.sess</a></c24><c13><a href="../../librustc/driver/session.rs.html#208">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#64">span</a></c26><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#208">&nbsp;</a></c13><c26><a href="../../librustc/middle/check_static.rs.html#67">msg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#64_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[321289]">&nbsp;</a><c22><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#64_4_refs">true</a></c12><c22><a href="#64_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#64_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#64_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#64_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[321292]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[321295, 321299, 321296]">&nbsp;</a><c33>impl</c33><c5>&lt;'a&gt;</c5><c33>&nbsp;</c33><c33><a href="../../libsyntax/visit.rs.html#n79646">Visitor</a></c33><c5><a href="../../libsyntax/visit.rs.html#n79646">&lt;bool&gt;</a></c5><c33>&nbsp;for&nbsp;</c33><c33><a href="../../librustc/middle/check_static.rs.html#54">CheckStaticVisitor</a></c33><c5><a href="../../librustc/middle/check_static.rs.html#54">&lt;'a&gt;</a></c5><c33>&nbsp;</c33><c3>{</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[321313, 321306, 321300, 321311, 321312, 321420, 321307, 321303, 321308]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn&nbsp;visit_item</c30><c4>(</c4><c20><a href="#77_18_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18>&nbsp;</c18><c20><a href="#77_29_refs">i</a></c20><c18>:&nbsp;</c18><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#n67454">ast::Item</a></c8><c3>,</c3><c18>&nbsp;</c18><c20>_is_const</c20><c18>:&nbsp;</c18><c8>bool</c8><c4>)</c4><c18>&nbsp;</c18><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[321376, 321383, 321411, 321386, 321366, 321385, 321393, 321348, 321377, 321352, 321375, 321391, 321390, 321414, 321349, 321362, 321378, 321374, 321396, 321373, 321360, 321397, 321358, 321380, 321389, 321371, 321346, 321369, 321364, 321359, 321363, 321387, 321379, 321394, 321347, 321381, 321350, 321372, 321357, 321361, 321353, 321398, 321365, 321395, 321382, 321384, 321392, 321367, 321370, 321368, 321388, 321351, 321356]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</c22><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"visit_item</a></c8><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">item=</a></c8><c3>{}</c3><c4>)</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"</a></c8><c3>,</c3><c22>&nbsp;</c22><c26><a href="../../libsyntax/print/pprust.rs.html#n138047">pprust::item_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#77">i</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[321422, 321421, 321460]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_static.rs.html#77">i</a></c26><c24><a href="../../libsyntax/ast.rs.html#n67454">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[321424, 321426, 321423, 321425, 321427, 321451]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n68072">ast::ItemStatic</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n68072">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n68072">&nbsp;</a></c20><c20><a href="#80_31_refs">mutability</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n68072">&nbsp;</a></c20><c20><a href="#80_43_refs">expr</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[321450, 321428]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_static.rs.html#80">mutability</a></c26><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[321435, 321429, 321436]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n30899">ast::MutImmutable</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[321430, 321434, 321433, 321432, 321431]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_static.rs.html#77">self</a></c26><c10><a href="../../librustc/middle/check_static.rs.html#100">.visit_expr</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#80">expr</a></c26><c3>,</c3><c10><a href="../../librustc/middle/check_static.rs.html#100">&nbsp;</a></c10><c12><a href="../../librustc/middle/check_static.rs.html#100">true</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[321448, 321449, 321437]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n30898">ast::MutMutable</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[321441, 321443, 321440, 321442, 321439, 321445, 321444, 321447, 321446, 321438]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_static.rs.html#77">self</a></c26><c10><a href="../../librustc/middle/check_static.rs.html#64">.report_error</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#80">expr</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.span</a></c24><c3>,</c3><c10><a href="../../librustc/middle/check_static.rs.html#64">&nbsp;</a></c10><c26><a href="../../librustc/middle/check_static.rs.html#35">safe_type_for_static_mut</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#77">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c3>,</c3><c27><a href="../../librustc/middle/check_static.rs.html#64">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#80">expr</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[321457, 321458, 321459, 321454, 321452, 321453, 321456, 321455]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../libsyntax/visit.rs.html#n80643">visit::walk_item</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#77">self</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_static.rs.html#77">i</a></c26><c3>,</c3><c27>&nbsp;</c27><c12>false</c12><c4>)</c4><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[]">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[]">&nbsp;</a><c33>
</c33><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;This&nbsp;method&nbsp;is&nbsp;used&nbsp;to&nbsp;enforce&nbsp;the&nbsp;constraints&nbsp;on
</c42><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;immutable&nbsp;static&nbsp;items.&nbsp;It&nbsp;walks&nbsp;through&nbsp;the&nbsp;*value*
</c42><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;of&nbsp;the&nbsp;item&nbsp;walking&nbsp;down&nbsp;the&nbsp;expression&nbsp;and&nbsp;evaluating
</c42><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;every&nbsp;nested&nbsp;expression.&nbsp;if&nbsp;the&nbsp;expression&nbsp;is&nbsp;not&nbsp;part
</c42><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;of&nbsp;a&nbsp;static&nbsp;item,&nbsp;this&nbsp;method&nbsp;does&nbsp;nothing&nbsp;but&nbsp;walking
</c42><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c42>///&nbsp;down&nbsp;through&nbsp;it.
</c42><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[321473, 321461, 321472, 321474, 321469, 321468, 321467, 321464, 321593]">&nbsp;</a><c33>&nbsp;&nbsp;&nbsp;&nbsp;</c33><c30>fn</c30><c30><a href="#100_4_refs">&nbsp;visit_expr</a></c30><c4>(</c4><c20><a href="#100_18_refs">&amp;mut&nbsp;self</a></c20><c3>,</c3><c18><a href="#100_4_refs">&nbsp;</a></c18><c20><a href="#100_29_refs">e</a></c20><c18><a href="#100_4_refs">:&nbsp;</a></c18><c8><a href="#100_4_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n36966">ast::Expr</a></c8><c3>,</c3><c18><a href="#100_4_refs">&nbsp;</a></c18><c20><a href="#100_44_refs">is_const</a></c20><c18><a href="#100_4_refs">:&nbsp;</a></c18><c8><a href="#100_4_refs">bool</a></c8><c4>)</c4><c18><a href="#100_4_refs">&nbsp;</a></c18><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[321536, 321532, 321537, 321551, 321508, 321513, 321518, 321540, 321520, 321557, 321522, 321519, 321543, 321533, 321558, 321544, 321549, 321575, 321528, 321526, 321512, 321556, 321525, 321559, 321527, 321550, 321531, 321507, 321542, 321521, 321517, 321529, 321539, 321552, 321546, 321530, 321541, 321538, 321553, 321555, 321545, 321514, 321548, 321510, 321547, 321535, 321534, 321511, 321524, 321572, 321509, 321523, 321554]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#101">"visit_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#101">expr=</a></c26><c3>{}</c3><c4>)</c4><c26><a href="../../librustc/middle/check_static.rs.html#101">"</a></c26><c3>,</c3><c22><a href="#100_4_refs">&nbsp;</a></c22><c26><a href="../../libsyntax/print/pprust.rs.html#n137940">pprust::expr_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[321581, 321582, 321591, 321590, 321592]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#100_4_refs">&nbsp;</a></c13><c5><a href="#100_4_refs">!</a></c5><c26><a href="../../librustc/middle/check_static.rs.html#100">is_const</a></c26><c13><a href="#100_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[321586, 321588, 321584, 321587, 321589, 321583, 321585]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#100_4_refs">&nbsp;</a></c13><c26><a href="../../libsyntax/visit.rs.html#n82713">visit::walk_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#100">is_const</a></c26><c4>)</c4><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[321595, 321594, 321708]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#100_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.node</a></c24><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[321596, 321597]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37577">ast::ExprField</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37577">..</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37377">ast::ExprVec</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37377">..</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|
</a></c21><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[321599, 321598]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37541">ast::ExprBlock</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37541">..</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37412">ast::ExprTup</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37412">..</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|
</a></c21><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[321609, 321602, 321601, 321610, 321600]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37358">ast::ExprVstore</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37358">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n37358">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n31652">ast::ExprVstoreSlice</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[321606, 321605, 321603, 321608, 321604, 321607]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/visit.rs.html#n82713">visit::walk_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#100">is_const</a></c26><c4>)</c4><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[321612, 321622, 321623, 321611, 321613]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37358">ast::ExprVstore</a></c20><c4>(</c4><c20><a href="#100_4_refs">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n37358">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n31653">ast::ExprVstoreMutSlice</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[321618, 321617, 321615, 321616, 321620, 321621, 321614]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c24><a href="../../librustc/middle/ty.rs.html#253">.sess</a></c24><c13><a href="../../librustc/driver/session.rs.html#208">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#208">
</a></c13><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[321619]">&nbsp;</a><c13><a href="../../librustc/driver/session.rs.html#208">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#100_4_refs">"</a></c12><c36>static</c36><c36><a href="#100_4_refs">&nbsp;items&nbsp;are&nbsp;not&nbsp;allowed&nbsp;to&nbsp;have&nbsp;mutable&nbsp;slices"</a></c36><c36>);</c36><c36><a href="#100_4_refs">
</a></c36><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[321635, 321624, 321625, 321626, 321636]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37432">ast::ExprUnary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n33236">ast::UnBox</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n37432">&nbsp;</a></c20><c20><a href="#100_4_refs">_</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[321627, 321633, 321628, 321631, 321634, 321629, 321630]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c24><a href="../../librustc/middle/ty.rs.html#253">.sess</a></c24><c13><a href="../../librustc/driver/session.rs.html#208">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#208">
</a></c13><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[321632]">&nbsp;</a><c13><a href="../../librustc/driver/session.rs.html#208">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#208">"</a></c12><c36>static</c36><c36><a href="../../librustc/driver/session.rs.html#208">&nbsp;items&nbsp;are&nbsp;not&nbsp;allowed&nbsp;to&nbsp;have&nbsp;managed&nbsp;pointers"</a></c36><c36>);</c36><c36><a href="#100_4_refs">
</a></c36><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[321637]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37367">ast::ExprBox</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n37367">..</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|
</a></c21><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[321640, 321639, 321638]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37432">ast::ExprUnary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n33237">ast::UnUniq</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n37432">&nbsp;_</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;|
</a></c21><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[321641, 321652, 321653, 321643, 321642]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/ast.rs.html#n37358">ast::ExprVstore</a></c20><c4>(</c4><c20><a href="#100_4_refs">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n37358">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n31651">ast::ExprVstoreUniq</a></c20><c4>)</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[321648, 321645, 321646, 321651, 321647, 321650, 321644]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c24><a href="../../librustc/middle/ty.rs.html#253">.sess</a></c24><c10><a href="../../librustc/driver/session.rs.html#208">.span_err</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#208">
</a></c10><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[321649]">&nbsp;</a><c10><a href="../../librustc/driver/session.rs.html#208">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c12><a href="#100_4_refs">"</a></c12><c36>static</c36><c36><a href="#100_4_refs">&nbsp;items&nbsp;are&nbsp;not&nbsp;allowed&nbsp;to&nbsp;have&nbsp;owned&nbsp;pointers"</a></c36><c36>);</c36><c36><a href="#100_4_refs">
</a></c36><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[321654, 321707, 321706]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#100_4_refs">_</a></c20><c21><a href="#100_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[321663, 321658, 321662, 321664, 321655, 321660, 321657, 321659, 321656, 321661]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#100_4_refs">&nbsp;</a></c22><c20><a href="#128_20_refs">node_ty</a></c20><c16><a href="#100_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.id</a></c24><c4>)</c4><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[321666, 321698, 321699, 321665, 321667, 321668]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#100_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#128">node_ty</a></c26><c4>)</c4><c24><a href="../../librustc/middle/ty.rs.html#375">.sty</a></c24><c13><a href="#100_4_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#100_4_refs">
</a></c13><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[321669, 321671, 321670]">&nbsp;</a><c13><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/middle/ty.rs.html#744">ty::ty_struct</a></c20><c4>(</c4><c20><a href="#131_34_refs">did</a></c20><c3>,</c3><c20><a href="../../librustc/middle/ty.rs.html#744">&nbsp;_</a></c20><c4>)</c4><c13><a href="#100_4_refs">&nbsp;|
</a></c13><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[321674, 321673, 321675, 321672, 321694]">&nbsp;</a><c13><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/middle/ty.rs.html#735">ty::ty_enum</a></c20><c4>(</c4><c20><a href="../../librustc/middle/ty.rs.html#735">did</a></c20><c3>,</c3><c20><a href="../../librustc/middle/ty.rs.html#735">&nbsp;_</a></c20><c4>)</c4><c13><a href="#100_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#100_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[321678, 321692, 321676, 321677, 321693, 321679, 321680]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#100_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/middle/ty.rs.html#3981">ty::has_dtor</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c24><a href="../../librustc/middle/check_static.rs.html#56">.tcx</a></c24><c3>,</c3><c27><a href="#100_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_static.rs.html#131">did</a></c26><c4>)</c4><c21><a href="#100_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[321681, 321689, 321683, 321682, 321688]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c10><a href="../../librustc/middle/check_static.rs.html#64">.report_error</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n36966">.span</a></c24><c3>,</c3><c10><a href="../../librustc/middle/check_static.rs.html#64">
</a></c10><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[321685, 321686, 321687, 321684]">&nbsp;</a><c10><a href="../../librustc/middle/check_static.rs.html#64">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c16><a href="#100_4_refs">~</a></c16><c12><a href="#100_4_refs">"</a></c12><c36>static</c36><c36><a href="#100_4_refs">&nbsp;items&nbsp;are&nbsp;not&nbsp;allowed&nbsp;to&nbsp;have&nbsp;destructors"</a></c36><c36>));</c36><c36><a href="#100_4_refs">
</a></c36><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[321691, 321690]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#100_4_refs">
</a></c13><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[321696, 321697, 321695]">&nbsp;</a><c13><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#100_4_refs">_</a></c20><c13><a href="#100_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#100_4_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#100_4_refs">
</a></c13><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[321704, 321701, 321705, 321702, 321700, 321703]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libsyntax/visit.rs.html#n82713">visit::walk_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_static.rs.html#100">self</a></c26><c3>,</c3><c13><a href="#100_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/middle/check_static.rs.html#100">e</a></c26><c3>,</c3><c13><a href="#100_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/middle/check_static.rs.html#100">is_const</a></c26><c4>)</c4><c3>;</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#100_4_refs">
</a></c21><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#100_4_refs">
</a></c22><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#100_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c33>
</c33><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="54_1_refs"><a href="#54"><c40>librustc/middle/check_static.rs:54:1-54:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;CheckStaticVisitor&lt;'a&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_static.rs.html#60"><c40>60:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;visit::walk_crate(&amp;mut&nbsp;CheckStaticVisitor&nbsp;{&nbsp;tcx:&nbsp;tcx&nbsp;},&nbsp;krate,&nbsp;false)
<br/></a><a href="../../librustc/middle/check_static.rs.html#63"><c40>63:&nbsp;</c40>impl&lt;'a&gt;&nbsp;CheckStaticVisitor&lt;'a&gt;&nbsp;{
<br/></a><a href="../../librustc/middle/check_static.rs.html#75"><c40>75:&nbsp;</c40>impl&lt;'a&gt;&nbsp;Visitor&lt;bool&gt;&nbsp;for&nbsp;CheckStaticVisitor&lt;'a&gt;&nbsp;{
<br/></a><br/><br/><a id="58_1_refs"><a href="#58"><c40>librustc/middle/check_static.rs:58:1-58:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;check_crate(tcx:&nbsp;&amp;ty::ctxt,&nbsp;krate:&nbsp;&amp;ast::Crate)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#334"><c40>334:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;middle::check_static::check_crate(&amp;ty_cx,&nbsp;krate));
<br/></a><br/><br/><a id="35_1_refs"><a href="#35"><c40>librustc/middle/check_static.rs:35:1-35:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;safe_type_for_static_mut(cx:&nbsp;&amp;ty::ctxt,&nbsp;e:&nbsp;&amp;ast::Expr)&nbsp;-&gt;&nbsp;Option&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_static.rs.html#86"><c40>86:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.report_error(expr.span,&nbsp;safe_type_for_static_mut(self.tcx,&nbsp;expr));
<br/></a><br/></div></maintext></div></body>