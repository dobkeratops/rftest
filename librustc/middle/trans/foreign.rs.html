<head><link href="../../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../../librustc/middle/">middle</a></c0><c1>/</c1><c0><a href="./../../../librustc/middle/trans/">trans</a></c0><c1>/</c1><c0><a href="./../../../librustc/middle/trans/foreign.rs.html">foreign.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;back::</c0><c3>{</c3><c0>link</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib::llvm::llvm</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib::llvm::</c0><c3>{</c3><c0>ValueRef</c0><c3>,</c3><c0>&nbsp;CallConv</c0><c3>,</c3><c0>&nbsp;StructRetAttribute</c0><c3>,</c3><c0>&nbsp;Linkage</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::base::push_ctxt</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::base</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::build::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::builder::noname</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::cabi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::common::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::machine</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::type_::Type</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::type_of::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::type_of</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::ty::FnSig</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::cmp</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::libc::c_uint</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::abi::</c0><c3>{</c3><c0>Cdecl</c0><c3>,</c3><c0>&nbsp;Aapcs</c0><c3>,</c3><c0>&nbsp;C</c0><c3>,</c3><c0>&nbsp;AbiSet</c0><c3>,</c3><c0>&nbsp;Win64</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::abi::</c0><c3>{</c3><c0>RustIntrinsic</c0><c3>,</c3><c0>&nbsp;Rust</c0><c3>,</c3><c0>&nbsp;Stdcall</c0><c3>,</c3><c0>&nbsp;Fastcall</c0><c3>,</c3><c0>&nbsp;System</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::codemap::Span</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::parse::token::</c0><c3>{</c3><c0>InternedString</c0><c3>,</c3><c0>&nbsp;special_idents</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::</c0><c3>{</c3><c0>ast</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::</c0><c3>{</c3><c0>attr</c0><c3>,</c3><c0>&nbsp;ast_map</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;util::ppaux::</c0><c3>{</c3><c0>Repr</c0><c3>,</c3><c0>&nbsp;UserString</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[]">&nbsp;</a><c42>///////////////////////////////////////////////////////////////////////////
</c42><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Type&nbsp;definitions
</c40><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[87977]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[]">&nbsp;</a><c31>struct</c31><c31><a href="#41_1_refs">&nbsp;ForeignTypes&nbsp;</a></c31><c3>{</c3><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c42>///&nbsp;Rust&nbsp;signature&nbsp;of&nbsp;the&nbsp;function
</c42><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[87980, 87978]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#44_4_refs">fn_sig:&nbsp;</a></c24><c8><a href="../../../librustc/middle/ty.rs.html#447">ty::FnSig</a></c8><c3>,</c3><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c42>///&nbsp;Adapter&nbsp;object&nbsp;for&nbsp;handling&nbsp;native&nbsp;ABI&nbsp;rules&nbsp;(trust&nbsp;me,&nbsp;you
</c42><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c42>///&nbsp;don't&nbsp;want&nbsp;to&nbsp;know)
</c42><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[87983, 87981]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#48_4_refs">fn_ty:&nbsp;</a></c24><c8><a href="../../../librustc/middle/trans/cabi.rs.html#99">cabi::FnType</a></c8><c3>,</c3><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c42>///&nbsp;LLVM&nbsp;types&nbsp;that&nbsp;will&nbsp;appear&nbsp;on&nbsp;the&nbsp;foreign&nbsp;function
</c42><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[87984, 87986]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#51_4_refs">llsig:&nbsp;</a></c24><c8><a href="../../../librustc/middle/trans/foreign.rs.html#56">LlvmSignature</a></c8><c3>,</c3><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c42>///&nbsp;True&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;return&nbsp;value&nbsp;(not&nbsp;bottom,&nbsp;not&nbsp;unit)
</c42><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[87987, 87989]">&nbsp;</a><c31><a href="#41_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#54_4_refs">ret_def:&nbsp;</a></c24><c8><a href="#54_4_refs">bool</a></c8><c3>,</c3><c31><a href="#41_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[87990]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[]">&nbsp;</a><c31>struct</c31><c31><a href="#56_1_refs">&nbsp;LlvmSignature&nbsp;</a></c31><c3>{</c3><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;LLVM&nbsp;versions&nbsp;of&nbsp;the&nbsp;types&nbsp;of&nbsp;this&nbsp;function's&nbsp;arguments.
</c40><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[87991, 87995, 87993]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#59_4_refs">llarg_tys:&nbsp;</a></c24><c8><a href="../../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../../librustc/middle/trans/type_.rs.html#27">Type</a></c8><c8><a href="../../../libstd/vec.rs.html#n56401">&gt;</a></c8><c31><a href="#56_1_refs">&nbsp;</a></c31><c3>,</c3><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;LLVM&nbsp;version&nbsp;of&nbsp;the&nbsp;type&nbsp;that&nbsp;this&nbsp;function&nbsp;returns.&nbsp;&nbsp;Note&nbsp;that
</c40><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;this&nbsp;*may&nbsp;not&nbsp;be*&nbsp;the&nbsp;declared&nbsp;return&nbsp;type&nbsp;of&nbsp;the&nbsp;foreign
</c40><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;function,&nbsp;because&nbsp;the&nbsp;foreign&nbsp;function&nbsp;may&nbsp;opt&nbsp;to&nbsp;return&nbsp;via&nbsp;an
</c40><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;out&nbsp;pointer.
</c40><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[87996, 87998]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#65_4_refs">llret_ty:&nbsp;</a></c24><c8><a href="../../../librustc/middle/trans/type_.rs.html#27">Type</a></c8><c3>,</c3><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c40>//&nbsp;True&nbsp;if&nbsp;*Rust*&nbsp;would&nbsp;use&nbsp;an&nbsp;outpointer&nbsp;for&nbsp;this&nbsp;function.
</c40><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[87999, 88001]">&nbsp;</a><c31><a href="#56_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c31><c24><a href="#56_1_refs">sret:&nbsp;</a></c24><c8><a href="#56_1_refs">bool</a></c8><c3>,</c3><c31><a href="#56_1_refs">
</a></c31><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[]">&nbsp;</a><c42>///////////////////////////////////////////////////////////////////////////
</c42><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Calls&nbsp;to&nbsp;external&nbsp;functions
</c40><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[88002]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[88005, 88007, 88006]">&nbsp;</a><c21>pub</c21><c1><a href="#74_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#74_1_refs">&nbsp;llvm_calling_convention</a></c30><c4>(</c4><c20><a href="#75_31_refs">ccx</a></c20><c1><a href="#74_1_refs">:&nbsp;</a></c1><c8><a href="#74_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#74_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[88013, 88015, 88011, 88032, 88010]">&nbsp;</a><c1><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#76_31_refs">abis</a></c20><c1><a href="#74_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/abi.rs.html#n15045">AbiSet</a></c8><c4>)</c4><c1><a href="#74_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#74_1_refs">&nbsp;</a></c1><c8><a href="../../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="../../../librustc/lib/llvm.rs.html#30">CallConv</a></c8><c8><a href="../../../libstd/option.rs.html#n104336">&gt;</a></c8><c1><a href="#74_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[88016, 88017, 88019, 88018, 88022, 88023, 88020, 88021]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#74_1_refs">&nbsp;</a></c22><c20><a href="#77_8_refs">os</a></c20><c13><a href="#74_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#75">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c24><a href="../../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../../librustc/driver/session.rs.html#34">.os</a></c24><c3>;</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[88025, 88031, 88030, 88028, 88026, 88024, 88029, 88027]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#74_1_refs">&nbsp;</a></c22><c20><a href="#78_8_refs">arch</a></c20><c16><a href="#74_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#75">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c24><a href="../../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../../librustc/driver/session.rs.html#35">.arch</a></c24><c3>;</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[88148, 88041, 88036, 88040, 88035, 88039, 88038, 88042, 88149, 88034, 88150, 88033]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#76">abis</a></c26><c10><a href="../../../libsyntax/abi.rs.html#n15724">.for_target</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#77">os</a></c26><c3>,</c3><c10><a href="../../../libsyntax/abi.rs.html#n15724">&nbsp;</a></c10><c26><a href="../../../librustc/middle/trans/foreign.rs.html#78">arch</a></c26><c4>)</c4><c10><a href="../../../libstd/option.rs.html#n105129">.map</a></c10><c4>(</c4><c1><a href="#74_1_refs">|</a></c1><c20><a href="#79_35_refs">abi</a></c20><c8><a href="#74_1_refs">|</a></c8><c1><a href="#74_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[88147, 88043]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#79">abi</a></c26><c21><a href="#74_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[88086, 88044, 88085]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14588">RustIntrinsic</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Intrinsics&nbsp;are&nbsp;emitted&nbsp;by&nbsp;monomorphic&nbsp;fn
</c40><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[88067, 88066, 88065, 88076, 88049, 88060, 88072, 88068, 88057, 88048, 88069, 88062, 88074, 88061, 88084, 88052, 88064, 88078, 88053, 88082, 88054, 88063, 88045, 88081, 88070, 88071, 88075, 88046, 88055, 88047, 88058, 88073, 88059, 88056, 88083]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#75">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#241">.bug</a></c10><c4>(</c4><c21><a href="#74_1_refs">format!</a></c21><c4>(</c4><c12><a href="../../../libstd/fmt/rt.rs.html#n169453">"asked&nbsp;to&nbsp;register&nbsp;intrinsic&nbsp;</a></c12><c30>fn</c30><c30><a href="../../../libstd/fmt/rt.rs.html#n169453">"</a></c30><c30>));</c30><c30><a href="#74_1_refs">
</a></c30><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[88128, 88129, 88087]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14585">Rust</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME(#3678)&nbsp;Implement&nbsp;linking&nbsp;to&nbsp;foreign&nbsp;fns&nbsp;with&nbsp;Rust&nbsp;ABI
</c40><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[88088, 88126, 88089, 88127]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#75">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c13><a href="../../../librustc/driver/session.rs.html#247">.unimpl</a></c13><c4>(</c4><c13><a href="../../../librustc/driver/session.rs.html#247">
</a></c13><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[88124, 88091, 88104, 88118, 88102, 88101, 88115, 88100, 88105, 88114, 88097, 88099, 88112, 88121, 88110, 88096, 88095, 88108, 88090, 88103, 88119, 88092, 88113, 88107, 88116, 88106, 88111, 88125, 88098, 88117, 88109]">&nbsp;</a><c13><a href="../../../librustc/driver/session.rs.html#247">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21><a href="../../../librustc/driver/session.rs.html#247">format!</a></c21><c4>(</c4><c16><a href="../../../libstd/fmt/rt.rs.html#n169453">"foreign&nbsp;functions&nbsp;with&nbsp;Rust&nbsp;ABI"</a></c16><c4>))</c4><c3>;</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;It's&nbsp;the&nbsp;ABI's&nbsp;job&nbsp;to&nbsp;select&nbsp;this,&nbsp;not&nbsp;us.
</c40><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[88130, 88134, 88133, 88131, 88132]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14587">System</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#75">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#241">.bug</a></c10><c4>(</c4><c12><a href="../../../librustc/driver/session.rs.html#241">"system&nbsp;abi&nbsp;should&nbsp;be&nbsp;selected&nbsp;elsewhere"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[88135, 88136]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14581">Stdcall</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#35">lib::llvm::X86StdcallCallConv</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[88137, 88138]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14582">Fastcall</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#36">lib::llvm::X86FastcallCallConv</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[88139, 88140]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14586">C</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#32">lib::llvm::CCallConv</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[88141, 88142]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14584">Win64</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#37">lib::llvm::X86_64_Win64</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;These&nbsp;API&nbsp;constants&nbsp;ought&nbsp;to&nbsp;be&nbsp;more&nbsp;specific...
</c40><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[88143, 88144]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14580">Cdecl</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#32">lib::llvm::CCallConv</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[88146, 88145]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libsyntax/abi.rs.html#n14583">Aapcs</a></c20><c21><a href="#74_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#74_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/lib/llvm.rs.html#32">lib::llvm::CCallConv</a></c26><c3>,</c3><c21><a href="#74_1_refs">
</a></c21><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#74_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#74_1_refs">
</a></c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[88151]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[88160, 88155, 88161, 88154, 88156, 88158]">&nbsp;</a><c21>pub</c21><c1><a href="#106_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#106_1_refs">&nbsp;llvm_linkage_by_name</a></c30><c4>(</c4><c20><a href="#107_28_refs">name</a></c20><c1><a href="#106_1_refs">:&nbsp;</a></c1><c8><a href="#106_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#106_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#106_1_refs">&nbsp;</a></c1><c8><a href="../../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="../../../librustc/lib/llvm.rs.html#49">Linkage</a></c8><c8><a href="../../../libstd/option.rs.html#n104336">&gt;</a></c8><c1><a href="#106_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#106_1_refs">
</a></c22><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Use&nbsp;the&nbsp;names&nbsp;from&nbsp;src/llvm/docs/LangRef.rst&nbsp;here.&nbsp;Most&nbsp;types&nbsp;are&nbsp;only
</c40><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;applicable&nbsp;to&nbsp;variable&nbsp;declarations&nbsp;and&nbsp;may&nbsp;not&nbsp;really&nbsp;make&nbsp;sense&nbsp;for
</c40><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Rust&nbsp;code&nbsp;in&nbsp;the&nbsp;first&nbsp;place&nbsp;but&nbsp;whitelist&nbsp;them&nbsp;anyway&nbsp;and&nbsp;trust&nbsp;that
</c40><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;user&nbsp;knows&nbsp;what&nbsp;s/he's&nbsp;doing.&nbsp;Who&nbsp;knows,&nbsp;unanticipated&nbsp;use&nbsp;cases
</c40><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;may&nbsp;pop&nbsp;up&nbsp;in&nbsp;the&nbsp;future.
</c40><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;ghost,&nbsp;dllimport,&nbsp;dllexport&nbsp;and&nbsp;linkonce_odr_autohide&nbsp;are&nbsp;not&nbsp;supported
</c40><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;and&nbsp;don't&nbsp;have&nbsp;to&nbsp;be,&nbsp;LLVM&nbsp;treats&nbsp;them&nbsp;as&nbsp;no-ops.
</c40><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[88220, 88162]">&nbsp;</a><c22><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#107">name</a></c26><c21><a href="#106_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[88166, 88165, 88163, 88167, 88164]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"appending"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#57">lib::llvm::AppendingLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[88169, 88168, 88170, 88171, 88172]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"available_externally"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#52">lib::llvm::AvailableExternallyLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[88177, 88174, 88175, 88176, 88173]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"common"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#61">lib::llvm::CommonLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[88180, 88178, 88179, 88181, 88182]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"extern_weak"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#60">lib::llvm::ExternalWeakLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[88186, 88187, 88184, 88183, 88185]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"external"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#51">lib::llvm::ExternalLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[88192, 88189, 88190, 88191, 88188]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"internal"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#58">lib::llvm::InternalLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[88197, 88194, 88196, 88195, 88193]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"linkonce"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#53">lib::llvm::LinkOnceAnyLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[88202, 88201, 88198, 88200, 88199]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"linkonce_odr"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#54">lib::llvm::LinkOnceODRLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[88207, 88206, 88205, 88203, 88204]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"private"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#59">lib::llvm::PrivateLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[88209, 88211, 88210, 88212, 88208]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"weak"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#55">lib::llvm::WeakAnyLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[88214, 88215, 88216, 88217, 88213]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">"weak_odr"</a></c20><c12><a href="#106_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#56">lib::llvm::WeakODRLinkage</a></c26><c4>)</c4><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[88218, 88219]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#106_1_refs">_</a></c20><c21><a href="#106_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#106_1_refs">&nbsp;</a></c21><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c21><a href="#106_1_refs">
</a></c21><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#106_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#106_1_refs">
</a></c22><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[88221]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[88224, 88225, 88226]">&nbsp;</a><c21>pub</c21><c1><a href="#131_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#131_1_refs">&nbsp;register_static</a></c30><c4>(</c4><c20><a href="#132_23_refs">ccx</a></c20><c1><a href="#131_1_refs">:&nbsp;</a></c1><c8><a href="#131_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#131_1_refs">
</a></c1><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[88229, 88231, 88230, 88233, 88259]">&nbsp;</a><c1><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#133_23_refs">foreign_item</a></c20><c1><a href="#131_1_refs">:&nbsp;</a></c1><c8><a href="#131_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n70566">ast::ForeignItem</a></c8><c4>)</c4><c1><a href="#131_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#131_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c1><a href="#131_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[88235, 88239, 88237, 88243, 88234, 88241, 88236, 88238, 88240, 88242]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#134_8_refs">ty</a></c20><c16><a href="#131_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#133">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.id</a></c24><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[88244, 88245, 88247, 88251, 88249, 88248, 88250, 88246]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#135_8_refs">llty</a></c20><c13><a href="#131_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/type_of.rs.html#169">type_of::type_of</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#134">ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[88252, 88258, 88254, 88257, 88253, 88255, 88256]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#137_8_refs">ident</a></c20><c13><a href="#131_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#801">link_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#133">foreign_item</a></c26><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[88262, 88260, 88265, 88263, 88408, 88261]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#131_1_refs">&nbsp;</a></c21><c26><a href="../../../libsyntax/attr.rs.html#n2997">attr::first_attr_value_str_by_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#133">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.attrs</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#131_1_refs">
</a></c27><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[88264]">&nbsp;</a><c27><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#131_1_refs">"linkage"</a></c12><c4>)</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;If&nbsp;this&nbsp;is&nbsp;a&nbsp;static&nbsp;with&nbsp;a&nbsp;linkage&nbsp;specified,&nbsp;then&nbsp;we&nbsp;need&nbsp;to&nbsp;handle
</c40><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;it&nbsp;a&nbsp;little&nbsp;specially.&nbsp;The&nbsp;typesystem&nbsp;prevents&nbsp;things&nbsp;like&nbsp;&amp;T&nbsp;and
</c40><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;extern&nbsp;"C"&nbsp;fn()&nbsp;from&nbsp;being&nbsp;non-null,&nbsp;so&nbsp;we&nbsp;can't&nbsp;just&nbsp;declare&nbsp;a
</c40><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;static&nbsp;and&nbsp;call&nbsp;it&nbsp;a&nbsp;day.&nbsp;Some&nbsp;linkages&nbsp;(like&nbsp;weak)&nbsp;will&nbsp;make&nbsp;it&nbsp;such
</c40><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;that&nbsp;the&nbsp;static&nbsp;actually&nbsp;has&nbsp;a&nbsp;null&nbsp;value.
</c40><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[88267, 88386, 88316, 88266]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#145_13_refs">name</a></c20><c4>)</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n[88268, 88271, 88272, 88270, 88289, 88274, 88273, 88269, 88288]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#146_16_refs">linkage</a></c20><c13><a href="#131_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#131_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#106">llvm_linkage_by_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#145">name</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>())</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n[88277, 88275, 88276]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#147_21_refs">linkage</a></c20><c4>)</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#147">linkage</a></c26><c3>,</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n[88278, 88287, 88286]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a><a id="n[88285, 88281, 88284, 88282, 88280, 88279]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#202">.span_fatal</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#133">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.span</a></c24><c3>,</c3><c10><a href="../../../librustc/driver/session.rs.html#202">
</a></c10><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n[88283]">&nbsp;</a><c10><a href="../../../librustc/driver/session.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c12><a href="../../../librustc/driver/session.rs.html#202">"invalid&nbsp;linkage&nbsp;specified"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n[88296, 88294, 88290, 88292, 88293, 88315, 88314, 88295, 88291]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#153_16_refs">llty2</a></c20><c13><a href="#131_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#131_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#134">ty</a></c26><c4>)</c4><c24><a href="../../../librustc/middle/ty.rs.html#375">.sty</a></c24><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n[88303, 88301, 88302, 88300, 88298, 88299, 88297]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../librustc/middle/ty.rs.html#739">ty::ty_ptr</a></c20><c4>(</c4><c20><a href="#154_27_refs">ref&nbsp;mt</a></c20><c4>)</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/type_of.rs.html#169">type_of::type_of</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#154">mt</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#128">.ty</a></c24><c4>)</c4><c3>,</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n[88313, 88304, 88312]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#131_1_refs">_</a></c20><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n[88308, 88310, 88307, 88306, 88311, 88305]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c13><a href="../../../librustc/driver/session.rs.html#202">.span_fatal</a></c13><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#133">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.span</a></c24><c3>,</c3><c13><a href="../../../librustc/driver/session.rs.html#202">
</a></c13><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n[88309]">&nbsp;</a><c13><a href="../../../librustc/driver/session.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../../librustc/driver/session.rs.html#202">"must&nbsp;have&nbsp;</a></c12><c35>type</c35><c35><a href="../../../librustc/driver/session.rs.html#202">&nbsp;`*T`&nbsp;or&nbsp;`*mut&nbsp;T`"</a></c35><c35>);</c35><c35><a href="#131_1_refs">
</a></c35><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n[88385, 88383]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n[88327, 88335, 88326, 88319, 88318, 88338, 88337, 88323, 88317, 88324, 88325, 88320, 88321, 88336]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#161_20_refs">g1</a></c20><c16><a href="#131_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#137">ident</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c10><a href="../../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="../../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#161_49_refs">buf</a></c20><c8><a href="../../../libstd/c_str.rs.html#n132053">|</a></c8><c1><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c3>{</c3><c22><a href="../../../libstd/c_str.rs.html#n132053">
</a></c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n[88333, 88332, 88329, 88334, 88331, 88330, 88328]">&nbsp;</a><c22><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517080">llvm::LLVMAddGlobal</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#40">.llmod</a></c24><c3>,</c3><c27><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#153">llty2</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#161">buf</a></c26><c4>)</c4><c22><a href="../../../libstd/c_str.rs.html#n132053">
</a></c22><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n[88340, 88342, 88343, 88339, 88341]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/lib/llvm.rs.html#1785">lib::llvm::SetLinkage</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#161">g1</a></c26><c3>,</c3><c13><a href="#131_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#146">linkage</a></c26><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n[88344, 88350, 88348, 88351, 88349, 88347, 88345, 88346]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#166_20_refs">real_name</a></c20><c13><a href="#131_1_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#131_1_refs">"_rust_extern_with_linkage_"</a></c12><c5><a href="#131_1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#137">ident</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n[88358, 88354, 88357, 88361, 88372, 88352, 88369, 88370, 88359, 88360, 88371, 88353, 88355]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#131_1_refs">&nbsp;</a></c22><c20><a href="#167_20_refs">g2</a></c20><c16><a href="#131_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#166">real_name</a></c26><c10><a href="../../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="#131_1_refs">|</a></c1><c20><a href="#167_47_refs">buf</a></c20><c8><a href="#131_1_refs">|</a></c8><c1><a href="#131_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n[88365, 88368, 88362, 88363, 88366, 88367, 88364]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517080">llvm::LLVMAddGlobal</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#40">.llmod</a></c24><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#135">llty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#167">buf</a></c26><c4>)</c4><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n[88375, 88374, 88377, 88373, 88376]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/lib/llvm.rs.html#1785">lib::llvm::SetLinkage</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#167">g2</a></c26><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/lib/llvm.rs.html#58">lib::llvm::InternalLinkage</a></c26><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n[88382, 88378, 88379, 88380, 88381]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517169">llvm::LLVMSetInitializer</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#167">g2</a></c26><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#161">g1</a></c26><c4>)</c4><c3>;</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n[88384]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#167">g2</a></c26><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n[88388, 88387, 88407]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#131_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#131_1_refs">&nbsp;</a></c21><c22><a href="#131_1_refs">unsafe&nbsp;</a></c22><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n[88404, 88396, 88395, 88393, 88392, 88406, 88390, 88405, 88394, 88389]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#137">ident</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c10><a href="../../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="../../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#176_36_refs">buf</a></c20><c8><a href="#131_1_refs">|</a></c8><c1><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c3>{</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n[88399, 88398, 88402, 88401, 88397, 88400, 88403]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517080">llvm::LLVMAddGlobal</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#132">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#40">.llmod</a></c24><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#135">llty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#131_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#176">buf</a></c26><c4>)</c4><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#131_1_refs">
</a></c21><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#131_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#131_1_refs">
</a></c22><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n[88409]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n[88413, 88414, 88418, 88412, 88417]">&nbsp;</a><c21>pub</c21><c1><a href="#182_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#182_1_refs">&nbsp;register_foreign_item_fn</a></c30><c4>(</c4><c20><a href="#183_32_refs">ccx</a></c20><c1><a href="#182_1_refs">:&nbsp;</a></c1><c8><a href="#182_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#182_1_refs">&nbsp;</a></c1><c20><a href="#183_52_refs">abis</a></c20><c1><a href="#182_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/abi.rs.html#n15045">AbiSet</a></c8><c3>,</c3><c1><a href="#182_1_refs">
</a></c1><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n[88796, 88423, 88425, 88421, 88422]">&nbsp;</a><c1><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#184_32_refs">foreign_item</a></c20><c1><a href="#182_1_refs">:&nbsp;</a></c1><c8><a href="#182_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n70566">ast::ForeignItem</a></c8><c4>)</c4><c1><a href="#182_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#182_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c1><a href="#182_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c41>/*!
</c41><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Registers&nbsp;a&nbsp;foreign&nbsp;function&nbsp;found&nbsp;in&nbsp;a&nbsp;library.
</c41><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Just&nbsp;adds&nbsp;a&nbsp;LLVM&nbsp;global.
</c41><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
</c41><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a><a id="n[88559, 88519, 88520, 88552, 88548, 88572, 88575, 88515, 88546, 88478, 88510, 88473, 88512, 88500, 88502, 88528, 88495, 88491, 88494, 88503, 88482, 88488, 88517, 88513, 88522, 88490, 88550, 88518, 88499, 88498, 88523, 88553, 88558, 88477, 88487, 88483, 88507, 88527, 88506, 88530, 88493, 88514, 88524, 88549, 88509, 88547, 88511, 88529, 88533, 88489, 88496, 88501, 88551, 88508, 88486, 88521, 88525, 88556, 88484, 88481, 88554, 88526, 88497, 88555, 88557, 88516, 88531, 88505, 88504, 88492, 88532, 88485]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">"register_foreign_item_fn</a></c12><c4>(</c4><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">abis=</a></c12><c3>{},</c3><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;\
</a></c12><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path=</a></c12><c3>{},</c3><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;\
</a></c12><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign_item.id=</a></c12><c3>{}</c3><c4>)</c4><c12><a href="../../../libstd/fmt/rt.rs.html#n169505">"</a></c12><c3>,</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n[88462, 88461, 88474, 88537, 88459, 88460, 88535, 88536, 88534, 88458]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">abis</a></c26><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.repr</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>())</c4><c3>,</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n[88538, 88465, 88463, 88464, 88468, 88539, 88466, 88540, 88469, 88475, 88467, 88541]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#101">.tcx</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#285">.map</a></c24><c27><a href="#194_11_refs">.path_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#184">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.id</a></c24><c4>)</c4><c3>,</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n[88544, 88543, 88476, 88472, 88545, 88542, 88470, 88471]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#184">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.id</a></c24><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n[88582, 88586, 88587, 88585, 88583, 88581, 88584, 88660, 88661]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#182_1_refs">&nbsp;</a></c22><c20><a href="#197_8_refs">cc</a></c20><c13><a href="#182_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#182_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#74">llvm_calling_convention</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c3>,</c3><c27><a href="#182_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">abis</a></c26><c4>)</c4><c21><a href="#182_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#182_1_refs">
</a></c21><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n[88590, 88588, 88589]">&nbsp;</a><c21><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#198_13_refs">cc</a></c20><c4>)</c4><c21><a href="#182_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#182_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#198">cc</a></c26><c3>,</c3><c21><a href="#182_1_refs">
</a></c21><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n[88659, 88658, 88591]">&nbsp;</a><c21><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#182_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#182_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n[88657, 88594, 88593, 88656, 88595, 88592]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#202">.span_fatal</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#184">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.span</a></c24><c3>,</c3><c10><a href="../../../librustc/driver/session.rs.html#202">
</a></c10><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n[88624, 88612, 88611, 88618, 88649, 88637, 88627, 88643, 88630, 88616, 88603, 88655, 88604, 88626, 88639, 88642, 88628, 88623, 88654, 88636, 88609, 88613, 88651, 88601, 88620, 88641, 88631, 88645, 88610, 88629, 88615, 88640, 88608, 88621, 88622, 88646, 88647, 88617, 88619, 88625, 88644, 88614, 88648, 88607, 88638]">&nbsp;</a><c10><a href="../../../librustc/driver/session.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21><a href="../../../librustc/driver/session.rs.html#202">format!</a></c21><c4>(</c4><c13><a href="../../../libstd/fmt/rt.rs.html#n169447">"ABI&nbsp;`</a></c13><c3>{}</c3><c13><a href="../../../libstd/fmt/rt.rs.html#n169447">`&nbsp;has&nbsp;no&nbsp;suitable&nbsp;calling&nbsp;convention&nbsp;\
</a></c13><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="../../../libstd/fmt/rt.rs.html#n169447">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>for</c21><c13><a href="../../../libstd/fmt/rt.rs.html#n169447">&nbsp;target&nbsp;architecture"</a></c13><c3>,</c3><c21><a href="../../../librustc/driver/session.rs.html#202">
</a></c21><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n[88600, 88635, 88598, 88634, 88599, 88633, 88602, 88632, 88596, 88597]">&nbsp;</a><c21><a href="../../../librustc/driver/session.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">abis</a></c26><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.user_string</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>())))</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#182_1_refs">
</a></c21><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Register&nbsp;the&nbsp;function&nbsp;as&nbsp;a&nbsp;C&nbsp;extern&nbsp;fn
</c40><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n[88663, 88665, 88667, 88668, 88664, 88662, 88666]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#182_1_refs">&nbsp;</a></c22><c20><a href="#208_8_refs">lname</a></c20><c16><a href="#182_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#801">link_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#184">foreign_item</a></c26><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n[88671, 88673, 88674, 88677, 88676, 88675, 88669, 88670, 88672]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#182_1_refs">&nbsp;</a></c22><c20><a href="#209_8_refs">tys</a></c20><c16><a href="#182_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#828">foreign_types_for_id</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c3>,</c3><c27><a href="#182_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#184">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.id</a></c24><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;calling&nbsp;convention&nbsp;is&nbsp;right&nbsp;for&nbsp;variadic&nbsp;functions
</c40><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;(should've&nbsp;been&nbsp;caught&nbsp;if&nbsp;not&nbsp;in&nbsp;typeck)
</c40><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n[88760, 88679, 88678, 88759, 88758, 88680]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#182_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#209">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#452">.variadic</a></c24><c21><a href="#182_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n[88682, 88681, 88683]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#197">cc</a></c26><c5><a href="#182_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../../librustc/lib/llvm.rs.html#32">lib::llvm::CCallConv</a></c26><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;LLVM&nbsp;value&nbsp;for&nbsp;the&nbsp;C&nbsp;extern&nbsp;fn
</c40><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a><a id="n[88768, 88764, 88761, 88762, 88765, 88769, 88766, 88763, 88767]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#182_1_refs">&nbsp;</a></c22><c20><a href="#218_8_refs">llfn_ty</a></c20><c13><a href="#182_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#865">lltype_for_fn_from_foreign_types</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c3>,</c3><c27><a href="#182_1_refs">&nbsp;</a></c27><c5><a href="#182_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#209">tys</a></c26><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n[88774, 88789, 88776, 88778, 88772, 88777, 88771, 88773, 88788, 88775, 88770]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#182_1_refs">&nbsp;</a></c22><c20><a href="#220_8_refs">llfn</a></c20><c16><a href="#182_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#217">base::get_extern_fn</a></c26><c4>(</c4><c5><a href="#182_1_refs">&amp;mut&nbsp;*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#45">.externs</a></c24><c10><a href="../../../libstd/cell.rs.html#n107663">.borrow_mut</a></c10><c4>()</c4><c3>,</c3><c27><a href="#182_1_refs">
</a></c27><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n[88780, 88779]">&nbsp;</a><c27><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#183">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#40">.llmod</a></c24><c3>,</c3><c27><a href="#182_1_refs">
</a></c27><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n[88781, 88782]">&nbsp;</a><c27><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#208">lname</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c3>,</c3><c27><a href="#182_1_refs">
</a></c27><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n[88783]">&nbsp;</a><c27><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#197">cc</a></c26><c3>,</c3><c27><a href="#182_1_refs">
</a></c27><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n[88784]">&nbsp;</a><c27><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#218">llfn_ty</a></c26><c3>,</c3><c27><a href="#182_1_refs">
</a></c27><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n[88787, 88786, 88785]">&nbsp;</a><c27><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#209">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n[88792, 88795, 88794, 88793, 88790, 88791]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#912">add_argument_attributes</a></c26><c4>(</c4><c5><a href="#182_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#209">tys</a></c26><c3>,</c3><c27><a href="#182_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#220">llfn</a></c26><c4>)</c4><c3>;</c3><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n[88797]">&nbsp;</a><c22><a href="#182_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#220">llfn</a></c26><c22><a href="#182_1_refs">
</a></c22><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a><a id="n[88798]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c1><a href="#230_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#230_1_refs">&nbsp;trans_native_call</a></c30><c5><a href="#230_1_refs">&lt;'a&gt;</a></c5><c4>(</c4><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n[88803, 88804, 88805]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#232_25_refs">bcx</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="#230_1_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../../librustc/middle/trans/common.rs.html#401">Block&lt;'a&gt;</a></c8><c3>,</c3><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n[88808, 88809]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#233_25_refs">callee_ty</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>,</c3><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n[88813, 88812]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#234_25_refs">llfn</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>,</c3><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a><a id="n[88817, 88816]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#235_25_refs">llretptr</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>,</c3><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n[88820, 88823, 88821, 88822]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#236_25_refs">llargs_rust</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="#230_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>],</c3><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n[88828, 88829, 88826]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#237_25_refs">passed_arg_tys</a></c20><c1><a href="#230_1_refs">:&nbsp;</a></c1><c8><a href="../../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c8><a href="../../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#230_1_refs">&nbsp;</a></c1><c4>)</c4><c1><a href="#230_1_refs">
</a></c1><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n[88833, 88834, 90524]">&nbsp;</a><c1><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#230_1_refs">&nbsp;</a></c1><c8><a href="#230_1_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../../librustc/middle/trans/common.rs.html#401">Block&lt;'a&gt;</a></c8><c1><a href="#230_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c41>/*!
</c41><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;Prepares&nbsp;a&nbsp;call&nbsp;to&nbsp;a&nbsp;native&nbsp;function.&nbsp;This&nbsp;requires&nbsp;adapting
</c41><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;from&nbsp;the&nbsp;Rust&nbsp;argument&nbsp;passing&nbsp;rules&nbsp;to&nbsp;the&nbsp;native&nbsp;rules.
</c41><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*
</c41><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;#&nbsp;Parameters
</c41><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*
</c41><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;`callee_ty`:&nbsp;Rust&nbsp;type&nbsp;for&nbsp;the&nbsp;function&nbsp;we&nbsp;are&nbsp;calling
</c41><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;`llfn`:&nbsp;the&nbsp;function&nbsp;pointer&nbsp;we&nbsp;are&nbsp;calling
</c41><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;`llretptr`:&nbsp;where&nbsp;to&nbsp;store&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;the&nbsp;function
</c41><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;`llargs_rust`:&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;argument&nbsp;values,&nbsp;prepared
</c41><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;as&nbsp;they&nbsp;would&nbsp;be&nbsp;if&nbsp;calling&nbsp;a&nbsp;Rust&nbsp;function
</c41><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;-&nbsp;`passed_arg_tys`:&nbsp;Rust&nbsp;type&nbsp;for&nbsp;the&nbsp;arguments.&nbsp;Normally&nbsp;we
</c41><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;can&nbsp;derive&nbsp;these&nbsp;from&nbsp;callee_ty&nbsp;but&nbsp;in&nbsp;the&nbsp;case&nbsp;of&nbsp;variadic
</c41><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;functions&nbsp;passed_arg_tys&nbsp;will&nbsp;include&nbsp;the&nbsp;Rust&nbsp;type&nbsp;of&nbsp;all
</c41><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;&nbsp;&nbsp;the&nbsp;arguments&nbsp;including&nbsp;the&nbsp;ones&nbsp;not&nbsp;specified&nbsp;in&nbsp;the&nbsp;fn's&nbsp;signature.
</c41><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
</c41><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a><a id="n[88837, 88836, 88840, 88839, 88838, 88841]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#256_8_refs">ccx</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c10><a href="../../../librustc/middle/trans/common.rs.html#441">.ccx</a></c10><c4>()</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a><a id="n[88842, 88844, 88845, 88847, 88846, 88843]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#257_8_refs">tcx</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c10><a href="../../../librustc/middle/trans/common.rs.html#442">.tcx</a></c10><c4>()</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a><a id="n[88924, 88968, 88944, 88926, 88899, 88972, 88948, 88910, 88980, 88993, 88937, 88947, 88922, 88903, 88906, 88918, 88945, 88902, 88915, 88974, 88898, 88946, 88911, 88954, 88912, 88894, 88928, 88978, 88938, 88969, 88921, 88973, 88977, 88930, 88923, 88970, 88996, 88905, 88934, 88936, 88976, 88916, 88914, 88950, 88971, 88919, 88940, 88942, 88975, 88967, 88952, 88929, 88949, 88931, 88951, 88941, 88933, 88909, 88917, 88953, 88908, 88925, 88932, 88904, 88907, 88920, 88935, 88939, 88943, 88979, 88913, 88927]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">"trans_native_call</a></c26><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">callee_ty=</a></c26><c3>{},</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;\
</a></c26><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llfn=</a></c26><c3>{},</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;\
</a></c26><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llretptr=</a></c26><c3>{}</c3><c4>)</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">"</a></c26><c3>,</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n[88958, 88956, 88880, 88882, 88957, 88883, 88955, 88881, 88895]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#233">callee_ty</a></c26><c20><a href="#262_11_refs">.repr</a></c20><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#257">tcx</a></c26><c4>)</c4><c3>,</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n[88960, 88961, 88886, 88888, 88959, 88884, 88896, 88962, 88887, 88885]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c10><a href="../../../librustc/lib/llvm.rs.html#1855">.val_to_str</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#234">llfn</a></c26><c4>)</c4><c3>,</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n[88893, 88963, 88964, 88891, 88890, 88889, 88897, 88965, 88892, 88966]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../librustc/lib/llvm.rs.html#1855">.val_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a><a id="n[89007, 89025, 89010, 89004, 89003, 89008, 89006, 89002, 89009, 89024, 89005]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#266_9_refs">fn_abis</a></c20><c3>,</c3><c20><a href="#230_1_refs">&nbsp;</a></c20><c20><a href="#266_18_refs">fn_sig</a></c20><c4>)</c4><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#230_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#233">callee_ty</a></c26><c4>)</c4><c24><a href="../../../librustc/middle/ty.rs.html#375">.sty</a></c24><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a><a id="n[89017, 89016, 89013, 89015, 89014, 89012, 89011, 89018]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../librustc/middle/ty.rs.html#741">ty::ty_bare_fn</a></c20><c4>(</c4><c20><a href="#267_23_refs">ref&nbsp;fn_ty</a></c20><c4>)</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#267">fn_ty</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#421">.abis</a></c24><c3>,</c3><c14><a href="#230_1_refs">&nbsp;</a></c14><c26><a href="../../../librustc/middle/trans/foreign.rs.html#267">fn_ty</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#422">.sig</a></c24><c10><a href="../../../librustc/middle/ty.rs.html#447">.clone</a></c10><c4>())</c4><c3>,</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n[89023, 89019, 89021, 89020, 89022]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#230_1_refs">_</a></c20><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#241">.bug</a></c10><c4>(</c4><c12><a href="../../../librustc/driver/session.rs.html#241">"trans_native_call&nbsp;called&nbsp;on&nbsp;non-function&nbsp;</a></c12><c35>type</c35><c35><a href="../../../librustc/driver/session.rs.html#241">"</a></c35><c35>)</c35><c35><a href="#230_1_refs">
</a></c35><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;270</ln><a id="270">&nbsp;</a><a id="n[89033, 89028, 89029, 89027, 89032, 89035, 89034, 89030, 89036, 89026, 89031]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#270_8_refs">llsig</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#809">foreign_signature</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c5><a href="#230_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#266">fn_sig</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#237">passed_arg_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;271</ln><a id="271">&nbsp;</a><a id="n[89039, 89047, 89042, 89037, 89046, 89045, 89041, 89043, 89040, 89038, 89044]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#271_8_refs">ret_def</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#230_1_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/common.rs.html#91">return_type_is_void</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c10><a href="../../../librustc/middle/trans/common.rs.html#441">.ccx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#266">fn_sig</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;272</ln><a id="272">&nbsp;</a><a id="n[89059, 89052, 89049, 89048, 89051, 89050, 89060]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#272_8_refs">fn_type</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/cabi.rs.html#107">cabi::compute_abi_info</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;273</ln><a id="273">&nbsp;</a><a id="n[89055, 89053, 89054]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#270">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#59">.llarg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;274</ln><a id="274">&nbsp;</a><a id="n[89057, 89056]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#270">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#65">.llret_ty</a></c24><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;275</ln><a id="275">&nbsp;</a><a id="n[89058]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#271">ret_def</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;276</ln><a id="276">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;277</ln><a id="277">&nbsp;</a><a id="n[89065, 89070, 89067, 89069, 89068, 89061, 89064, 89066, 89063]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#277_8_refs">arg_tys</a></c20><c16><a href="#230_1_refs">:&nbsp;</a></c16><c8><a href="#230_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../../librustc/middle/trans/cabi.rs.html#36">cabi::ArgType</a></c8><c3>]</c3><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#102">.arg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;278</ln><a id="278">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;279</ln><a id="279">&nbsp;</a><a id="n[89076, 89073, 89075, 89072, 89071, 89074]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#279_8_refs">&nbsp;llargs_foreign</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;280</ln><a id="280">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;281</ln><a id="281">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;the&nbsp;foreign&nbsp;ABI&nbsp;expects&nbsp;return&nbsp;value&nbsp;by&nbsp;pointer,&nbsp;supply&nbsp;the
</c40><br/><ln>&nbsp;282</ln><a id="282">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;pointer&nbsp;that&nbsp;Rust&nbsp;gave&nbsp;us.&nbsp;Sometimes&nbsp;we&nbsp;have&nbsp;to&nbsp;bitcast
</c40><br/><ln>&nbsp;283</ln><a id="283">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;because&nbsp;foreign&nbsp;fns&nbsp;return&nbsp;slightly&nbsp;different&nbsp;(but&nbsp;equivalent)
</c40><br/><ln>&nbsp;284</ln><a id="284">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;views&nbsp;on&nbsp;the&nbsp;same&nbsp;type&nbsp;(e.g.,&nbsp;i64&nbsp;in&nbsp;place&nbsp;of&nbsp;{i32,i32}).
</c40><br/><ln>&nbsp;285</ln><a id="285">&nbsp;</a><a id="n[89110, 89111, 89080, 89078, 89079, 89077]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#230_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c13><a href="#230_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;286</ln><a id="286">&nbsp;</a><a id="n[89082, 89081, 89083, 89109]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;287</ln><a id="287">&nbsp;</a><a id="n[89100, 89084, 89085, 89101]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#287_17_refs">ty</a></c20><c4>)</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;288</ln><a id="288">&nbsp;</a><a id="n[89088, 89095, 89086, 89087]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#288_20_refs">llcastedretptr</a></c20><c16><a href="#230_1_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;289</ln><a id="289">&nbsp;</a><a id="n[89090, 89092, 89094, 89091, 89093, 89089]">&nbsp;</a><c16><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/build.rs.html#549">BitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#287">ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>())</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;290</ln><a id="290">&nbsp;</a><a id="n[89098, 89099, 89096, 89097]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#279">llargs_foreign</a></c26><c13><a href="../../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#288">llcastedretptr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;291</ln><a id="291">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;292</ln><a id="292">&nbsp;</a><a id="n[89102, 89107, 89108]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;293</ln><a id="293">&nbsp;</a><a id="n[89103, 89106, 89105, 89104]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#279">llargs_foreign</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;294</ln><a id="294">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;295</ln><a id="295">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;296</ln><a id="296">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;297</ln><a id="297">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;298</ln><a id="298">&nbsp;</a><a id="n[89117, 89113, 89125, 89756, 89120, 89123, 89754, 89126, 89115, 89119, 89112, 89124, 89753, 89757, 89118, 89121, 89755, 89758, 89122, 89114, 89116]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="#298_4_refs">&nbsp;</a></c20><c4>(</c4><c20><a href="#298_9_refs">i</a></c20><c3>,</c3><c20><a href="../../../libstd/option.rs.html#n104337">&nbsp;&amp;</a></c20><c20><a href="#298_13_refs">llarg_rust</a></c20><c4>)</c4><c20><a href="#298_4_refs">&nbsp;in&nbsp;</a></c20><c26><a href="../../../librustc/middle/trans/foreign.rs.html#236">llargs_rust</a></c26><c10><a href="../../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/typeck/check/mod.rs.html#3998">.enumerate</a></c10><c4>()</c4><c20><a href="#298_4_refs">&nbsp;</a></c20><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;299</ln><a id="299">&nbsp;</a><a id="n[89127, 89131, 89129, 89128, 89130]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c21>mut</c21><c20><a href="#299_12_refs">&nbsp;llarg_rust</a></c20><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">llarg_rust</a></c26><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;300</ln><a id="300">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;301</ln><a id="301">&nbsp;</a><a id="n[89134, 89135, 89138, 89133, 89140, 89139, 89132]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#277">arg_tys</a></c26><c3>[</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c3>]</c3><c10><a href="../../../librustc/middle/trans/cabi.rs.html#90">.is_ignore</a></c10><c4>()</c4><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;302</ln><a id="302">&nbsp;</a><a id="n[89137, 89136]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c13><a href="../../../libstd/option.rs.html#n104337">continue</a></c13><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;303</ln><a id="303">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;304</ln><a id="304">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;305</ln><a id="305">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Does&nbsp;Rust&nbsp;pass&nbsp;this&nbsp;argument&nbsp;by&nbsp;pointer?
</c40><br/><ln>&nbsp;306</ln><a id="306">&nbsp;</a><a id="n[89142, 89151, 89144, 89141, 89143, 89150, 89145]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#306_12_refs">rust_indirect</a></c20><c16><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/type_of.rs.html#24">type_of::arg_is_indirect</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">
</a></c27><br/><ln>&nbsp;307</ln><a id="307">&nbsp;</a><a id="n[89148, 89146, 89149, 89147]">&nbsp;</a><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c5><a href="../../../libstd/option.rs.html#n104337">*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#237">passed_arg_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n57648">.get</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;308</ln><a id="308">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;309</ln><a id="309">&nbsp;</a><a id="n[89248, 89297, 89227, 89238, 89292, 89294, 89293, 89296, 89303, 89316, 89319, 89302, 89241, 89217, 89216, 89232, 89201, 89237, 89243, 89224, 89270, 89214, 89220, 89207, 89264, 89235, 89211, 89253, 89240, 89291, 89268, 89234, 89228, 89301, 89266, 89261, 89239, 89215, 89295, 89246, 89269, 89254, 89250, 89252, 89272, 89256, 89242, 89298, 89262, 89210, 89229, 89230, 89226, 89219, 89255, 89258, 89263, 89249, 89271, 89260, 89259, 89218, 89233, 89206, 89251, 89236, 89299, 89213, 89265, 89223, 89247, 89300, 89273, 89222, 89221, 89257, 89290, 89225, 89267, 89244, 89245, 89231, 89212]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169507">"argument&nbsp;</a></c8><c3>{},</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169507">&nbsp;llarg_rust=</a></c8><c3>{},</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169507">&nbsp;rust_indirect=</a></c8><c3>{},</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169507">&nbsp;arg_ty=</a></c8><c3>{}</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169507">"</a></c8><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;310</ln><a id="310">&nbsp;</a><a id="n[89274, 89277, 89275, 89184, 89202, 89185, 89276]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#310">i</a></c26><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;311</ln><a id="311">&nbsp;</a><a id="n[89280, 89278, 89203, 89187, 89188, 89190, 89186, 89189, 89281, 89279]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n169877">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c4>)</c4><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;312</ln><a id="312">&nbsp;</a><a id="n[89284, 89282, 89283, 89191, 89192, 89285, 89204]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="#312_15_refs">rust_indirect</a></c20><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;313</ln><a id="313">&nbsp;</a><a id="n[89193, 89287, 89288, 89197, 89286, 89200, 89205, 89199, 89289, 89196, 89198, 89195, 89194]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../librustc/lib/llvm.rs.html#1841">.type_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#277">arg_tys</a></c26><c3>[</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c3>]</c3><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c4>))</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;314</ln><a id="314">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;315</ln><a id="315">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Ensure&nbsp;that&nbsp;we&nbsp;always&nbsp;have&nbsp;the&nbsp;Rust&nbsp;value&nbsp;indirectly,
</c40><br/><ln>&nbsp;316</ln><a id="316">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;because&nbsp;it&nbsp;makes&nbsp;bitcasting&nbsp;easier.
</c40><br/><ln>&nbsp;317</ln><a id="317">&nbsp;</a><a id="n[89326, 89325, 89354, 89352, 89353]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c5><a href="../../../libstd/option.rs.html#n104337">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#306">rust_indirect</a></c26><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;318</ln><a id="318">&nbsp;</a><a id="n[89329, 89328, 89327, 89341]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#318_16_refs">scratch</a></c20><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;=
</a></c13><br/><ln>&nbsp;319</ln><a id="319">&nbsp;</a><a id="n[89340, 89330, 89331]">&nbsp;</a><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/base.rs.html#1132">base::alloca</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">
</a></c27><br/><ln>&nbsp;320</ln><a id="320">&nbsp;</a><a id="n[89333, 89334, 89336, 89338, 89335, 89332, 89337]">&nbsp;</a><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/type_of.rs.html#169">type_of::type_of</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c5><a href="../../../libstd/option.rs.html#n104337">*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#237">passed_arg_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n57648">.get</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c4>))</c4><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">
</a></c27><br/><ln>&nbsp;321</ln><a id="321">&nbsp;</a><a id="n[89339]">&nbsp;</a><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="../../../libstd/option.rs.html#n104337">"__arg"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;322</ln><a id="322">&nbsp;</a><a id="n[89344, 89345, 89342, 89343, 89347, 89346]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/build.rs.html#399">Store</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#318">scratch</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;323</ln><a id="323">&nbsp;</a><a id="n[89350, 89349, 89348, 89351]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#318">scratch</a></c26><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;324</ln><a id="324">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;325</ln><a id="325">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;326</ln><a id="326">&nbsp;</a><a id="n[89430, 89422, 89433, 89392, 89407, 89456, 89439, 89438, 89440, 89398, 89435, 89411, 89429, 89427, 89417, 89414, 89400, 89404, 89395, 89412, 89453, 89408, 89416, 89413, 89394, 89406, 89402, 89431, 89437, 89419, 89428, 89409, 89436, 89415, 89405, 89420, 89421, 89434, 89410, 89401, 89432, 89403, 89399, 89418]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c1><a href="#326_15_refs">"llarg_rust=</a></c1><c3>{}</c3><c1><a href="#326_15_refs">&nbsp;</a></c1><c4>(</c4><c1><a href="#326_15_refs">after&nbsp;indirection</a></c1><c4>)</c4><c1><a href="#326_15_refs">"</a></c1><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;327</ln><a id="327">&nbsp;</a><a id="n[89425, 89388, 89390, 89391, 89424, 89389, 89393, 89423, 89426, 89387]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../libstd/fmt/mod.rs.html#n171474">.val_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;328</ln><a id="328">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;329</ln><a id="329">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Check&nbsp;whether&nbsp;we&nbsp;need&nbsp;to&nbsp;do&nbsp;any&nbsp;casting
</c40><br/><ln>&nbsp;330</ln><a id="330">&nbsp;</a><a id="n[89479, 89465, 89464, 89463, 89462, 89478]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#277">arg_tys</a></c26><c3>[</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c3>]</c3><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;331</ln><a id="331">&nbsp;</a><a id="n[89468, 89470, 89466, 89474, 89472, 89467, 89475, 89469, 89473, 89471]">&nbsp;</a><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#331_17_refs">ty</a></c20><c4>)</c4><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c5><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c5><c26><a href="../../../librustc/middle/trans/build.rs.html#549">BitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#331">ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>())</c4><c3>,</c3><c21><a href="../../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;332</ln><a id="332">&nbsp;</a><a id="n[89477, 89476]">&nbsp;</a><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>()</c4><c21><a href="../../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;333</ln><a id="333">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;334</ln><a id="334">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;335</ln><a id="335">&nbsp;</a><a id="n[89535, 89561, 89528, 89578, 89541, 89527, 89563, 89532, 89581, 89544, 89542, 89560, 89554, 89537, 89530, 89558, 89559, 89536, 89552, 89525, 89547, 89539, 89533, 89543, 89520, 89546, 89531, 89538, 89523, 89526, 89519, 89517, 89565, 89557, 89524, 89545, 89540, 89553, 89534, 89564, 89529, 89555, 89562, 89556]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169461">"llarg_rust=</a></c8><c3>{}</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;</a></c8><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169461">after&nbsp;casting</a></c8><c4>)</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169461">"</a></c8><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;336</ln><a id="336">&nbsp;</a><a id="n[89518, 89515, 89549, 89551, 89516, 89548, 89550, 89512, 89513, 89514]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../librustc/middle/trans/foreign.rs.html#336">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;337</ln><a id="337">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;338</ln><a id="338">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Finally,&nbsp;load&nbsp;the&nbsp;value&nbsp;if&nbsp;needed&nbsp;for&nbsp;the&nbsp;foreign&nbsp;ABI
</c40><br/><ln>&nbsp;339</ln><a id="339">&nbsp;</a><a id="n[89594, 89588, 89587, 89591, 89592, 89590, 89593, 89589]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#339_12_refs">foreign_indirect</a></c20><c16><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#277">arg_tys</a></c26><c3>[</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c3>]</c3><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;340</ln><a id="340">&nbsp;</a><a id="n[89598, 89599, 89607, 89608, 89595, 89597, 89596]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#340_12_refs">llarg_foreign</a></c20><c16><a href="../../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c16><c21><a href="../../../libstd/option.rs.html#n104337">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#339">foreign_indirect</a></c26><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;341</ln><a id="341">&nbsp;</a><a id="n[89600]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;342</ln><a id="342">&nbsp;</a><a id="n[89606, 89601]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c21>else</c21><c21><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;343</ln><a id="343">&nbsp;</a><a id="n[89603, 89602, 89604, 89605]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/build.rs.html#345">Load</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#299">llarg_rust</a></c26><c4>)</c4><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;344</ln><a id="344">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;345</ln><a id="345">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;346</ln><a id="346">&nbsp;</a><a id="n[89666, 89682, 89656, 89704, 89683, 89664, 89679, 89667, 89651, 89712, 89707, 89690, 89681, 89670, 89688, 89685, 89708, 89710, 89669, 89660, 89680, 89661, 89689, 89703, 89678, 89675, 89686, 89655, 89673, 89677, 89659, 89674, 89648, 89662, 89728, 89672, 89652, 89702, 89676, 89671, 89668, 89684, 89658, 89705, 89700, 89663, 89711, 89665, 89709, 89725, 89699, 89706, 89701, 89657, 89687]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">"argument&nbsp;</a></c13><c3>{},</c3><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">&nbsp;llarg_foreign=</a></c13><c3>{}</c3><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">"</a></c13><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;347</ln><a id="347">&nbsp;</a><a id="n[89649, 89647, 89693, 89695, 89696, 89643, 89642, 89650, 89646, 89691, 89697, 89645, 89692, 89641, 89698, 89644, 89694]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c27><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c27><c3>,</c3><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../librustc/middle/trans/foreign.rs.html#347">.val_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#340">llarg_foreign</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;348</ln><a id="348">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;349</ln><a id="349">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;fill&nbsp;padding&nbsp;with&nbsp;undef&nbsp;value
</c40><br/><ln>&nbsp;350</ln><a id="350">&nbsp;</a><a id="n[89737, 89734, 89735, 89747, 89736, 89748]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#277">arg_tys</a></c26><c3>[</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#298">i</a></c26><c3>]</c3><c24><a href="../../../librustc/middle/trans/cabi.rs.html#44">.pad</a></c24><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c3>{</c3><c13><a href="../../../libstd/option.rs.html#n104337">
</a></c13><br/><ln>&nbsp;351</ln><a id="351">&nbsp;</a><a id="n[89739, 89743, 89742, 89738, 89741, 89744, 89740]">&nbsp;</a><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#351_17_refs">ty</a></c20><c4>)</c4><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#279">llargs_foreign</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/common.rs.html#526">C_undef</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#351">ty</a></c26><c4>))</c4><c3>,</c3><c13><a href="../../../libstd/option.rs.html#n104337">
</a></c13><br/><ln>&nbsp;352</ln><a id="352">&nbsp;</a><a id="n[89746, 89745]">&nbsp;</a><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c4>()</c4><c13><a href="../../../libstd/option.rs.html#n104337">
</a></c13><br/><ln>&nbsp;353</ln><a id="353">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;354</ln><a id="354">&nbsp;</a><a id="n[89749, 89750, 89751, 89752]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#279">llargs_foreign</a></c26><c13><a href="../../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#340">llarg_foreign</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;355</ln><a id="355">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="#298_4_refs">
</a></c20><br/><ln>&nbsp;356</ln><a id="356">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="#298_4_refs">
</a></c20><br/><ln>&nbsp;357</ln><a id="357">&nbsp;</a><a id="n[89762, 89763, 89761, 89760, 89759, 89765, 89764, 89836, 89837]">&nbsp;</a><c20><a href="#298_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#357_8_refs">cc</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#230_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#74">llvm_calling_convention</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#266">fn_abis</a></c26><c4>)</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;358</ln><a id="358">&nbsp;</a><a id="n[89768, 89766, 89767]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#358_13_refs">cc</a></c20><c4>)</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#358">cc</a></c26><c3>,</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;359</ln><a id="359">&nbsp;</a><a id="n[89834, 89835, 89769]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;360</ln><a id="360">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME(#8357)&nbsp;We&nbsp;really&nbsp;ought&nbsp;to&nbsp;report&nbsp;a&nbsp;span&nbsp;here
</c40><br/><ln>&nbsp;361</ln><a id="361">&nbsp;</a><a id="n[89770, 89832, 89833, 89771]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c13><a href="../../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c13><a href="../../../librustc/driver/session.rs.html#205">
</a></c13><br/><ln>&nbsp;362</ln><a id="362">&nbsp;</a><a id="n[89790, 89818, 89802, 89777, 89814, 89780, 89824, 89821, 89803, 89805, 89793, 89801, 89799, 89825, 89812, 89788, 89800, 89819, 89779, 89784, 89796, 89806, 89820, 89783, 89804, 89797, 89822, 89787, 89798, 89785, 89786, 89807, 89815, 89792, 89795, 89831, 89830, 89813, 89827, 89794, 89817, 89823, 89816, 89791, 89789]">&nbsp;</a><c13><a href="../../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21><a href="../../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">"ABI&nbsp;string&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">`&nbsp;has&nbsp;no&nbsp;suitable&nbsp;ABI&nbsp;\
</a></c26><br/><ln>&nbsp;363</ln><a id="363">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c21>for</c21><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;target&nbsp;architecture"</a></c26><c3>,</c3><c21><a href="../../../librustc/driver/session.rs.html#205">
</a></c21><br/><ln>&nbsp;364</ln><a id="364">&nbsp;</a><a id="n[89772, 89808, 89810, 89809, 89774, 89775, 89776, 89778, 89773, 89811]">&nbsp;</a><c21><a href="../../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#266">fn_abis</a></c26><c27><a href="#364_24_refs">.user_string</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>())))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;365</ln><a id="365">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;366</ln><a id="366">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;367</ln><a id="367">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;368</ln><a id="368">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;A&nbsp;function&nbsp;pointer&nbsp;is&nbsp;called&nbsp;without&nbsp;the&nbsp;declaration&nbsp;available,&nbsp;so&nbsp;we&nbsp;have&nbsp;to&nbsp;apply
</c40><br/><ln>&nbsp;369</ln><a id="369">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;any&nbsp;attributes&nbsp;with&nbsp;ABI&nbsp;implications&nbsp;directly&nbsp;to&nbsp;the&nbsp;call&nbsp;instruction.&nbsp;Right&nbsp;now,&nbsp;the
</c40><br/><ln>&nbsp;370</ln><a id="370">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;only&nbsp;attribute&nbsp;we&nbsp;need&nbsp;to&nbsp;worry&nbsp;about&nbsp;is&nbsp;`sret`.
</c40><br/><ln>&nbsp;371</ln><a id="371">&nbsp;</a><a id="n[89853, 89838, 89843, 89844, 89842, 89840, 89841, 89854, 89839]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#371_8_refs">sret_attr</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#230_1_refs">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;372</ln><a id="372">&nbsp;</a><a id="n[89845, 89848, 89846, 89847, 89849]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>((</c4><c12><a href="#230_1_refs">1</a></c12><c3>,</c3><c14><a href="#230_1_refs">&nbsp;</a></c14><c26><a href="../../../librustc/lib/llvm.rs.html#70">StructRetAttribute</a></c26><c4>))</c4><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;373</ln><a id="373">&nbsp;</a><a id="n[89850, 89852]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#230_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;374</ln><a id="374">&nbsp;</a><a id="n[89851]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;375</ln><a id="375">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;376</ln><a id="376">&nbsp;</a><a id="n[89858, 89856, 89859, 89860, 89857, 89855]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#376_8_refs">attrs</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#371">sret_attr</a></c26><c10><a href="../../../libstd/option.rs.html#n105002">.as_slice</a></c10><c4>()</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;377</ln><a id="377">&nbsp;</a><a id="n[89872, 89864, 89865, 89862, 89863, 89861, 89871]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#377_8_refs">llforeign_retval</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/build.rs.html#685">CallWithConv</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;378</ln><a id="378">&nbsp;</a><a id="n[89866]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#234">llfn</a></c26><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;379</ln><a id="379">&nbsp;</a><a id="n[89867, 89868]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#279">llargs_foreign</a></c26><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;380</ln><a id="380">&nbsp;</a><a id="n[89869]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#357">cc</a></c26><c3>,</c3><c27><a href="#230_1_refs">
</a></c27><br/><ln>&nbsp;381</ln><a id="381">&nbsp;</a><a id="n[89870]">&nbsp;</a><c27><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#376">attrs</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;382</ln><a id="382">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;383</ln><a id="383">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;the&nbsp;function&nbsp;we&nbsp;just&nbsp;called&nbsp;does&nbsp;not&nbsp;use&nbsp;an&nbsp;outpointer,
</c40><br/><ln>&nbsp;384</ln><a id="384">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;store&nbsp;the&nbsp;result&nbsp;into&nbsp;the&nbsp;rust&nbsp;outpointer.&nbsp;Cast&nbsp;the&nbsp;outpointer
</c40><br/><ln>&nbsp;385</ln><a id="385">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;type&nbsp;to&nbsp;match&nbsp;because&nbsp;some&nbsp;ABIs&nbsp;will&nbsp;use&nbsp;a&nbsp;different&nbsp;type&nbsp;than
</c40><br/><ln>&nbsp;386</ln><a id="386">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;Rust&nbsp;type.&nbsp;e.g.,&nbsp;a&nbsp;{u32,u32}&nbsp;struct&nbsp;could&nbsp;be&nbsp;returned&nbsp;as
</c40><br/><ln>&nbsp;387</ln><a id="387">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;u64.
</c40><br/><ln>&nbsp;388</ln><a id="388">&nbsp;</a><a id="n[89875, 89876, 90316, 90520, 90519, 89873, 89878, 89874, 89877]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#271">ret_def</a></c26><c1><a href="#230_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#230_1_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;389</ln><a id="389">&nbsp;</a><a id="n[89884, 89881, 89883, 89880, 89879, 89882]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#389_12_refs">llrust_ret_ty</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#270">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#65">.llret_ty</a></c24><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;390</ln><a id="390">&nbsp;</a><a id="n[89887, 89886, 89899, 89898, 89885, 89890, 89888, 89889]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#390_12_refs">llforeign_ret_ty</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#230_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;391</ln><a id="391">&nbsp;</a><a id="n[89892, 89893, 89891]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#391_17_refs">ty</a></c20><c4>)</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#391">ty</a></c26><c3>,</c3><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;392</ln><a id="392">&nbsp;</a><a id="n[89895, 89897, 89896, 89894]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#230_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#272">fn_type</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c21><a href="#230_1_refs">
</a></c21><br/><ln>&nbsp;393</ln><a id="393">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;394</ln><a id="394">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;395</ln><a id="395">&nbsp;</a><a id="n[89935, 89948, 89943, 89936, 89950, 89971, 89955, 89944, 89933, 89959, 89954, 89940, 89957, 89958, 89946, 89964, 89982, 89976, 89998, 89953, 89965, 89960, 89939, 89937, 89967, 89962, 89956, 89934, 89977, 89970, 89974, 89981, 89966, 89980, 89932, 89938, 89968, 89995, 89969, 89945, 89972, 89978, 89949, 89952, 89961, 89963, 89973, 89975, 89947, 89951, 89979]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c27><a href="../../../libstd/fmt/parse.rs.html#n166363">"llretptr=</a></c27><c3>{}</c3><c27><a href="../../../libstd/fmt/parse.rs.html#n166363">"</a></c27><c3>,</c3><c22><a href="#230_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="#395_30_refs">.val_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;396</ln><a id="396">&nbsp;</a><a id="n[90102, 90061, 90051, 90076, 90080, 90057, 90048, 90053, 90036, 90059, 90074, 90071, 90060, 90065, 90037, 90044, 90050, 90084, 90054, 90063, 90099, 90038, 90081, 90064, 90072, 90078, 90066, 90049, 90069, 90070, 90047, 90040, 90062, 90042, 90085, 90083, 90086, 90073, 90052, 90079, 90043, 90058, 90056, 90039, 90068, 90077, 90067, 90075, 90041, 90055, 90082]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#396">"llforeign_retval=</a></c26><c3>{}</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#396">"</a></c26><c3>,</c3><c22><a href="#230_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c10><a href="../../../librustc/lib/llvm.rs.html#1855">.val_to_str</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#377">llforeign_retval</a></c26><c4>))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;397</ln><a id="397">&nbsp;</a><a id="n[90146, 90189, 90162, 90161, 90140, 90153, 90182, 90178, 90168, 90175, 90141, 90173, 90163, 90154, 90160, 90170, 90184, 90142, 90181, 90159, 90179, 90156, 90151, 90144, 90157, 90155, 90186, 90180, 90185, 90145, 90164, 90171, 90166, 90143, 90165, 90174, 90177, 90190, 90158, 90172, 90206, 90188, 90167, 90148, 90169, 90176, 90203, 90183, 90187, 90147, 90152]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c12><a href="../../../librustc/middle/trans/foreign.rs.html#397">"llrust_ret_ty=</a></c12><c3>{}</c3><c12><a href="../../../librustc/middle/trans/foreign.rs.html#397">"</a></c12><c3>,</c3><c22><a href="#230_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../libstd/fmt/mod.rs.html#n169877">.type_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#389">llrust_ret_ty</a></c26><c4>))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;398</ln><a id="398">&nbsp;</a><a id="n[90263, 90269, 90255, 90258, 90266, 90274, 90250, 90293, 90259, 90286, 90252, 90262, 90279, 90246, 90284, 90264, 90260, 90281, 90276, 90287, 90282, 90291, 90245, 90268, 90271, 90270, 90275, 90278, 90257, 90277, 90289, 90251, 90244, 90247, 90285, 90288, 90292, 90248, 90294, 90267, 90283, 90272, 90307, 90273, 90290, 90261, 90249, 90280, 90256, 90265, 90310]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c22><a href="../../../libstd/fmt/rt.rs.html#n169461">"llforeign_ret_ty=</a></c22><c3>{}</c3><c22><a href="../../../libstd/fmt/rt.rs.html#n169461">"</a></c22><c3>,</c3><c22><a href="#230_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../librustc/lib/llvm.rs.html#1841">.type_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#390">llforeign_ret_ty</a></c26><c4>))</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;399</ln><a id="399">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;400</ln><a id="400">&nbsp;</a><a id="n[90317, 90518, 90326, 90319, 90318]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#230_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#389">llrust_ret_ty</a></c26><c5><a href="#230_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#390">llforeign_ret_ty</a></c26><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;401</ln><a id="401">&nbsp;</a><a id="n[90323, 90322, 90321, 90325, 90320, 90324]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/build.rs.html#399">Store</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#377">llforeign_retval</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;402</ln><a id="402">&nbsp;</a><a id="n[90517, 90516]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#230_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#230_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;403</ln><a id="403">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;actual&nbsp;return&nbsp;type&nbsp;is&nbsp;a&nbsp;struct,&nbsp;but&nbsp;the&nbsp;ABI
</c40><br/><ln>&nbsp;404</ln><a id="404">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;adaptation&nbsp;code&nbsp;has&nbsp;cast&nbsp;it&nbsp;into&nbsp;some&nbsp;scalar&nbsp;type.&nbsp;&nbsp;The
</c40><br/><ln>&nbsp;405</ln><a id="405">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;code&nbsp;that&nbsp;follows&nbsp;is&nbsp;the&nbsp;only&nbsp;reliable&nbsp;way&nbsp;I&nbsp;have
</c40><br/><ln>&nbsp;406</ln><a id="406">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;found&nbsp;to&nbsp;do&nbsp;a&nbsp;transform&nbsp;like&nbsp;i64&nbsp;-&gt;&nbsp;{i32,i32}.
</c40><br/><ln>&nbsp;407</ln><a id="407">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Basically&nbsp;we&nbsp;dump&nbsp;the&nbsp;data&nbsp;onto&nbsp;the&nbsp;stack&nbsp;then&nbsp;memcpy&nbsp;it.
</c40><br/><ln>&nbsp;408</ln><a id="408">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;409</ln><a id="409">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Other&nbsp;approaches&nbsp;I&nbsp;tried:
</c40><br/><ln>&nbsp;410</ln><a id="410">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;-&nbsp;Casting&nbsp;rust&nbsp;ret&nbsp;pointer&nbsp;to&nbsp;the&nbsp;foreign&nbsp;type&nbsp;and&nbsp;using&nbsp;Store
</c40><br/><ln>&nbsp;411</ln><a id="411">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;is&nbsp;(a)&nbsp;unsafe&nbsp;if&nbsp;size&nbsp;of&nbsp;foreign&nbsp;type&nbsp;&gt;&nbsp;size&nbsp;of&nbsp;rust&nbsp;type&nbsp;and
</c40><br/><ln>&nbsp;412</ln><a id="412">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;(b)&nbsp;runs&nbsp;afoul&nbsp;of&nbsp;strict&nbsp;aliasing&nbsp;rules,&nbsp;yielding&nbsp;invalid
</c40><br/><ln>&nbsp;413</ln><a id="413">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;assembly&nbsp;under&nbsp;-O&nbsp;(specifically,&nbsp;the&nbsp;store&nbsp;gets&nbsp;removed).
</c40><br/><ln>&nbsp;414</ln><a id="414">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;-&nbsp;Truncating&nbsp;foreign&nbsp;type&nbsp;to&nbsp;correct&nbsp;integral&nbsp;type&nbsp;and&nbsp;then
</c40><br/><ln>&nbsp;415</ln><a id="415">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;bitcasting&nbsp;to&nbsp;the&nbsp;struct&nbsp;type&nbsp;yields&nbsp;invalid&nbsp;cast&nbsp;errors.
</c40><br/><ln>&nbsp;416</ln><a id="416">&nbsp;</a><a id="n[90329, 90332, 90331, 90328, 90330, 90335, 90333, 90334, 90327]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#416_16_refs">llscratch</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#1132">base::alloca</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#390">llforeign_ret_ty</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c12><a href="#230_1_refs">"__cast"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;417</ln><a id="417">&nbsp;</a><a id="n[90341, 90338, 90337, 90336, 90339, 90340]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/build.rs.html#399">Store</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#377">llforeign_retval</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#416">llscratch</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;418</ln><a id="418">&nbsp;</a><a id="n[90342, 90347, 90350, 90349, 90343, 90351, 90345, 90348, 90346, 90344, 90353, 90352]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#418_16_refs">llscratch_i8</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/build.rs.html#549">BitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#416">llscratch</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/type_.rs.html#68">Type::i8</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c4>)</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>())</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;419</ln><a id="419">&nbsp;</a><a id="n[90358, 90357, 90354, 90359, 90364, 90356, 90365, 90360, 90363, 90361, 90355, 90362]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#419_16_refs">llretptr_i8</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/build.rs.html#549">BitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#235">llretptr</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/type_.rs.html#68">Type::i8</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c4>)</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>())</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;420</ln><a id="420">&nbsp;</a><a id="n[90368, 90367, 90371, 90366, 90369, 90372, 90373, 90370]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#420_16_refs">llrust_size</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/machine.rs.html#23">machine::llsize_of_store</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#389">llrust_ret_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;421</ln><a id="421">&nbsp;</a><a id="n[90374, 90375, 90379, 90378, 90381, 90376, 90377, 90380]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#421_16_refs">llforeign_align</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/machine.rs.html#100">machine::llalign_of_min</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#390">llforeign_ret_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;422</ln><a id="422">&nbsp;</a><a id="n[90386, 90389, 90387, 90385, 90382, 90384, 90383, 90388]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#422_16_refs">llrust_align</a></c20><c16><a href="#230_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/machine.rs.html#100">machine::llalign_of_min</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#389">llrust_ret_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;423</ln><a id="423">&nbsp;</a><a id="n[90395, 90391, 90392, 90390, 90397, 90393, 90396, 90394]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#230_1_refs">&nbsp;</a></c22><c20><a href="#423_16_refs">llalign</a></c20><c13><a href="#230_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libstd/cmp.rs.html#n76193">cmp::min</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#421">llforeign_align</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#422">llrust_align</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;424</ln><a id="424">&nbsp;</a><a id="n[90477, 90434, 90493, 90451, 90452, 90444, 90441, 90438, 90453, 90458, 90450, 90475, 90459, 90467, 90476, 90430, 90431, 90446, 90462, 90443, 90470, 90435, 90445, 90433, 90447, 90473, 90490, 90466, 90442, 90448, 90471, 90469, 90449, 90455, 90468, 90461, 90463, 90432, 90474, 90454, 90460, 90472, 90440, 90465, 90439, 90464, 90457, 90456]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../../librustc/middle/trans/foreign.rs.html#424">"llrust_size=</a></c13><c3>{</c3><c13><a href="../../../librustc/middle/trans/foreign.rs.html#424">:?</a></c13><c3>}</c3><c13><a href="../../../librustc/middle/trans/foreign.rs.html#424">"</a></c13><c3>,</c3><c22><a href="#230_1_refs">&nbsp;</a></c22><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">llrust_size</a></c26><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;425</ln><a id="425">&nbsp;</a><a id="n[90502, 90514, 90500, 90499, 90501, 90515]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/base.rs.html#1062">base::call_memcpy</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>,</c3><c13><a href="#230_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#419">llretptr_i8</a></c26><c3>,</c3><c13><a href="#230_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#418">llscratch_i8</a></c26><c3>,</c3><c13><a href="#230_1_refs">
</a></c13><br/><ln>&nbsp;426</ln><a id="426">&nbsp;</a><a id="n[90505, 90507, 90512, 90509, 90510, 90503, 90508, 90504, 90513]">&nbsp;</a><c13><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/common.rs.html#572">C_uint</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#256">ccx</a></c26><c3>,</c3><c27><a href="#230_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#420">llrust_size</a></c26><c21><a href="#230_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#230_1_refs">uint</a></c8><c4>)</c4><c3>,</c3><c13><a href="#230_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#423">llalign</a></c26><c21><a href="#230_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#230_1_refs">u32</a></c8><c4>)</c4><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;427</ln><a id="427">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;428</ln><a id="428">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;429</ln><a id="429">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;430</ln><a id="430">&nbsp;</a><a id="n[90522, 90523, 90521]">&nbsp;</a><c22><a href="#230_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#230_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#232">bcx</a></c26><c3>;</c3><c22><a href="#230_1_refs">
</a></c22><br/><ln>&nbsp;431</ln><a id="431">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;432</ln><a id="432">&nbsp;</a><a id="n[90525]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;433</ln><a id="433">&nbsp;</a><a id="n[90536, 90535, 90529, 90530, 90533, 90528, 90534, 90544]">&nbsp;</a><c21>pub</c21><c1><a href="#432_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#432_1_refs">&nbsp;trans_foreign_mod</a></c30><c4>(</c4><c20><a href="#433_25_refs">ccx</a></c20><c1><a href="#432_1_refs">:&nbsp;</a></c1><c8><a href="#432_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#432_1_refs">&nbsp;</a></c1><c20><a href="#433_45_refs">foreign_mod</a></c20><c1><a href="#432_1_refs">:&nbsp;</a></c1><c8><a href="#432_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n60768">ast::ForeignMod</a></c8><c4>)</c4><c1><a href="#432_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#432_1_refs">
</a></c22><br/><ln>&nbsp;434</ln><a id="434">&nbsp;</a><a id="n[90538, 90541, 90540, 90539, 90543, 90537, 90542]">&nbsp;</a><c22><a href="#432_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#432_1_refs">&nbsp;</a></c22><c20><a href="#432_1_refs">_icx</a></c20><c16><a href="#432_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#121">push_ctxt</a></c26><c4>(</c4><c12><a href="#432_1_refs">"foreign::trans_foreign_mod"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#432_1_refs">
</a></c22><br/><ln>&nbsp;435</ln><a id="435">&nbsp;</a><a id="n[90606, 90608, 90549, 90545, 90556, 90607, 90555, 90548, 90610, 90554, 90552, 90546, 90609, 90551, 90553, 90550, 90547, 90557]">&nbsp;</a><c22><a href="#432_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c20><a href="#435_4_refs">&amp;</a></c20><c20><a href="#435_9_refs">foreign_item</a></c20><c20><a href="../../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c20><c26><a href="../../../librustc/middle/trans/foreign.rs.html#433">foreign_mod</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n60768">.items</a></c24><c10><a href="../../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c20><a href="../../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c3>{</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;436</ln><a id="436">&nbsp;</a><a id="n[90587, 90559, 90558, 90588]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#435_4_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#435">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.node</a></c24><c13><a href="#435_4_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#435_4_refs">
</a></c13><br/><ln>&nbsp;437</ln><a id="437">&nbsp;</a><a id="n[90583, 90567, 90560]">&nbsp;</a><c13><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../../libsyntax/ast.rs.html#n71134">ast::ForeignItemFn</a></c20><c4>(</c4><c20><a href="../../../libsyntax/ast.rs.html#n71134">..</a></c20><c4>)</c4><c13><a href="#435_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#435_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;438</ln><a id="438">&nbsp;</a><a id="n[90566, 90562, 90561, 90563, 90565, 90564]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#435_4_refs">&nbsp;</a></c22><c20><a href="#438_20_refs">abis</a></c20><c16><a href="#435_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#433">foreign_mod</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n60768">.abis</a></c24><c3>;</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;439</ln><a id="439">&nbsp;</a><a id="n[90568, 90572, 90573, 90570, 90571, 90581, 90582, 90574, 90569]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#435_4_refs">&nbsp;</a></c21><c5><a href="#435_4_refs">!</a></c5><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#438">abis</a></c26><c10><a href="../../../libsyntax/abi.rs.html#n15579">.is_rust</a></c10><c4>()</c4><c1><a href="#435_4_refs">&nbsp;||&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#438">abis</a></c26><c10><a href="../../../libsyntax/abi.rs.html#n15607">.is_intrinsic</a></c10><c4>())</c4><c21><a href="#435_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;440</ln><a id="440">&nbsp;</a><a id="n[90578, 90580, 90579, 90575, 90576, 90577]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#182">register_foreign_item_fn</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#433">ccx</a></c26><c3>,</c3><c27><a href="#435_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#438">abis</a></c26><c3>,</c3><c27><a href="#435_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#435">foreign_item</a></c26><c4>)</c4><c3>;</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;441</ln><a id="441">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;442</ln><a id="442">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#435_4_refs">
</a></c13><br/><ln>&nbsp;443</ln><a id="443">&nbsp;</a><a id="n[90585, 90586, 90584]">&nbsp;</a><c13><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#435_4_refs">_</a></c20><c13><a href="#435_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#435_4_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#435_4_refs">
</a></c13><br/><ln>&nbsp;444</ln><a id="444">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;445</ln><a id="445">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;446</ln><a id="446">&nbsp;</a><a id="n[90590, 90593, 90591, 90594, 90589, 90592, 90595]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#435_4_refs">&nbsp;</a></c22><c20><a href="#446_12_refs">lname</a></c20><c13><a href="#435_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#801">link_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#435">foreign_item</a></c26><c4>)</c4><c3>;</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;447</ln><a id="447">&nbsp;</a><a id="n[90597, 90596, 90600, 90598, 90599, 90605, 90604]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#433">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#50">.item_symbols</a></c24><c10><a href="../../../libstd/cell.rs.html#n107663">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/trans/common.rs.html#818">.insert</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#435">foreign_item</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.id</a></c24><c3>,</c3><c10><a href="../../../librustc/middle/trans/common.rs.html#818">
</a></c10><br/><ln>&nbsp;448</ln><a id="448">&nbsp;</a><a id="n[90603, 90601, 90602]">&nbsp;</a><c10><a href="../../../librustc/middle/trans/common.rs.html#818">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../../librustc/middle/trans/foreign.rs.html#446">lname</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c10><a href="../../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#435_4_refs">
</a></c22><br/><ln>&nbsp;449</ln><a id="449">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#435_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../../libstd/option.rs.html#n104341">
</a></c20><br/><ln>&nbsp;450</ln><a id="450">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;451</ln><a id="451">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;452</ln><a id="452">&nbsp;</a><a id="n[]">&nbsp;</a><c42>///////////////////////////////////////////////////////////////////////////
</c42><br/><ln>&nbsp;453</ln><a id="453">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Rust&nbsp;functions&nbsp;with&nbsp;foreign&nbsp;ABIs
</c40><br/><ln>&nbsp;454</ln><a id="454">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;455</ln><a id="455">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;These&nbsp;are&nbsp;normal&nbsp;Rust&nbsp;functions&nbsp;defined&nbsp;with&nbsp;foreign&nbsp;ABIs.&nbsp;&nbsp;For
</c40><br/><ln>&nbsp;456</ln><a id="456">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;now,&nbsp;and&nbsp;perhaps&nbsp;forever,&nbsp;we&nbsp;translate&nbsp;these&nbsp;using&nbsp;a&nbsp;"layer&nbsp;of
</c40><br/><ln>&nbsp;457</ln><a id="457">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;indirection".&nbsp;That&nbsp;is,&nbsp;given&nbsp;a&nbsp;Rust&nbsp;declaration&nbsp;like:
</c40><br/><ln>&nbsp;458</ln><a id="458">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;459</ln><a id="459">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extern&nbsp;"C"&nbsp;fn&nbsp;foo(i:&nbsp;u32)&nbsp;-&gt;&nbsp;u32&nbsp;{&nbsp;...&nbsp;}
</c40><br/><ln>&nbsp;460</ln><a id="460">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;461</ln><a id="461">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;we&nbsp;will&nbsp;generate&nbsp;a&nbsp;function&nbsp;like:
</c40><br/><ln>&nbsp;462</ln><a id="462">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;463</ln><a id="463">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;foo(T&nbsp;i)&nbsp;{
</c40><br/><ln>&nbsp;464</ln><a id="464">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;r;
</c40><br/><ln>&nbsp;465</ln><a id="465">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foo0(&amp;r,&nbsp;NULL,&nbsp;i);
</c40><br/><ln>&nbsp;466</ln><a id="466">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;r;
</c40><br/><ln>&nbsp;467</ln><a id="467">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c40><br/><ln>&nbsp;468</ln><a id="468">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;469</ln><a id="469">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#[inline_always]
</c40><br/><ln>&nbsp;470</ln><a id="470">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;foo0(uint32_t&nbsp;*r,&nbsp;void&nbsp;*env,&nbsp;uint32_t&nbsp;i)&nbsp;{&nbsp;...&nbsp;}
</c40><br/><ln>&nbsp;471</ln><a id="471">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;472</ln><a id="472">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Here&nbsp;the&nbsp;(internal)&nbsp;`foo0`&nbsp;function&nbsp;follows&nbsp;the&nbsp;Rust&nbsp;ABI&nbsp;as&nbsp;normal,
</c40><br/><ln>&nbsp;473</ln><a id="473">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;where&nbsp;the&nbsp;`foo`&nbsp;function&nbsp;follows&nbsp;the&nbsp;C&nbsp;ABI.&nbsp;We&nbsp;rely&nbsp;on&nbsp;LLVM&nbsp;to
</c40><br/><ln>&nbsp;474</ln><a id="474">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;inline&nbsp;the&nbsp;one&nbsp;into&nbsp;the&nbsp;other.&nbsp;Of&nbsp;course&nbsp;we&nbsp;could&nbsp;just&nbsp;generate&nbsp;the
</c40><br/><ln>&nbsp;475</ln><a id="475">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;correct&nbsp;code&nbsp;in&nbsp;the&nbsp;first&nbsp;place,&nbsp;but&nbsp;this&nbsp;is&nbsp;much&nbsp;simpler.
</c40><br/><ln>&nbsp;476</ln><a id="476">&nbsp;</a><a id="n[90611]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;477</ln><a id="477">&nbsp;</a><a id="n[90616, 90615, 90614]">&nbsp;</a><c21>pub</c21><c1><a href="#476_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#476_1_refs">&nbsp;register_rust_fn_with_foreign_abi</a></c30><c4>(</c4><c20><a href="#477_41_refs">ccx</a></c20><c1><a href="#476_1_refs">:&nbsp;</a></c1><c8><a href="#476_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#476_1_refs">
</a></c1><br/><ln>&nbsp;478</ln><a id="478">&nbsp;</a><a id="n[90619, 90620]">&nbsp;</a><c1><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#478_41_refs">sp</a></c20><c1><a href="#476_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/codemap.rs.html#n10620">Span</a></c8><c3>,</c3><c1><a href="#476_1_refs">
</a></c1><br/><ln>&nbsp;479</ln><a id="479">&nbsp;</a><a id="n[90623, 90624, 90625]">&nbsp;</a><c1><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#479_41_refs">sym</a></c20><c1><a href="#476_1_refs">:&nbsp;</a></c1><c8><a href="#476_1_refs">~str</a></c8><c3>,</c3><c1><a href="#476_1_refs">
</a></c1><br/><ln>&nbsp;480</ln><a id="480">&nbsp;</a><a id="n[90629, 90628]">&nbsp;</a><c1><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#480_41_refs">node_id</a></c20><c1><a href="#476_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/ast.rs.html#n18432">ast::NodeId</a></c8><c4>)</c4><c1><a href="#476_1_refs">
</a></c1><br/><ln>&nbsp;481</ln><a id="481">&nbsp;</a><a id="n[90631, 90873]">&nbsp;</a><c1><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#476_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c1><a href="#476_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;482</ln><a id="482">&nbsp;</a><a id="n[90634, 90637, 90638, 90635, 90632, 90636, 90633]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#476_1_refs">_icx</a></c20><c16><a href="#476_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#121">push_ctxt</a></c26><c4>(</c4><c12><a href="#476_1_refs">"foreign::register_foreign_fn"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;483</ln><a id="483">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;484</ln><a id="484">&nbsp;</a><a id="n[90639, 90643, 90640, 90646, 90641, 90642, 90645, 90644]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#484_8_refs">tys</a></c20><c13><a href="#476_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#828">foreign_types_for_id</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#480">node_id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;485</ln><a id="485">&nbsp;</a><a id="n[90651, 90654, 90653, 90648, 90650, 90655, 90647, 90652, 90649]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#485_8_refs">llfn_ty</a></c20><c16><a href="#476_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#865">lltype_for_fn_from_foreign_types</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c5><a href="#476_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#484">tys</a></c26><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;486</ln><a id="486">&nbsp;</a><a id="n[90657, 90660, 90663, 90658, 90659, 90662, 90661, 90664, 90656]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#486_8_refs">t</a></c20><c16><a href="#476_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#480">node_id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;487</ln><a id="487">&nbsp;</a><a id="n[90700, 90670, 90667, 90669, 90672, 90665, 90668, 90673, 90701, 90666, 90671]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#487_9_refs">cconv</a></c20><c3>,</c3><c20><a href="#476_1_refs">&nbsp;</a></c20><c20><a href="#487_16_refs">output</a></c20><c4>)</c4><c13><a href="#476_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#476_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#486">t</a></c26><c4>)</c4><c24><a href="../../../librustc/middle/ty.rs.html#375">.sty</a></c24><c21><a href="#476_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#476_1_refs">
</a></c21><br/><ln>&nbsp;488</ln><a id="488">&nbsp;</a><a id="n[90674, 90685, 90675, 90693]">&nbsp;</a><c21><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../librustc/middle/ty.rs.html#741">ty::ty_bare_fn</a></c20><c4>(</c4><c20><a href="#488_23_refs">ref&nbsp;fn_ty</a></c20><c4>)</c4><c21><a href="#476_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#476_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;489</ln><a id="489">&nbsp;</a><a id="n[90682, 90678, 90681, 90679, 90680, 90684, 90677, 90676, 90683]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#489_16_refs">c</a></c20><c16><a href="#476_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#74">llvm_calling_convention</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#488">fn_ty</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#421">.abis</a></c24><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;490</ln><a id="490">&nbsp;</a><a id="n[90689, 90688, 90691, 90687, 90686, 90690, 90692]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#489">c</a></c26><c10><a href="../../../libstd/option.rs.html#n105091">.unwrap_or</a></c10><c4>(</c4><c26><a href="../../../librustc/lib/llvm.rs.html#32">lib::llvm::CCallConv</a></c26><c4>)</c4><c3>,</c3><c14><a href="#476_1_refs">&nbsp;</a></c14><c26><a href="../../../librustc/middle/trans/foreign.rs.html#488">fn_ty</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#422">.sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;491</ln><a id="491">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#476_1_refs">
</a></c21><br/><ln>&nbsp;492</ln><a id="492">&nbsp;</a><a id="n[90699, 90694, 90696]">&nbsp;</a><c21><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#476_1_refs">_</a></c20><c21><a href="#476_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#476_1_refs">&nbsp;</a></c21><c27><a href="#476_1_refs">fail!</a></c27><c4>(</c4><c12><a href="#476_1_refs">"expected&nbsp;bare&nbsp;</a></c12><c30>fn</c30><c30><a href="#476_1_refs">&nbsp;in&nbsp;register_rust_fn_with_foreign_abi"</a></c30><c30>)</c30><c30><a href="#476_1_refs">
</a></c30><br/><ln>&nbsp;493</ln><a id="493">&nbsp;</a><a id="n[]">&nbsp;</a><c27><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>};</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;494</ln><a id="494">&nbsp;</a><a id="n[90714, 90709, 90706, 90711, 90710, 90702, 90707, 90705, 90704, 90708, 90703, 90712, 90713]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#476_1_refs">&nbsp;</a></c22><c20><a href="#494_8_refs">llfn</a></c20><c16><a href="#476_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#1786">base::register_fn_llvmty</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#478">sp</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#479">sym</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#480">node_id</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#487">cconv</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#485">llfn_ty</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#487">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;495</ln><a id="495">&nbsp;</a><a id="n[90720, 90719, 90717, 90718, 90715, 90716]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#912">add_argument_attributes</a></c26><c4>(</c4><c5><a href="#476_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#484">tys</a></c26><c3>,</c3><c27><a href="#476_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#494">llfn</a></c26><c4>)</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;496</ln><a id="496">&nbsp;</a><a id="n[90769, 90797, 90784, 90808, 90817, 90776, 90822, 90795, 90825, 90785, 90787, 90814, 90778, 90818, 90773, 90792, 90809, 90775, 90780, 90789, 90823, 90819, 90790, 90783, 90812, 90821, 90849, 90824, 90794, 90850, 90796, 90841, 90791, 90807, 90840, 90782, 90815, 90801, 90786, 90804, 90805, 90838, 90793, 90820, 90799, 90842, 90845, 90779, 90800, 90847, 90844, 90839, 90813, 90774, 90802, 90843, 90811, 90803, 90788, 90781, 90816, 90806, 90864, 90851, 90770, 90848, 90798, 90777, 90810, 90867, 90765, 90846]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">"register_rust_fn_with_foreign_abi</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">node_id=</a></c26><c3>{</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">:?</a></c26><c3>},</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">&nbsp;llfn_ty=</a></c26><c3>{},</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">&nbsp;llfn=</a></c26><c3>{}</c3><c4>)</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#496">"</a></c26><c3>,</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;497</ln><a id="497">&nbsp;</a><a id="n[90761, 90764, 90756, 90759, 90766, 90768, 90758, 90829, 90826, 90832, 90763, 90757, 90767, 90836, 90830, 90753, 90837, 90833, 90762, 90828, 90754, 90755, 90831, 90827, 90835, 90760, 90834]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libstd/fmt/mod.rs.html#n170067">node_id</a></c26><c3>,</c3><c22><a href="#476_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n169877">.type_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#485">llfn_ty</a></c26><c4>)</c4><c3>,</c3><c22><a href="#476_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#477">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#494">llfn</a></c26><c4>))</c4><c3>;</c3><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;498</ln><a id="498">&nbsp;</a><a id="n[90874]">&nbsp;</a><c22><a href="#476_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#494">llfn</a></c26><c22><a href="#476_1_refs">
</a></c22><br/><ln>&nbsp;499</ln><a id="499">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;500</ln><a id="500">&nbsp;</a><a id="n[90875]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;501</ln><a id="501">&nbsp;</a><a id="n[90878, 90880, 90879]">&nbsp;</a><c21>pub</c21><c1><a href="#500_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#500_1_refs">&nbsp;trans_rust_fn_with_foreign_abi</a></c30><c4>(</c4><c20><a href="#501_38_refs">ccx</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#500_1_refs">
</a></c1><br/><ln>&nbsp;502</ln><a id="502">&nbsp;</a><a id="n[90885, 90883, 90884]">&nbsp;</a><c1><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#502_38_refs">decl</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n57969">ast::FnDecl</a></c8><c3>,</c3><c1><a href="#500_1_refs">
</a></c1><br/><ln>&nbsp;503</ln><a id="503">&nbsp;</a><a id="n[90890, 90888, 90889]">&nbsp;</a><c1><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#503_38_refs">body</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n27095">ast::Block</a></c8><c3>,</c3><c1><a href="#500_1_refs">
</a></c1><br/><ln>&nbsp;504</ln><a id="504">&nbsp;</a><a id="n[90894, 90896, 90893, 90895]">&nbsp;</a><c1><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#504_38_refs">attrs</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../../libsyntax/ast.rs.html#n64946">ast::Attribute</a></c8><c3>],</c3><c1><a href="#500_1_refs">
</a></c1><br/><ln>&nbsp;505</ln><a id="505">&nbsp;</a><a id="n[90900, 90899]">&nbsp;</a><c1><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#505_38_refs">llwrapfn</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>,</c3><c1><a href="#500_1_refs">
</a></c1><br/><ln>&nbsp;506</ln><a id="506">&nbsp;</a><a id="n[90904, 90905, 93012, 90903]">&nbsp;</a><c1><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#506_38_refs">id</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/ast.rs.html#n18432">ast::NodeId</a></c8><c4>)</c4><c1><a href="#500_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;507</ln><a id="507">&nbsp;</a><a id="n[90912, 90906, 90911, 90907, 90909, 90910, 90908]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#500_1_refs">_icx</a></c20><c16><a href="#500_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#121">push_ctxt</a></c26><c4>(</c4><c12><a href="#500_1_refs">"foreign::build_foreign_fn"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;508</ln><a id="508">&nbsp;</a><a id="n[90913, 90915, 90917, 90919, 90918, 90916, 90920, 90914]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#508_8_refs">tys</a></c20><c13><a href="#500_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#828">foreign_types_for_id</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#501">ccx</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#506">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;509</ln><a id="509">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;510</ln><a id="510">&nbsp;</a><a id="n[90941, 90943, 90942]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#500_1_refs">&nbsp;</a></c22><c40>//&nbsp;unsafe&nbsp;because&nbsp;we&nbsp;call&nbsp;LLVM&nbsp;operations
</c40><br/><ln>&nbsp;511</ln><a id="511">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Build&nbsp;up&nbsp;the&nbsp;Rust&nbsp;function&nbsp;(`foo0`&nbsp;above).
</c40><br/><ln>&nbsp;512</ln><a id="512">&nbsp;</a><a id="n[90923, 90921, 90926, 90922, 90931, 90928, 90927, 90924, 90929, 90930, 90925]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#512_12_refs">llrustfn</a></c20><c13><a href="#500_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">build_rust_fn</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#501">ccx</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#502">decl</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#503">body</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#504">attrs</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#506">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;513</ln><a id="513">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;514</ln><a id="514">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Build&nbsp;up&nbsp;the&nbsp;foreign&nbsp;wrapper&nbsp;(`foo`&nbsp;above).
</c40><br/><ln>&nbsp;515</ln><a id="515">&nbsp;</a><a id="n[90937, 90938, 90940, 90936, 90934, 90933, 90935, 90932, 90939]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#500_1_refs">&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">build_wrap_fn</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#501">ccx</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#512">llrustfn</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#505">llwrapfn</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c5><a href="#500_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#508">tys</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;516</ln><a id="516">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;517</ln><a id="517">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;518</ln><a id="518">&nbsp;</a><a id="n[90944, 90947, 90948, 91398, 90949]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#518_4_refs">&nbsp;build_rust_fn</a></c30><c4>(</c4><c20><a href="#518_21_refs">ccx</a></c20><c13><a href="#518_4_refs">:&nbsp;</a></c13><c8><a href="#518_4_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c13><a href="#518_4_refs">
</a></c13><br/><ln>&nbsp;519</ln><a id="519">&nbsp;</a><a id="n[90952, 90954, 90953]">&nbsp;</a><c13><a href="#518_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#519_21_refs">decl</a></c20><c13><a href="#518_4_refs">:&nbsp;</a></c13><c8><a href="#518_4_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n57969">ast::FnDecl</a></c8><c3>,</c3><c13><a href="#518_4_refs">
</a></c13><br/><ln>&nbsp;520</ln><a id="520">&nbsp;</a><a id="n[90957, 90958, 90959]">&nbsp;</a><c13><a href="#518_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#520_21_refs">body</a></c20><c13><a href="#518_4_refs">:&nbsp;</a></c13><c8><a href="#518_4_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n27095">ast::Block</a></c8><c3>,</c3><c13><a href="#518_4_refs">
</a></c13><br/><ln>&nbsp;521</ln><a id="521">&nbsp;</a><a id="n[90964, 90965, 90963, 90962]">&nbsp;</a><c13><a href="#518_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#521_21_refs">attrs</a></c20><c13><a href="#518_4_refs">:&nbsp;</a></c13><c8><a href="#500_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../../libsyntax/ast.rs.html#n64946">ast::Attribute</a></c8><c3>],</c3><c13><a href="#518_4_refs">
</a></c13><br/><ln>&nbsp;522</ln><a id="522">&nbsp;</a><a id="n[90968, 90969]">&nbsp;</a><c13><a href="#518_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#522_21_refs">id</a></c20><c13><a href="#518_4_refs">:&nbsp;</a></c13><c8><a href="../../../libsyntax/ast.rs.html#n18432">ast::NodeId</a></c8><c4>)</c4><c13><a href="#518_4_refs">
</a></c13><br/><ln>&nbsp;523</ln><a id="523">&nbsp;</a><a id="n[91396, 90971]">&nbsp;</a><c13><a href="#518_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#518_4_refs">&nbsp;</a></c13><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c13><a href="#518_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;524</ln><a id="524">&nbsp;</a><a id="n[90974, 90976, 90975, 90972, 90973, 90977, 90978]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#500_1_refs">_icx</a></c20><c13><a href="#500_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/base.rs.html#121">push_ctxt</a></c26><c4>(</c4><c12><a href="#500_1_refs">"foreign::foreign::build_rust_fn"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;525</ln><a id="525">&nbsp;</a><a id="n[90980, 90984, 90981, 90979, 90983, 90982]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#525_12_refs">tcx</a></c20><c16><a href="#500_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;526</ln><a id="526">&nbsp;</a><a id="n[90988, 90987, 90992, 90991, 90989, 90986, 90985, 90990]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#526_12_refs">t</a></c20><c16><a href="#500_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#525">tcx</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#522">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;527</ln><a id="527">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;528</ln><a id="528">&nbsp;</a><a id="n[90998, 90999, 90995, 91015, 91024, 90997, 91027, 90994, 91001, 91002, 91004, 91025, 90993, 91026, 91003, 90996]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#528_12_refs">ps</a></c20><c16><a href="#500_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#101">.tcx</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#285">.map</a></c24><c10><a href="../../../libsyntax/ast_map.rs.html#n76598">.with_path</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#522">id</a></c26><c3>,</c3><c10><a href="../../../libsyntax/ast_map.rs.html#n76598">&nbsp;</a></c10><c1><a href="#500_1_refs">|</a></c1><c20><a href="#528_44_refs">path</a></c20><c8><a href="#500_1_refs">|</a></c8><c1><a href="#500_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;529</ln><a id="529">&nbsp;</a><a id="n[91005, 91012, 91006, 91009, 91010, 91014, 91011, 91007, 91008, 91013]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#529_16_refs">abi</a></c20><c13><a href="#500_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../libsyntax/ast_map.rs.html#n74801">ast_map::PathName</a></c26><c4>(</c4><c26><a href="../../../libsyntax/parse/token.rs.html#n122534">special_idents::clownshoe_abi</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n16508">.name</a></c24><c4>))</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;530</ln><a id="530">&nbsp;</a><a id="n[91020, 91017, 91018, 91019, 91016, 91023, 91021, 91022]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/back/link.rs.html#610">link::mangle</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#528">path</a></c26><c10><a href="../../../<std macros>.html#4">.chain</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#529">abi</a></c26><c10><a href="../../../libstd/option.rs.html#n105300">.move_iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;531</ln><a id="531">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;532</ln><a id="532">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;533</ln><a id="533">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Compute&nbsp;the&nbsp;type&nbsp;that&nbsp;the&nbsp;function&nbsp;would&nbsp;have&nbsp;if&nbsp;it&nbsp;were&nbsp;just&nbsp;a
</c40><br/><ln>&nbsp;534</ln><a id="534">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;normal&nbsp;Rust&nbsp;function.&nbsp;This&nbsp;will&nbsp;be&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;wrappee&nbsp;fn.
</c40><br/><ln>&nbsp;535</ln><a id="535">&nbsp;</a><a id="n[91034, 91029, 91031, 91214, 91033, 91215, 91030, 91028, 91032]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#535_12_refs">f</a></c20><c16><a href="#500_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#500_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#526">t</a></c26><c4>)</c4><c24><a href="../../../librustc/middle/ty.rs.html#375">.sty</a></c24><c21><a href="#500_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;536</ln><a id="536">&nbsp;</a><a id="n[91036, 91035, 91122, 91120]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../librustc/middle/ty.rs.html#741">ty::ty_bare_fn</a></c20><c4>(</c4><c20><a href="#536_27_refs">ref&nbsp;f</a></c20><c4>)</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;537</ln><a id="537">&nbsp;</a><a id="n[91040, 91042, 91039, 91044, 91043, 91045, 91041, 91038, 91037]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#500_1_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#536">f</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#421">.abis</a></c24><c10><a href="../../../libsyntax/abi.rs.html#n15579">.is_rust</a></c10><c4>()</c4><c1><a href="#500_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#500_1_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#536">f</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#421">.abis</a></c24><c10><a href="../../../libsyntax/abi.rs.html#n15607">.is_intrinsic</a></c10><c4>())</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;538</ln><a id="538">&nbsp;</a><a id="n[91121]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#536">f</a></c26><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;539</ln><a id="539">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;540</ln><a id="540">&nbsp;</a><a id="n[91213, 91212, 91123]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#500_1_refs">_</a></c20><c21><a href="#500_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;541</ln><a id="541">&nbsp;</a><a id="n[91192, 91163, 91170, 91155, 91154, 91196, 91209, 91205, 91200, 91159, 91140, 91150, 91153, 91172, 91201, 91151, 91164, 91165, 91175, 91179, 91161, 91193, 91168, 91191, 91152, 91139, 91145, 91125, 91178, 91167, 91202, 91147, 91194, 91198, 91148, 91144, 91210, 91173, 91203, 91157, 91166, 91156, 91162, 91160, 91143, 91174, 91180, 91195, 91158, 91146, 91211, 91171, 91177, 91208, 91190, 91181, 91176, 91197, 91169, 91199, 91124, 91149, 91136]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c13><a href="../../../librustc/driver/session.rs.html#241">.bug</a></c13><c4>(</c4><c21><a href="#500_1_refs">format!</a></c21><c4>(</c4><c14><a href="../../../libstd/fmt/rt.rs.html#n169461">"build_rust_fn:&nbsp;extern&nbsp;</a></c14><c30>fn</c30><c30><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;</a></c30><c3>{}</c3><c14><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;has&nbsp;ty&nbsp;</a></c14><c3>{},</c3><c14><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;\
</a></c14><br/><ln>&nbsp;542</ln><a id="542">&nbsp;</a><a id="n[]">&nbsp;</a><c14><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expected&nbsp;a&nbsp;bare&nbsp;</a></c14><c30>fn</c30><c30><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;ty"</a></c30><c30>,</c30><c30><a href="#500_1_refs">
</a></c30><br/><ln>&nbsp;543</ln><a id="543">&nbsp;</a><a id="n[91185, 91127, 91128, 91126, 91137, 91184, 91183, 91129, 91131, 91182, 91130]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#101">.tcx</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#285">.map</a></c24><c10><a href="../../../libsyntax/ast_map.rs.html#n76624">.path_to_str</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#522">id</a></c26><c4>)</c4><c3>,</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;544</ln><a id="544">&nbsp;</a><a id="n[91134, 91135, 91138, 91132, 91133, 91189, 91187, 91188, 91186]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#526">t</a></c26><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.repr</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#525">tcx</a></c26><c4>)))</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;545</ln><a id="545">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;546</ln><a id="546">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;547</ln><a id="547">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;548</ln><a id="548">&nbsp;</a><a id="n[91281, 91305, 91303, 91302, 91264, 91334, 91359, 91278, 91287, 91260, 91301, 91276, 91335, 91294, 91338, 91304, 91342, 91339, 91268, 91273, 91265, 91289, 91310, 91283, 91315, 91356, 91313, 91288, 91297, 91300, 91277, 91293, 91272, 91309, 91286, 91285, 91299, 91271, 91269, 91317, 91314, 91274, 91284, 91291, 91312, 91282, 91311, 91336, 91295, 91279, 91290, 91275, 91308, 91306, 91307, 91316, 91332, 91343, 91330, 91280, 91331, 91341, 91270, 91340, 91296, 91337, 91298, 91333, 91292]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c12><a href="../../../libstd/fmt/mod.rs.html#n169654">"build_rust_fn:&nbsp;path=</a></c12><c3>{}</c3><c12><a href="../../../libstd/fmt/mod.rs.html#n169654">&nbsp;id=</a></c12><c3>{}</c3><c12><a href="../../../libstd/fmt/mod.rs.html#n169654">&nbsp;t=</a></c12><c3>{}</c3><c12><a href="../../../libstd/fmt/mod.rs.html#n169654">"</a></c12><c3>,</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;549</ln><a id="549">&nbsp;</a><a id="n[91248, 91321, 91318, 91253, 91261, 91251, 91320, 91249, 91319, 91252, 91250]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#101">.tcx</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#285">.map</a></c24><c10><a href="../../../libsyntax/ast_map.rs.html#n76624">.path_to_str</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#522">id</a></c26><c4>)</c4><c3>,</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;550</ln><a id="550">&nbsp;</a><a id="n[91256, 91327, 91328, 91258, 91257, 91323, 91325, 91254, 91263, 91259, 91262, 91326, 91322, 91329, 91324, 91255]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c5><a href="../../../librustc/middle/trans/foreign.rs.html#550">id</a></c5><c3>,</c3><c22><a href="#500_1_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#526">t</a></c26><c27><a href="../../../libstd/fmt/mod.rs.html#n171474">.repr</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#525">tcx</a></c26><c4>))</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;551</ln><a id="551">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;552</ln><a id="552">&nbsp;</a><a id="n[91365, 91366, 91380, 91367, 91379, 91368, 91369]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#500_1_refs">&nbsp;</a></c22><c20><a href="#552_12_refs">llfn</a></c20><c13><a href="#500_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/base.rs.html#295">base::decl_internal_rust_fn</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c3>,</c3><c27><a href="#500_1_refs">
</a></c27><br/><ln>&nbsp;553</ln><a id="553">&nbsp;</a><a id="n[91370]">&nbsp;</a><c27><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#500_1_refs">false</a></c12><c3>,</c3><c27><a href="#500_1_refs">
</a></c27><br/><ln>&nbsp;554</ln><a id="554">&nbsp;</a><a id="n[91372, 91373, 91374, 91371]">&nbsp;</a><c27><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#535">f</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#422">.sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#450">.inputs</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#500_1_refs">
</a></c27><br/><ln>&nbsp;555</ln><a id="555">&nbsp;</a><a id="n[91375, 91377, 91376]">&nbsp;</a><c27><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#535">f</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#422">.sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c3>,</c3><c27><a href="#500_1_refs">
</a></c27><br/><ln>&nbsp;556</ln><a id="556">&nbsp;</a><a id="n[91378]">&nbsp;</a><c27><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#528">ps</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;557</ln><a id="557">&nbsp;</a><a id="n[91385, 91382, 91383, 91384, 91381]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/base.rs.html#477">base::set_llvm_fn_attrs</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#521">attrs</a></c26><c3>,</c3><c27><a href="#500_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#552">llfn</a></c26><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;558</ln><a id="558">&nbsp;</a><a id="n[91390, 91388, 91387, 91392, 91389, 91386, 91393, 91394, 91395, 91391]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/base.rs.html#1510">base::trans_fn</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#518">ccx</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#519">decl</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#520">body</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#552">llfn</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#522">id</a></c26><c3>,</c3><c13><a href="#500_1_refs">&nbsp;</a></c13><c3>[]</c3><c4>)</c4><c3>;</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;559</ln><a id="559">&nbsp;</a><a id="n[91397]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#552">llfn</a></c26><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;560</ln><a id="560">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;561</ln><a id="561">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;562</ln><a id="562">&nbsp;</a><a id="n[91399, 91404, 93011, 91403, 91402]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c13><a href="#562_4_refs">&nbsp;</a></c13><c30>fn</c30><c30><a href="#562_4_refs">&nbsp;build_wrap_fn</a></c30><c4>(</c4><c20><a href="#562_28_refs">ccx</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="#562_4_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c13><a href="#562_4_refs">
</a></c13><br/><ln>&nbsp;563</ln><a id="563">&nbsp;</a><a id="n[91407, 91408]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#563_28_refs">llrustfn</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>,</c3><c13><a href="#562_4_refs">
</a></c13><br/><ln>&nbsp;564</ln><a id="564">&nbsp;</a><a id="n[91411, 91412]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#564_28_refs">llwrapfn</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c3>,</c3><c13><a href="#562_4_refs">
</a></c13><br/><ln>&nbsp;565</ln><a id="565">&nbsp;</a><a id="n[92865, 91418, 91416, 91417, 91415]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#565_28_refs">tys</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="#562_4_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes</a></c8><c4>)</c4><c13><a href="#562_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;566</ln><a id="566">&nbsp;</a><a id="n[91425, 91421, 91424, 91419, 91420, 91422]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#562_4_refs">_icx</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/base.rs.html#121">push_ctxt</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;567</ln><a id="567">&nbsp;</a><a id="n[91423]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#562_4_refs">"foreign::trans_rust_fn_with_foreign_abi::build_wrap_fn"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;568</ln><a id="568">&nbsp;</a><a id="n[91429, 91431, 91430, 91428, 91427, 91426]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#568_12_refs">tcx</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;569</ln><a id="569">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;570</ln><a id="570">&nbsp;</a><a id="n[91518, 91536, 91483, 91529, 91512, 91513, 91482, 91531, 91507, 91491, 91517, 91488, 91539, 91502, 91511, 91478, 91487, 91477, 91508, 91503, 91514, 91528, 91541, 91498, 91494, 91495, 91540, 91538, 91501, 91532, 91499, 91533, 91554, 91509, 91504, 91492, 91506, 91500, 91510, 91496, 91497, 91505, 91537, 91485, 91519, 91493, 91490, 91474, 91535, 91516, 91515, 91557, 91486, 91534, 91484, 91489, 91530, 91481]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169447">"build_wrap_fn</a></c8><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169447">llrustfn=</a></c8><c3>{},</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169447">&nbsp;llwrapfn=</a></c8><c3>{}</c3><c4>)</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169447">"</a></c8><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;571</ln><a id="571">&nbsp;</a><a id="n[91523, 91467, 91475, 91466, 91468, 91464, 91521, 91522, 91465, 91520]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#563">llrustfn</a></c26><c4>)</c4><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;572</ln><a id="572">&nbsp;</a><a id="n[91525, 91471, 91524, 91470, 91527, 91469, 91473, 91472, 91526, 91476]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c20><a href="#572_15_refs">.val_to_str</a></c20><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#564">llwrapfn</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;573</ln><a id="573">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;574</ln><a id="574">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Avoid&nbsp;all&nbsp;the&nbsp;Rust&nbsp;generation&nbsp;stuff&nbsp;and&nbsp;just&nbsp;generate&nbsp;raw
</c40><br/><ln>&nbsp;575</ln><a id="575">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;LLVM&nbsp;here.
</c40><br/><ln>&nbsp;576</ln><a id="576">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;577</ln><a id="577">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;want&nbsp;to&nbsp;generate&nbsp;code&nbsp;like&nbsp;this:
</c40><br/><ln>&nbsp;578</ln><a id="578">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;579</ln><a id="579">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;foo(T&nbsp;i)&nbsp;{
</c40><br/><ln>&nbsp;580</ln><a id="580">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;r;
</c40><br/><ln>&nbsp;581</ln><a id="581">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foo0(&amp;r,&nbsp;NULL,&nbsp;i);
</c40><br/><ln>&nbsp;582</ln><a id="582">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;r;
</c40><br/><ln>&nbsp;583</ln><a id="583">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c40><br/><ln>&nbsp;584</ln><a id="584">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;585</ln><a id="585">&nbsp;</a><a id="n[91563, 91580, 91565, 91564]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#585_12_refs">the_block</a></c20><c13><a href="#562_4_refs">&nbsp;=
</a></c13><br/><ln>&nbsp;586</ln><a id="586">&nbsp;</a><a id="n[91566, 91579]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#562_4_refs">"the&nbsp;block"</a></c12><c10><a href="../../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c10><a href="../../../libstd/c_str.rs.html#n132053">
</a></c10><br/><ln>&nbsp;587</ln><a id="587">&nbsp;</a><a id="n[91575, 91569, 91572, 91577, 91573, 91568, 91574, 91571, 91570, 91576, 91578]">&nbsp;</a><c10><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c1><a href="../../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#587_17_refs">s</a></c20><c8><a href="#562_4_refs">|</a></c8><c1><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c8><a href="c=0 n=517604">llvm</a></c8><c26><a href="c=0 n=517604">::LLVMAppendBasicBlockInContext</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#41">.llcx</a></c24><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#564">llwrapfn</a></c26><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#587">s</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;588</ln><a id="588">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;589</ln><a id="589">&nbsp;</a><a id="n[91582, 91583, 91581, 91584, 91586, 91585, 91587]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#589_12_refs">builder</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#106">.builder</a></c24><c24><a href="../../../librustc/middle/trans/common.rs.html#173">.b</a></c24><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;590</ln><a id="590">&nbsp;</a><a id="n[91591, 91592, 91590, 91588, 91589]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517876">llvm::LLVMPositionBuilderAtEnd</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c13><a href="#562_4_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#585">the_block</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;591</ln><a id="591">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;592</ln><a id="592">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Array&nbsp;for&nbsp;the&nbsp;arguments&nbsp;we&nbsp;will&nbsp;pass&nbsp;to&nbsp;the&nbsp;rust&nbsp;function.
</c40><br/><ln>&nbsp;593</ln><a id="593">&nbsp;</a><a id="n[91594, 91596, 91597, 91595, 91598, 91593]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#593_12_refs">&nbsp;llrust_args</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;594</ln><a id="594">&nbsp;</a><a id="n[91601, 91603, 91599, 91604, 91602]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#594_12_refs">&nbsp;next_foreign_arg_counter</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="../../../libstd/libc.rs.html#n127571">c_uint</a></c8><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#562_4_refs">0</a></c12><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;595</ln><a id="595">&nbsp;</a><a id="n[91617, 91611, 91605, 91612, 91635, 91634, 91608, 91616, 91618, 91636, 91613, 91619, 91630]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#595_12_refs">next_foreign_arg</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="#562_4_refs">|pad:&nbsp;bool|&nbsp;</a></c8><c4>-&gt;</c4><c8><a href="#562_4_refs">&nbsp;</a></c8><c8><a href="../../../libstd/libc.rs.html#n127571">c_uint</a></c8><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c1><a href="#562_4_refs">|</a></c1><c20><a href="#595_55_refs">pad</a></c20><c1><a href="#562_4_refs">:&nbsp;</a></c1><c8><a href="#562_4_refs">bool</a></c8><c1><a href="#562_4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;596</ln><a id="596">&nbsp;</a><a id="n[91620, 91627, 91629, 91628, 91621, 91622]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#594">next_foreign_arg_counter</a></c26><c1><a href="#562_4_refs">&nbsp;+=&nbsp;</a></c1><c21><a href="#562_4_refs">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#595">pad</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;597</ln><a id="597">&nbsp;</a><a id="n[91623]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#562_4_refs">2</a></c12><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;598</ln><a id="598">&nbsp;</a><a id="n[91624, 91626]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;599</ln><a id="599">&nbsp;</a><a id="n[91625]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#562_4_refs">1</a></c12><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;600</ln><a id="600">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;601</ln><a id="601">&nbsp;</a><a id="n[91632, 91631, 91633]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#594">next_foreign_arg_counter</a></c26><c5><a href="#562_4_refs">&nbsp;-&nbsp;</a></c5><c12><a href="#562_4_refs">1</a></c12><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;602</ln><a id="602">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;603</ln><a id="603">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;604</ln><a id="604">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;out&nbsp;pointer&nbsp;on&nbsp;the&nbsp;foreign&nbsp;function
</c40><br/><ln>&nbsp;605</ln><a id="605">&nbsp;</a><a id="n[91659, 91658, 91638, 91639, 91637, 91640]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#605_12_refs">foreign_outptr</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;606</ln><a id="606">&nbsp;</a><a id="n[91641, 91642, 91643, 91645, 91657, 91644]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;607</ln><a id="607">&nbsp;</a><a id="n[91649, 91650, 91648, 91652, 91651, 91647, 91653, 91646]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="c=0 n=517440">llvm::LLVMGetParam</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#564">llwrapfn</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#595">next_foreign_arg</a></c26><c4>(</c4><c12><a href="#562_4_refs">false</a></c12><c4>)))</c4><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;608</ln><a id="608">&nbsp;</a><a id="n[91656, 91654]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;609</ln><a id="609">&nbsp;</a><a id="n[91655]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;610</ln><a id="610">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;611</ln><a id="611">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;612</ln><a id="612">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;613</ln><a id="613">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Push&nbsp;Rust&nbsp;return&nbsp;pointer,&nbsp;using&nbsp;null&nbsp;if&nbsp;it&nbsp;will&nbsp;be&nbsp;unused.
</c40><br/><ln>&nbsp;614</ln><a id="614">&nbsp;</a><a id="n[91662, 91669, 91661, 91660]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#614_12_refs">rust_uses_outptr</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;615</ln><a id="615">&nbsp;</a><a id="n[91666, 91663, 91664, 91668, 91667, 91665]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/type_of.rs.html#28">type_of::return_uses_outptr</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;616</ln><a id="616">&nbsp;</a><a id="n[91674, 91670, 91675, 91672, 91676]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#616_12_refs">return_alloca</a></c20><c13><a href="#562_4_refs">:&nbsp;</a></c13><c8><a href="../../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c8><a href="../../../libstd/option.rs.html#n104336">&gt;</a></c8><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;617</ln><a id="617">&nbsp;</a><a id="n[91683, 91681, 91679, 91677, 91678, 91682, 91680]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#617_12_refs">llrust_ret_ty</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#51">.llsig</a></c24><c24><a href="../../../librustc/middle/trans/foreign.rs.html#65">.llret_ty</a></c24><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;618</ln><a id="618">&nbsp;</a><a id="n[91685, 91687, 91686, 91689, 91684, 91688]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#618_12_refs">llrust_retptr_ty</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;619</ln><a id="619">&nbsp;</a><a id="n[91691, 92123, 91690, 92122]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#614">rust_uses_outptr</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;620</ln><a id="620">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Rust&nbsp;expects&nbsp;to&nbsp;use&nbsp;an&nbsp;outpointer.&nbsp;If&nbsp;the&nbsp;foreign&nbsp;fn
</c40><br/><ln>&nbsp;621</ln><a id="621">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;also&nbsp;uses&nbsp;an&nbsp;outpointer,&nbsp;we&nbsp;can&nbsp;reuse&nbsp;it,&nbsp;but&nbsp;the&nbsp;types
</c40><br/><ln>&nbsp;622</ln><a id="622">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;may&nbsp;vary,&nbsp;so&nbsp;cast&nbsp;first&nbsp;to&nbsp;the&nbsp;Rust&nbsp;type.&nbsp;If&nbsp;the
</c40><br/><ln>&nbsp;623</ln><a id="623">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;foreign&nbsp;fn&nbsp;does&nbsp;NOT&nbsp;use&nbsp;an&nbsp;outpointer,&nbsp;we&nbsp;will&nbsp;have&nbsp;to
</c40><br/><ln>&nbsp;624</ln><a id="624">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;alloca&nbsp;some&nbsp;scratch&nbsp;space&nbsp;on&nbsp;the&nbsp;stack.
</c40><br/><ln>&nbsp;625</ln><a id="625">&nbsp;</a><a id="n[92115, 91692]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#605">foreign_outptr</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;626</ln><a id="626">&nbsp;</a><a id="n[91927, 91928, 91693, 91694]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#626_21_refs">llforeign_outptr</a></c20><c4>)</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;627</ln><a id="627">&nbsp;</a><a id="n[91741, 91740, 91756, 91757, 91764, 91767, 91766, 91755, 91739, 91770, 91743, 91749, 91776, 91768, 91765, 91754, 91745, 91752, 91793, 91771, 91748, 91747, 91753, 91738, 91773, 91790, 91774, 91769, 91742, 91758, 91746, 91732, 91734, 91750, 91777, 91735, 91772, 91751, 91775, 91759, 91744]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">"out&nbsp;pointer</a></c26><c3>,</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;foreign=</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">"</a></c26><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;628</ln><a id="628">&nbsp;</a><a id="n[91731, 91760, 91761, 91762, 91729, 91763, 91728, 91730, 91733, 91727]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c20><a href="#628_27_refs">.val_to_str</a></c20><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#626">llforeign_outptr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;629</ln><a id="629">&nbsp;</a><a id="n[91811, 91799, 91800, 91801]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#629_24_refs">llrust_retptr</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;630</ln><a id="630">&nbsp;</a><a id="n[91802, 91810, 91803]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=519222">llvm::LLVMBuildBitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;631</ln><a id="631">&nbsp;</a><a id="n[91804]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#626">llforeign_outptr</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;632</ln><a id="632">&nbsp;</a><a id="n[91807, 91805, 91806]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;633</ln><a id="633">&nbsp;</a><a id="n[91809, 91808]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;634</ln><a id="634">&nbsp;</a><a id="n[91878, 91876, 91895, 91860, 91855, 91863, 91849, 91870, 91868, 91873, 91894, 91857, 91885, 91877, 91865, 91866, 91861, 91913, 91872, 91886, 91852, 91874, 91859, 91879, 91867, 91889, 91897, 91884, 91890, 91869, 91893, 91864, 91871, 91875, 91856, 91851, 91858, 91910, 91887, 91862, 91892, 91888, 91896, 91891]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/fmt/mod.rs.html#n169654">"out&nbsp;pointer</a></c26><c3>,</c3><c26><a href="../../../libstd/fmt/mod.rs.html#n169654">&nbsp;foreign=</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/mod.rs.html#n169654">&nbsp;</a></c26><c4>(</c4><c26><a href="../../../libstd/fmt/mod.rs.html#n169654">casted</a></c26><c4>)</c4><c26><a href="../../../libstd/fmt/mod.rs.html#n169654">"</a></c26><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;635</ln><a id="635">&nbsp;</a><a id="n[91850, 91882, 91847, 91846, 91845, 91883, 91844, 91881, 91848, 91880]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#629">llrust_retptr</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;636</ln><a id="636">&nbsp;</a><a id="n[91920, 91922, 91921, 91919]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#593">llrust_args</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#629">llrust_retptr</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;637</ln><a id="637">&nbsp;</a><a id="n[91924, 91926, 91923, 91925]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#616">return_alloca</a></c26><c5><a href="#562_4_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;638</ln><a id="638">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;639</ln><a id="639">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;640</ln><a id="640">&nbsp;</a><a id="n[92114, 91929, 92113]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;641</ln><a id="641">&nbsp;</a><a id="n[91948, 91932, 91931, 91949, 91933, 91930]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#641_24_refs">slot</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;642</ln><a id="642">&nbsp;</a><a id="n[91934, 91947]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#562_4_refs">"return_alloca"</a></c12><c10><a href="../../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c10><a href="../../../libstd/c_str.rs.html#n132053">
</a></c10><br/><ln>&nbsp;643</ln><a id="643">&nbsp;</a><a id="n[91945, 91939, 91936, 91937, 91946, 91938, 91940, 91941]">&nbsp;</a><c10><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c1><a href="../../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#643_29_refs">s</a></c20><c8><a href="#562_4_refs">|</a></c8><c1><a href="../../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c8><a href="#562_4_refs">llvm</a></c8><c26><a href="c=0 n=518820">::LLVMBuildAlloca</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;644</ln><a id="644">&nbsp;</a><a id="n[91943, 91942]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;645</ln><a id="645">&nbsp;</a><a id="n[91944]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#643">s</a></c26><c4>))</c4><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;646</ln><a id="646">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;647</ln><a id="647">&nbsp;</a><a id="n[92050, 92036, 92022, 92023, 92073, 92071, 92010, 92012, 92019, 92076, 92020, 92081, 92079, 92011, 92070, 92044, 92038, 92041, 92009, 92078, 92015, 92007, 92054, 92018, 92008, 92053, 92021, 92029, 92034, 92032, 92069, 92003, 92047, 92072, 91998, 92077, 92074, 92033, 92051, 92097, 92080, 92017, 92045, 92042, 92016, 92031, 92052, 92002, 92013, 92035, 92075, 92025, 92094, 92043, 92049, 92055, 92024, 92006, 92068, 92028, 92039, 92048, 92014, 92040, 92037, 92027, 92046, 92030, 92026]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">"out&nbsp;pointer</a></c26><c3>,</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;\
</a></c26><br/><ln>&nbsp;648</ln><a id="648">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocad=</a></c26><c3>{},</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;\
</a></c26><br/><ln>&nbsp;649</ln><a id="649">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llrust_ret_ty=</a></c26><c3>{},</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;\
</a></c26><br/><ln>&nbsp;650</ln><a id="650">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return_ty=</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169461">"</a></c26><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;651</ln><a id="651">&nbsp;</a><a id="n[91999, 91983, 91985, 91986, 92059, 91982, 92056, 92058, 91984, 92057]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n169877">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#641">slot</a></c26><c4>)</c4><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;652</ln><a id="652">&nbsp;</a><a id="n[91990, 92061, 92063, 91991, 92000, 91988, 91989, 92062, 92060, 91987]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.type_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c4>)</c4><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;653</ln><a id="653">&nbsp;</a><a id="n[92001, 91994, 92065, 91996, 92067, 91993, 92066, 91997, 91995, 92064, 91992]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n171474">.repr</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#568">tcx</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;654</ln><a id="654">&nbsp;</a><a id="n[92105, 92104, 92106, 92103]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#593">llrust_args</a></c26><c13><a href="../../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#641">slot</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;655</ln><a id="655">&nbsp;</a><a id="n[92111, 92107, 92108, 92112, 92110, 92109]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#616">return_alloca</a></c26><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#641">slot</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;656</ln><a id="656">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;657</ln><a id="657">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;658</ln><a id="658">&nbsp;</a><a id="n[92121, 92120]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;659</ln><a id="659">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Rust&nbsp;does&nbsp;not&nbsp;expect&nbsp;an&nbsp;outpointer.&nbsp;If&nbsp;the&nbsp;foreign&nbsp;fn
</c40><br/><ln>&nbsp;660</ln><a id="660">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;does&nbsp;use&nbsp;an&nbsp;outpointer,&nbsp;then&nbsp;we&nbsp;will&nbsp;do&nbsp;a&nbsp;store&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;661</ln><a id="661">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;value&nbsp;that&nbsp;the&nbsp;Rust&nbsp;fn&nbsp;returns.
</c40><br/><ln>&nbsp;662</ln><a id="662">&nbsp;</a><a id="n[92119, 92117, 92116, 92118]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#616">return_alloca</a></c26><c5><a href="#562_4_refs">&nbsp;=&nbsp;</a></c5><c26><a href="../../../libstd/option.rs.html#n104337">None</a></c26><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;663</ln><a id="663">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;664</ln><a id="664">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;665</ln><a id="665">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Build&nbsp;up&nbsp;the&nbsp;arguments&nbsp;to&nbsp;the&nbsp;call&nbsp;to&nbsp;the&nbsp;rust&nbsp;function.
</c40><br/><ln>&nbsp;666</ln><a id="666">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Careful&nbsp;to&nbsp;adapt&nbsp;for&nbsp;cases&nbsp;where&nbsp;the&nbsp;native&nbsp;convention&nbsp;uses
</c40><br/><ln>&nbsp;667</ln><a id="667">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;a&nbsp;pointer&nbsp;and&nbsp;Rust&nbsp;does&nbsp;not&nbsp;or&nbsp;vice&nbsp;versa.
</c40><br/><ln>&nbsp;668</ln><a id="668">&nbsp;</a><a id="n[92721, 92126, 92723, 92135, 92127, 92128, 92131, 92129, 92132, 92136, 92722, 92726, 92124, 92138, 92130, 92133, 92137, 92139, 92724, 92725, 92134, 92125]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">&nbsp;</a></c26><c20><a href="#668_12_refs">i</a></c20><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">&nbsp;in&nbsp;</a></c26><c26><a href="../../../libstd/iter.rs.html#n97679">range</a></c26><c4>(</c4><c12><a href="../../../libstd/option.rs.html#n104337">0</a></c12><c3>,</c3><c27><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#450">.inputs</a></c24><c10><a href="../../../libstd/vec.rs.html#n57167">.len</a></c10><c4>())</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">&nbsp;</a></c26><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;669</ln><a id="669">&nbsp;</a><a id="n[92142, 92148, 92144, 92146, 92145, 92143, 92141, 92140, 92147, 92149]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#669_16_refs">rust_ty</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#562_4_refs">*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#450">.inputs</a></c24><c10><a href="../../../libstd/vec.rs.html#n57648">.get</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">i</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;670</ln><a id="670">&nbsp;</a><a id="n[92155, 92152, 92159, 92151, 92158, 92150, 92153, 92156, 92154, 92157]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#670_16_refs">llrust_ty</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#562_4_refs">*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#51">.llsig</a></c24><c24><a href="../../../librustc/middle/trans/foreign.rs.html#59">.llarg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n57648">.get</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">i</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;671</ln><a id="671">&nbsp;</a><a id="n[92160, 92164, 92166, 92165, 92167, 92161, 92162, 92163]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#671_16_refs">rust_indirect</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/type_of.rs.html#24">type_of::arg_is_indirect</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#669">rust_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;672</ln><a id="672">&nbsp;</a><a id="n[92173, 92171, 92176, 92170, 92177, 92169, 92175, 92172, 92174, 92168]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#672_16_refs">llforeign_arg_ty</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#562_4_refs">*</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#102">.arg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n57648">.get</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">i</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;673</ln><a id="673">&nbsp;</a><a id="n[92181, 92182, 92178, 92183, 92180, 92179]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#673_16_refs">foreign_indirect</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#672">llforeign_arg_ty</a></c26><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;674</ln><a id="674">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;675</ln><a id="675">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;skip&nbsp;padding
</c40><br/><ln>&nbsp;676</ln><a id="676">&nbsp;</a><a id="n[92189, 92188, 92187, 92185, 92186, 92192, 92184, 92190, 92191]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#676_16_refs">foreign_index</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#595">next_foreign_arg</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#672">llforeign_arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#44">.pad</a></c24><c10><a href="../../../libstd/option.rs.html#n104931">.is_some</a></c10><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;677</ln><a id="677">&nbsp;</a><a id="n[92193, 92198, 92200, 92194, 92199, 92197, 92195, 92196]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#677_16_refs">&nbsp;llforeign_arg</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=517440">llvm::LLVMGetParam</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#564">llwrapfn</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#676">foreign_index</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;678</ln><a id="678">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;679</ln><a id="679">&nbsp;</a><a id="n[92300, 92299, 92247, 92259, 92257, 92265, 92268, 92285, 92243, 92276, 92269, 92280, 92270, 92254, 92261, 92320, 92244, 92262, 92294, 92297, 92296, 92255, 92304, 92303, 92279, 92250, 92282, 92266, 92298, 92295, 92264, 92260, 92305, 92272, 92258, 92263, 92307, 92273, 92302, 92271, 92252, 92253, 92267, 92249, 92323, 92248, 92277, 92251, 92278, 92284, 92256, 92283, 92281, 92274, 92275, 92240, 92301, 92306]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">"llforeign_arg&nbsp;\\#</a></c13><c3>{}</c3><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">:&nbsp;</a></c13><c3>{}</c3><c13><a href="../../../libstd/fmt/mod.rs.html#n169654">"</a></c13><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;680</ln><a id="680">&nbsp;</a><a id="n[92235, 92289, 92288, 92234, 92290, 92233, 92293, 92242, 92237, 92238, 92236, 92239, 92287, 92291, 92292, 92286, 92241]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="#680_19_refs">i</a></c20><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../librustc/middle/trans/foreign.rs.html#680">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;681</ln><a id="681">&nbsp;</a><a id="n[92400, 92445, 92428, 92416, 92403, 92383, 92397, 92418, 92419, 92417, 92429, 92393, 92369, 92387, 92442, 92390, 92380, 92376, 92392, 92386, 92394, 92384, 92396, 92399, 92365, 92405, 92427, 92391, 92424, 92381, 92377, 92423, 92425, 92401, 92426, 92388, 92395, 92404, 92385, 92407, 92379, 92420, 92375, 92378, 92382, 92368, 92421, 92398, 92374, 92372, 92402, 92422, 92389, 92373, 92406]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../../libstd/fmt/rt.rs.html#n169453">"rust_indirect&nbsp;=&nbsp;</a></c8><c3>{},</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169453">&nbsp;foreign_indirect&nbsp;=&nbsp;</a></c8><c3>{}</c3><c8><a href="../../../libstd/fmt/rt.rs.html#n169453">"</a></c8><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;682</ln><a id="682">&nbsp;</a><a id="n[92366, 92414, 92408, 92364, 92363, 92361, 92412, 92362, 92410, 92367, 92409, 92411, 92413, 92415]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c27><a href="../../../libstd/fmt/mod.rs.html#n169877">rust_indirect</a></c27><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c27><a href="../../../libstd/fmt/mod.rs.html#n169877">foreign_indirect</a></c27><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;683</ln><a id="683">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;684</ln><a id="684">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Ensure&nbsp;that&nbsp;the&nbsp;foreign&nbsp;argument&nbsp;is&nbsp;indirect&nbsp;(by
</c40><br/><ln>&nbsp;685</ln><a id="685">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;pointer).&nbsp;&nbsp;It&nbsp;makes&nbsp;adapting&nbsp;types&nbsp;easier,&nbsp;since&nbsp;we&nbsp;can
</c40><br/><ln>&nbsp;686</ln><a id="686">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;always&nbsp;just&nbsp;bitcast&nbsp;pointers.
</c40><br/><ln>&nbsp;687</ln><a id="687">&nbsp;</a><a id="n[92477, 92478, 92476, 92452, 92451]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#562_4_refs">&nbsp;</a></c13><c5><a href="#562_4_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#673">foreign_indirect</a></c26><c13><a href="#562_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;688</ln><a id="688">&nbsp;</a><a id="n[92453, 92454, 92465, 92455]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#688_20_refs">lltemp</a></c20><c13><a href="#562_4_refs">&nbsp;=
</a></c13><br/><ln>&nbsp;689</ln><a id="689">&nbsp;</a><a id="n[92464, 92456]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="c=0 n=518820">llvm::LLVMBuildAlloca</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;690</ln><a id="690">&nbsp;</a><a id="n[92459, 92461, 92462, 92463, 92457, 92458, 92460]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/common.rs.html#513">val_ty</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c4>)</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;691</ln><a id="691">&nbsp;</a><a id="n[92471, 92470, 92466]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=518883">llvm::LLVMBuildStore</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;692</ln><a id="692">&nbsp;</a><a id="n[92469, 92468, 92467]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#688">lltemp</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;693</ln><a id="693">&nbsp;</a><a id="n[92474, 92475, 92472, 92473]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#688">lltemp</a></c26><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;694</ln><a id="694">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;695</ln><a id="695">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;696</ln><a id="696">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;the&nbsp;types&nbsp;in&nbsp;the&nbsp;ABI&nbsp;and&nbsp;the&nbsp;Rust&nbsp;types&nbsp;don't&nbsp;match,
</c40><br/><ln>&nbsp;697</ln><a id="697">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;bitcast&nbsp;the&nbsp;llforeign_arg&nbsp;pointer&nbsp;so&nbsp;it&nbsp;matches&nbsp;the&nbsp;types
</c40><br/><ln>&nbsp;698</ln><a id="698">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Rust&nbsp;expects.
</c40><br/><ln>&nbsp;699</ln><a id="699">&nbsp;</a><a id="n[92481, 92572, 92571, 92480, 92570, 92479]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#672">llforeign_arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c10><a href="../../../libstd/option.rs.html#n104931">.is_some</a></c10><c4>()</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;700</ln><a id="700">&nbsp;</a><a id="n[92482, 92483]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#562_4_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#673">foreign_indirect</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;701</ln><a id="701">&nbsp;</a><a id="n[92569, 92568, 92559, 92567, 92558]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c5><a href="#562_4_refs">&nbsp;=&nbsp;</a></c5><c26><a href="c=0 n=519222">llvm::LLVMBuildBitCast</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;702</ln><a id="702">&nbsp;</a><a id="n[92560, 92561]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;703</ln><a id="703">&nbsp;</a><a id="n[92565, 92563, 92564, 92562, 92566]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#670">llrust_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;704</ln><a id="704">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;705</ln><a id="705">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;706</ln><a id="706">&nbsp;</a><a id="n[92574, 92573, 92575, 92576, 92587, 92577, 92588]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#706_16_refs">llrust_arg</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#562_4_refs">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#671">rust_indirect</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;707</ln><a id="707">&nbsp;</a><a id="n[92578]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;708</ln><a id="708">&nbsp;</a><a id="n[92579, 92586]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;709</ln><a id="709">&nbsp;</a><a id="n[92580, 92582, 92585, 92584, 92583, 92581]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=518867">llvm::LLVMBuildLoad</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#677">llforeign_arg</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;710</ln><a id="710">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;711</ln><a id="711">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;712</ln><a id="712">&nbsp;</a><a id="n[92685, 92661, 92684, 92692, 92683, 92664, 92647, 92663, 92693, 92646, 92672, 92649, 92654, 92635, 92670, 92640, 92682, 92668, 92643, 92660, 92648, 92691, 92665, 92666, 92644, 92690, 92628, 92642, 92632, 92688, 92671, 92686, 92645, 92658, 92657, 92673, 92631, 92667, 92711, 92662, 92695, 92687, 92638, 92656, 92659, 92708, 92641, 92689, 92652, 92636, 92694, 92637, 92669, 92639, 92651, 92655, 92653, 92650]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">"llrust_arg&nbsp;\\#</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../../libstd/fmt/rt.rs.html#n169505">"</a></c26><c3>,</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;713</ln><a id="713">&nbsp;</a><a id="n[92675, 92621, 92629, 92623, 92625, 92626, 92676, 92674, 92622, 92630, 92679, 92678, 92624, 92680, 92677, 92681, 92627]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c27><a href="../../../libstd/fmt/mod.rs.html#n171474">i</a></c27><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c5><a href="../../../librustc/middle/trans/foreign.rs.html#713">.val_to_str</a></c5><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#706">llrust_arg</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;714</ln><a id="714">&nbsp;</a><a id="n[92719, 92718, 92720, 92717]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#593">llrust_args</a></c26><c13><a href="../../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#706">llrust_arg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;715</ln><a id="715">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">
</a></c26><br/><ln>&nbsp;716</ln><a id="716">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">
</a></c26><br/><ln>&nbsp;717</ln><a id="717">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;Perform&nbsp;the&nbsp;call&nbsp;itself
</c40><br/><ln>&nbsp;718</ln><a id="718">&nbsp;</a><a id="n[92796, 92798, 92787, 92775, 92822, 92761, 92801, 92779, 92785, 92784, 92789, 92774, 92795, 92766, 92764, 92825, 92763, 92797, 92792, 92759, 92799, 92807, 92767, 92776, 92765, 92772, 92781, 92773, 92778, 92803, 92788, 92800, 92770, 92806, 92809, 92760, 92777, 92794, 92780, 92805, 92791, 92804, 92786, 92808, 92783, 92771, 92782, 92762, 92790, 92802, 92793]">&nbsp;</a><c26><a href="../../../librustc/middle/trans/foreign.rs.html#668">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug</a></c26><c22><a href="#562_4_refs">!</a></c22><c4>(</c4><c22><a href="../../../libstd/fmt/rt.rs.html#n169505">"calling&nbsp;llrustfn&nbsp;=&nbsp;</a></c22><c3>{}</c3><c22><a href="../../../libstd/fmt/rt.rs.html#n169505">"</a></c22><c3>,</c3><c22><a href="#562_4_refs">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#562">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c26><a href="../../../libstd/fmt/mod.rs.html#n169877">.val_to_str</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#563">llrustfn</a></c26><c4>))</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;719</ln><a id="719">&nbsp;</a><a id="n[92831, 92836, 92832, 92834, 92835, 92833, 92838, 92837, 92846, 92847]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#719_12_refs">llrust_ret_val</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519450">llvm::LLVMBuildCall</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#563">llrustfn</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#593">llrust_args</a></c26><c10><a href="../../../libstd/vec.rs.html#n58344">.as_ptr</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;720</ln><a id="720">&nbsp;</a><a id="n[92842, 92844, 92840, 92843, 92839, 92845]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#593">llrust_args</a></c26><c10><a href="../../../libstd/vec.rs.html#n57167">.len</a></c10><c4>()</c4><c21><a href="#562_4_refs">&nbsp;as&nbsp;</a></c21><c8><a href="../../../libstd/libc.rs.html#n127571">c_uint</a></c8><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;721</ln><a id="721">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;722</ln><a id="722">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Get&nbsp;the&nbsp;return&nbsp;value&nbsp;where&nbsp;the&nbsp;foreign&nbsp;fn&nbsp;expects&nbsp;it.
</c40><br/><ln>&nbsp;723</ln><a id="723">&nbsp;</a><a id="n[92853, 92850, 92851, 92849, 92864, 92852, 92848, 92863, 92854]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#723_12_refs">llforeign_ret_ty</a></c20><c16><a href="#562_4_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#562_4_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;724</ln><a id="724">&nbsp;</a><a id="n[92856, 92857, 92855]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#724_17_refs">ty</a></c20><c4>)</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#724">ty</a></c26><c3>,</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;725</ln><a id="725">&nbsp;</a><a id="n[92860, 92862, 92859, 92858, 92861]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;726</ln><a id="726">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;727</ln><a id="727">&nbsp;</a><a id="n[92866, 93010]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#562_4_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#605">foreign_outptr</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;728</ln><a id="728">&nbsp;</a><a id="n[92869, 92876, 92867, 92868, 92870, 92875]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;if&nbsp;</a></c21><c5><a href="#562_4_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#565">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#54">.ret_def</a></c24><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;729</ln><a id="729">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Function&nbsp;returns&nbsp;`()`&nbsp;or&nbsp;`bot`,&nbsp;which&nbsp;in&nbsp;Rust&nbsp;is&nbsp;the&nbsp;LLVM
</c40><br/><ln>&nbsp;730</ln><a id="730">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;type&nbsp;"{}"&nbsp;but&nbsp;in&nbsp;foreign&nbsp;ABIs&nbsp;is&nbsp;"Void".
</c40><br/><ln>&nbsp;731</ln><a id="731">&nbsp;</a><a id="n[92873, 92871, 92874, 92872]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517963">llvm::LLVMBuildRetVoid</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;732</ln><a id="732">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;733</ln><a id="733">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;734</ln><a id="734">&nbsp;</a><a id="n[92913, 92878, 92914, 92877]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#614">rust_uses_outptr</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;735</ln><a id="735">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Rust&nbsp;uses&nbsp;an&nbsp;outpointer,&nbsp;but&nbsp;the&nbsp;foreign&nbsp;ABI&nbsp;does&nbsp;not.&nbsp;Load.
</c40><br/><ln>&nbsp;736</ln><a id="736">&nbsp;</a><a id="n[92882, 92881, 92879, 92884, 92880, 92883]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#736_20_refs">llrust_outptr</a></c20><c13><a href="#562_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#616">return_alloca</a></c26><c10><a href="../../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;737</ln><a id="737">&nbsp;</a><a id="n[92886, 92897, 92885, 92887]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#737_20_refs">llforeign_outptr_casted</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;738</ln><a id="738">&nbsp;</a><a id="n[92889, 92896, 92888]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=519222">llvm::LLVMBuildBitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;739</ln><a id="739">&nbsp;</a><a id="n[92890]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#736">llrust_outptr</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;740</ln><a id="740">&nbsp;</a><a id="n[92893, 92892, 92891]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#723">llforeign_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;741</ln><a id="741">&nbsp;</a><a id="n[92895, 92894]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;742</ln><a id="742">&nbsp;</a><a id="n[92899, 92907, 92898, 92900]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#742_20_refs">llforeign_retval</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;743</ln><a id="743">&nbsp;</a><a id="n[92906, 92902, 92904, 92905, 92901, 92903]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=518867">llvm::LLVMBuildLoad</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#737">llforeign_outptr_casted</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;744</ln><a id="744">&nbsp;</a><a id="n[92910, 92912, 92911, 92909, 92908]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517970">llvm::LLVMBuildRet</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#742">llforeign_retval</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;745</ln><a id="745">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;746</ln><a id="746">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;747</ln><a id="747">&nbsp;</a><a id="n[92916, 92918, 92917, 92915, 92964, 92965]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#723">llforeign_ret_ty</a></c26><c5><a href="#562_4_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;748</ln><a id="748">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Neither&nbsp;ABI&nbsp;uses&nbsp;an&nbsp;outpointer,&nbsp;but&nbsp;the&nbsp;types&nbsp;don't
</c40><br/><ln>&nbsp;749</ln><a id="749">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;quite&nbsp;match.&nbsp;Must&nbsp;cast.&nbsp;Probably&nbsp;we&nbsp;should&nbsp;try&nbsp;and
</c40><br/><ln>&nbsp;750</ln><a id="750">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;examine&nbsp;the&nbsp;types&nbsp;and&nbsp;use&nbsp;a&nbsp;concrete&nbsp;llvm&nbsp;cast,&nbsp;but
</c40><br/><ln>&nbsp;751</ln><a id="751">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;right&nbsp;now&nbsp;we&nbsp;just&nbsp;use&nbsp;a&nbsp;temp&nbsp;memory&nbsp;location&nbsp;and
</c40><br/><ln>&nbsp;752</ln><a id="752">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;bitcast&nbsp;the&nbsp;pointer,&nbsp;which&nbsp;is&nbsp;the&nbsp;same&nbsp;thing&nbsp;the
</c40><br/><ln>&nbsp;753</ln><a id="753">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;old&nbsp;wrappers&nbsp;used&nbsp;to&nbsp;do.
</c40><br/><ln>&nbsp;754</ln><a id="754">&nbsp;</a><a id="n[92920, 92929, 92919, 92921]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#754_20_refs">lltemp</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;755</ln><a id="755">&nbsp;</a><a id="n[92922, 92928]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=518820">llvm::LLVMBuildAlloca</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;756</ln><a id="756">&nbsp;</a><a id="n[92924, 92923, 92925, 92927, 92926]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#723">llforeign_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;757</ln><a id="757">&nbsp;</a><a id="n[92931, 92942, 92932, 92930]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#757_20_refs">lltemp_casted</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;758</ln><a id="758">&nbsp;</a><a id="n[92934, 92933, 92941]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=519222">llvm::LLVMBuildBitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;759</ln><a id="759">&nbsp;</a><a id="n[92935]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#754">lltemp</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;760</ln><a id="760">&nbsp;</a><a id="n[92936, 92938, 92937]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#617">llrust_ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;761</ln><a id="761">&nbsp;</a><a id="n[92939, 92940]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;762</ln><a id="762">&nbsp;</a><a id="n[92948, 92943, 92947]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=518883">llvm::LLVMBuildStore</a></c26><c4>(</c4><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;763</ln><a id="763">&nbsp;</a><a id="n[92946, 92944, 92945]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#719">llrust_ret_val</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#757">lltemp_casted</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;764</ln><a id="764">&nbsp;</a><a id="n[92958, 92951, 92950, 92949]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#764_20_refs">llforeign_retval</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;765</ln><a id="765">&nbsp;</a><a id="n[92954, 92955, 92952, 92956, 92953, 92957]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=518867">llvm::LLVMBuildLoad</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#754">lltemp</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;766</ln><a id="766">&nbsp;</a><a id="n[92963, 92959, 92962, 92960, 92961]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517970">llvm::LLVMBuildRet</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#764">llforeign_retval</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;767</ln><a id="767">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;768</ln><a id="768">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;769</ln><a id="769">&nbsp;</a><a id="n[92972, 92966, 92973]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;770</ln><a id="770">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Neither&nbsp;ABI&nbsp;uses&nbsp;an&nbsp;outpointer,&nbsp;and&nbsp;the&nbsp;types
</c40><br/><ln>&nbsp;771</ln><a id="771">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;match.&nbsp;Easy&nbsp;peasy.
</c40><br/><ln>&nbsp;772</ln><a id="772">&nbsp;</a><a id="n[92968, 92967, 92970, 92971, 92969]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517970">llvm::LLVMBuildRet</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c13><a href="#562_4_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#719">llrust_ret_val</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;773</ln><a id="773">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;774</ln><a id="774">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;775</ln><a id="775">&nbsp;</a><a id="n[93000, 92975, 92976, 92977, 93001, 92974]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#775_17_refs">llforeign_outptr</a></c20><c4>)</c4><c21><a href="#562_4_refs">&nbsp;if&nbsp;</a></c21><c5><a href="#562_4_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#614">rust_uses_outptr</a></c26><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;776</ln><a id="776">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Foreign&nbsp;ABI&nbsp;requires&nbsp;an&nbsp;out&nbsp;pointer,&nbsp;but&nbsp;Rust&nbsp;doesn't.
</c40><br/><ln>&nbsp;777</ln><a id="777">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Store&nbsp;Rust&nbsp;return&nbsp;value.
</c40><br/><ln>&nbsp;778</ln><a id="778">&nbsp;</a><a id="n[92989, 92978, 92980, 92979]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#562_4_refs">&nbsp;</a></c22><c20><a href="#778_20_refs">llforeign_outptr_casted</a></c20><c16><a href="#562_4_refs">&nbsp;=
</a></c16><br/><ln>&nbsp;779</ln><a id="779">&nbsp;</a><a id="n[92982, 92981, 92988]">&nbsp;</a><c16><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c16><c26><a href="c=0 n=519222">llvm::LLVMBuildBitCast</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;780</ln><a id="780">&nbsp;</a><a id="n[92983]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#775">llforeign_outptr</a></c26><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;781</ln><a id="781">&nbsp;</a><a id="n[92984, 92985]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#618">llrust_retptr_ty</a></c26><c10><a href="../../../librustc/middle/trans/type_.rs.html#48">.to_ref</a></c10><c4>()</c4><c3>,</c3><c27><a href="#562_4_refs">
</a></c27><br/><ln>&nbsp;782</ln><a id="782">&nbsp;</a><a id="n[92987, 92986]">&nbsp;</a><c27><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/builder.rs.html#31">noname</a></c26><c4>())</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;783</ln><a id="783">&nbsp;</a><a id="n[92994, 92990, 92995]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=518883">llvm::LLVMBuildStore</a></c26><c4>(</c4><c13><a href="#562_4_refs">
</a></c13><br/><ln>&nbsp;784</ln><a id="784">&nbsp;</a><a id="n[92993, 92991, 92992]">&nbsp;</a><c13><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c3>,</c3><c13><a href="#562_4_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#719">llrust_ret_val</a></c26><c3>,</c3><c13><a href="#562_4_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#778">llforeign_outptr_casted</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;785</ln><a id="785">&nbsp;</a><a id="n[92997, 92996, 92998, 92999]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517963">llvm::LLVMBuildRetVoid</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;786</ln><a id="786">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;787</ln><a id="787">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;788</ln><a id="788">&nbsp;</a><a id="n[93003, 93002, 93009, 93008]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="../../../libstd/option.rs.html#n104341">_</a></c20><c4>)</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#562_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;789</ln><a id="789">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Both&nbsp;ABIs&nbsp;use&nbsp;outpointers.&nbsp;Easy&nbsp;peasy.
</c40><br/><ln>&nbsp;790</ln><a id="790">&nbsp;</a><a id="n[93005, 93007, 93004, 93006]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517963">llvm::LLVMBuildRetVoid</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#589">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;791</ln><a id="791">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#562_4_refs">
</a></c21><br/><ln>&nbsp;792</ln><a id="792">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#562_4_refs">
</a></c22><br/><ln>&nbsp;793</ln><a id="793">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#562_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;794</ln><a id="794">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;795</ln><a id="795">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;796</ln><a id="796">&nbsp;</a><a id="n[]">&nbsp;</a><c42>///////////////////////////////////////////////////////////////////////////
</c42><br/><ln>&nbsp;797</ln><a id="797">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;General&nbsp;ABI&nbsp;Support
</c40><br/><ln>&nbsp;798</ln><a id="798">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;799</ln><a id="799">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;This&nbsp;code&nbsp;is&nbsp;kind&nbsp;of&nbsp;a&nbsp;confused&nbsp;mess&nbsp;and&nbsp;needs&nbsp;to&nbsp;be&nbsp;reworked&nbsp;given
</c40><br/><ln>&nbsp;800</ln><a id="800">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;the&nbsp;massive&nbsp;simplifications&nbsp;that&nbsp;have&nbsp;occurred.
</c40><br/><ln>&nbsp;801</ln><a id="801">&nbsp;</a><a id="n[93013]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;802</ln><a id="802">&nbsp;</a><a id="n[93021, 93020, 93016, 93017, 93018]">&nbsp;</a><c21>pub</c21><c1><a href="#801_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#801_1_refs">&nbsp;link_name</a></c30><c4>(</c4><c20><a href="#802_17_refs">i</a></c20><c1><a href="#801_1_refs">:&nbsp;</a></c1><c8><a href="#801_1_refs">&amp;</a></c8><c8><a href="../../../libsyntax/ast.rs.html#n70566">ast::ForeignItem</a></c8><c4>)</c4><c1><a href="#801_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#801_1_refs">&nbsp;</a></c1><c8><a href="../../../libsyntax/parse/token.rs.html#n123184">InternedString</a></c8><c1><a href="#801_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#801_1_refs">
</a></c22><br/><ln>&nbsp;803</ln><a id="803">&nbsp;</a><a id="n[93024, 93027, 93025, 93023, 93037, 93022]">&nbsp;</a><c22><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#801_1_refs">&nbsp;</a></c21><c26><a href="../../../libsyntax/attr.rs.html#n2997">attr::first_attr_value_str_by_name</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#802">i</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.attrs</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#801_1_refs">
</a></c27><br/><ln>&nbsp;804</ln><a id="804">&nbsp;</a><a id="n[93026]">&nbsp;</a><c27><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#801_1_refs">"link_name"</a></c12><c4>)</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;805</ln><a id="805">&nbsp;</a><a id="n[93028, 93031, 93030, 93029, 93032]">&nbsp;</a><c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#801_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c26><a href="../../../libsyntax/parse/token.rs.html#n123800">token::get_ident</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#802">i</a></c26><c24><a href="../../../libsyntax/ast.rs.html#n70566">.ident</a></c24><c4>)</c4><c3>,</c3><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;806</ln><a id="806">&nbsp;</a><a id="n[93033, 93034, 93035, 93036]">&nbsp;</a><c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#806_13_refs">ln</a></c20><c4>)</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#806">ln</a></c26><c10><a href="../../../libsyntax/parse/token.rs.html#n123527">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;807</ln><a id="807">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#801_1_refs">
</a></c22><br/><ln>&nbsp;808</ln><a id="808">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;809</ln><a id="809">&nbsp;</a><a id="n[93038]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;810</ln><a id="810">&nbsp;</a><a id="n[93053, 93048, 93054, 93052, 93046, 93047, 93042, 93043, 93051, 93041]">&nbsp;</a><c30>fn</c30><c30><a href="#809_1_refs">&nbsp;foreign_signature</a></c30><c4>(</c4><c20><a href="#810_21_refs">ccx</a></c20><c1><a href="#809_1_refs">:&nbsp;</a></c1><c8><a href="#809_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#809_1_refs">&nbsp;</a></c1><c20><a href="#810_41_refs">fn_sig</a></c20><c1><a href="#809_1_refs">:&nbsp;</a></c1><c8><a href="#809_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/ty.rs.html#447">ty::FnSig</a></c8><c3>,</c3><c1><a href="#809_1_refs">&nbsp;</a></c1><c20><a href="#810_61_refs">arg_tys</a></c20><c1><a href="#809_1_refs">:&nbsp;</a></c1><c8><a href="#809_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>]</c3><c4>)</c4><c1><a href="#809_1_refs">
</a></c1><br/><ln>&nbsp;811</ln><a id="811">&nbsp;</a><a id="n[93056, 93085]">&nbsp;</a><c1><a href="#809_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#809_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/foreign.rs.html#56">LlvmSignature</a></c8><c1><a href="#809_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#809_1_refs">
</a></c22><br/><ln>&nbsp;812</ln><a id="812">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#809_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c41>/*!
</c41><br/><ln>&nbsp;813</ln><a id="813">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;The&nbsp;ForeignSignature&nbsp;is&nbsp;the&nbsp;LLVM&nbsp;types&nbsp;of&nbsp;the&nbsp;arguments/return&nbsp;type
</c41><br/><ln>&nbsp;814</ln><a id="814">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;of&nbsp;a&nbsp;function.&nbsp;&nbsp;Note&nbsp;that&nbsp;these&nbsp;LLVM&nbsp;types&nbsp;are&nbsp;not&nbsp;quite&nbsp;the&nbsp;same
</c41><br/><ln>&nbsp;815</ln><a id="815">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;as&nbsp;the&nbsp;LLVM&nbsp;types&nbsp;would&nbsp;be&nbsp;for&nbsp;a&nbsp;native&nbsp;Rust&nbsp;function&nbsp;because&nbsp;foreign
</c41><br/><ln>&nbsp;816</ln><a id="816">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;functions&nbsp;just&nbsp;plain&nbsp;ignore&nbsp;modes.&nbsp;&nbsp;They&nbsp;also&nbsp;don't&nbsp;pass&nbsp;aggregate
</c41><br/><ln>&nbsp;817</ln><a id="817">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;values&nbsp;by&nbsp;pointer&nbsp;like&nbsp;we&nbsp;do.
</c41><br/><ln>&nbsp;818</ln><a id="818">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/
</c41><br/><ln>&nbsp;819</ln><a id="819">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#809_1_refs">
</a></c22><br/><ln>&nbsp;820</ln><a id="820">&nbsp;</a><a id="n[93067, 93074, 93069, 93059, 93068, 93061, 93063, 93070, 93072, 93065, 93075, 93064, 93073, 93057, 93058, 93071, 93060, 93066]">&nbsp;</a><c22><a href="#809_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#809_1_refs">&nbsp;</a></c22><c20><a href="#820_8_refs">llarg_tys</a></c20><c16><a href="#809_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">arg_tys</a></c26><c10><a href="../../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="../../../<std macros>.html#5">.map</a></c10><c4>(</c4><c1><a href="../../../<std macros>.html#4">|</a></c1><c20><a href="../../../<std macros>.html#4">&amp;</a></c20><c20><a href="#820_41_refs">arg</a></c20><c8><a href="../../../<std macros>.html#4">|</a></c8><c1><a href="../../../<std macros>.html#4">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/type_of.rs.html#169">type_of</a></c8><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">ccx</a></c26><c3>,</c3><c27><a href="../../../<std macros>.html#4">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#820">arg</a></c26><c4>))</c4><c10><a href="../../../<std macros>.html#4">.collect</a></c10><c4>()</c4><c3>;</c3><c22><a href="#809_1_refs">
</a></c22><br/><ln>&nbsp;821</ln><a id="821">&nbsp;</a><a id="n[93078, 93079, 93077, 93080, 93081, 93084, 93076, 93082, 93083]">&nbsp;</a><c22><a href="#809_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#809_1_refs">&nbsp;</a></c22><c20><a href="#821_8_refs">llret_ty</a></c20><c16><a href="#809_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/type_of.rs.html#169">type_of::type_of</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">ccx</a></c26><c3>,</c3><c27><a href="#809_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">fn_sig</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>;</c3><c22><a href="#809_1_refs">
</a></c22><br/><ln>&nbsp;822</ln><a id="822">&nbsp;</a><a id="n[93093]">&nbsp;</a><c22><a href="#809_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">LlvmSignature&nbsp;</a></c1><c3>{</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">
</a></c1><br/><ln>&nbsp;823</ln><a id="823">&nbsp;</a><a id="n[93086]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llarg_tys:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#820">llarg_tys</a></c26><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">
</a></c1><br/><ln>&nbsp;824</ln><a id="824">&nbsp;</a><a id="n[93087]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llret_ty:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#821">llret_ty</a></c26><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">
</a></c1><br/><ln>&nbsp;825</ln><a id="825">&nbsp;</a><a id="n[93089, 93090, 93088, 93092, 93091]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sret:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/type_of.rs.html#28">type_of::return_uses_outptr</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">ccx</a></c26><c3>,</c3><c27><a href="../../../librustc/middle/trans/foreign.rs.html#56">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#810">fn_sig</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">
</a></c1><br/><ln>&nbsp;826</ln><a id="826">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#56">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c22><a href="#809_1_refs">
</a></c22><br/><ln>&nbsp;827</ln><a id="827">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;828</ln><a id="828">&nbsp;</a><a id="n[93094]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;829</ln><a id="829">&nbsp;</a><a id="n[93097, 93099, 93098]">&nbsp;</a><c30>fn</c30><c30><a href="#828_1_refs">&nbsp;foreign_types_for_id</a></c30><c4>(</c4><c20><a href="#829_24_refs">ccx</a></c20><c1><a href="#828_1_refs">:&nbsp;</a></c1><c8><a href="#828_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#828_1_refs">
</a></c1><br/><ln>&nbsp;830</ln><a id="830">&nbsp;</a><a id="n[93102, 93106, 93103, 93105]">&nbsp;</a><c1><a href="#828_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#830_24_refs">id</a></c20><c1><a href="#828_1_refs">:&nbsp;</a></c1><c8><a href="../../../libsyntax/ast.rs.html#n18432">ast::NodeId</a></c8><c4>)</c4><c1><a href="#828_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#828_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes</a></c8><c1><a href="#828_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#828_1_refs">
</a></c22><br/><ln>&nbsp;831</ln><a id="831">&nbsp;</a><a id="n[93113, 93107, 93110, 93108, 93112, 93109, 93114, 93111]">&nbsp;</a><c22><a href="#828_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#833">foreign_types_for_fn_ty</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#829">ccx</a></c26><c3>,</c3><c27><a href="#828_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/ty.rs.html#2728">ty::node_id_to_type</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#829">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#828_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#830">id</a></c26><c4>))</c4><c22><a href="#828_1_refs">
</a></c22><br/><ln>&nbsp;832</ln><a id="832">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;833</ln><a id="833">&nbsp;</a><a id="n[93115]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;834</ln><a id="834">&nbsp;</a><a id="n[93119, 93118, 93120]">&nbsp;</a><c30>fn</c30><c30><a href="#833_1_refs">&nbsp;foreign_types_for_fn_ty</a></c30><c4>(</c4><c20><a href="#834_27_refs">ccx</a></c20><c1><a href="#833_1_refs">:&nbsp;</a></c1><c8><a href="#833_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#833_1_refs">
</a></c1><br/><ln>&nbsp;835</ln><a id="835">&nbsp;</a><a id="n[93123, 93124, 93418, 93126]">&nbsp;</a><c1><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#835_27_refs">ty</a></c20><c1><a href="#833_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c4>)</c4><c1><a href="#833_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#833_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes</a></c8><c1><a href="#833_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;836</ln><a id="836">&nbsp;</a><a id="n[93131, 93128, 93129, 93127, 93130, 93133, 93145, 93132, 93144]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#833_1_refs">&nbsp;</a></c22><c20><a href="#836_8_refs">fn_sig</a></c20><c13><a href="#833_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#833_1_refs">match&nbsp;</a></c21><c26><a href="../../../librustc/middle/ty.rs.html#395">ty::get</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#835">ty</a></c26><c4>)</c4><c24><a href="../../../librustc/middle/ty.rs.html#375">.sty</a></c24><c21><a href="#833_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#833_1_refs">
</a></c21><br/><ln>&nbsp;837</ln><a id="837">&nbsp;</a><a id="n[93138, 93136, 93134, 93135, 93137]">&nbsp;</a><c21><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../librustc/middle/ty.rs.html#741">ty::ty_bare_fn</a></c20><c4>(</c4><c20><a href="#837_23_refs">ref&nbsp;fn_ty</a></c20><c4>)</c4><c21><a href="#833_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#833_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#837">fn_ty</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#422">.sig</a></c24><c10><a href="../../../librustc/middle/ty.rs.html#447">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#833_1_refs">
</a></c21><br/><ln>&nbsp;838</ln><a id="838">&nbsp;</a><a id="n[93140, 93141, 93142, 93143, 93139]">&nbsp;</a><c21><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#833_1_refs">_</a></c20><c21><a href="#833_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#833_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#227">.sess</a></c10><c4>()</c4><c10><a href="../../../librustc/driver/session.rs.html#241">.bug</a></c10><c4>(</c4><c12><a href="#833_1_refs">"foreign_types_for_fn_ty&nbsp;called&nbsp;on&nbsp;non-function&nbsp;</a></c12><c35>type</c35><c35><a href="#833_1_refs">"</a></c35><c35>)</c35><c35><a href="#833_1_refs">
</a></c35><br/><ln>&nbsp;839</ln><a id="839">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;840</ln><a id="840">&nbsp;</a><a id="n[93149, 93154, 93156, 93155, 93152, 93150, 93157, 93153, 93146, 93148, 93147, 93151]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#833_1_refs">&nbsp;</a></c22><c20><a href="#840_8_refs">llsig</a></c20><c16><a href="#833_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#809">foreign_signature</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c3>,</c3><c27><a href="#833_1_refs">&nbsp;</a></c27><c5><a href="#833_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#836">fn_sig</a></c26><c3>,</c3><c27><a href="#833_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#836">fn_sig</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#450">.inputs</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;841</ln><a id="841">&nbsp;</a><a id="n[93159, 93163, 93165, 93166, 93164, 93158, 93160, 93167, 93161, 93162]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#833_1_refs">&nbsp;</a></c22><c20><a href="#841_8_refs">ret_def</a></c20><c13><a href="#833_1_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#833_1_refs">!</a></c5><c26><a href="../../../librustc/middle/trans/common.rs.html#91">return_type_is_void</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c3>,</c3><c27><a href="#833_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#836">fn_sig</a></c26><c24><a href="../../../librustc/middle/ty.rs.html#451">.output</a></c24><c4>)</c4><c3>;</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;842</ln><a id="842">&nbsp;</a><a id="n[93170, 93171, 93169, 93180, 93168, 93179, 93172]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#833_1_refs">&nbsp;</a></c22><c20><a href="#842_8_refs">fn_ty</a></c20><c16><a href="#833_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/cabi.rs.html#107">cabi::compute_abi_info</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c3>,</c3><c27><a href="#833_1_refs">
</a></c27><br/><ln>&nbsp;843</ln><a id="843">&nbsp;</a><a id="n[93175, 93173, 93174]">&nbsp;</a><c27><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#840">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#59">.llarg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#833_1_refs">
</a></c27><br/><ln>&nbsp;844</ln><a id="844">&nbsp;</a><a id="n[93176, 93177]">&nbsp;</a><c27><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#840">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#65">.llret_ty</a></c24><c3>,</c3><c27><a href="#833_1_refs">
</a></c27><br/><ln>&nbsp;845</ln><a id="845">&nbsp;</a><a id="n[93178]">&nbsp;</a><c27><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#841">ret_def</a></c26><c4>)</c4><c3>;</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;846</ln><a id="846">&nbsp;</a><a id="n[93350, 93315, 93289, 93276, 93385, 93309, 93320, 93352, 93273, 93384, 93393, 93356, 93314, 93334, 93394, 93319, 93294, 93316, 93292, 93330, 93268, 93391, 93338, 93333, 93299, 93267, 93281, 93324, 93322, 93303, 93341, 93409, 93325, 93298, 93328, 93285, 93395, 93321, 93286, 93305, 93353, 93302, 93351, 93288, 93335, 93280, 93337, 93270, 93336, 93269, 93283, 93271, 93284, 93301, 93256, 93311, 93412, 93342, 93306, 93383, 93396, 93347, 93357, 93386, 93331, 93290, 93318, 93313, 93291, 93279, 93272, 93389, 93300, 93296, 93323, 93339, 93346, 93297, 93293, 93345, 93388, 93355, 93317, 93312, 93348, 93310, 93307, 93274, 93329, 93349, 93287, 93358, 93275, 93343, 93308, 93304, 93277, 93327, 93344, 93340, 93282, 93392, 93278, 93332, 93263, 93390, 93264, 93354, 93387, 93326, 93295]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../../libstd/option.rs.html#n104337">"foreign_types_for_fn_ty</a></c26><c4>(</c4><c26><a href="../../../libstd/option.rs.html#n104337">\
</a></c26><br/><ln>&nbsp;847</ln><a id="847">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ty=</a></c26><c3>{},</c3><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;\
</a></c26><br/><ln>&nbsp;848</ln><a id="848">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llsig=</a></c26><c3>{}</c3><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c26><c4>-&gt;</c4><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c26><c3>{},</c3><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;\
</a></c26><br/><ln>&nbsp;849</ln><a id="849">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn_ty=</a></c26><c3>{}</c3><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c26><c4>-&gt;</c4><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c26><c3>{},</c3><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;\
</a></c26><br/><ln>&nbsp;850</ln><a id="850">&nbsp;</a><a id="n[]">&nbsp;</a><c26><a href="../../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret_def=</a></c26><c3>{}</c3><c26><a href="../../../libstd/option.rs.html#n104337">"</a></c26><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;851</ln><a id="851">&nbsp;</a><a id="n[93213, 93361, 93359, 93215, 93360, 93214, 93216, 93257, 93362, 93217]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#835">ty</a></c26><c5><a href="#851_11_refs">.repr</a></c5><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c10><a href="../../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>())</c4><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;852</ln><a id="852">&nbsp;</a><a id="n[93258, 93218, 93219, 93223, 93221, 93224, 93365, 93363, 93364, 93222, 93220, 93366]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c27><a href="../../../libstd/fmt/mod.rs.html#n169877">.types_to_str</a></c27><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#840">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#59">.llarg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;853</ln><a id="853">&nbsp;</a><a id="n[93228, 93367, 93370, 93225, 93229, 93227, 93368, 93226, 93369, 93230, 93259]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c20><a href="#853_11_refs">.type_to_str</a></c20><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#840">llsig</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#65">.llret_ty</a></c24><c4>)</c4><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;854</ln><a id="854">&nbsp;</a><a id="n[93242, 93374, 93231, 93244, 93241, 93373, 93234, 93238, 93243, 93260, 93237, 93239, 93236, 93233, 93240, 93245, 93232, 93371, 93372, 93246]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c5><a href="../../../libstd/fmt/mod.rs.html#n169877">.types_to_str</a></c5><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#842">fn_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#102">.arg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n58129">.map</a></c10><c4>(</c4><c1><a href="../../../libstd/vec.rs.html#n58540">|</a></c1><c20><a href="#854_50_refs">t</a></c20><c8><a href="../../../libstd/vec.rs.html#n58540">|</a></c8><c1><a href="../../../libstd/vec.rs.html#n58540">&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#854">t</a></c26><c22><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c22><c4>)</c4><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;855</ln><a id="855">&nbsp;</a><a id="n[93376, 93377, 93249, 93248, 93261, 93251, 93252, 93247, 93250, 93378, 93375, 93253]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#834">ccx</a></c26><c24><a href="../../../librustc/middle/trans/context.rs.html#44">.tn</a></c24><c5><a href="../../../libstd/fmt/mod.rs.html#n171474">.type_to_str</a></c5><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#842">fn_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c4>)</c4><c3>,</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;856</ln><a id="856">&nbsp;</a><a id="n[93382, 93255, 93379, 93254, 93380, 93262, 93381]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#856">ret_def</a></c26><c4>)</c4><c3>;</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;857</ln><a id="857">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;858</ln><a id="858">&nbsp;</a><a id="n[93423]">&nbsp;</a><c22><a href="#833_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes&nbsp;</a></c1><c3>{</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">
</a></c1><br/><ln>&nbsp;859</ln><a id="859">&nbsp;</a><a id="n[93419]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn_sig:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#836">fn_sig</a></c26><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">
</a></c1><br/><ln>&nbsp;860</ln><a id="860">&nbsp;</a><a id="n[93420]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llsig:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#840">llsig</a></c26><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">
</a></c1><br/><ln>&nbsp;861</ln><a id="861">&nbsp;</a><a id="n[93421]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret_def:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#841">ret_def</a></c26><c3>,</c3><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">
</a></c1><br/><ln>&nbsp;862</ln><a id="862">&nbsp;</a><a id="n[93422]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn_ty:&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#842">fn_ty</a></c26><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">
</a></c1><br/><ln>&nbsp;863</ln><a id="863">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../../../librustc/middle/trans/foreign.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c22><a href="#833_1_refs">
</a></c22><br/><ln>&nbsp;864</ln><a id="864">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;865</ln><a id="865">&nbsp;</a><a id="n[93424]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;866</ln><a id="866">&nbsp;</a><a id="n[93427, 93436, 93542, 93433, 93432, 93428, 93429, 93434]">&nbsp;</a><c30>fn</c30><c30><a href="#865_1_refs">&nbsp;lltype_for_fn_from_foreign_types</a></c30><c4>(</c4><c20><a href="#866_36_refs">ccx</a></c20><c1><a href="#865_1_refs">:&nbsp;</a></c1><c8><a href="#865_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#865_1_refs">&nbsp;</a></c1><c20><a href="#866_56_refs">tys</a></c20><c1><a href="#865_1_refs">:&nbsp;</a></c1><c8><a href="#865_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes</a></c8><c4>)</c4><c1><a href="#865_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#865_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/type_.rs.html#27">Type</a></c8><c1><a href="#865_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;867</ln><a id="867">&nbsp;</a><a id="n[93441, 93439, 93440, 93438, 93442, 93437]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#865_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#867_8_refs">&nbsp;llargument_tys</a></c20><c16><a href="#865_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;868</ln><a id="868">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;869</ln><a id="869">&nbsp;</a><a id="n[93446, 93448, 93445, 93444, 93449, 93447, 93443]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#865_1_refs">&nbsp;</a></c22><c20><a href="#869_8_refs">ret_ty</a></c20><c16><a href="#865_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/foreign.rs.html#866">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c3>;</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;870</ln><a id="870">&nbsp;</a><a id="n[93451, 93461, 93477, 93453, 93454, 93476, 93450, 93452]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#865_1_refs">&nbsp;</a></c22><c20><a href="#870_8_refs">llreturn_ty</a></c20><c16><a href="#865_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#865_1_refs">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#869">ret_ty</a></c26><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;871</ln><a id="871">&nbsp;</a><a id="n[93460, 93459, 93455, 93456, 93458, 93457]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#867">llargument_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#869">ret_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>())</c4><c3>;</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;872</ln><a id="872">&nbsp;</a><a id="n[93462, 93463, 93464]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/type_.rs.html#52">Type::void</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#866">ccx</a></c26><c4>)</c4><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;873</ln><a id="873">&nbsp;</a><a id="n[93465, 93475]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#865_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;874</ln><a id="874">&nbsp;</a><a id="n[93474, 93467, 93466]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#869">ret_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;875</ln><a id="875">&nbsp;</a><a id="n[93469, 93470, 93468]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#875_17_refs">ty</a></c20><c4>)</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#875">ty</a></c26><c3>,</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;876</ln><a id="876">&nbsp;</a><a id="n[93472, 93471, 93473]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#869">ret_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;877</ln><a id="877">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;878</ln><a id="878">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;879</ln><a id="879">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;880</ln><a id="880">&nbsp;</a><a id="n[93536, 93481, 93483, 93487, 93479, 93485, 93538, 93539, 93480, 93537, 93540, 93489, 93484, 93491, 93478, 93482, 93486, 93490, 93488, 93541]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../../libstd/slice.rs.html#n55129">&nbsp;</a></c13><c20><a href="../../../libstd/slice.rs.html#n55129">&amp;</a></c20><c20><a href="#880_9_refs">arg_ty</a></c20><c13><a href="../../../libstd/slice.rs.html#n55129">&nbsp;in&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#866">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#102">.arg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c13><a href="../../../libstd/slice.rs.html#n55129">&nbsp;</a></c13><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;881</ln><a id="881">&nbsp;</a><a id="n[93496, 93498, 93497, 93493, 93492]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c10><a href="../../../librustc/middle/trans/cabi.rs.html#90">.is_ignore</a></c10><c4>()</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;882</ln><a id="882">&nbsp;</a><a id="n[93495, 93494]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c13><a href="#865_1_refs">continue</a></c13><c3>;</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;883</ln><a id="883">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;884</ln><a id="884">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;add&nbsp;padding
</c40><br/><ln>&nbsp;885</ln><a id="885">&nbsp;</a><a id="n[93500, 93499, 93509, 93508]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#44">.pad</a></c24><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;886</ln><a id="886">&nbsp;</a><a id="n[93505, 93504, 93502, 93501, 93503]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#886_17_refs">ty</a></c20><c4>)</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#867">llargument_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#886">ty</a></c26><c4>)</c4><c3>,</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;887</ln><a id="887">&nbsp;</a><a id="n[93507, 93506]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>()</c4><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;888</ln><a id="888">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;889</ln><a id="889">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;890</ln><a id="890">&nbsp;</a><a id="n[93530, 93513, 93514, 93510, 93511, 93512, 93531, 93515]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#865_1_refs">&nbsp;</a></c22><c20><a href="#890_12_refs">llarg_ty</a></c20><c13><a href="#865_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#865_1_refs">if&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;891</ln><a id="891">&nbsp;</a><a id="n[93517, 93518, 93516]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c10><a href="../../../librustc/middle/trans/type_.rs.html#258">.ptr_to</a></c10><c4>()</c4><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;892</ln><a id="892">&nbsp;</a><a id="n[93519, 93529]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#865_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;893</ln><a id="893">&nbsp;</a><a id="n[93521, 93528, 93520]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#42">.cast</a></c24><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;894</ln><a id="894">&nbsp;</a><a id="n[93522, 93523, 93524]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#894_21_refs">ty</a></c20><c4>)</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#894">ty</a></c26><c3>,</c3><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;895</ln><a id="895">&nbsp;</a><a id="n[93526, 93527, 93525]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#865_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#880">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#40">.ty</a></c24><c21><a href="#865_1_refs">
</a></c21><br/><ln>&nbsp;896</ln><a id="896">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;897</ln><a id="897">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;898</ln><a id="898">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;899</ln><a id="899">&nbsp;</a><a id="n[93535, 93533, 93534, 93532]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#867">llargument_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#890">llarg_ty</a></c26><c4>)</c4><c3>;</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;900</ln><a id="900">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../../libstd/slice.rs.html#n55129">
</a></c13><br/><ln>&nbsp;901</ln><a id="901">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="../../../libstd/slice.rs.html#n55129">
</a></c13><br/><ln>&nbsp;902</ln><a id="902">&nbsp;</a><a id="n[93544, 93545, 93543, 93546, 93561]">&nbsp;</a><c13><a href="../../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#866">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#44">.fn_sig</a></c24><c24><a href="../../../librustc/middle/ty.rs.html#452">.variadic</a></c24><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;903</ln><a id="903">&nbsp;</a><a id="n[93549, 93550, 93551, 93552, 93547, 93548]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/type_.rs.html#148">Type::variadic_func</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#867">llargument_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#865_1_refs">&nbsp;</a></c27><c5><a href="#865_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#870">llreturn_ty</a></c26><c4>)</c4><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;904</ln><a id="904">&nbsp;</a><a id="n[93560, 93553]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#865_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#865_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;905</ln><a id="905">&nbsp;</a><a id="n[93559, 93557, 93554, 93556, 93558, 93555]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/type_.rs.html#142">Type::func</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#867">llargument_tys</a></c26><c10><a href="../../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="#865_1_refs">&nbsp;</a></c27><c5><a href="#865_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#870">llreturn_ty</a></c26><c4>)</c4><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;906</ln><a id="906">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#865_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#865_1_refs">
</a></c22><br/><ln>&nbsp;907</ln><a id="907">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;908</ln><a id="908">&nbsp;</a><a id="n[93562]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;909</ln><a id="909">&nbsp;</a><a id="n[93570, 93571, 93566, 93567, 93565, 93573, 93574]">&nbsp;</a><c21>pub</c21><c1><a href="#908_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#908_1_refs">&nbsp;lltype_for_foreign_fn</a></c30><c4>(</c4><c20><a href="#909_29_refs">ccx</a></c20><c1><a href="#908_1_refs">:&nbsp;</a></c1><c8><a href="#908_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#908_1_refs">&nbsp;</a></c1><c20><a href="#909_49_refs">ty</a></c20><c1><a href="#908_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c4>)</c4><c1><a href="#908_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#908_1_refs">&nbsp;</a></c1><c8><a href="../../../librustc/middle/trans/type_.rs.html#27">Type</a></c8><c1><a href="#908_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#908_1_refs">
</a></c22><br/><ln>&nbsp;910</ln><a id="910">&nbsp;</a><a id="n[93579, 93580, 93575, 93578, 93576, 93582, 93577, 93581]">&nbsp;</a><c22><a href="#908_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#865">lltype_for_fn_from_foreign_types</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#909">ccx</a></c26><c3>,</c3><c27><a href="#908_1_refs">&nbsp;</a></c27><c5><a href="#908_1_refs">&amp;</a></c5><c26><a href="../../../librustc/middle/trans/foreign.rs.html#833">foreign_types_for_fn_ty</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#909">ccx</a></c26><c3>,</c3><c27><a href="#908_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#909">ty</a></c26><c4>))</c4><c22><a href="#908_1_refs">
</a></c22><br/><ln>&nbsp;911</ln><a id="911">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;912</ln><a id="912">&nbsp;</a><a id="n[93583]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;913</ln><a id="913">&nbsp;</a><a id="n[93587, 93588, 93586]">&nbsp;</a><c30>fn</c30><c30><a href="#912_1_refs">&nbsp;add_argument_attributes</a></c30><c4>(</c4><c20><a href="#913_27_refs">tys</a></c20><c1><a href="#912_1_refs">:&nbsp;</a></c1><c8><a href="#912_1_refs">&amp;</a></c8><c8><a href="../../../librustc/middle/trans/foreign.rs.html#41">ForeignTypes</a></c8><c3>,</c3><c1><a href="#912_1_refs">
</a></c1><br/><ln>&nbsp;914</ln><a id="914">&nbsp;</a><a id="n[93593, 93641, 93591, 93592]">&nbsp;</a><c1><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#914_27_refs">llfn</a></c20><c1><a href="#912_1_refs">:&nbsp;</a></c1><c8><a href="../../../librustc/lib/llvm.rs.html#234">ValueRef</a></c8><c4>)</c4><c1><a href="#912_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;915</ln><a id="915">&nbsp;</a><a id="n[93596, 93598, 93597, 93594, 93595]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#912_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#915_8_refs">&nbsp;i</a></c20><c16><a href="#912_1_refs">&nbsp;=&nbsp;</a></c16><c12><a href="#912_1_refs">0</a></c12><c3>;</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;916</ln><a id="916">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;917</ln><a id="917">&nbsp;</a><a id="n[93601, 93639, 93640, 93602, 93600, 93638, 93599]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#912_1_refs">&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/foreign.rs.html#913">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c10><a href="../../../librustc/middle/trans/cabi.rs.html#86">.is_indirect</a></c10><c4>()</c4><c13><a href="#912_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;918</ln><a id="918">&nbsp;</a><a id="n[93603, 93633, 93606, 93632, 93604, 93605]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#912_1_refs">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#913">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#105">.ret_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#46">.attr</a></c24><c21><a href="#912_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#912_1_refs">
</a></c21><br/><ln>&nbsp;919</ln><a id="919">&nbsp;</a><a id="n[93608, 93628, 93607, 93617]">&nbsp;</a><c21><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#919_17_refs">attr</a></c20><c4>)</c4><c21><a href="#912_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#912_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;920</ln><a id="920">&nbsp;</a><a id="n[93615, 93612, 93610, 93611, 93616, 93609, 93614, 93613]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#912_1_refs">&nbsp;</a></c22><c20><a href="#920_20_refs">llarg</a></c20><c16><a href="#912_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../../librustc/middle/trans/common.rs.html#663">get_param</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#914">llfn</a></c26><c3>,</c3><c27><a href="#912_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#915">i</a></c26><c4>)</c4><c3>;</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;921</ln><a id="921">&nbsp;</a><a id="n[93627, 93626]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#912_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;922</ln><a id="922">&nbsp;</a><a id="n[93623, 93625, 93619, 93624, 93620, 93622, 93618]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517486">llvm::LLVMAddAttribute</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#920">llarg</a></c26><c3>,</c3><c27><a href="#912_1_refs">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#919">attr</a></c26><c21><a href="#912_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="../../../libstd/libc.rs.html#n127571">c_uint</a></c8><c4>)</c4><c3>;</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;923</ln><a id="923">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;924</ln><a id="924">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#912_1_refs">
</a></c21><br/><ln>&nbsp;925</ln><a id="925">&nbsp;</a><a id="n[93629, 93630, 93631]">&nbsp;</a><c21><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#912_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#912_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#912_1_refs">
</a></c21><br/><ln>&nbsp;926</ln><a id="926">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;927</ln><a id="927">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;928</ln><a id="928">&nbsp;</a><a id="n[93636, 93634, 93637, 93635]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#915">i</a></c26><c13><a href="#912_1_refs">&nbsp;+=&nbsp;</a></c13><c12><a href="#912_1_refs">1</a></c12><c3>;</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;929</ln><a id="929">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;930</ln><a id="930">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#912_1_refs">
</a></c22><br/><ln>&nbsp;931</ln><a id="931">&nbsp;</a><a id="n[93651, 93654, 93708, 93650, 93655, 93649, 93653, 93644, 93709, 93706, 93643, 93707, 93646, 93648, 93705, 93642, 93647, 93645, 93652]">&nbsp;</a><c22><a href="#912_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="#931_4_refs">&nbsp;</a></c1><c20><a href="../../../libstd/option.rs.html#n104337">&amp;</a></c20><c20><a href="#931_9_refs">arg_ty</a></c20><c1><a href="#931_4_refs">&nbsp;in&nbsp;</a></c1><c26><a href="../../../librustc/middle/trans/foreign.rs.html#913">tys</a></c26><c24><a href="../../../librustc/middle/trans/foreign.rs.html#48">.fn_ty</a></c24><c24><a href="../../../librustc/middle/trans/cabi.rs.html#102">.arg_tys</a></c24><c10><a href="../../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c1><a href="#931_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;932</ln><a id="932">&nbsp;</a><a id="n[93662, 93661, 93660, 93657, 93656]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#931">arg_ty</a></c26><c10><a href="../../../librustc/middle/trans/cabi.rs.html#90">.is_ignore</a></c10><c4>()</c4><c21><a href="../../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;933</ln><a id="933">&nbsp;</a><a id="n[93659, 93658]">&nbsp;</a><c22><a href="../../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c13><a href="../../../libstd/option.rs.html#n104337">continue</a></c13><c3>;</c3><c22><a href="../../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;934</ln><a id="934">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;935</ln><a id="935">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;skip&nbsp;padding
</c40><br/><ln>&nbsp;936</ln><a id="936">&nbsp;</a><a id="n[93670, 93664, 93665, 93668, 93672, 93663, 93671, 93669, 93667, 93666]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#931">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#44">.pad</a></c24><c10><a href="../../../libstd/option.rs.html#n104931">.is_some</a></c10><c4>()</c4><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#915">i</a></c26><c13><a href="../../../libstd/option.rs.html#n104337">&nbsp;+=&nbsp;</a></c13><c12><a href="../../../libstd/option.rs.html#n104337">1</a></c12><c3>;</c3><c22><a href="../../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c3>}</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;937</ln><a id="937">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;938</ln><a id="938">&nbsp;</a><a id="n[93673, 93700, 93674, 93699]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c26><a href="../../../librustc/middle/trans/foreign.rs.html#931">arg_ty</a></c26><c24><a href="../../../librustc/middle/trans/cabi.rs.html#46">.attr</a></c24><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c3>{</c3><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c21><br/><ln>&nbsp;939</ln><a id="939">&nbsp;</a><a id="n[93675, 93676, 93685, 93696]">&nbsp;</a><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#939_17_refs">attr</a></c20><c4>)</c4><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c3>{</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;940</ln><a id="940">&nbsp;</a><a id="n[93682, 93678, 93677, 93680, 93679, 93683, 93684, 93681]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c22><c20><a href="#940_20_refs">llarg</a></c20><c13><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;=&nbsp;</a></c13><c26><a href="../../../librustc/middle/trans/common.rs.html#663">get_param</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#914">llfn</a></c26><c3>,</c3><c27><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#915">i</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;941</ln><a id="941">&nbsp;</a><a id="n[93694, 93695]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c22><c3>{</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;942</ln><a id="942">&nbsp;</a><a id="n[93690, 93686, 93693, 93692, 93691, 93688, 93687]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=517486">llvm::LLVMAddAttribute</a></c26><c4>(</c4><c26><a href="../../../librustc/middle/trans/foreign.rs.html#940">llarg</a></c26><c3>,</c3><c27><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c27><c26><a href="../../../librustc/middle/trans/foreign.rs.html#939">attr</a></c26><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;as&nbsp;</a></c21><c8><a href="../../../libstd/libc.rs.html#n127571">c_uint</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;943</ln><a id="943">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;944</ln><a id="944">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c21><br/><ln>&nbsp;945</ln><a id="945">&nbsp;</a><a id="n[93697, 93698]">&nbsp;</a><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;</a></c21><c4>()</c4><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c21><br/><ln>&nbsp;946</ln><a id="946">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;947</ln><a id="947">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;948</ln><a id="948">&nbsp;</a><a id="n[93702, 93701, 93703, 93704]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../../librustc/middle/trans/foreign.rs.html#915">i</a></c26><c13><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;+=&nbsp;</a></c13><c12><a href="../../../librustc/middle/trans/foreign.rs.html#931">1</a></c12><c3>;</c3><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">
</a></c22><br/><ln>&nbsp;949</ln><a id="949">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../../librustc/middle/trans/foreign.rs.html#931">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="#931_4_refs">
</a></c1><br/><ln>&nbsp;950</ln><a id="950">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="865_1_refs"><a href="#865"><c40>librustc/middle/trans/foreign.rs:865:1-865:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;lltype_for_fn_from_foreign_types(ccx:&nbsp;&amp;CrateContext,&nbsp;tys:&nbsp;&amp;ForeignTypes)&nbsp;-&gt;&nbsp;Type&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#485"><c40>485:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;llfn_ty&nbsp;=&nbsp;lltype_for_fn_from_foreign_types(ccx,&nbsp;&amp;tys);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#910"><c40>910:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;lltype_for_fn_from_foreign_types(ccx,&nbsp;&amp;foreign_types_for_fn_ty(ccx,&nbsp;ty))
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#218"><c40>218:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;llfn_ty&nbsp;=&nbsp;lltype_for_fn_from_foreign_types(ccx,&nbsp;&amp;tys);
<br/></a><br/><br/><a id="562_4_refs"><a href="#562"><c40>librustc/middle/trans/foreign.rs:562:4-562:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;fn&nbsp;build_wrap_fn(ccx:&nbsp;&amp;CrateContext,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llrustfn:&nbsp;ValueRef,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#515"><c40>515:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;build_wrap_fn(ccx,&nbsp;llrustfn,&nbsp;llwrapfn,&nbsp;&amp;tys);
<br/></a><br/><br/><a id="476_1_refs"><a href="#476"><c40>librustc/middle/trans/foreign.rs:476:1-476:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;register_rust_fn_with_foreign_abi(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#2000"><c40>2000:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::register_rust_fn_with_foreign_abi(ccx,
<br/></a><br/><br/><a id="500_1_refs"><a href="#500"><c40>librustc/middle/trans/foreign.rs:500:1-500:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;trans_rust_fn_with_foreign_abi(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#1654"><c40>1654:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::trans_rust_fn_with_foreign_abi(
<br/></a><br/><br/><a id="106_1_refs"><a href="#106"><c40>librustc/middle/trans/foreign.rs:106:1-106:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;llvm_linkage_by_name(name:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;Option&lt;Linkage&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#146"><c40>146:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;linkage&nbsp;=&nbsp;match&nbsp;llvm_linkage_by_name(name.get())&nbsp;{
<br/></a><br/><br/><a id="801_1_refs"><a href="#801"><c40>librustc/middle/trans/foreign.rs:801:1-801:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;link_name(i:&nbsp;&amp;ast::ForeignItem)&nbsp;-&gt;&nbsp;InternedString&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#137"><c40>137:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ident&nbsp;=&nbsp;link_name(foreign_item);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#446"><c40>446:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lname&nbsp;=&nbsp;link_name(foreign_item);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#208"><c40>208:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;lname&nbsp;=&nbsp;link_name(foreign_item);
<br/></a><br/><br/><a id="230_1_refs"><a href="#230"><c40>librustc/middle/trans/foreign.rs:230:1-230:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;trans_native_call&lt;'a&gt;(
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/callee.rs.html"><c40>librustc/middle/trans/callee.rs:<br/></c40></a><a href="../../../librustc/middle/trans/callee.rs.html#732"><c40>732:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bcx&nbsp;=&nbsp;foreign::trans_native_call(bcx,&nbsp;callee_ty,
<br/></a><br/><br/><a id="518_4_refs"><a href="#518"><c40>librustc/middle/trans/foreign.rs:518:4-518:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;build_rust_fn(ccx:&nbsp;&amp;CrateContext,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decl:&nbsp;&amp;ast::FnDecl,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#512"><c40>512:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;llrustfn&nbsp;=&nbsp;build_rust_fn(ccx,&nbsp;decl,&nbsp;body,&nbsp;attrs,&nbsp;id);
<br/></a><br/><br/><a id="74_1_refs"><a href="#74"><c40>librustc/middle/trans/foreign.rs:74:1-74:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;llvm_calling_convention(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#489"><c40>489:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;c&nbsp;=&nbsp;llvm_calling_convention(ccx,&nbsp;fn_ty.abis);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#357"><c40>357:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;match&nbsp;llvm_calling_convention(ccx,&nbsp;fn_abis)&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#874"><c40>874:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;c&nbsp;=&nbsp;foreign::llvm_calling_convention(ccx,&nbsp;fn_ty.abis);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html"><c40>librustc/middle/trans/foreign.rs:<br/></c40></a><a href="../../../librustc/middle/trans/foreign.rs.html#197"><c40>197:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;match&nbsp;llvm_calling_convention(ccx,&nbsp;abis)&nbsp;{
<br/></a><br/><br/><a id="908_1_refs"><a href="#908"><c40>librustc/middle/trans/foreign.rs:908:1-908:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;lltype_for_foreign_fn(ccx:&nbsp;&amp;CrateContext,&nbsp;ty:&nbsp;ty::t)&nbsp;-&gt;&nbsp;Type&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/type_of.rs.html"><c40>librustc/middle/trans/type_of.rs:<br/></c40></a><a href="../../../librustc/middle/trans/type_of.rs.html#84"><c40>84:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::lltype_for_foreign_fn(cx,&nbsp;fty)
<br/></a><br/><br/><a id="828_1_refs"><a href="#828"><c40>librustc/middle/trans/foreign.rs:828:1-828:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;foreign_types_for_id(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#209"><c40>209:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;tys&nbsp;=&nbsp;foreign_types_for_id(ccx,&nbsp;foreign_item.id);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#484"><c40>484:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;tys&nbsp;=&nbsp;foreign_types_for_id(ccx,&nbsp;node_id);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#508"><c40>508:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;tys&nbsp;=&nbsp;foreign_types_for_id(ccx,&nbsp;id);
<br/></a><br/><br/><a id="41_1_refs"><a href="#41"><c40>librustc/middle/trans/foreign.rs:41:1-41:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;ForeignTypes&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#866"><c40>866:&nbsp;</c40>fn&nbsp;lltype_for_fn_from_foreign_types(ccx:&nbsp;&amp;CrateContext,&nbsp;tys:&nbsp;&amp;ForeignTypes)&nbsp;-&gt;&nbsp;Type&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#830"><c40>830:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;ast::NodeId)&nbsp;-&gt;&nbsp;ForeignTypes&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#913"><c40>913:&nbsp;</c40>fn&nbsp;add_argument_attributes(tys:&nbsp;&amp;ForeignTypes,
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#835"><c40>835:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ty:&nbsp;ty::t)&nbsp;-&gt;&nbsp;ForeignTypes&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#858"><c40>858:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;ForeignTypes&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#565"><c40>565:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tys:&nbsp;&amp;ForeignTypes)&nbsp;{
<br/></a><br/><br/><a id="833_1_refs"><a href="#833"><c40>librustc/middle/trans/foreign.rs:833:1-833:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;foreign_types_for_fn_ty(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#831"><c40>831:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;foreign_types_for_fn_ty(ccx,&nbsp;ty::node_id_to_type(ccx.tcx(),&nbsp;id))
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#910"><c40>910:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;lltype_for_fn_from_foreign_types(ccx,&nbsp;&amp;foreign_types_for_fn_ty(ccx,&nbsp;ty))
<br/></a><br/><br/><a id="912_1_refs"><a href="#912"><c40>librustc/middle/trans/foreign.rs:912:1-912:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;add_argument_attributes(tys:&nbsp;&amp;ForeignTypes,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#226"><c40>226:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_argument_attributes(&amp;tys,&nbsp;llfn);
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#495"><c40>495:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_argument_attributes(&amp;tys,&nbsp;llfn);
<br/></a><br/><br/><a id="131_1_refs"><a href="#131"><c40>librustc/middle/trans/foreign.rs:131:1-131:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;register_static(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#2051"><c40>2051:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::register_static(ccx,&nbsp;ni)
<br/></a><br/><br/><a id="56_1_refs"><a href="#56"><c40>librustc/middle/trans/foreign.rs:56:1-56:1&nbsp;-struct-&nbsp;definition:<br/></c40><pr>
<br/>struct&nbsp;LlvmSignature&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#811"><c40>811:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;LlvmSignature&nbsp;{
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#51"><c40>51:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;llsig:&nbsp;LlvmSignature,
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#822"><c40>822:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;LlvmSignature&nbsp;{
<br/></a><br/><br/><a id="182_1_refs"><a href="#182"><c40>librustc/middle/trans/foreign.rs:182:1-182:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;register_foreign_item_fn(ccx:&nbsp;&amp;CrateContext,&nbsp;abis:&nbsp;AbiSet,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#2048"><c40>2048:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::register_foreign_item_fn(ccx,&nbsp;abis,&nbsp;ni)
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html"><c40>librustc/middle/trans/foreign.rs:<br/></c40></a><a href="../../../librustc/middle/trans/foreign.rs.html#440"><c40>440:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register_foreign_item_fn(ccx,&nbsp;abis,&nbsp;foreign_item);
<br/></a><br/><br/><a id="432_1_refs"><a href="#432"><c40>librustc/middle/trans/foreign.rs:432:1-432:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;trans_foreign_mod(ccx:&nbsp;&amp;CrateContext,&nbsp;foreign_mod:&nbsp;&amp;ast::ForeignMod)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../../librustc/middle/trans/base.rs.html#1705"><c40>1705:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreign::trans_foreign_mod(ccx,&nbsp;foreign_mod);
<br/></a><br/><br/><a id="809_1_refs"><a href="#809"><c40>librustc/middle/trans/foreign.rs:809:1-809:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;foreign_signature(ccx:&nbsp;&amp;CrateContext,&nbsp;fn_sig:&nbsp;&amp;ty::FnSig,&nbsp;arg_tys:&nbsp;&amp;[ty::t])
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../../librustc/middle/trans/foreign.rs.html#270"><c40>270:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;llsig&nbsp;=&nbsp;foreign_signature(ccx,&nbsp;&amp;fn_sig,&nbsp;passed_arg_tys.as_slice());
<br/></a><a href="../../../librustc/middle/trans/foreign.rs.html#840"><c40>840:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;llsig&nbsp;=&nbsp;foreign_signature(ccx,&nbsp;&amp;fn_sig,&nbsp;fn_sig.inputs.as_slice());
<br/></a><br/></div></maintext></div></body>