<head><link href="css/shCore.css" rel="stylesheet" type="text/css"/><link href="css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link rel="stylesheet" type="text/css" href="sourcestyle.css"/></head><body><div><bg15><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a><c1>/</c1><c0><a href="./../../librustc/middle/">middle</a><c1>/</c1><c0><a href="./../../librustc/middle/check_const.rs.html">check_const.rs</a><br/><br/></c0></c0><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session::Session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::resolve</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::typeck</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::ppaux</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast::*</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::codemap</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::</c0><c3>{</c3><c0>oldvisit</c0><c3>,</c3><c0>&nbsp;ast_util</c0><c3>,</c3><c0>&nbsp;ast_map</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n179050">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n178970"><a id="n178972">&nbsp;</a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;check_crate</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#22">sess</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/driver/session.rs.html#202">Session</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n178974"><a id="n178976"><a id="n178977">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#23">crate</a></c20><c1>:&nbsp;</c1><c8>&amp;</c8><c8><a href="../../libsyntax/ast.rs.html#n8100">Crate</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n178981"><a id="n178979">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#24">ast_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast_map.rs.html#n14851">ast_map::map</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n178985"><a id="n178983">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#25">def_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/resolve.rs.html#47">resolve::DefMap</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n178989"><a id="n178987">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#26">method_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/typeck/mod.rs.html#130">typeck::method_map</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n178993"><a id="n178991"><a id="n179049"><a id="n178995">&nbsp;</a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#27">tcx</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/ty.rs.html#234">ty::ctxt</a></c8><c4>)</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n179044"><a id="n178999"><a id="n179043"><a id="n178998"><a id="n178997"><a id="n179038"><a id="n179040"><a id="n178996"><a id="n179042"><a id="n179041">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/oldvisit.rs.html#n26349">oldvisit::visit_crate</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#23">crate</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c12>false</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../libsyntax/oldvisit.rs.html#n25501">oldvisit::mk_vt</a></c26><c4>(</c4><c5>@</c5><c31><a href="../../libsyntax/oldvisit.rs.html#n25978">oldvisit::Visitor</a></c31><c27>&nbsp;</c27><c3>{</c3><c27>
</c27><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n179001"><a id="n179003"><a id="n179009"><a id="n179012"><a id="n179014"><a id="n179013"><a id="n179015"><a id="n179000"><a id="n179004"><a id="n179007"><a id="n179006"><a id="n179010"><a id="n179008"><a id="n179011">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_item</c27><c1>:&nbsp;|</c1><c20><a href="../../librustc/middle/check_const.rs.html#29">a</a></c20><c3>,</c3><c20><a href="../../librustc/middle/check_const.rs.html#29">b</a></c20><c8>|</c8><c1>&nbsp;</c1><c8><a href="../../librustc/middle/check_const.rs.html#37">check_item</a></c8><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#22">sess</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#24">ast_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#25">def_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#29">a</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#29">b</a></c26><c4>)</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n179016">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_pat:&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#59">check_pat</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n179021"><a id="n179017"><a id="n179033"><a id="n179018"><a id="n179020">&nbsp;</a></a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_expr</c27><c1>:&nbsp;|</c1><c20><a href="../../librustc/middle/check_const.rs.html#31">a</a></c20><c3>,</c3><c20><a href="../../librustc/middle/check_const.rs.html#31">b</a></c20><c8>|</c8><c1>
</c1><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n179025"><a id="n179032"><a id="n179029"><a id="n179031"><a id="n179028"><a id="n179027"><a id="n179024"><a id="n179023"><a id="n179026"><a id="n179030">&nbsp;</a></a></a></a></a></a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c8><a href="../../librustc/middle/check_const.rs.html#83">check_expr</a></c8><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#22">sess</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#25">def_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#26">method_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#27">tcx</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#31">a</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#31">b</a></c26><c4>)</c4><c3>,</c3><c27>
</c27><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n179035"><a id="n179034"><a id="n179037">&nbsp;</a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..&nbsp;</c27><c5>*</c5><c26><a href="../../libsyntax/oldvisit.rs.html#n26314">oldvisit::default_visitor</a></c26><c4>()</c4><c27>
</c27><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c4>)))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n179047"><a id="n179048"><a id="n179045">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#22">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#224">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n179153">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n179053"><a id="n179051">&nbsp;</a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;check_item</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#38">sess</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/driver/session.rs.html#202">Session</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n179057"><a id="n179055">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#39">ast_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast_map.rs.html#n14851">ast_map::map</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n179061"><a id="n179059">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#40">def_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/resolve.rs.html#47">resolve::DefMap</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n179065"><a id="n179066"><a id="n179063">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#41">it</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n9918">item</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n179072"><a id="n179069"><a id="n179077"><a id="n179068"><a id="n179070">&nbsp;</a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#42">_is_const</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="../../librustc/middle/check_const.rs.html#42">v</a></c20><c4>)</c4><c1>:&nbsp;</c1><c4>(</c4><c8>bool</c8><c3>,</c3><c8>
</c8><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n179152"><a id="n179079"><a id="n179074"><a id="n179076">&nbsp;</a></a></a></a><c8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldvisit::vt&lt;bool&gt;</c8><c4>))</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n179150"><a id="n179081"><a id="n179080">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#41">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#n9918">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n179103"><a id="n179084"><a id="n179085"><a id="n179102"><a id="n179104"><a id="n179083"><a id="n179082">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n9929">item_static</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n9929">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n9929">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n9929">&nbsp;</a></c20><c20><a href="../../librustc/middle/check_const.rs.html#45">ex</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n179090"><a id="n179089"><a id="n179092"><a id="n179094"><a id="n179091"><a id="n179086"><a id="n179088"><a id="n179087"><a id="n179093">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#42">v</a></c26><c24>.visit_expr</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#45">ex</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c12>true</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#42">v</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n179095"><a id="n179101"><a id="n179100"><a id="n179098"><a id="n179099"><a id="n179097"><a id="n179096">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#207">check_item_recursion</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#38">sess</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#39">ast_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#40">def_map</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#41">it</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n179107"><a id="n179139"><a id="n179140"><a id="n179141"><a id="n179105"><a id="n179106">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n9967">item_enum</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#49">ref&nbsp;enum_definition</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n9967">&nbsp;_</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n179115"><a id="n354471"><a id="n354466"><a id="n354477"><a id="n179137"><a id="n354472"><a id="n354467"><a id="n179109"><a id="n354481"><a id="n354465"><a id="n354479"><a id="n354470"><a id="n354463"><a id="n179111"><a id="n179108"><a id="n354473"><a id="n354476"><a id="n354464"><a id="n179136"><a id="n179113"><a id="n179112"><a id="n354475"><a id="n354468"><a id="n354480"><a id="n354478"><a id="n354469">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c13><a href="../../libstd/vec.rs.html#n338282">&nbsp;</a></c13><c20><a href="../../librustc/middle/check_const.rs.html#50">var</a></c20><c13><a href="../../libstd/vec.rs.html#n338282">&nbsp;in&nbsp;</a></c13><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n14157">*</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#49">enum_definition</a></c26><c4>)</c4><c1><a href="../../libsyntax/ast.rs.html#n9656">.</a></c1><c24><a href="../../libsyntax/ast.rs.html#n9656">variants</a></c24><c20><a href="../../librustc/middle/check_const.rs.html#50">.iter</a></c20><c4>()</c4><c20><a href="../../librustc/middle/check_const.rs.html#50">&nbsp;</a></c20><c3>{</c3><c22><a href="../../librustc/middle/check_const.rs.html#50">
</a></c22><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n354444"><a id="n354459"><a id="n354451"><a id="n354446"><a id="n354452"><a id="n179117"><a id="n354450"><a id="n354448"><a id="n354462"><a id="n179116"><a id="n179118"><a id="n354447"><a id="n354458"><a id="n354449"><a id="n179133"><a id="n179121"><a id="n354445"><a id="n354453"><a id="n354454"><a id="n354460"><a id="n179134"><a id="n354461"><a id="n354456"><a id="n354457"><a id="n179119">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/check_const.rs.html#50">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n65138">&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n64087">ex</a></c20><c21><a href="../../libstd/option.rs.html#n65138">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/middle/check_const.rs.html#50">var</a></c26><c24><a href="../../libsyntax/codemap.rs.html#n4966">.node</a></c24><c24><a href="../../libsyntax/ast.rs.html#n9682">.disr_expr</a></c24><c20><a href="../../librustc/middle/check_const.rs.html#51">.iter</a></c20><c4>()</c4><c20><a href="../../librustc/middle/check_const.rs.html#51">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/option.rs.html#n64083">
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n179129"><a id="n179127"><a id="n179124"><a id="n179128"><a id="n179132"><a id="n179131"><a id="n179130"><a id="n179123"><a id="n179122"><a id="n179125">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n64083">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#42">v</a></c26><c24><a href="../../libstd/option.rs.html#n64083">.visit_expr</a></c24><c4>)(</c4><c5><a href="../../libstd/option.rs.html#n64083">*</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#51">ex</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n64083">&nbsp;</a></c27><c4>(</c4><c12><a href="../../libstd/option.rs.html#n64083">true</a></c12><c3>,</c3><c14><a href="../../libstd/option.rs.html#n64083">&nbsp;</a></c14><c26><a href="../../librustc/middle/check_const.rs.html#42">v</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n64083">
</a></c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n64083">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n65138">
</a></c21><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n65138">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c13><a href="../../libstd/vec.rs.html#n338282">
</a></c13><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a>&nbsp;<c13><a href="../../libstd/vec.rs.html#n338282">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n179149"><a id="n179147"><a id="n179146"><a id="n179145"><a id="n179148"><a id="n179144"><a id="n179143"><a id="n179142">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26><a href="../../libsyntax/oldvisit.rs.html#n26886">oldvisit::visit_item</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#41">it</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c12>false</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#42">v</a></c26><c4>))</c4><c27>
</c27><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n179271">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n179168"><a id="n179154"><a id="n179270"><a id="n179160"><a id="n179167"><a id="n179161"><a id="n179156"><a id="n179170"><a id="n179165"><a id="n179159"><a id="n179163"><a id="n179157">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;check_pat</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#60">p</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n8302">pat</a></c8><c3>,</c3><c1>&nbsp;</c1><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#60">_is_const</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="../../librustc/middle/check_const.rs.html#60">v</a></c20><c4>)</c4><c1>:&nbsp;</c1><c4>(</c4><c8>bool</c8><c3>,</c3><c8>&nbsp;oldvisit::vt&lt;bool&gt;</c8><c4>))</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n179196"><a id="n179177"><a id="n179173"><a id="n179174"><a id="n179171"><a id="n179198"><a id="n179197">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c30>fn&nbsp;is_str</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#61">e</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n8621">expr</a></c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>bool</c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n179179"><a id="n179178"><a id="n179194">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#61">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n179188">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8679">expr_vstore</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8679">
</a></c20><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n179182"><a id="n179184"><a id="n179183"><a id="n179186"><a id="n179185">&nbsp;</a></a></a></a></a><c20><a href="../../libsyntax/ast.rs.html#n8679">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8621">expr&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/ast.rs.html#n8621">&nbsp;node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8766">expr_lit</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8766">@</a></c20><c20><a href="../../libsyntax/codemap.rs.html#n4966">codemap::spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">
</a></c20><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n179180"><a id="n179181">&nbsp;</a></a><c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n9079">lit_str</a></c20><c4>(</c4><c20><a href="../../libsyntax/codemap.rs.html#n4966">_</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">
</a></c20><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_</a></c20><c3>}</c3><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8621">
</a></c20><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c20><a href="../../libsyntax/ast.rs.html#n8621">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_&nbsp;</a></c20><c3>},</c3><c20><a href="../../libsyntax/ast.rs.html#n8679">
</a></c20><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n179187">&nbsp;</a><c20><a href="../../libsyntax/ast.rs.html#n8679">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8464">expr_vstore_uniq</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8679">
</a></c20><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n179189"><a id="n179190">&nbsp;</a></a><c20><a href="../../libsyntax/ast.rs.html#n8679">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c22>true</c22><c3>,</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n179193"><a id="n179192"><a id="n179191">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c12>false</c12><c21>
</c21><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n179200"><a id="n179199"><a id="n179268">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#60">p</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8302">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c40>//&nbsp;Let&nbsp;through&nbsp;plain&nbsp;~-string&nbsp;literals&nbsp;here
</c40><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n179207"><a id="n179218"><a id="n179202"><a id="n179204"><a id="n179209"><a id="n179201"><a id="n179216"><a id="n179205"><a id="n179217"><a id="n179214"><a id="n179212"><a id="n179208"><a id="n179219"><a id="n179210"><a id="n179211"><a id="n179215"><a id="n179203"><a id="n179213">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8383">pat_lit</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#75">a</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c22>if&nbsp;</c22><c5>!</c5><c26><a href="../../librustc/middle/check_const.rs.html#61">is_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#75">a</a></c26><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c24>.visit_expr</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#75">a</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c12>true</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c4>))</c4><c3>;</c3><c22>&nbsp;</c22><c3>},</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n179220"><a id="n179258"><a id="n179259"><a id="n179221"><a id="n179257"><a id="n179222">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8392">pat_range</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#76">a</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8392">&nbsp;</a></c20><c20><a href="../../librustc/middle/check_const.rs.html#76">b</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n179233"><a id="n179235"><a id="n179230"><a id="n179228"><a id="n179225"><a id="n179229"><a id="n179236"><a id="n179238"><a id="n179223"><a id="n179227"><a id="n179237"><a id="n179224"><a id="n179234"><a id="n179239"><a id="n179232"><a id="n179231">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c5>!</c5><c26><a href="../../librustc/middle/check_const.rs.html#61">is_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#76">a</a></c26><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c24>.visit_expr</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#76">a</a></c26><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c12>true</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c4>))</c4><c3>;</c3><c22>&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n179247"><a id="n179252"><a id="n179244"><a id="n179253"><a id="n179248"><a id="n179254"><a id="n179246"><a id="n179250"><a id="n179255"><a id="n179242"><a id="n179245"><a id="n179240"><a id="n179251"><a id="n179249"><a id="n179241">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c5>!</c5><c26><a href="../../librustc/middle/check_const.rs.html#61">is_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#76">b</a></c26><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c24>.visit_expr</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#76">b</a></c26><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c12>true</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c4>))</c4><c3>;</c3><c22>&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n179263"><a id="n179262"><a id="n179266"><a id="n179261"><a id="n179267"><a id="n179264"><a id="n179265"><a id="n179260">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c26>oldvisit::visit_pat</c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#60">p</a></c26><c3>,</c3><c22>&nbsp;</c22><c4>(</c4><c12>false</c12><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#60">v</a></c26><c4>))</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n179690">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n179274"><a id="n179272">&nbsp;</a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;check_expr</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/driver/session.rs.html#202">Session</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n179276"><a id="n179278">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#85">def_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/resolve.rs.html#47">resolve::DefMap</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n179280"><a id="n179282">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#86">method_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/typeck/mod.rs.html#130">typeck::method_map</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n179284"><a id="n179286">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#87">tcx</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/ty.rs.html#234">ty::ctxt</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n179288"><a id="n179291"><a id="n179290">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#88">e</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n8621">expr</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n179295"><a id="n179297"><a id="n179302"><a id="n179293"><a id="n179294">&nbsp;</a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#89">is_const</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="../../librustc/middle/check_const.rs.html#89">v</a></c20><c4>)</c4><c1>:&nbsp;</c1><c4>(</c4><c8>bool</c8><c3>,</c3><c8>
</c8><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n179689"><a id="n179299"><a id="n179304"><a id="n179301">&nbsp;</a></a></a></a><c8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oldvisit::vt&lt;bool&gt;</c8><c4>))</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n179586"><a id="n179587"><a id="n179305"><a id="n179585">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#89">is_const</a></c26><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n179307"><a id="n179583"><a id="n179306">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.node</a></c24><c21>&nbsp;</c21><c3>{</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n179313"><a id="n179312"><a id="n179310"><a id="n179309"><a id="n179314"><a id="n179308"><a id="n179311">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8761">expr_unary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8761">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8494">deref</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;_</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n179320"><a id="n179333"><a id="n179335"><a id="n179321"><a id="n179316"><a id="n179323"><a id="n179317"><a id="n179322"><a id="n179315"><a id="n179334"><a id="n179318"><a id="n179319">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8761">expr_unary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8761">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8492">box</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8492">_</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;_</a></c20><c4>)</c4><c21>&nbsp;|&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8761">expr_unary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8761">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8493">uniq</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8761">&nbsp;_</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n179325"><a id="n179329"><a id="n179326"><a id="n179324"><a id="n179330">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#212">
</a></c13><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n179327">&nbsp;</a><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#212">"disallowed&nbsp;operator&nbsp;in&nbsp;constant&nbsp;expression"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n179332"><a id="n179331">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n179341"><a id="n179342"><a id="n179338"><a id="n179340"><a id="n179336"><a id="n179343"><a id="n179337"><a id="n179339">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8766">expr_lit</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8766">@</a></c20><c20><a href="../../libsyntax/codemap.rs.html#n4966">codemap::spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n9079">lit_str</a></c20><c4>(</c4><c20><a href="../../libsyntax/codemap.rs.html#n4966">_</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;_</a></c20><c3>}</c3><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n179364"><a id="n179345"><a id="n179344"><a id="n179363"><a id="n179362">&nbsp;</a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8750">expr_binary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8750">*</a></c20><c4>)</c4><c21>&nbsp;|&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8761">expr_unary</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8761">*</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n179347"><a id="n179348"><a id="n179349"><a id="n179346"><a id="n179359"><a id="n179351"><a id="n179360">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#86">method_map</a></c26><c10><a href="c=1 n=382367">.contains_key</a></c10><c4>(</c4><c5><a href="c=1 n=382367">&amp;</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.id</a></c24><c4>)</c4><c10><a href="c=1 n=382367">&nbsp;</a></c10><c3>{</c3><c22>
</c22><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n179353"><a id="n179358"><a id="n179355"><a id="n179357"><a id="n179354"><a id="n179352">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c10><c12><a href="../../librustc/driver/session.rs.html#212">"user-defined&nbsp;operators&nbsp;are&nbsp;not&nbsp;\
</a></c12><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allowed&nbsp;in&nbsp;constant&nbsp;expressions"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n179365"><a id="n179366"><a id="n179368"><a id="n179367">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8766">expr_lit</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8766">_</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>()</c4><c3>,</c3><c21>
</c21><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n179370"><a id="n179369"><a id="n179413"><a id="n179412"><a id="n179371"><a id="n179414">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8774">expr_cast</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8774">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8774">&nbsp;_</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n179373"><a id="n179376"><a id="n179372"><a id="n179374"><a id="n179377"><a id="n179379"><a id="n179375"><a id="n179378">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20><a href="../../librustc/middle/check_const.rs.html#108">ety</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../librustc/middle/ty.rs.html#2927">ty::expr_ty</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#87">tcx</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n179382"><a id="n179386"><a id="n179380"><a id="n179381"><a id="n179387"><a id="n179410"><a id="n179409"><a id="n179385"><a id="n179389"><a id="n179384"><a id="n179391">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c5>!</c5><c26><a href="../../librustc/middle/ty.rs.html#2517">ty::type_is_numeric</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#108">ety</a></c26><c4>)</c4><c27>&nbsp;&amp;&amp;</c27><c1>&nbsp;</c1><c5>!</c5><c26><a href="../../librustc/middle/ty.rs.html#1684">ty::type_is_unsafe_ptr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#108">ety</a></c26><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>
</c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n179408"><a id="n179402"><a id="n179394"><a id="n179393"><a id="n179395"><a id="n179405"><a id="n179396"><a id="n179392"><a id="n179407">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c10><c16><a href="../../librustc/driver/session.rs.html#212">~</a></c16><c12><a href="../../librustc/driver/session.rs.html#212">"can&nbsp;not&nbsp;cast&nbsp;to&nbsp;`"</a></c12><c5><a href="../../librustc/driver/session.rs.html#212">&nbsp;+
</a></c5><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n179397"><a id="n179398"><a id="n179399"><a id="n179400">&nbsp;</a></a></a></a><c5><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c26><a href="../../librustc/util/ppaux.rs.html#301">ppaux::ty_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#87">tcx</a></c26><c3>,</c3><c27><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c27><c26><a href="../../librustc/middle/check_const.rs.html#108">ety</a></c26><c4>)</c4><c27><a href="../../librustc/driver/session.rs.html#212">&nbsp;+</a></c27><c5><a href="../../librustc/driver/session.rs.html#212">
</a></c5><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n179403">&nbsp;</a><c5><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c12><a href="../../librustc/driver/session.rs.html#212">"`&nbsp;</a></c12><c21>in</c21><c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;a&nbsp;constant&nbsp;expression"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n179486"><a id="n179415"><a id="n179488"><a id="n179416"><a id="n179487">&nbsp;</a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8896">expr_path</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#115">ref&nbsp;pth</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;NB:&nbsp;In&nbsp;the&nbsp;future&nbsp;you&nbsp;might&nbsp;wish&nbsp;to&nbsp;relax&nbsp;this&nbsp;slightly
</c40><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;to&nbsp;handle&nbsp;on-demand&nbsp;instantiation&nbsp;of&nbsp;functions&nbsp;via
</c40><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;foo::&lt;bar&gt;&nbsp;in&nbsp;a&nbsp;const.&nbsp;Currently&nbsp;that&nbsp;is&nbsp;only&nbsp;done&nbsp;on
</c40><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c40>//&nbsp;a&nbsp;path&nbsp;in&nbsp;trans::callee&nbsp;that&nbsp;only&nbsp;works&nbsp;in&nbsp;block&nbsp;contexts.
</c40><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n179432"><a id="n179420"><a id="n179433"><a id="n179418"><a id="n179421"><a id="n179431"><a id="n179423"><a id="n179417">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#115">pth</a></c26><c24><a href="../../libsyntax/ast.rs.html#n7837">.types</a></c24><c10><a href="../../libstd/vec.rs.html#n13637">.len</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n13637">&nbsp;!=</a></c10><c5>&nbsp;</c5><c12>0</c12><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n179430"><a id="n179424"><a id="n179429">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c10><c4>(</c4><c10><a href="../../librustc/driver/session.rs.html#212">
</a></c10><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n179426"><a id="n179427"><a id="n179425">&nbsp;</a></a></a><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c10><c12><a href="../../librustc/driver/session.rs.html#212">"paths&nbsp;in&nbsp;constants&nbsp;may&nbsp;only&nbsp;refer&nbsp;to&nbsp;\
</a></c12><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;without&nbsp;</a></c12><c35>type</c35><c35><a href="../../librustc/driver/session.rs.html#212">&nbsp;parameters"</a></c35><c35>);
</c35><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n179435"><a id="n179434"><a id="n179484"><a id="n179436"><a id="n179437"><a id="n179439">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#85">def_map</a></c26><c10><a href="../../libstd/hashmap.rs.html#n68511">.find</a></c10><c4>(</c4><c5><a href="../../libstd/hashmap.rs.html#n68511">&amp;</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.id</a></c24><c4>)</c4><c10><a href="../../libstd/hashmap.rs.html#n68511">&nbsp;</a></c10><c3>{</c3><c21>
</c21><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n179441"><a id="n179440"><a id="n179442">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n7986">def_static</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n7986">*</a></c20><c4>))</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n179447"><a id="n179446"><a id="n179444"><a id="n179445"><a id="n179443">&nbsp;</a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n7948">def_fn</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n7948">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n7948">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n64087">_</a></c20><c4>))</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n179452"><a id="n179448"><a id="n179449"><a id="n179451"><a id="n179450">&nbsp;</a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8007">def_variant</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8007">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n64087">_</a></c20><c4>))</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n179454"><a id="n179456"><a id="n179453"><a id="n179458"><a id="n179459"><a id="n179457"><a id="n179455">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8055">def_struct</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8055">_</a></c20><c4>))</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a>&nbsp;<c21>
</c21><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n179461"><a id="n179462"><a id="n179471"><a id="n179470"><a id="n179472"><a id="n179460">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../librustc/middle/check_const.rs.html#131">def</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n354488"><a id="n354508"><a id="n354509"><a id="n354502"><a id="n354504"><a id="n354494"><a id="n354496"><a id="n354503"><a id="n354507"><a id="n354495"><a id="n354506"><a id="n354497"><a id="n354500"><a id="n354493"><a id="n354510"><a id="n354492"><a id="n354498"><a id="n354483"><a id="n354501"><a id="n354505"><a id="n354499">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c4>(</c4><c5><a href="../../librustc/middle/check_const.rs.html#132">"</a></c5><c4>(</c4><c5><a href="../../librustc/middle/check_const.rs.html#132">checking&nbsp;const</a></c5><c4>)</c4><c5><a href="../../librustc/middle/check_const.rs.html#132">&nbsp;found&nbsp;bad&nbsp;def:&nbsp;%?"</a></c5><c3>,</c3><c13>&nbsp;</c13><c31><a href="../../libstd/unstable/extfmt.rs.html#n131664">def</a></c31><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n179463"><a id="n179469"><a id="n179468">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c10><c4>(</c4><c10><a href="../../librustc/driver/session.rs.html#212">
</a></c10><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n179465"><a id="n179464">&nbsp;</a></a><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#212">
</a></c10><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n179466">&nbsp;</a><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c12><a href="../../librustc/driver/session.rs.html#212">"paths&nbsp;in&nbsp;constants&nbsp;may&nbsp;only&nbsp;refer&nbsp;to&nbsp;\
</a></c12><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constants&nbsp;or&nbsp;functions"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n179482"><a id="n179483"><a id="n179473"><a id="n179481">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64083">None</a></c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n179476"><a id="n179475"><a id="n179474"><a id="n179480"><a id="n179477"><a id="n179479">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#239">.span_bug</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#239">&nbsp;</a></c10><c12><a href="../../librustc/driver/session.rs.html#239">"unbound&nbsp;path&nbsp;in&nbsp;const?!"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n179490"><a id="n179489"><a id="n179526"><a id="n179525"><a id="n179524"><a id="n179492"><a id="n179491">&nbsp;</a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8703">expr_call</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#143">callee</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8703">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8703">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8668">NoSugar</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n179494"><a id="n179493"><a id="n179498"><a id="n179522"><a id="n179496"><a id="n179495">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#85">def_map</a></c26><c10><a href="../../libstd/hashmap.rs.html#n68511">.find</a></c10><c4>(</c4><c5><a href="../../libstd/hashmap.rs.html#n68511">&amp;</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#143">callee</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.id</a></c24><c4>)</c4><c10><a href="../../libstd/hashmap.rs.html#n68511">&nbsp;</a></c10><c3>{</c3><c21>
</c21><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n179501"><a id="n179504"><a id="n179500"><a id="n179502"><a id="n179503"><a id="n179499">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8055">def_struct</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8055">*</a></c20><c4>))</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{}</c3><c21>&nbsp;&nbsp;&nbsp;&nbsp;</c21><c40>//&nbsp;OK.
</c40><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n179507"><a id="n179508"><a id="n179505"><a id="n179510"><a id="n179509"><a id="n179506">&nbsp;</a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8007">def_variant</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8007">*</a></c20><c4>))</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{}</c3><c21>&nbsp;&nbsp;&nbsp;&nbsp;</c21><c40>//&nbsp;OK.
</c40><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n179521"><a id="n179519"><a id="n179511"><a id="n179520">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n179517"><a id="n179518"><a id="n179512">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c13><c4>(</c4><c13><a href="../../librustc/driver/session.rs.html#212">
</a></c13><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a><a id="n179514"><a id="n179513">&nbsp;</a></a><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#212">
</a></c13><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n179515">&nbsp;</a><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#212">"function&nbsp;calls&nbsp;in&nbsp;constants&nbsp;are&nbsp;limited&nbsp;to&nbsp;\
</a></c12><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c31>struct</c31><c31><a href="../../librustc/driver/session.rs.html#212">&nbsp;and&nbsp;enum&nbsp;constructors"</a></c31><c31>);
</c31><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n179541"><a id="n179529"><a id="n179542"><a id="n179532"><a id="n179530"><a id="n179528"><a id="n179540"><a id="n179538"><a id="n179539"><a id="n179531"><a id="n179527">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8973">expr_paren</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#155">e</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#83">check_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c3>,</c3><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#85">def_map</a></c26><c3>,</c3><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#86">method_map</a></c26><c3>,</c3><c13>
</c13><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n179533"><a id="n179536"><a id="n179537"><a id="n179534"><a id="n179535">&nbsp;</a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#87">tcx</a></c26><c3>,</c3><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#155">e</a></c26><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#89">is_const</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#89">v</a></c26><c4>))</c4><c3>;</c3><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n179544"><a id="n179543"><a id="n179545">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8679">expr_vstore</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8679">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8679">&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n8467">expr_vstore_slice</a></c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n179546"><a id="n179548"><a id="n179547">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8689">expr_vec</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8689">_</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n8689">&nbsp;m_imm</a></c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n179549"><a id="n179550"><a id="n179551">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>expr_addr_of</c20><c4>(</c4><c20>m_imm</c20><c3>,</c3><c20>&nbsp;_</c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n179552">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8880">expr_field</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8880">*</a></c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n179553">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8892">expr_index</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8892">*</a></c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n179554">&nbsp;</a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8735">expr_tup</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8735">*</a></c20><c4>)</c4><c21>&nbsp;|
</c21><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n179558"><a id="n179556"><a id="n179557"><a id="n179555">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libsyntax/ast.rs.html#n8956">expr_struct</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8956">*</a></c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n179568"><a id="n179567"><a id="n179559"><a id="n179569">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>expr_addr_of</c20><c4>(</c4><c20>*</c20><c4>)</c4><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n179566"><a id="n179560"><a id="n179565">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c10><c4>(</c4><c10><a href="../../librustc/driver/session.rs.html#212">
</a></c10><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n179561"><a id="n179562">&nbsp;</a></a><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c10><a href="../../librustc/driver/session.rs.html#212">
</a></c10><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n179563">&nbsp;</a><c10><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c12><a href="../../librustc/driver/session.rs.html#212">"borrowed&nbsp;pointers&nbsp;in&nbsp;constants&nbsp;may&nbsp;only&nbsp;refer&nbsp;to&nbsp;\
</a></c12><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;immutable&nbsp;values"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n179581"><a id="n179570"><a id="n179582"><a id="n179580">&nbsp;</a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n179571"><a id="n179576"><a id="n179573"><a id="n179577"><a id="n179572">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#212">
</a></c13><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n179574">&nbsp;</a><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#212">"constant&nbsp;contains&nbsp;unimplemented&nbsp;expression&nbsp;</a></c12><c35>type</c35><c35><a href="../../librustc/driver/session.rs.html#212">"</a></c35><c35>);
</c35><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n179578"><a id="n179579">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c3>;</c3><c22>
</c22><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c21>
</c21><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>}</c3><c22>
</c22><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n179680"><a id="n179589"><a id="n179681"><a id="n179588">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.node</a></c24><c13>&nbsp;</c13><c3>{</c3><c13>
</c13><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n179595"><a id="n179636"><a id="n179590"><a id="n179591"><a id="n179593"><a id="n179637"><a id="n179594"><a id="n179638"><a id="n179592">&nbsp;</a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20><a href="../../libsyntax/ast.rs.html#n8766">expr_lit</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8766">@</a></c20><c20><a href="../../libsyntax/codemap.rs.html#n4966">codemap::spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">node:&nbsp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n9086">lit_int</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#178">v</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n9086">&nbsp;</a></c20><c20><a href="../../librustc/middle/check_const.rs.html#178">t</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;_</a></c20><c3>}</c3><c4>)</c4><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n179634"><a id="n179633"><a id="n179597"><a id="n179596"><a id="n179599">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#178">t</a></c26><c5>&nbsp;!=&nbsp;</c5><c26>ty_char</c26><c21>&nbsp;</c21><c3>{</c3><c22>
</c22><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n179602"><a id="n179631"><a id="n179603"><a id="n179600"><a id="n179605"><a id="n179604"><a id="n179622"><a id="n179620">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#178">v</a></c26><c21>&nbsp;as&nbsp;</c21><c8>u64</c8><c4>)</c4><c1>&nbsp;&gt;</c1><c5>&nbsp;</c5><c26><a href="../../libsyntax/ast_util.rs.html#n10706">ast_util::int_ty_max</a></c26><c4>(</c4><c27>
</c27><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n179607"><a id="n179617"><a id="n179630"><a id="n179619"><a id="n179618"><a id="n179611"><a id="n179609"><a id="n179606"><a id="n179610"><a id="n179614"><a id="n179615"><a id="n179612">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c21>if&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#178">t</a></c26><c5>&nbsp;==&nbsp;</c5><c26><a href="../../libsyntax/ast.rs.html#n9178">ty_i</a></c26><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#188">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#47">.int_type</a></c24><c22>&nbsp;</c22><c3>}</c3><c21>&nbsp;else&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#178">t</a></c26><c22>&nbsp;</c22><c3>}</c3><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>
</c22><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n179623"><a id="n179628"><a id="n179629"><a id="n179625"><a id="n179624"><a id="n179626">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#212">"literal&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;its&nbsp;</a></c12><c35>type</c35><c35><a href="../../librustc/driver/session.rs.html#212">"</a></c35><c35>);
</c35><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c13>
</c13><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n179639"><a id="n179676"><a id="n179643"><a id="n179640"><a id="n179642"><a id="n179641"><a id="n179674"><a id="n179675"><a id="n179644">&nbsp;</a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20><a href="../../libsyntax/ast.rs.html#n8766">expr_lit</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8766">@</a></c20><c20><a href="../../libsyntax/codemap.rs.html#n4966">codemap::spanned&nbsp;</a></c20><c3>{</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">node:&nbsp;lit_uint</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#186">v</a></c20><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;</a></c20><c20><a href="../../librustc/middle/check_const.rs.html#186">t</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../libsyntax/codemap.rs.html#n4966">&nbsp;_</a></c20><c3>}</c3><c4>)</c4><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n179672"><a id="n179645"><a id="n179661"><a id="n179663"><a id="n179646">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#186">v</a></c26><c5>&nbsp;&gt;&nbsp;</c5><c26><a href="../../libsyntax/ast_util.rs.html#n10762">ast_util::uint_ty_max</a></c26><c4>(</c4><c27>
</c27><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n179658"><a id="n179671"><a id="n179648"><a id="n179659"><a id="n179652"><a id="n179656"><a id="n179651"><a id="n179660"><a id="n179655"><a id="n179653"><a id="n179647"><a id="n179650">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c21>if&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#186">t</a></c26><c5>&nbsp;==&nbsp;</c5><c26><a href="../../libsyntax/ast.rs.html#n9202">ty_u</a></c26><c21>&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#188">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#48">.uint_type</a></c24><c22>&nbsp;</c22><c3>}</c3><c21>&nbsp;else&nbsp;</c21><c3>{</c3><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#186">t</a></c26><c22>&nbsp;</c22><c3>}</c3><c4>)</c4><c27>&nbsp;</c27><c3>{</c3><c22>
</c22><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n179669"><a id="n179666"><a id="n179670"><a id="n179665"><a id="n179664"><a id="n179667">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#84">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#212">.span_err</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#212">&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#212">"literal&nbsp;out&nbsp;of&nbsp;range&nbsp;for&nbsp;its&nbsp;</a></c12><c35>type</c35><c35><a href="../../librustc/driver/session.rs.html#212">"</a></c35><c35>);
</c35><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c13>
</c13><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n179677"><a id="n179679"><a id="n179678">&nbsp;</a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20>_</c20><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>()</c4><c13>
</c13><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a>&nbsp;<c13>&nbsp;&nbsp;&nbsp;&nbsp;</c13><c3>}</c3><c22>
</c22><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n179685"><a id="n179688"><a id="n179682"><a id="n179684"><a id="n179683"><a id="n179686"><a id="n179687">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/oldvisit.rs.html#n29199">oldvisit::visit_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#88">e</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#89">is_const</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#89">v</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n354523"><a id="n354528"><a id="n354529"><a id="n354540"><a id="n354538"><a id="n354531"><a id="n354544"><a id="n354547"><a id="n354534"><a id="n354545"><a id="n354524"><a id="n354554"><a id="n354542"><a id="n354543"><a id="n354530"><a id="n354532"><a id="n354527"><a id="n354536"><a id="n354548"><a id="n354553"><a id="n354522"><a id="n354519"><a id="n354521"><a id="n354526"><a id="n354525"><a id="n179712"><a id="n354549"><a id="n354551">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libstd/clone.rs.html#n54820">Clone</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a>&nbsp;<c31>struct&nbsp;env&nbsp;</c31><c3>{</c3><c31>
</c31><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n179692"><a id="n179693"><a id="n179694">&nbsp;</a></a></a><c31>&nbsp;&nbsp;&nbsp;&nbsp;</c31><c24>root_it:&nbsp;</c24><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n9918">item</a></c8><c3>,</c3><c31>
</c31><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n179697"><a id="n179696">&nbsp;</a></a><c31>&nbsp;&nbsp;&nbsp;&nbsp;</c31><c24>sess:&nbsp;</c24><c8><a href="../../librustc/driver/session.rs.html#202">Session</a></c8><c3>,</c3><c31>
</c31><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n179700"><a id="n179699">&nbsp;</a></a><c31>&nbsp;&nbsp;&nbsp;&nbsp;</c31><c24>ast_map:&nbsp;</c24><c8><a href="../../libsyntax/ast_map.rs.html#n14851">ast_map::map</a></c8><c3>,</c3><c31>
</c31><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a><a id="n179702"><a id="n179703">&nbsp;</a></a><c31>&nbsp;&nbsp;&nbsp;&nbsp;</c31><c24>def_map:&nbsp;</c24><c8><a href="../../librustc/middle/resolve.rs.html#47">resolve::DefMap</a></c8><c3>,</c3><c31>
</c31><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n179709"><a id="n179705"><a id="n179708"><a id="n179706"><a id="n179707">&nbsp;</a></a></a></a></a><c31>&nbsp;&nbsp;&nbsp;&nbsp;</c31><c24>idstack:&nbsp;</c24><c8>@mut&nbsp;~</c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#n7843">NodeId</a></c8><c3>]</c3><c31>
</c31><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a>&nbsp;<c40>//&nbsp;Make&nbsp;sure&nbsp;a&nbsp;const&nbsp;item&nbsp;doesn't&nbsp;recursively&nbsp;refer&nbsp;to&nbsp;itself
</c40><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n179921">&nbsp;</a><c40>//&nbsp;FIXME:&nbsp;Should&nbsp;use&nbsp;the&nbsp;dependency&nbsp;graph&nbsp;when&nbsp;it's&nbsp;available&nbsp;(#1356)
</c40><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n179713"><a id="n179715">&nbsp;</a></a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;check_item_recursion</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#208">sess</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/driver/session.rs.html#202">Session</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n179717"><a id="n179719">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#209">ast_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../libsyntax/ast_map.rs.html#n14851">ast_map::map</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n179723"><a id="n179721">&nbsp;</a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#210">def_map</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/resolve.rs.html#47">resolve::DefMap</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n179920"><a id="n179725"><a id="n179727"><a id="n179728"><a id="n179730">&nbsp;</a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="../../librustc/middle/check_const.rs.html#211">it</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n9918">item</a></c8><c4>)</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n179732"><a id="n179743"><a id="n179731"><a id="n179741"><a id="n179742">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20><a href="../../librustc/middle/check_const.rs.html#212">env</a></c20><c16>&nbsp;=&nbsp;</c16><c31><a href="../../librustc/middle/check_const.rs.html#197">env</a></c31><c16>&nbsp;</c16><c3>{</c3><c16>
</c16><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n179733">&nbsp;</a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root_it:&nbsp;</c16><c26><a href="../../librustc/middle/check_const.rs.html#211">it</a></c26><c3>,</c3><c16>
</c16><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n179734">&nbsp;</a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sess:&nbsp;</c16><c26><a href="../../librustc/middle/check_const.rs.html#208">sess</a></c26><c3>,</c3><c16>
</c16><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n179735">&nbsp;</a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast_map:&nbsp;</c16><c26><a href="../../librustc/middle/check_const.rs.html#209">ast_map</a></c26><c3>,</c3><c16>
</c16><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n179736">&nbsp;</a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def_map:&nbsp;</c16><c26><a href="../../librustc/middle/check_const.rs.html#210">def_map</a></c26><c3>,</c3><c16>
</c16><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n179740"><a id="n179738"><a id="n179737">&nbsp;</a></a></a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idstack:&nbsp;</c16><c5>@mut&nbsp;</c5><c16>~</c16><c3>[]</c3><c16>
</c16><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a>&nbsp;<c16>&nbsp;&nbsp;&nbsp;&nbsp;</c16><c3>};</c3><c22>
</c22><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n179744"><a id="n179746"><a id="n179755"><a id="n179753"><a id="n179757"><a id="n179756"><a id="n179745"><a id="n179758">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20><a href="../../librustc/middle/check_const.rs.html#220">visitor</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../libsyntax/oldvisit.rs.html#n25501">oldvisit::mk_vt</a></c26><c4>(</c4><c5>@</c5><c31><a href="../../libsyntax/oldvisit.rs.html#n25978">oldvisit::Visitor</a></c31><c27>&nbsp;</c27><c3>{</c3><c27>
</c27><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n179747">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_item:&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#227">visit_item</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n179748">&nbsp;</a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_expr:&nbsp;</c27><c26><a href="../../librustc/middle/check_const.rs.html#236">visit_expr</a></c26><c3>,</c3><c27>
</c27><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n179750"><a id="n179752"><a id="n179749">&nbsp;</a></a></a><c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..&nbsp;</c27><c5>*</c5><c26><a href="../../libsyntax/oldvisit.rs.html#n26314">oldvisit::default_visitor</a></c26><c4>()</c4><c27>
</c27><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>}</c3><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n179766"><a id="n179767"><a id="n179761"><a id="n179765"><a id="n179759"><a id="n179763"><a id="n179762"><a id="n179760"><a id="n179764">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#220">visitor</a></c26><c24>.visit_item</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#211">it</a></c26><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#212">env</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#220">visitor</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n179777"><a id="n179768"><a id="n179781"><a id="n179779"><a id="n179836"><a id="n179782"><a id="n179775"><a id="n179835"><a id="n179837"><a id="n179784"><a id="n179774"><a id="n179771"><a id="n179770"><a id="n179773">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c30>fn&nbsp;visit_item</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#227">it</a></c20><c13>:&nbsp;</c13><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n9918">item</a></c8><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#227">env</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="../../librustc/middle/check_const.rs.html#227">v</a></c20><c4>)</c4><c13>:&nbsp;</c13><c4>(</c4><c8><a href="../../librustc/middle/check_const.rs.html#197">env</a></c8><c3>,</c3><c8>&nbsp;oldvisit::vt&lt;</c8><c8><a href="../../librustc/middle/check_const.rs.html#197">env</a></c8><c8>&gt;</c8><c4>))</c4><c13>&nbsp;</c13><c3>{</c3><c22>
</c22><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n179801"><a id="n179814"><a id="n179792"><a id="n179786"><a id="n179785"><a id="n179795"><a id="n179794"><a id="n179799"><a id="n179813"><a id="n179797"><a id="n179789"><a id="n179803"><a id="n179800"><a id="n179788"><a id="n179793"><a id="n179796"><a id="n179790"><a id="n179815">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#203">.idstack</a></c24><c10><a href="../../libstd/vec.rs.html#n14157">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n14157">.</a></c10><c10><a href="../../librustc/metadata/common.rs.html#114">any</a></c10><c4>(</c4><c1><a href="../../librustc/metadata/common.rs.html#114">|</a></c1><c20><a href="../../librustc/middle/check_const.rs.html#228">x</a></c20><c8><a href="../../librustc/metadata/common.rs.html#114">|</a></c8><c1><a href="../../librustc/metadata/common.rs.html#114">&nbsp;</a></c1><c26><a href="../../librustc/middle/check_const.rs.html#228">x</a></c26><c22><a href="../../librustc/metadata/common.rs.html#114">&nbsp;==&nbsp;</a></c22><c5><a href="../../librustc/metadata/common.rs.html#114">&amp;</a></c5><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#227">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#n9918">.id</a></c24><c4>))</c4><c10><a href="../../librustc/metadata/common.rs.html#114">&nbsp;</a></c10><c3>{</c3><c22>
</c22><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n179808"><a id="n179804"><a id="n179811"><a id="n179805"><a id="n179812"><a id="n179807"><a id="n179809"><a id="n179806">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#200">.sess</a></c24><c13><a href="../../librustc/driver/session.rs.html#206">.span_fatal</a></c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#199">.root_it</a></c24><c24><a href="../../libsyntax/ast.rs.html#n9918">.span</a></c24><c3>,</c3><c13><a href="../../librustc/driver/session.rs.html#206">&nbsp;</a></c13><c12><a href="../../librustc/driver/session.rs.html#206">"recursive&nbsp;constant"</a></c12><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n179822"><a id="n179819"><a id="n179817"><a id="n179821"><a id="n179818"><a id="n179816">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#203">.idstack</a></c24><c10><a href="../../libstd/vec.rs.html#n15635">.push</a></c10><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#227">it</a></c26><c24><a href="../../libsyntax/ast.rs.html#n9918">.id</a></c24><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n179826"><a id="n179829"><a id="n179828"><a id="n179824"><a id="n179827"><a id="n179823"><a id="n179825">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/oldvisit.rs.html#n26886">oldvisit::visit_item</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#227">it</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#227">v</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n179833"><a id="n179831"><a id="n179830"><a id="n179834">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#227">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#203">.idstack</a></c24><c13><a href="../../libstd/vec.rs.html#n15953">.pop</a></c13><c4>()</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n179841"><a id="n179838"><a id="n179847"><a id="n179919"><a id="n179845"><a id="n179843"><a id="n179851"><a id="n179917"><a id="n179854"><a id="n179840"><a id="n179852"><a id="n179849"><a id="n179844"><a id="n179918">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c30>fn&nbsp;visit_expr</c30><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#236">e</a></c20><c1>:&nbsp;</c1><c8>@</c8><c8><a href="../../libsyntax/ast.rs.html#n8621">expr</a></c8><c3>,</c3><c1>&nbsp;</c1><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#236">env</a></c20><c3>,</c3><c20>&nbsp;</c20><c20><a href="../../librustc/middle/check_const.rs.html#236">v</a></c20><c4>)</c4><c1>:&nbsp;</c1><c4>(</c4><c8><a href="../../librustc/middle/check_const.rs.html#197">env</a></c8><c3>,</c3><c8>&nbsp;oldvisit::vt&lt;</c8><c8><a href="../../librustc/middle/check_const.rs.html#197">env</a></c8><c8>&gt;</c8><c4>))</c4><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n179908"><a id="n179855"><a id="n179909"><a id="n179856">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c13>&nbsp;</c13><c26><a href="../../librustc/middle/check_const.rs.html#236">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.node</a></c24><c13>&nbsp;</c13><c3>{</c3><c13>
</c13><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n179861"><a id="n179860"><a id="n179857"><a id="n179859"><a id="n179858"><a id="n179864"><a id="n179904"><a id="n179903"><a id="n179862">&nbsp;</a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20><a href="../../libsyntax/ast.rs.html#n8896">expr_path</a></c20><c4>(</c4><c20><a href="../../libsyntax/ast.rs.html#n8896">*</a></c20><c4>)</c4><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c21>match&nbsp;</c21><c26><a href="../../librustc/middle/check_const.rs.html#236">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#202">.def_map</a></c24><c10><a href="../../libstd/hashmap.rs.html#n68511">.find</a></c10><c4>(</c4><c5><a href="../../libstd/hashmap.rs.html#n68511">&amp;</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#236">e</a></c26><c24><a href="../../libsyntax/ast.rs.html#n8621">.id</a></c24><c4>)</c4><c10><a href="../../libstd/hashmap.rs.html#n68511">&nbsp;</a></c10><c3>{</c3><c21>
</c21><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n179866"><a id="n179867"><a id="n179871"><a id="n179868"><a id="n179872"><a id="n179869"><a id="n179865"><a id="n179870">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20><a href="../../libstd/option.rs.html#n64087">Some</a></c20><c4>(</c4><c20><a href="../../libstd/option.rs.html#n64087">&amp;</a></c20><c20><a href="../../libsyntax/ast.rs.html#n7986">def_static</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#239">def_id</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast.rs.html#n7986">&nbsp;_</a></c20><c4>))</c4><c21>&nbsp;if&nbsp;</c21><c26><a href="../../libsyntax/ast_util.rs.html#n10161">ast_util::is_local</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#239">def_id</a></c26><c4>)</c4><c27>&nbsp;</c27><c4>=&gt;</c4><c21>
</c21><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n179873"><a id="n179898"><a id="n179874"><a id="n179877"><a id="n179876"><a id="n179899"><a id="n179879"><a id="n179875">&nbsp;</a></a></a></a></a></a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match</c21><c22>&nbsp;</c22><c26><a href="../../librustc/middle/check_const.rs.html#236">env</a></c26><c24><a href="../../librustc/middle/check_const.rs.html#201">.ast_map</a></c24><c10><a href="../../libstd/hashmap.rs.html#n69413">.get_copy</a></c10><c4>(</c4><c5><a href="../../libstd/hashmap.rs.html#n69413">&amp;</a></c5><c26><a href="../../librustc/middle/check_const.rs.html#239">def_id</a></c26><c24><a href="../../libsyntax/ast.rs.html#n7852">.node</a></c24><c4>)</c4><c10><a href="../../libstd/hashmap.rs.html#n69413">&nbsp;</a></c10><c3>{</c3><c22>
</c22><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n179880"><a id="n179894"><a id="n179892"><a id="n179882"><a id="n179893"><a id="n179881">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c20><a href="../../libsyntax/ast_map.rs.html#n14754">ast_map::node_item</a></c20><c4>(</c4><c20><a href="../../librustc/middle/check_const.rs.html#241">it</a></c20><c3>,</c3><c20><a href="../../libsyntax/ast_map.rs.html#n14754">&nbsp;_</a></c20><c4>)</c4><c22>&nbsp;</c22><c4>=&gt;</c4><c22>&nbsp;</c22><c3>{</c3><c22>
</c22><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n179884"><a id="n179889"><a id="n179890"><a id="n179887"><a id="n179891"><a id="n179885"><a id="n179883"><a id="n179888"><a id="n179886">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#236">v</a></c26><c24>.visit_item</c24><c4>)(</c4><c26><a href="../../librustc/middle/check_const.rs.html#241">it</a></c26><c3>,</c3><c13>&nbsp;</c13><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#236">env</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#236">v</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n179897"><a id="n179895"><a id="n354512"><a id="n179896">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c20>_</c20><c22>&nbsp;</c22><c4>=&gt;</c4><c22>&nbsp;</c22><c27>fail!</c27><c4>(</c4><c12>"const&nbsp;not&nbsp;bound&nbsp;to&nbsp;an&nbsp;item"</c12><c4>)</c4><c27>
</c27><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a>&nbsp;<c27>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c27><c3>},</c3><c21>
</c21><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n179901"><a id="n179902"><a id="n179900">&nbsp;</a></a></a><c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c20>_</c20><c21>&nbsp;</c21><c4>=&gt;</c4><c21>&nbsp;</c21><c4>()</c4><c21>
</c21><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a>&nbsp;<c21>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c21><c3>},</c3><c13>
</c13><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n179905"><a id="n179906"><a id="n179907">&nbsp;</a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c20>_</c20><c13>&nbsp;</c13><c4>=&gt;</c4><c13>&nbsp;</c13><c4>()</c4><c13>
</c13><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a>&nbsp;<c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c3>}</c3><c22>
</c22><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n179911"><a id="n179910"><a id="n179913"><a id="n179914"><a id="n179916"><a id="n179912"><a id="n179915">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../libsyntax/oldvisit.rs.html#n29199">oldvisit::visit_expr</a></c26><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#236">e</a></c26><c3>,</c3><c27>&nbsp;</c27><c4>(</c4><c26><a href="../../librustc/middle/check_const.rs.html#236">env</a></c26><c3>,</c3><c14>&nbsp;</c14><c26><a href="../../librustc/middle/check_const.rs.html#236">v</a></c26><c4>))</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c3>}</c3><c22>
</c22><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="37_1_refs"><a href="#37"><c40>librustc/middle/check_const.rs:37:1-37:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;check_item(sess:&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#29"><c40>29:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_item:&nbsp;|a,b|&nbsp;check_item(sess,&nbsp;ast_map,&nbsp;def_map,&nbsp;a,&nbsp;b),
<br/></a><br/><br/><a id="227_4_refs"><a href="#227"><c40>librustc/middle/check_const.rs:227:4-227:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_item(it:&nbsp;@item,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;env.idstack.iter().any(|x|&nbsp;x&nbsp;==&nbsp;&amp;(it.id))&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#221"><c40>221:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_item:&nbsp;visit_item,
<br/></a><br/><br/><a id="83_1_refs"><a href="#83"><c40>librustc/middle/check_const.rs:83:1-83:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;check_expr(sess:&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#32"><c40>32:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check_expr(sess,&nbsp;def_map,&nbsp;method_map,&nbsp;tcx,&nbsp;a,&nbsp;b),
<br/></a><a href="../../librustc/middle/check_const.rs.html#155"><c40>155:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expr_paren(e)&nbsp;=&gt;&nbsp;{&nbsp;check_expr(sess,&nbsp;def_map,&nbsp;method_map,
<br/></a><br/><br/><a id="207_70_refs"><a href="#207"><c40>librustc/middle/check_const.rs:207:70-207:70&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;FIXME:&nbsp;Should&nbsp;use&nbsp;the&nbsp;dependency&nbsp;graph&nbsp;when&nbsp;it's&nbsp;available&nbsp;(#1356)
<br/>pub&nbsp;fn&nbsp;check_item_recursion(sess:&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#47"><c40>47:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check_item_recursion(sess,&nbsp;ast_map,&nbsp;def_map,&nbsp;it);
<br/></a><br/><br/><a id="21_1_refs"><a href="#21"><c40>librustc/middle/check_const.rs:21:1-21:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;check_crate(sess:&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#259"><c40>259:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;middle::check_const::check_crate(sess,&nbsp;crate,&nbsp;ast_map,&nbsp;def_map,
<br/></a><br/><br/><a id="61_4_refs"><a href="#61"><c40>librustc/middle/check_const.rs:61:4-61:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;is_str(e:&nbsp;@expr)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;e.node&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#78"><c40>78:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!is_str(b)&nbsp;{&nbsp;(v.visit_expr)(b,&nbsp;(true,&nbsp;v));&nbsp;}
<br/></a><a href="../../librustc/middle/check_const.rs.html#75"><c40>75:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pat_lit(a)&nbsp;=&gt;&nbsp;if&nbsp;!is_str(a)&nbsp;{&nbsp;(v.visit_expr)(a,&nbsp;(true,&nbsp;v));&nbsp;},
<br/></a><a href="../../librustc/middle/check_const.rs.html#77"><c40>77:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!is_str(a)&nbsp;{&nbsp;(v.visit_expr)(a,&nbsp;(true,&nbsp;v));&nbsp;}
<br/></a><br/><br/><a id="197_19_refs"><a href="#197"><c40>librustc/middle/check_const.rs:197:19-197:19&nbsp;-struct-&nbsp;definition:<br/></c40><pr>#[deriving(Clone)]
<br/>struct&nbsp;env&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#227"><c40>227:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_item(it:&nbsp;@item,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/></a><a href="../../librustc/middle/check_const.rs.html#236"><c40>236:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_expr(e:&nbsp;@expr,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/></a><a href="../../librustc/middle/check_const.rs.html#212"><c40>212:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;env&nbsp;=&nbsp;env&nbsp;{
<br/></a><a href="../../librustc/middle/check_const.rs.html#236"><c40>236:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_expr(e:&nbsp;@expr,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/></a><a href="../../librustc/middle/check_const.rs.html#197"><c40>197:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../librustc/middle/check_const.rs.html#197"><c40>197:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../librustc/middle/check_const.rs.html#197"><c40>197:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../librustc/middle/check_const.rs.html#197"><c40>197:&nbsp;</c40>#[deriving(Clone)]
<br/></a><a href="../../librustc/middle/check_const.rs.html#227"><c40>227:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_item(it:&nbsp;@item,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/></a><br/><br/><a id="59_1_refs"><a href="#59"><c40>librustc/middle/check_const.rs:59:1-59:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;check_pat(p:&nbsp;@pat,&nbsp;(_is_const,&nbsp;v):&nbsp;(bool,&nbsp;oldvisit::vt&lt;bool&gt;))&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#30"><c40>30:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_pat:&nbsp;check_pat,
<br/></a><br/><br/><a id="236_4_refs"><a href="#236"><c40>librustc/middle/check_const.rs:236:4-236:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;visit_expr(e:&nbsp;@expr,&nbsp;(env,&nbsp;v):&nbsp;(env,&nbsp;oldvisit::vt&lt;env&gt;))&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;e.node&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/check_const.rs.html#222"><c40>222:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_expr:&nbsp;visit_expr,
<br/></a><br/></div></c0></fileblock></div></maintext>