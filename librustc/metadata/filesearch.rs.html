<head><link href="css/shCore.css" rel="stylesheet" type="text/css"/><link href="css/shThemeDefault.css" rel="stylesheet" type="text/css"/></head><style type="text/css">maintext {color:#f0f0f0; font-size:12px; font-family:"Courier New"}
a:link{ color:#f0f0f0; font-style:normal;   text-decoration:none;}
a:visited{ color:#f0f0f0; font-style:normal;   text-decoration:none;}
a:link:hover{ color:#f0f0f0; font-style:normal; background-color:#606060; }
pr{font-weight:bold}
ln{color:#606060; -moz-user-select:-moz-none; -khtml-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none;}
c24{color:#ffffff; font-style:italic; opacity:0.5}
c25{color:#ffffff; opacity:0.92}
c26{color:#ffffff; font-weight:bold; }
c27{color:#b0ffff; font-weight:bold; }
c28{color:#b0ffb0; font-weight:bold; }
c29{color:#d0e0ff; font-weight:bold; }
c30{color:#fff0e0; font-weight:bold; }
c31{color:#d0b0ff; font-weight:bold; }
c32{color:#ffffff; font-style:italic; opacity:0.6}
c1{color:#ffffc0;   font-weight:bold; }
c33{color:#e0a0d0;  }
c2{color:#60f0c0}
c3{color:#50e0ff; }
c4{color:#f090f0}
c5{color:#50ff80; }
c6{color:#f0f0e0}
c7{color:#fff0d0}
c8{color:#e0d0f0}
c9{color:#70f0f0}
c10{color:#f0f070}
c11{color:#c0f070}
c12{color:#70c0f0}
c13{color:#c0f070}
c14{color:#f0ffc0}
c15{color:#f0f0e0}
c16{color:#c0ffe0}
c17{color:#90d0f0}
c18{color:#f0a0d0}
c19{color:#d0f0a0}
c20{color:#0f0ff}
c21{color:#d0d0d0; font-weight:bold}
c22{color:#c0ffd0; }
c23{color:#d0f0ff; }
</style><body style="background-color:#3a343a;"><maintext><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a><c1>/</c1><c0><a href="./../../librustc/metadata/">metadata</a><c1>/</c1><c0><a href="./../../librustc/metadata/filesearch.rs.html">filesearch.rs</a><br/><br/><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c24>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c24><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c24>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c24><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c24>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c24><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c24>//
</c24><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c24>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c24><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c24>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c24><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c24>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c24><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c24>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c24><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c24>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c24><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::option</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::os</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::hashmap::HashSet</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c24>//&nbsp;A&nbsp;module&nbsp;for&nbsp;searching&nbsp;for&nbsp;libraries
</c24><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c24>//&nbsp;FIXME&nbsp;(#2658):&nbsp;I'm&nbsp;not&nbsp;happy&nbsp;how&nbsp;this&nbsp;module&nbsp;turned&nbsp;out.&nbsp;Should
</c24><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c24>//&nbsp;probably&nbsp;just&nbsp;be&nbsp;folded&nbsp;into&nbsp;cstore.
</c24><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c32>///&nbsp;Functions&nbsp;with&nbsp;type&nbsp;`pick`&nbsp;take&nbsp;a&nbsp;parent&nbsp;directory&nbsp;as&nbsp;well&nbsp;as
</c32><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n255411">&nbsp;</a><c32>///&nbsp;a&nbsp;file&nbsp;found&nbsp;in&nbsp;that&nbsp;directory.
</c32><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n255409"><a id="n255407"><a id="n255410"><a id="n255404"><a id="n255403">&nbsp;</a></a></a></a></a><c21>pub</c21><c3>&nbsp;</c3><c31>type&nbsp;pick</c31><c5>&lt;'self,&nbsp;T&gt;</c5><c31>&nbsp;=&nbsp;&amp;'self&nbsp;fn</c31><c25>(</c25><c3>path:&nbsp;&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c3>&nbsp;</c3><c4>-&gt;</c4><c3>&nbsp;</c3><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;</c3><a href="../../libstd/option.rs.html#n63067"><c3>T</c3></a><c3>&gt;</c3><c4>;</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n255448">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n255416"><a id="n255447"><a id="n255418"><a id="n255414"><a id="n255422"><a id="n255424"><a id="n255412"><a id="n255419">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;pick_file</c26><c25>(</c25><c20>file</c20><c1>:&nbsp;</c1><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>,</c4><c1>&nbsp;</c1><c20>path</c20><c1>:&nbsp;</c1><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c3>&gt;</c3><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n255425"><a id="n255430"><a id="n255428"><a id="n255445"><a id="n255440"><a id="n255427">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#24"><c8>path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100457"><c10>file_path</c10></a><c25>()</c25><c10>&nbsp;</c10><a href="../../libstd/path.rs.html#n100457"><c10>==</c10></a><c2>&nbsp;</c2><a href="../../librustc/metadata/filesearch.rs.html#24"><c8>file</c8></a><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n255437"><a id="n255432"><a id="n255435"><a id="n255431"><a id="n255434"><a id="n255438">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../libstd/option.rs.html#n63066"><c8>option</c8></a><c8>::</c8><a href="../../libstd/option.rs.html#n63066"><c8>Some</c8></a><c25>((</c25><c2>*</c2><a href="../../librustc/metadata/filesearch.rs.html#24"><c8>path</c8></a><c25>)</c25><c0>.</c0><a href="../../libstd/path.rs.html#n348633"><c10>clone</c10></a><c25>())</c25><c9>
</c9><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n255444"><a id="n255443">&nbsp;</a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c7>&nbsp;</c7><c21>else</c21><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n255441">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c8>option::None</c8><c22>
</c22><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n255477">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c21>pub</c21><c28>&nbsp;trait&nbsp;FileSearch&nbsp;</c28><c4>{</c4><c28>
</c28><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n255452"><a id="n255451"><a id="n255450">&nbsp;</a></a></a><c28>&nbsp;&nbsp;&nbsp;&nbsp;</c28><c26>fn&nbsp;sysroot</c26><c25>(</c25><c18>&amp;self</c18><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c3>@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>;</c4><c28>
</c28><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n255457"><a id="n255464"><a id="n255461"><a id="n255460"><a id="n255465"><a id="n255456">&nbsp;</a></a></a></a></a></a><c28>&nbsp;&nbsp;&nbsp;&nbsp;</c28><c26>fn&nbsp;for_each_lib_search_path</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;f:&nbsp;</c18><c3>&amp;</c3><c26>fn</c26><c25>(</c25><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c3>&nbsp;</c3><c4>-&gt;</c4><c3>&nbsp;bool</c3><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c3>bool</c3><c4>;</c4><c28>
</c28><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n255468"><a id="n255467">&nbsp;</a></a><c28>&nbsp;&nbsp;&nbsp;&nbsp;</c28><c26>fn&nbsp;get_target_lib_path</c26><c25>(</c25><c18>&amp;self</c18><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>;</c4><c28>
</c28><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n255471"><a id="n255475"><a id="n255472"><a id="n255476">&nbsp;</a></a></a></a><c28>&nbsp;&nbsp;&nbsp;&nbsp;</c28><c26>fn&nbsp;get_target_lib_file_path</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;file:&nbsp;</c18><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>;</c4><c28>
</c28><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n255713">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n255478"><a id="n255480"><a id="n255483"><a id="n255484"><a id="n255481">&nbsp;</a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;mk_filesearch</c26><c25>(</c25><c20>maybe_sysroot</c20><c1>:&nbsp;</c1><c3>&amp;</c3><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c3>&gt;</c3><c4>,</c4><c1>
</c1><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n255488"><a id="n255486"><a id="n255489">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20>target_triple</c20><c1>:&nbsp;</c1><c3>&amp;str</c3><c4>,</c4><c1>
</c1><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n255493"><a id="n255496"><a id="n255494"><a id="n255491"><a id="n255495">&nbsp;</a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20>addl_lib_search_paths</c20><c1>:&nbsp;</c1><c3>@mut&nbsp;~</c3><c4>[</c4><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>]</c4><c25>)</c25><c1>
</c1><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n255500"><a id="n255499"><a id="n255712">&nbsp;</a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c3>@</c3><a href="../../librustc/metadata/filesearch.rs.html#31"><c3>FileSearch</c3></a><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n255690"><a id="n255517">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c27>struct&nbsp;FileSearchImpl&nbsp;</c27><c4>{</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n255504"><a id="n255502"><a id="n255503">&nbsp;</a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c6>sysroot:&nbsp;</c6><c3>@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n255510"><a id="n255507"><a id="n255508"><a id="n255509"><a id="n255506">&nbsp;</a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c6>addl_lib_search_paths:&nbsp;</c6><c3>@mut&nbsp;~</c3><c4>[</c4><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>],</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n255513"><a id="n255512"><a id="n255514">&nbsp;</a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><c6>target_triple:&nbsp;</c6><c3>~str</c3><c13>
</c13><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a>&nbsp;<c13>&nbsp;&nbsp;&nbsp;&nbsp;</c13><c4>}</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n255689"><a id="n255521"><a id="n255691"><a id="n255518">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c30>impl&nbsp;</c30><a href="../../librustc/metadata/filesearch.rs.html#31"><c30>FileSearch</c30></a><c30>&nbsp;for&nbsp;</c30><a href="../../librustc/metadata/filesearch.rs.html#43"><c30>FileSearchImpl</c30></a><c30>&nbsp;</c30><c4>{</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n255526"><a id="n255525"><a id="n255524"><a id="n255529"><a id="n255523"><a id="n255528">&nbsp;</a></a></a></a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c17><c26>fn&nbsp;sysroot</c26><c25>(</c25><c18>&amp;self</c18><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c3>@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#44"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#44"><c6>sysroot</c6></a><c22>&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n255531"><a id="n255535"><a id="n255542"><a id="n255657"><a id="n255658"><a id="n255534"><a id="n255538"><a id="n255539">&nbsp;</a></a></a></a></a></a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c17><c26>fn&nbsp;for_each_lib_search_path</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;</c18><c20>f</c20><c18>:&nbsp;</c18><c3>&amp;</c3><c26>fn</c26><c25>(</c25><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c3>&nbsp;</c3><c4>-&gt;</c4><c3>&nbsp;bool</c3><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><c3>bool</c3><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n255547"><a id="n255545"><a id="n255544"><a id="n255546"><a id="n255543"><a id="n255548">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c21>mut</c21><c13>&nbsp;</c13><c20>visited_dirs</c20><c16>&nbsp;=&nbsp;</c16><a href="../../libstd/hashmap.rs.html#n69322"><c8>HashSet</c8></a><c8>::</c8><a href="../../libstd/hashmap.rs.html#n69322"><c8>new</c8></a><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n383801"><a id="n383807"><a id="n383803"><a id="n383806"><a id="n383798"><a id="n383790"><a id="n383787"><a id="n383789"><a id="n383779"><a id="n383785"><a id="n383802"><a id="n383788"><a id="n383804"><a id="n383786"><a id="n383784"><a id="n383800"><a id="n383783"><a id="n383797"><a id="n383805"><a id="n383799">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../libstd/str.rs.html#n23684"><c2>"filesearch</c2></a><c2>:&nbsp;</c2><a href="../../libstd/str.rs.html#n23684"><c2>searching</c2></a><c2>&nbsp;</c2><a href="../../libstd/str.rs.html#n23684"><c2>additional</c2></a><c2>&nbsp;</c2><a href="../../libstd/str.rs.html#n23684"><c2>lib</c2></a><c2>&nbsp;</c2><a href="../../libstd/str.rs.html#n23684"><c2>search</c2></a><c2>&nbsp;</c2><a href="../../libstd/str.rs.html#n23684"><c2>paths</c2></a><c2>&nbsp;</c2><c4>[</c4><c2>%</c2><a href="../../libstd/str.rs.html#n23684"><c2>?</c2></a><c4>]</c4><a href="../../libstd/str.rs.html#n23684"><c2>"</c2></a><c4>,</c4><c13>
</c13><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n383772"><a id="n383771"><a id="n383774"><a id="n383793"><a id="n383792"><a id="n383791"><a id="n383796"><a id="n383794"><a id="n383795">&nbsp;</a></a></a></a></a></a></a></a></a><c13>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#45"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#45"><c6>addl_lib_search_paths</c6></a><c10>.</c10><a href="../../libstd/vec.rs.html#n13441"><c10>len</c10></a><c25>())</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n383825"><a id="n255550"><a id="n383811"><a id="n255553"><a id="n383817"><a id="n383816"><a id="n255551"><a id="n383819"><a id="n383824"><a id="n255566"><a id="n383827"><a id="n383818"><a id="n383812"><a id="n383809"><a id="n383810"><a id="n255549"><a id="n383813"><a id="n383826"><a id="n383822"><a id="n383815"><a id="n383823"><a id="n255567"><a id="n383821"><a id="n383814"><a id="n255565">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c7>&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>path</c20></a><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#55"><c7>in</c7></a><c7>&nbsp;</c7><a href="../../libstd/vec.rs.html#n13961"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#45"><c6>addl_lib_search_paths</c6></a><c2>.</c2><a href="../../libstd/vec.rs.html#n13961"><c2>iter</c2></a><c25>()</c25><c2>&nbsp;</c2><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#55"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n255557"><a id="n255554"><a id="n255555"><a id="n255556">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#50"><c8>f</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#55"><c8>path</c8></a><c25>)</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#55"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n255559"><a id="n255563"><a id="n255558"><a id="n255564"><a id="n255561">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#51"><c8>visited_dirs</c8></a><c10>.</c10><a href="../../libstd/hashmap.rs.html#n69287"><c10>insert</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#55"><c8>path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100009"><c10>to_str</c10></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#55"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#55"><c7>
</c7></a><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a>&nbsp;<a href="../../librustc/metadata/filesearch.rs.html#55"><c7>
</c7></a><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n383849"><a id="n383850"><a id="n383828"><a id="n383847"><a id="n383851"><a id="n383846"><a id="n383833"><a id="n383848">&nbsp;</a></a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#55"><c13>debug</c13></a><c13>!</c13><c25>(</c25><a href="../../libstd/unstable/extfmt.rs.html#n128421"><c8>"filesearch</c8></a><c8>:&nbsp;</c8><a href="../../libstd/unstable/extfmt.rs.html#n128421"><c8>searching</c8></a><c8>&nbsp;</c8><a href="../../libstd/unstable/extfmt.rs.html#n128421"><c8>target</c8></a><c8>&nbsp;</c8><a href="../../libstd/unstable/extfmt.rs.html#n128421"><c8>lib</c8></a><c8>&nbsp;</c8><a href="../../libstd/unstable/extfmt.rs.html#n128421"><c8>path"</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n255571"><a id="n255570"><a id="n255569"><a id="n255576"><a id="n255572"><a id="n255568"><a id="n255575"><a id="n255577">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>tlib_path</c20><c16>&nbsp;=&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#125"><c8>make_target_lib_path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#44"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#44"><c6>sysroot</c6></a><c4>,</c4><c9>
</c9><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n255573"><a id="n255574">&nbsp;</a></a><c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><a href="../../librustc/metadata/filesearch.rs.html#46"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#46"><c6>target_triple</c6></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n255581"><a id="n255582"><a id="n255600"><a id="n255579"><a id="n255586"><a id="n255578"><a id="n255584"><a id="n255599"><a id="n255601">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#51"><c8>visited_dirs</c8></a><c10>.</c10><a href="../../libstd/hashmap.rs.html#n69184"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#61"><c8>tlib_path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100009"><c10>to_str</c10></a><c25>())</c25><c10>&nbsp;</c10><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n255589"><a id="n255587"><a id="n255592"><a id="n255588"><a id="n255597"><a id="n255596"><a id="n255590">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#50"><c8>f</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#61"><c8>tlib_path</c8></a><c25>)</c25><c9>&nbsp;</c9><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n255593"><a id="n255594"><a id="n255595">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><c12>false</c12><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n255607"><a id="n255603"><a id="n255602"><a id="n255608"><a id="n255605">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#51"><c8>visited_dirs</c8></a><c10>.</c10><a href="../../libstd/hashmap.rs.html#n69287"><c10>insert</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#61"><c8>tlib_path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100009"><c10>to_str</c10></a><c25>())</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;Try&nbsp;RUST_PATH
</c24><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n255610"><a id="n255611"><a id="n255614"><a id="n255612"><a id="n255613"><a id="n255609">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>rustpath</c20><c16>&nbsp;=&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#159"><c8>rust_path</c8></a><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n383874"><a id="n383864"><a id="n255654"><a id="n383860"><a id="n383873"><a id="n255618"><a id="n383859"><a id="n255652"><a id="n255615"><a id="n383866"><a id="n383861"><a id="n383862"><a id="n383865"><a id="n383867"><a id="n383863"><a id="n383871"><a id="n383876"><a id="n383875"><a id="n383858"><a id="n255653"><a id="n383868"><a id="n255616"><a id="n383870"><a id="n383872">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c7>&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>path</c20></a><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#71"><c7>in</c7></a><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#70"><c8>rustpath</c8></a><c2>.</c2><a href="../../libstd/vec.rs.html#n13961"><c2>iter</c2></a><c25>()</c25><c2>&nbsp;</c2><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n255623"><a id="n255625"><a id="n255626"><a id="n255620"><a id="n255619"><a id="n255650"><a id="n255630"><a id="n255628"><a id="n255649"><a id="n255621">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#51"><c8>visited_dirs</c8></a><c10>.</c10><a href="../../libstd/hashmap.rs.html#n69184"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#71"><c8>path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"lib"</c12></a><c25>)</c25><c10>.</c10><a href="../../libstd/path.rs.html#n100009"><c10>to_str</c10></a><c25>())</c25><c10>&nbsp;</c10><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n255637"><a id="n255632"><a id="n255635"><a id="n255631"><a id="n255636"><a id="n255633"><a id="n255638">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#50"><c8>f</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#71"><c8>path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"lib"</c12></a><c25>))</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n255640"><a id="n255641"><a id="n255643"><a id="n255639"><a id="n255647"><a id="n255645"><a id="n255648">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#51"><c8>visited_dirs</c8></a><c10>.</c10><a href="../../libstd/hashmap.rs.html#n69287"><c10>insert</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#71"><c8>path</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"lib"</c12></a><c25>)</c25><c10>.</c10><a href="../../libstd/path.rs.html#n100009"><c10>to_str</c10></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#71"><c7>
</c7></a><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n255655">&nbsp;</a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#71"><c12>true</c12></a><c22>
</c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n255670"><a id="n255661"><a id="n255669">&nbsp;</a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c17><c26>fn&nbsp;get_target_lib_path</c26><c25>(</c25><c18>&amp;self</c18><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n255662"><a id="n255667"><a id="n255663"><a id="n255665"><a id="n255664"><a id="n255666">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#125"><c8>make_target_lib_path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#44"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#44"><c6>sysroot</c6></a><c4>,</c4><c9>&nbsp;</c9><a href="../../librustc/metadata/filesearch.rs.html#46"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#46"><c6>target_triple</c6></a><c25>)</c25><c9>
</c9><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n255678"><a id="n255687"><a id="n255672"><a id="n255675"><a id="n255686"><a id="n255674">&nbsp;</a></a></a></a></a></a><c17>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c17><c26>fn&nbsp;get_target_lib_file_path</c26><c25>(</c25><c18>&amp;self</c18><c4>,</c4><c18>&nbsp;</c18><c20>file</c20><c18>:&nbsp;</c18><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c18>&nbsp;</c18><c4>-&gt;</c4><c18>&nbsp;</c18><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c18>&nbsp;</c18><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n255684"><a id="n255679"><a id="n255681"><a id="n255682">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../libstd/path.rs.html#n100473"><c0>self</c0></a><c0>.</c0><a href="../../librustc/metadata/filesearch.rs.html#79"><c10>get_target_lib_path</c10></a><c25>()</c25><c10>.</c10><a href="../../libstd/path.rs.html#n100473"><c10>push_rel</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#82"><c8>file</c8></a><c25>)</c25><a href="../../libstd/path.rs.html#n100473"><c10>
</c10></a><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><c17>
</c17><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a>&nbsp;<c17>&nbsp;&nbsp;&nbsp;&nbsp;</c17><c4>}</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a>&nbsp;<c22>
</c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n255698"><a id="n255697"><a id="n255693"><a id="n255696"><a id="n255692"><a id="n255695"><a id="n255694">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>sysroot</c20><c16>&nbsp;=&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#137"><c8>get_sysroot</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#39"><c8>maybe_sysroot</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n383906"><a id="n383903"><a id="n383900"><a id="n383891"><a id="n383878"><a id="n383889"><a id="n383895"><a id="n383890"><a id="n383885"><a id="n383905"><a id="n383880"><a id="n383899"><a id="n383904"><a id="n383893"><a id="n383898"><a id="n383892"><a id="n383897"><a id="n383902"><a id="n383894"><a id="n383901"><a id="n383896">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c13>debug!</c13><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#88"><c22>"using</c22></a><c22>&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#88"><c22>sysroot</c22></a><c22>&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#88"><c22>=</c22></a><c22>&nbsp;%</c22><a href="../../librustc/metadata/filesearch.rs.html#88"><c22>s"</c22></a><c4>,</c4><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#87"><c8>sysroot</c8></a><c9>.</c9><a href="../../libstd/path.rs.html#n100009"><c9>to_str</c9></a><c25>())</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n255710"><a id="n255706"><a id="n255704">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c2>@</c2><a href="../../librustc/metadata/filesearch.rs.html#43"><c23>FileSearchImpl</c23></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n255699">&nbsp;</a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sysroot:&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#87"><c8>sysroot</c8></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n255700">&nbsp;</a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addl_lib_search_paths:&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#41"><c8>addl_lib_search_paths</c8></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n255703"><a id="n255701">&nbsp;</a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_triple:&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#40"><c8>target_triple</c8></a><c10>.</c10><a href="../../libstd/str.rs.html#n30129"><c10>to_owned</c10></a><c25>()</c25><a href="../../libstd/str.rs.html#n30129"><c10>
</c10></a><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n255708"><a id="n255709">&nbsp;</a></a><c10>&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><c7>&nbsp;</c7><c21>as</c21><c7>&nbsp;</c7><c3>@</c3><a href="../../librustc/metadata/filesearch.rs.html#31"><c3>FileSearch</c3></a><c22>
</c22><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n255797">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n255727"><a id="n255722"><a id="n255718"><a id="n255715"><a id="n255720"><a id="n255796"><a id="n255724"><a id="n255729"><a id="n255717">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;search</c26><c5>&lt;T&gt;</c5><c25>(</c25><c20>filesearch</c20><c1>:&nbsp;</c1><c3>@</c3><a href="../../librustc/metadata/filesearch.rs.html#31"><c3>FileSearch</c3></a><c4>,</c4><c1>&nbsp;</c1><c20>pick</c20><c1>:&nbsp;</c1><a href="../../librustc/metadata/filesearch.rs.html#21"><c3>pick</c3></a><c3>&lt;</c3><a href="../../librustc/metadata/filesearch.rs.html#21"><c3>T</c3></a><c3>&gt;</c3><c25>)</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;</c3><a href="../../libstd/option.rs.html#n63067"><c3>T</c3></a><c3>&gt;</c3><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n255730"><a id="n255734"><a id="n255733"><a id="n255731"><a id="n255732">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c21>mut</c21><c13>&nbsp;</c13><c20>rslt</c20><c16>&nbsp;=&nbsp;</c16><c8>None</c8><c4>;</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n255787"><a id="n255788"><a id="n255741"><a id="n255735"><a id="n255739"><a id="n255789"><a id="n255785"><a id="n255738"><a id="n255792"><a id="n255786"><a id="n255791">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>do</c21><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#96"><c8>filesearch</c8></a><c13>.</c13><a href="../../librustc/metadata/filesearch.rs.html#31"><c13>for_each_lib_search_path</c13></a><c25>()</c25><c0>&nbsp;|</c0><a href="../../librustc/metadata/filesearch.rs.html#31"><c20>lib_search_path</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#31"><c22>
</c22></a><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n383936"><a id="n383937"><a id="n383935"><a id="n383922"><a id="n383911"><a id="n383933"><a id="n383909"><a id="n383923"><a id="n383921"><a id="n383924"><a id="n383925"><a id="n383926"><a id="n383928"><a id="n383930"><a id="n383920"><a id="n383929"><a id="n383934"><a id="n383932"><a id="n383931"><a id="n383927"><a id="n383916">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#31"><c13>debug</c13></a><c13>!</c13><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#99"><c8>"searching</c8></a><c8>&nbsp;%</c8><a href="../../librustc/metadata/filesearch.rs.html#99"><c8>s"</c8></a><c4>,</c4><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#98"><c8>lib_search_path</c8></a><c13>.</c13><a href="../../libstd/path.rs.html#n100009"><c13>to_str</c13></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#31"><c22>
</c22></a><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n255743"><a id="n255747"><a id="n255745"><a id="n255744"><a id="n255748"><a id="n255742"><a id="n255746">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#31"><c20>r</c20></a><c16>&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#31"><c16>=</c16></a><c16>&nbsp;</c16><a href="../../libstd/os.rs.html#n95003"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n95003"><c8>list_dir_path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#98"><c8>lib_search_path</c8></a><c25>)</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#31"><c22>
</c22></a><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n384042"><a id="n384048"><a id="n384039"><a id="n384037"><a id="n384046"><a id="n384045"><a id="n384041"><a id="n384040"><a id="n255752"><a id="n384032"><a id="n255750"><a id="n255778"><a id="n384036"><a id="n255749"><a id="n384035"><a id="n384049"><a id="n255779"><a id="n384050"><a id="n384034"><a id="n384033"><a id="n255780"><a id="n384038"><a id="n384047"><a id="n384044">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c8>&nbsp;</c8><a href="../../libstd/option.rs.html#n63066"><c20>path</c20></a><c8>&nbsp;</c8><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>in</c8></a><c8>&nbsp;</c8><a href="../../librustc/metadata/filesearch.rs.html#100"><c8>r</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n13961"><c10>iter</c10></a><c25>()</c25><c10>&nbsp;</c10><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n383953"><a id="n383964"><a id="n383961"><a id="n383958"><a id="n383942"><a id="n383951"><a id="n383960"><a id="n383957"><a id="n383968"><a id="n383955"><a id="n383940"><a id="n383952"><a id="n383965"><a id="n383947"><a id="n383963"><a id="n383962"><a id="n383956"><a id="n383967"><a id="n383954"><a id="n383959"><a id="n383966">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#101"><c13>debug</c13></a><c13>!</c13><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#101"><c20>"testing</c20></a><c20>&nbsp;%</c20><a href="../../librustc/metadata/filesearch.rs.html#101"><c20>s"</c20></a><c4>,</c4><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>path</c8></a><c8>.</c8><a href="../../libstd/unstable/extfmt.rs.html#n128758"><c8>to_str</c8></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n255754"><a id="n255759"><a id="n255757"><a id="n255756"><a id="n255755"><a id="n255758"><a id="n255753">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#101"><c20>maybe_picked</c20></a><c16>&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#101"><c16>=</c16></a><c16>&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#96"><c8>pick</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>path</c8></a><c25>)</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n255760"><a id="n255776">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#103"><c8>maybe_picked</c8></a><c7>&nbsp;</c7><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c7>
</c7></a><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n255770"><a id="n255771"><a id="n255762"><a id="n255769"><a id="n255761">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>Some</c20></a><c25>(</c25><a href="../../libstd/option.rs.html#n63066"><c20>_</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n383989"><a id="n383999"><a id="n383984"><a id="n383986"><a id="n383998"><a id="n383982"><a id="n383992"><a id="n383987"><a id="n383990"><a id="n383988"><a id="n383978"><a id="n383991"><a id="n383994"><a id="n383995"><a id="n383973"><a id="n383993"><a id="n383985"><a id="n383996"><a id="n383971"><a id="n383983"><a id="n383997">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#101"><c13>debug</c13></a><c13>!</c13><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>"picked</c22></a><c22>&nbsp;%</c22><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>s"</c22></a><c4>,</c4><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>path</c8></a><c2>.</c2><a href="../../librustc/metadata/filesearch.rs.html#101"><c2>to_str</c2></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n255765"><a id="n255763"><a id="n255764"><a id="n255766">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#97"><c8>rslt</c8></a><c2>&nbsp;</c2><a href="../../librustc/metadata/filesearch.rs.html#101"><c2>=</c2></a><c2>&nbsp;</c2><a href="../../librustc/metadata/filesearch.rs.html#103"><c8>maybe_picked</c8></a><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n255768"><a id="n255767">&nbsp;</a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>break</c21><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c7>
</c7></a><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n255772"><a id="n255773"><a id="n255774"><a id="n255775">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#101"><c20>None</c20></a><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n384014"><a id="n384018"><a id="n384029"><a id="n384016"><a id="n384017"><a id="n384024"><a id="n384004"><a id="n384013"><a id="n384022"><a id="n384026"><a id="n384020"><a id="n384019"><a id="n384027"><a id="n384015"><a id="n384023"><a id="n384021"><a id="n384002"><a id="n384009"><a id="n384028"><a id="n384030"><a id="n384025">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#101"><c13>debug</c13></a><c13>!</c13><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#101"><c16>"rejected</c16></a><c16>&nbsp;%</c16><a href="../../librustc/metadata/filesearch.rs.html#101"><c16>s"</c16></a><c4>,</c4><c13>&nbsp;</c13><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>path</c8></a><c8>.</c8><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>to_str</c8></a><c25>())</c25><c4>;</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c7>
</c7></a><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c22>
</c22></a><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../librustc/metadata/filesearch.rs.html#101"><c8>
</c8></a><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n255783"><a id="n255781">&nbsp;</a></a><c8>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c8><a href="../../librustc/metadata/filesearch.rs.html#97"><c8>rslt</c8></a><c10>.</c10><a href="../../libstd/option.rs.html#n63445"><c10>is_none</c10></a><c25>()</c25><a href="../../libstd/option.rs.html#n63445"><c10>
</c10></a><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>};</c4><c22>
</c22><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n255794"><a id="n255793"><a id="n255795">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>return</c21><c0>&nbsp;</c0><a href="../../librustc/metadata/filesearch.rs.html#97"><c8>rslt</c8></a><c4>;</c4><c22>
</c22><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n255821">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n255800"><a id="n255798"><a id="n255820"><a id="n255804"><a id="n255801">&nbsp;</a></a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;relative_target_lib_path</c26><c25>(</c25><c20>target_triple</c20><c1>:&nbsp;</c1><c3>&amp;str</c3><c25>)</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n255805"><a id="n255807"><a id="n255808"><a id="n255809"><a id="n255806"><a id="n255818"><a id="n255810"><a id="n255816">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../libstd/path.rs.html#n98846"><c8>Path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#212"><c8>libdir</c8></a><c25>())</c25><c9>.</c9><a href="../../libstd/path.rs.html#n100567"><c10>push_many</c10></a><c25>(</c25><c4>[</c4><c16>~</c16><a href="../../libstd/path.rs.html#n100567"><c12>"rustc"</c12></a><c4>,</c4><a href="../../libstd/path.rs.html#n100567"><c0>
</c0></a><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n255811"><a id="n255813">&nbsp;</a></a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><a href="../../librustc/metadata/filesearch.rs.html#120"><c8>target_triple</c8></a><c10>.</c10><a href="../../libstd/str.rs.html#n30129"><c10>to_owned</c10></a><c25>()</c25><c4>,</c4><a href="../../libstd/path.rs.html#n100567"><c0>
</c0></a><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n255814"><a id="n255815">&nbsp;</a></a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><a href="../../librustc/metadata/filesearch.rs.html#212"><c8>libdir</c8></a><c25>()</c25><c4>]</c4><c25>)</c25><a href="../../libstd/path.rs.html#n100567"><c10>
</c10></a><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n255843">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n255822"><a id="n255824"><a id="n255825">&nbsp;</a></a></a><c26>fn&nbsp;make_target_lib_path</c26><c25>(</c25><c20>sysroot</c20><c1>:&nbsp;</c1><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>,</c4><c1>
</c1><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n255842"><a id="n255827"><a id="n255829"><a id="n255833"><a id="n255830">&nbsp;</a></a></a></a></a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20>target_triple</c20><c1>:&nbsp;</c1><c3>&amp;str</c3><c25>)</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n255837"><a id="n255838"><a id="n255836"><a id="n255840"><a id="n255834"><a id="n255835">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#126"><c8>sysroot</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100473"><c10>push_rel</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#119"><c8>relative_target_lib_path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#127"><c8>target_triple</c8></a><c25>))</c25><a href="../../libstd/path.rs.html#n100473"><c10>
</c10></a><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n255863">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n255845"><a id="n255862">&nbsp;</a></a><c26>fn&nbsp;get_or_default_sysroot</c26><c25>()</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n255860"><a id="n255847"><a id="n255846">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><a href="../../libstd/os.rs.html#n94065"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n94065"><c8>self_exe_path</c8></a><c25>()</c25><c9>&nbsp;</c9><c4>{</c4><c7>
</c7><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n255856"><a id="n255853"><a id="n255848"><a id="n255850"><a id="n255852"><a id="n255849"><a id="n255855">&nbsp;</a></a></a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>option</c20></a><c20>::</c20><a href="../../libstd/option.rs.html#n63066"><c20>Some</c20></a><c25>(</c25><a href="../../libstd/option.rs.html#n63066"><c20>ref</c20></a><c20>&nbsp;</c20><a href="../../libstd/option.rs.html#n63066"><c20>p</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c25>(</c25><c2>*</c2><a href="../../librustc/metadata/filesearch.rs.html#133"><c8>p</c8></a><c25>)</c25><c0>.</c0><a href="../../libstd/path.rs.html#n100648"><c22>pop</c22></a><c25>()</c25><c4>,</c4><c7>
</c7><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n255858"><a id="n255857"><a id="n255859"><a id="n384051">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>option::None</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c9>fail!</c9><c25>(</c25><c12>"can't&nbsp;determine&nbsp;value&nbsp;for&nbsp;sysroot"</c12><c25>)</c25><c9>
</c9><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c22>
</c22><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n255891">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n255866"><a id="n255873"><a id="n255867"><a id="n255874"><a id="n255890"><a id="n255869"><a id="n255864"><a id="n255870">&nbsp;</a></a></a></a></a></a></a></a><c26>fn&nbsp;get_sysroot</c26><c25>(</c25><c20>maybe_sysroot</c20><c1>:&nbsp;</c1><c3>&amp;</c3><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c3>&gt;</c3><c25>)</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c3>@</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n255877"><a id="n255875"><a id="n255888">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>match</c21><c7>&nbsp;</c7><c2>*</c2><a href="../../librustc/metadata/filesearch.rs.html#138"><c8>maybe_sysroot</c8></a><c7>&nbsp;</c7><c4>{</c4><c7>
</c7><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n255879"><a id="n255878"><a id="n255880"><a id="n255881">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>option</c20></a><c20>::</c20><a href="../../libstd/option.rs.html#n63066"><c20>Some</c20></a><c25>(</c25><a href="../../libstd/option.rs.html#n63066"><c20>sr</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#140"><c8>sr</c8></a><c4>,</c4><c7>
</c7><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n255882"><a id="n255886"><a id="n255887"><a id="n255883"><a id="n255884">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>option::None</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c2>@</c2><a href="../../librustc/metadata/filesearch.rs.html#130"><c8>get_or_default_sysroot</c8></a><c25>()</c25><c9>
</c9><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a>&nbsp;<c9>&nbsp;&nbsp;&nbsp;&nbsp;</c9><c4>}</c4><c22>
</c22><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a>&nbsp;<c33>#</c33><c4>[</c4><c33>cfg</c33><c25>(</c25><c33>windows</c33><c25>)</c25><c4>]</c4><c33>
</c33><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a>&nbsp;<c0>static&nbsp;PATH_ENTRY_SEPARATOR:&nbsp;&amp;'static&nbsp;str&nbsp;=&nbsp;"</c0><c4>;</c4><c0>"</c0><c4>;</c4><c0>
</c0><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n255903">&nbsp;</a><c33>#</c33><c4>[</c4><c33>cfg</c33><c25>(</c25><c33>not</c33><c25>(</c25><c33>windows</c33><c25>))</c25><c4>]</c4><c33>
</c33><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n255901"><a id="n255900"><a id="n255902">&nbsp;</a></a></a><c0>static&nbsp;PATH_ENTRY_SEPARATOR:&nbsp;</c0><c3>&amp;'static&nbsp;str</c3><c0>&nbsp;=&nbsp;</c0><c12>":"</c12><c4>;</c4><c0>
</c0><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n255914">&nbsp;</a><c32>///&nbsp;Returns&nbsp;RUST_PATH&nbsp;as&nbsp;a&nbsp;string,&nbsp;without&nbsp;default&nbsp;paths&nbsp;added
</c32><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n255913"><a id="n255906"><a id="n255908"><a id="n255905">&nbsp;</a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;get_rust_path</c26><c25>()</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><a href="../../libstd/option.rs.html#n63067"><c3>Option</c3></a><c3>&lt;~</c3><a href="../../libstd/option.rs.html#n63067"><c3>str</c3></a><c3>&gt;</c3><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n255911"><a id="n255910"><a id="n255909">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../libstd/os.rs.html#n93206"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n93206"><c8>getenv</c8></a><c25>(</c25><c12>"RUST_PATH"</c12><c25>)</c25><c9>
</c9><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a>&nbsp;<c32>///&nbsp;Returns&nbsp;the&nbsp;value&nbsp;of&nbsp;RUST_PATH,&nbsp;as&nbsp;a&nbsp;list
</c32><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a>&nbsp;<c32>///&nbsp;of&nbsp;Paths.&nbsp;Includes&nbsp;default&nbsp;entries&nbsp;for,&nbsp;if&nbsp;they&nbsp;exist:
</c32><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a>&nbsp;<c32>///&nbsp;$HOME/.rust
</c32><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a>&nbsp;<c32>///&nbsp;DIR/.rust&nbsp;for&nbsp;any&nbsp;DIR&nbsp;that's&nbsp;the&nbsp;current&nbsp;working&nbsp;directory
</c32><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n256083">&nbsp;</a><c32>///&nbsp;or&nbsp;an&nbsp;ancestor&nbsp;of&nbsp;it
</c32><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n255917"><a id="n255916"><a id="n255918"><a id="n256082">&nbsp;</a></a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;rust_path</c26><c25>()</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c3>~</c3><c4>[</c4><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>]</c4><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n255925"><a id="n255965"><a id="n255922"><a id="n255919"><a id="n255923"><a id="n255926"><a id="n255967"><a id="n255924"><a id="n255966">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c21>mut</c21><c13>&nbsp;</c13><c20>env_rust_path</c20><c16>:&nbsp;</c16><c3>~</c3><c4>[</c4><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>]</c4><c16>&nbsp;=&nbsp;</c16><c7>match&nbsp;</c7><a href="../../librustc/metadata/filesearch.rs.html#150"><c8>get_rust_path</c8></a><c25>()</c25><c9>&nbsp;</c9><c4>{</c4><c7>
</c7><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n255928"><a id="n255959"><a id="n255960"><a id="n255927"><a id="n255958">&nbsp;</a></a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><a href="../../libstd/option.rs.html#n63066"><c20>Some</c20></a><c25>(</c25><a href="../../libstd/option.rs.html#n63066"><c20>env_path</c20></a><c25>)</c25><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c4>{</c4><c22>
</c22><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n255933"><a id="n255935"><a id="n255932"><a id="n255934"><a id="n255942"><a id="n255943"><a id="n255929">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>env_path_components</c20><c16>:&nbsp;</c16><c3>~</c3><c4>[</c4><c3>&amp;str</c3><c4>]</c4><c16>&nbsp;=
</c16><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n255939"><a id="n255936"><a id="n255941"><a id="n255937">&nbsp;</a></a></a></a><c16>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#162"><c8>env_path</c8></a><c10>.</c10><a href="../../libstd/str.rs.html#n29219"><c10>split_str_iter</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#147"><c8>PATH_ENTRY_SEPARATOR</c8></a><c25>)</c25><c10>.</c10><c10>c</c10><c10>o</c10><c10>l</c10><c10>l</c10><c10>e</c10><c10>c</c10><c10>t</c10><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n255953"><a id="n255956"><a id="n255954"><a id="n255950"><a id="n255944"><a id="n255952"><a id="n255949"><a id="n255947"><a id="n255945"><a id="n255946"><a id="n255951">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#163"><c8>env_path_components</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n14527"><c10>map</c10></a><c25>(</c25><c0>|</c0><c20>&amp;</c20><a href="../../libstd/vec.rs.html#n14527"><c20>s</c20></a><c3>|</c3><c0>&nbsp;</c0><a href="../../libstd/path.rs.html#n98846"><c8>Path</c8></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#165"><c8>s</c8></a><c25>))</c25><a href="../../libstd/vec.rs.html#n14527"><c10>
</c10></a><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a>&nbsp;<c10>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c10><c4>}</c4><c7>
</c7><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n255964"><a id="n255961"><a id="n255963"><a id="n255962">&nbsp;</a></a></a></a><c7>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c7><c20>None</c20><c7>&nbsp;</c7><c4>=&gt;</c4><c7>&nbsp;</c7><c22>~</c22><c4>[]</c4><c7>
</c7><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a>&nbsp;<c7>&nbsp;&nbsp;&nbsp;&nbsp;</c7><c4>};</c4><c22>
</c22><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n255973"><a id="n255972"><a id="n255969"><a id="n255971"><a id="n255970"><a id="n255968">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>cwd</c20><c16>&nbsp;=&nbsp;</c16><a href="../../libstd/os.rs.html#n92526"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n92526"><c8>getcwd</c8></a><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c24>//&nbsp;now&nbsp;add&nbsp;in&nbsp;default&nbsp;entries
</c24><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n255979"><a id="n255975"><a id="n255977"><a id="n255980"><a id="n255974"><a id="n255976"><a id="n255981">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>cwd_dot_rust</c20><c16>&nbsp;=&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#169"><c8>cwd</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"</c12></a><c12>.</c12><a href="../../libstd/path.rs.html#n100617"><c12>rust"</c12></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n255982"><a id="n255996"><a id="n255994"><a id="n255988"><a id="n255983"><a id="n255984"><a id="n255995"><a id="n255986">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n14706"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#171"><c8>cwd_dot_rust</c8></a><c25>)</c25><c10>&nbsp;</c10><c4>{</c4><c22>
</c22><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n255992"><a id="n255989"><a id="n255990"><a id="n255993">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n15439"><c10>push</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#171"><c8>cwd_dot_rust</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n255997"><a id="n256011"><a id="n256013"><a id="n255999"><a id="n256001"><a id="n256012"><a id="n256003"><a id="n255998">&nbsp;</a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c13>&nbsp;</c13><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n14706"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#169"><c8>cwd</c8></a><c25>)</c25><c10>&nbsp;</c10><c4>{</c4><c22>
</c22><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n256004"><a id="n256007"><a id="n256010"><a id="n256005"><a id="n256009">&nbsp;</a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c13>.</c13><a href="../../libstd/vec.rs.html#n15439"><c13>push</c13></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#169"><c8>cwd</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n348633"><c10>clone</c10></a><c25>())</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n256043"><a id="n256046"><a id="n256042"><a id="n256018"><a id="n256020"><a id="n256044"><a id="n256041"><a id="n256047"><a id="n256040"><a id="n256017"><a id="n256014">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>do</c21><c10>&nbsp;</c10><a href="../../librustc/metadata/filesearch.rs.html#169"><c8>cwd</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n99633"><c10>each_parent</c10></a><c25>()</c25><c0>&nbsp;|</c0><a href="../../libstd/path.rs.html#n99633"><c20>p</c20></a><c3>|</c3><c0>&nbsp;</c0><c4>{</c4><a href="../../libstd/path.rs.html#n99633"><c22>
</c22></a><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n256038"><a id="n256022"><a id="n256028"><a id="n256021"><a id="n256025"><a id="n256037"><a id="n256030"><a id="n256026"><a id="n256023">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n14706"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#178"><c8>p</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"</c12></a><c12>.</c12><a href="../../libstd/path.rs.html#n100617"><c12>rust"</c12></a><c25>))</c25><c10>&nbsp;</c10><c4>{</c4><a href="../../libstd/path.rs.html#n99633"><c22>
</c22></a><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n256035"><a id="n256034"><a id="n256036"><a id="n256031"><a id="n256033"><a id="n256032">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#193"><c8>push_if_exists</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../libstd/path.rs.html#n99633"><c2>mut</c2></a><c2>&nbsp;</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../librustc/metadata/filesearch.rs.html#178"><c8>p</c8></a><c25>)</c25><c4>;</c4><a href="../../libstd/path.rs.html#n99633"><c22>
</c22></a><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../libstd/path.rs.html#n99633"><c22>
</c22></a><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n256048"><a id="n256050"><a id="n256052"><a id="n256053"><a id="n256049"><a id="n256051">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>h</c20><c16>&nbsp;=&nbsp;</c16><a href="../../libstd/os.rs.html#n94154"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n94154"><c8>homedir</c8></a><c25>()</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n384058"><a id="n256078"><a id="n384070"><a id="n256079"><a id="n384067"><a id="n384060"><a id="n384076"><a id="n384068"><a id="n384075"><a id="n384059"><a id="n384073"><a id="n384065"><a id="n384063"><a id="n256077"><a id="n384074"><a id="n256057"><a id="n256054"><a id="n384071"><a id="n256055"><a id="n384072"><a id="n384061"><a id="n384062"><a id="n384064"><a id="n384066">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>for</c21><c3>&nbsp;</c3><a href="../../libstd/option.rs.html#n63066"><c20>h</c20></a><c3>&nbsp;</c3><a href="../../libstd/option.rs.html#n64184"><c3>in</c3></a><c3>&nbsp;</c3><a href="../../librustc/metadata/filesearch.rs.html#183"><c8>h</c8></a><c2>.</c2><a href="../../libstd/option.rs.html#n64184"><c2>iter</c2></a><c25>()</c25><c2>&nbsp;</c2><c4>{</c4><a href="../../libstd/option.rs.html#n64184"><c22>
</c22></a><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n256074"><a id="n256060"><a id="n256063"><a id="n256065"><a id="n256058"><a id="n256075"><a id="n256059"><a id="n256062"><a id="n256067">&nbsp;</a></a></a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><c2>!</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n14706"><c10>contains</c10></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#184"><c8>h</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/option.rs.html#n64184"><c12>"</c12></a><c12>.</c12><a href="../../libstd/option.rs.html#n64184"><c12>rust"</c12></a><c25>))</c25><c10>&nbsp;</c10><c4>{</c4><a href="../../libstd/option.rs.html#n64184"><c22>
</c22></a><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n256068"><a id="n256069"><a id="n256072"><a id="n256071"><a id="n256070"><a id="n256073">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#193"><c8>push_if_exists</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../libstd/option.rs.html#n64184"><c2>mut</c2></a><c2>&nbsp;</c2><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c4>,</c4><c9>&nbsp;</c9><a href="../../librustc/metadata/filesearch.rs.html#184"><c8>h</c8></a><c25>)</c25><c4>;</c4><a href="../../libstd/option.rs.html#n64184"><c22>
</c22></a><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../libstd/option.rs.html#n64184"><c22>
</c22></a><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><a href="../../libstd/option.rs.html#n64184"><c3>
</c3></a><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n256080">&nbsp;</a><c3>&nbsp;&nbsp;&nbsp;&nbsp;</c3><a href="../../librustc/metadata/filesearch.rs.html#161"><c8>env_rust_path</c8></a><c22>
</c22><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n256118">&nbsp;</a><c32>///&nbsp;Adds&nbsp;p/.rust&nbsp;into&nbsp;vec,&nbsp;only&nbsp;if&nbsp;it&nbsp;exists
</c32><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n256086"><a id="n256117"><a id="n256094"><a id="n256091"><a id="n256089"><a id="n256096"><a id="n256093"><a id="n256084"><a id="n256088"><a id="n256087">&nbsp;</a></a></a></a></a></a></a></a></a></a><c26>fn&nbsp;push_if_exists</c26><c25>(</c25><c20>vec</c20><c1>:&nbsp;</c1><c3>&amp;mut&nbsp;~</c3><c4>[</c4><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c4>],</c4><c1>&nbsp;</c1><c20>p</c20><c1>:&nbsp;</c1><c3>&amp;</c3><a href="../../libstd/path.rs.html#n98833"><c3>Path</c3></a><c25>)</c25><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n256097"><a id="n256100"><a id="n256099"><a id="n256104"><a id="n256102"><a id="n256098"><a id="n256103">&nbsp;</a></a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c13>&nbsp;</c13><c20>maybe_dir</c20><c16>&nbsp;=&nbsp;</c16><a href="../../librustc/metadata/filesearch.rs.html#194"><c8>p</c8></a><c10>.</c10><a href="../../libstd/path.rs.html#n100617"><c10>push</c10></a><c25>(</c25><a href="../../libstd/path.rs.html#n100617"><c12>"</c12></a><c12>.</c12><a href="../../libstd/path.rs.html#n100617"><c12>rust"</c12></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n256106"><a id="n256115"><a id="n256108"><a id="n256105"><a id="n256107"><a id="n256114">&nbsp;</a></a></a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>if</c21><c7>&nbsp;</c7><a href="../../libstd/os.rs.html#n94396"><c8>os</c8></a><c8>::</c8><a href="../../libstd/os.rs.html#n94396"><c8>path_exists</c8></a><c25>(</c25><c2>&amp;</c2><a href="../../librustc/metadata/filesearch.rs.html#195"><c8>maybe_dir</c8></a><c25>)</c25><c9>&nbsp;</c9><c4>{</c4><c22>
</c22><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n256109"><a id="n256110"><a id="n256112"><a id="n256113">&nbsp;</a></a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c22><a href="../../librustc/metadata/filesearch.rs.html#194"><c8>vec</c8></a><c10>.</c10><a href="../../libstd/vec.rs.html#n15439"><c10>push</c10></a><c25>(</c25><a href="../../librustc/metadata/filesearch.rs.html#195"><c8>maybe_dir</c8></a><c25>)</c25><c4>;</c4><c22>
</c22><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a>&nbsp;<c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c4>}</c4><c22>
</c22><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a>&nbsp;<c24>//&nbsp;The&nbsp;name&nbsp;of&nbsp;the&nbsp;directory&nbsp;rustc&nbsp;expects&nbsp;libraries&nbsp;to&nbsp;be&nbsp;located.
</c24><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c24>//&nbsp;On&nbsp;Unix&nbsp;should&nbsp;be&nbsp;"lib",&nbsp;on&nbsp;windows&nbsp;"bin"
</c24><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a>&nbsp;<c33>#</c33><c4>[</c4><c33>cfg</c33><c25>(</c25><c33>stage0</c33><c25>)</c25><c4>]</c4><c33>
</c33><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c21>pub</c21><c0>&nbsp;</c0><c26>fn&nbsp;libdir</c26><c25>()</c25><c0>&nbsp;</c0><c4>-&gt;</c4><c0>&nbsp;~str&nbsp;</c0><c4>{</c4><c0>
</c0><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;libdir&nbsp;=&nbsp;env!</c0><c25>(</c25><c0>"CFG_LIBDIR"</c0><c25>)</c25><c4>;</c4><c0>
</c0><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;</c0><c21>if</c21><c0>&nbsp;libdir.is_empty</c0><c25>()</c25><c0>&nbsp;</c0><c4>{</c4><c0>
</c0><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail!</c0><c25>(</c25><c0>"rustc&nbsp;compiled&nbsp;without&nbsp;CFG_LIBDIR&nbsp;environment&nbsp;variable"</c0><c25>)</c25><c4>;</c4><c0>
</c0><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;</c0><c4>}</c4><c0>
</c0><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a>&nbsp;<c0>&nbsp;&nbsp;&nbsp;libdir.to_owned</c0><c25>()</c25><c0>
</c0><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n256148">&nbsp;</a><c33>#</c33><c4>[</c4><c33>cfg</c33><c25>(</c25><c33>not</c33><c25>(</c25><c33>stage0</c33><c25>))</c25><c4>]</c4><c33>
</c33><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n256147"><a id="n256140"><a id="n256141">&nbsp;</a></a></a><c21>pub</c21><c1>&nbsp;</c1><c26>fn&nbsp;libdir</c26><c25>()</c25><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c3>~str</c3><c1>&nbsp;</c1><c4>{</c4><c22>
</c22><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n256145"><a id="n256143"><a id="n256142">&nbsp;</a></a></a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c25>(</c25><a href="../../libstd/str.rs.html#n30129"><c12>env</c12></a><c12>!</c12><c25>(</c25><a href="../../libstd/str.rs.html#n30129"><c12>"CFG_LIBDIR"</c12></a><c25>))</c25><c0>.</c0><a href="../../libstd/str.rs.html#n30129"><c10>to_owned</c10></a><c25>()</c25><a href="../../libstd/str.rs.html#n30129"><c10>
</c10></a><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a>&nbsp;<c4>}</c4><c0>
</c0><br/><div/><br/><a id="95_1_refs"><a href="#95"><c24>librustc/metadata/filesearch.rs:95:1-95:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>pub&nbsp;fn&nbsp;search&lt;T&gt;(filesearch:&nbsp;@FileSearch,&nbsp;pick:&nbsp;pick&lt;T&gt;)&nbsp;-&gt;&nbsp;Option&lt;T&gt;&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/loader.rs.html"><c24>librustc/metadata/loader.rs:<br/></c24><a href="../../librustc/metadata/loader.rs.html#95"><c24>95:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;filesearch::search(filesearch,&nbsp;|path|&nbsp;-&gt;&nbsp;Option&lt;()&gt;&nbsp;{
<br/></a><br/><br/><a id="125_1_refs"><a href="#125"><c24>librustc/metadata/filesearch.rs:125:1-125:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>fn&nbsp;make_target_lib_path(sysroot:&nbsp;&amp;Path,
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#61"><c24>61:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;tlib_path&nbsp;=&nbsp;make_target_lib_path(self.sysroot,
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#80"><c24>80:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;make_target_lib_path(self.sysroot,&nbsp;self.target_triple)
<br/></a><br/><br/><a id="130_1_refs"><a href="#130"><c24>librustc/metadata/filesearch.rs:130:1-130:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>fn&nbsp;get_or_default_sysroot()&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#141"><c24>141:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option::None&nbsp;=&gt;&nbsp;@get_or_default_sysroot()
<br/></a><br/><br/><a id="193_45_refs"><a href="#193"><c24>librustc/metadata/filesearch.rs:193:45-193:45&nbsp;-fn-&nbsp;definition:<br/></c24><pr>///&nbsp;Adds&nbsp;p/.rust&nbsp;into&nbsp;vec,&nbsp;only&nbsp;if&nbsp;it&nbsp;exists
<br/>fn&nbsp;push_if_exists(vec:&nbsp;&amp;mut&nbsp;~[Path],&nbsp;p:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#180"><c24>180:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_if_exists(&amp;mut&nbsp;env_rust_path,&nbsp;p);
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#186"><c24>186:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_if_exists(&amp;mut&nbsp;env_rust_path,&nbsp;h);
<br/></a><br/><br/><a id="21_36_refs"><a href="#21"><c24>librustc/metadata/filesearch.rs:21:36-21:36&nbsp;-ty-&nbsp;definition:<br/></c24><pr>///&nbsp;a&nbsp;file&nbsp;found&nbsp;in&nbsp;that&nbsp;directory.
<br/>pub&nbsp;type&nbsp;pick&lt;'self,&nbsp;T&gt;&nbsp;=&nbsp;&amp;'self&nbsp;fn(path:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;Option&lt;T&gt;;
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#96"><c24>96:&nbsp;</c24>pub&nbsp;fn&nbsp;search&lt;T&gt;(filesearch:&nbsp;@FileSearch,&nbsp;pick:&nbsp;pick&lt;T&gt;)&nbsp;-&gt;&nbsp;Option&lt;T&gt;&nbsp;{
<br/></a><br/><br/><a id="38_1_refs"><a href="#38"><c24>librustc/metadata/filesearch.rs:38:1-38:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>pub&nbsp;fn&nbsp;mk_filesearch(maybe_sysroot:&nbsp;&amp;Option&lt;@Path&gt;,
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/driver/driver.rs.html"><c24>librustc/driver/driver.rs:<br/></c24><a href="../../librustc/driver/driver.rs.html#794"><c24>794:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;filesearch&nbsp;=&nbsp;filesearch::mk_filesearch(
<br/></a><br/><br/><a id="150_63_refs"><a href="#150"><c24>librustc/metadata/filesearch.rs:150:63-150:63&nbsp;-fn-&nbsp;definition:<br/></c24><pr>///&nbsp;Returns&nbsp;RUST_PATH&nbsp;as&nbsp;a&nbsp;string,&nbsp;without&nbsp;default&nbsp;paths&nbsp;added
<br/>pub&nbsp;fn&nbsp;get_rust_path()&nbsp;-&gt;&nbsp;Option&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#161"><c24>161:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;env_rust_path:&nbsp;~[Path]&nbsp;=&nbsp;match&nbsp;get_rust_path()&nbsp;{
<br/></a><br/><br/><a id="159_25_refs"><a href="#159"><c24>librustc/metadata/filesearch.rs:159:25-159:25&nbsp;-fn-&nbsp;definition:<br/></c24><pr>///&nbsp;or&nbsp;an&nbsp;ancestor&nbsp;of&nbsp;it
<br/>pub&nbsp;fn&nbsp;rust_path()&nbsp;-&gt;&nbsp;~[Path]&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#70"><c24>70:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rustpath&nbsp;=&nbsp;rust_path();
<br/></a><a href="../../librustc/back/link.rs.html"><c24>librustc/back/link.rs:<br/></c24><a href="../../librustc/back/link.rs.html#955"><c24>955:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rustpath&nbsp;=&nbsp;filesearch::rust_path();
<br/></a><br/><br/><a id="43_4_refs"><a href="#43"><c24>librustc/metadata/filesearch.rs:43:4-43:4&nbsp;-struct-&nbsp;definition:<br/></c24><pr>&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;FileSearchImpl&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sysroot:&nbsp;@Path,
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#48"><c24>48:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;impl&nbsp;FileSearch&nbsp;for&nbsp;FileSearchImpl&nbsp;{
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#89"><c24>89:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;@FileSearchImpl&nbsp;{
<br/></a><br/><br/><a id="119_1_refs"><a href="#119"><c24>librustc/metadata/filesearch.rs:119:1-119:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>pub&nbsp;fn&nbsp;relative_target_lib_path(target_triple:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#128"><c24>128:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;sysroot.push_rel(&amp;relative_target_lib_path(target_triple))
<br/></a><a href="../../librustc/back/rpath.rs.html"><c24>librustc/back/rpath.rs:<br/></c24><a href="../../librustc/back/rpath.rs.html#47"><c24>47:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r&nbsp;=&nbsp;filesearch::relative_target_lib_path(sess.opts.target_triple);
<br/></a><a href="../../librustc/back/rpath.rs.html#149"><c24>149:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;tlib&nbsp;=&nbsp;filesearch::relative_target_lib_path(target_triple);
<br/></a><br/><br/><a id="31_1_refs"><a href="#31"><c24>librustc/metadata/filesearch.rs:31:1-31:1&nbsp;-trait-&nbsp;definition:<br/></c24><pr>
<br/>pub&nbsp;trait&nbsp;FileSearch&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#98"><c24>98:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;filesearch.for_each_lib_search_path()&nbsp;|lib_search_path|&nbsp;{
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#96"><c24>96:&nbsp;</c24>pub&nbsp;fn&nbsp;search&lt;T&gt;(filesearch:&nbsp;@FileSearch,&nbsp;pick:&nbsp;pick&lt;T&gt;)&nbsp;-&gt;&nbsp;Option&lt;T&gt;&nbsp;{
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#93"><c24>93:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;as&nbsp;@FileSearch
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#42"><c24>42:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;@FileSearch&nbsp;{
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#48"><c24>48:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;impl&nbsp;FileSearch&nbsp;for&nbsp;FileSearchImpl&nbsp;{
<br/></a><a href="../../librustc/driver/session.rs.html"><c24>librustc/driver/session.rs:<br/></c24><a href="../../librustc/driver/session.rs.html#196"><c24>196:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;filesearch:&nbsp;@filesearch::FileSearch,
<br/></a><a href="../../librustc/back/link.rs.html"><c24>librustc/back/link.rs:<br/></c24><a href="../../librustc/back/link.rs.html#904"><c24>904:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;stage:&nbsp;~str&nbsp;=&nbsp;~"-L"&nbsp;+&nbsp;sess.filesearch.get_target_lib_path().to_str();
<br/></a><a href="../../librustc/back/rpath.rs.html"><c24>librustc/back/rpath.rs:<br/></c24><a href="../../librustc/back/rpath.rs.html#34"><c24>34:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sysroot&nbsp;=&nbsp;sess.filesearch.sysroot();
<br/></a><a href="../../librustc/back/rpath.rs.html#48"><c24>48:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;sess.filesearch.sysroot().push_rel(&amp;r).push(os::dll_filename("rustrt"))
<br/></a><a href="../../librustc/metadata/creader.rs.html"><c24>librustc/metadata/creader.rs:<br/></c24><a href="../../librustc/metadata/creader.rs.html#117"><c24>117:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;filesearch:&nbsp;@FileSearch,
<br/></a><a href="../../librustc/metadata/creader.rs.html#35"><c24>35:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filesearch:&nbsp;@FileSearch,
<br/></a><a href="../../librustc/metadata/loader.rs.html"><c24>librustc/metadata/loader.rs:<br/></c24><a href="../../librustc/metadata/loader.rs.html#47"><c24>47:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;filesearch:&nbsp;@FileSearch,
<br/></a><a href="../../librustc/metadata/loader.rs.html#89"><c24>89:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;filesearch:&nbsp;@filesearch::FileSearch
<br/></a><br/><br/><a id="137_1_refs"><a href="#137"><c24>librustc/metadata/filesearch.rs:137:1-137:1&nbsp;-fn-&nbsp;definition:<br/></c24><pr>
<br/>fn&nbsp;get_sysroot(maybe_sysroot:&nbsp;&amp;Option&lt;@Path&gt;)&nbsp;-&gt;&nbsp;@Path&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#87"><c24>87:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sysroot&nbsp;=&nbsp;get_sysroot(maybe_sysroot);
<br/></a><br/><br/><a id="212_20_refs"><a href="#212"><c24>librustc/metadata/filesearch.rs:212:20-212:20&nbsp;-fn-&nbsp;definition:<br/></c24><pr>#[cfg(not(stage0))]
<br/>pub&nbsp;fn&nbsp;libdir()&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c24>references:-<br/></c24><a href="../../librustc/metadata/filesearch.rs.html#121"><c24>121:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;Path(libdir()).push_many([~"rustc",
<br/></a><a href="../../librustc/metadata/filesearch.rs.html#123"><c24>123:&nbsp;</c24>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libdir()])
<br/></a><br/></a></a>