<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/rpath.rs.html">rpath.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2012-2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;driver::session::Session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;metadata::cstore</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;metadata::filesearch</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;collections::HashSet</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::</c0><c3>{</c3><c0>os</c0><c3>,</c3><c0>&nbsp;slice</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::abi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[446224]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[446231, 446227, 446230, 446228]">&nbsp;</a><c30>fn</c30><c30><a href="#19_1_refs">&nbsp;not_win32</a></c30><c4>(</c4><c20><a href="#20_13_refs">os</a></c20><c1><a href="#19_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/abi.rs.html#n14459">abi::Os</a></c8><c4>)</c4><c1><a href="#19_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#19_1_refs">&nbsp;</a></c1><c8><a href="#19_1_refs">bool</a></c8><c1><a href="#19_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#19_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[446234, 446232, 446233]">&nbsp;</a><c22><a href="#19_1_refs">&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#20">os</a></c26><c5><a href="#19_1_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c26><c22><a href="#19_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[446235]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[446248, 446243, 446240, 446244, 446245, 446250, 446247, 446239, 446238, 446452]">&nbsp;</a><c21>pub</c21><c1><a href="#23_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#23_1_refs">&nbsp;get_rpath_flags</a></c30><c4>(</c4><c20><a href="#24_23_refs">sess</a></c20><c1><a href="#23_1_refs">:&nbsp;</a></c1><c8><a href="#23_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#23_1_refs">&nbsp;</a></c1><c20><a href="#24_39_refs">out_filename</a></c20><c1><a href="#23_1_refs">:&nbsp;</a></c1><c8><a href="#23_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#23_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#23_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c1><a href="#23_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[446254, 446256, 446257, 446251, 446255, 446252, 446253]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#25_8_refs">os</a></c20><c16><a href="#23_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;No&nbsp;rpath&nbsp;on&nbsp;windows
</c40><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[446267, 446259, 446266, 446260, 446258, 446265]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#23_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#25">os</a></c26><c5><a href="#23_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c26><c21><a href="#23_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[446263, 446261, 446264, 446262]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#23_1_refs">&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[446268, 446270, 446271, 446272, 446269, 446273]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#32_8_refs">&nbsp;flags</a></c20><c13><a href="#23_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[446274, 446277, 446278, 446290, 446289, 446291, 446276, 446275]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#23_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#23_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14464">abi::OsFreebsd</a></c26><c13><a href="#23_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[446280, 446286, 446287, 446279, 446288, 446281]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#32">flags</a></c26><c13><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c13><c4>(</c4><c3>[</c3><c16><a href="../../libstd/vec.rs.html#n56707">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56707">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">-rpath</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">/usr/local/lib/gcc46"</a></c12><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56707">
</a></c1><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[446283, 446282]">&nbsp;</a><c1><a href="../../libstd/vec.rs.html#n56707">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="../../libstd/vec.rs.html#n56707">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56707">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">-rpath</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">/usr/local/lib/gcc44"</a></c12><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56707">
</a></c1><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[446285, 446284]">&nbsp;</a><c1><a href="../../libstd/vec.rs.html#n56707">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="../../libstd/vec.rs.html#n56707">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56707">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">-z</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56707">origin"</a></c12><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[446341, 446347, 446325, 446352, 446336, 446343, 446349, 446332, 446324, 446346, 446344, 446348, 446326, 446342, 446366, 446330, 446351, 446333, 446338, 446340, 446329, 446334, 446335, 446369, 446350, 446337, 446331, 446339, 446353, 446345]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c20><a href="#40_11_refs">"preparing&nbsp;the&nbsp;RPATH!"</a></c20><c4>)</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[446380, 446377, 446381, 446376, 446375, 446379, 446378]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#42_8_refs">sysroot</a></c20><c16><a href="#23_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#317">.filesearch</a></c10><c4>()</c4><c24><a href="../../librustc/metadata/filesearch.rs.html#29">.sysroot</a></c24><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[446385, 446382, 446383, 446386, 446384]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#43_8_refs">output</a></c20><c13><a href="#23_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#24">out_filename</a></c26><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[446390, 446392, 446394, 446389, 446391, 446387, 446393, 446388]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#44_8_refs">libs</a></c20><c16><a href="#23_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#150">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#47">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[446410, 446407, 446412, 446415, 446403, 446405, 446401, 446406, 446404, 446402, 446413, 446409, 446399, 446395, 446418, 446397, 446420, 446398, 446417, 446396, 446414, 446416, 446411, 446419]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#45_8_refs">libs</a></c20><c13><a href="#23_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#44">libs</a></c26><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">.filter_map</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c1><c4>(</c4><c20><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">_</a></c20><c3>,</c3><c20><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">&nbsp;</a></c20><c20><a href="#45_48_refs">l</a></c20><c4>)</c4><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">&nbsp;</a></c1><c8><a href="../../librustc/back/rpath.rs.html#45">l</a></c8><c10><a href="../../libstd/option.rs.html#n105129">.map</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c1><c20><a href="#45_59_refs">p</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">&nbsp;</a></c1><c8><a href="../../librustc/back/rpath.rs.html#45">p</a></c8><c10><a href="../../libstd/path/posix.rs.html#n154254">.clone</a></c10><c4>()))</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#4167">.collect</a></c10><c4>()</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;don't&nbsp;currently&nbsp;rpath&nbsp;extern&nbsp;libraries,&nbsp;but&nbsp;we&nbsp;know
</c40><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;where&nbsp;rustrt&nbsp;is&nbsp;and&nbsp;we&nbsp;know&nbsp;every&nbsp;rust&nbsp;program&nbsp;needs&nbsp;it
</c40><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[446421, 446423, 446424, 446430, 446428, 446426, 446425, 446427, 446422, 446429]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#48_8_refs">libs</a></c20><c13><a href="#23_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/slice.rs.html#n46671">slice::append_one</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#45">libs</a></c26><c3>,</c3><c27><a href="#23_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#55">get_sysroot_absolute_rt_lib</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c4>))</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[446437, 446442, 446438, 446435, 446431, 446443, 446434, 446433, 446436, 446432]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#23_1_refs">&nbsp;</a></c22><c20><a href="#50_8_refs">rpaths</a></c20><c13><a href="#23_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#70">get_rpaths</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#25">os</a></c26><c3>,</c3><c27><a href="#23_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#42">sysroot</a></c26><c3>,</c3><c27><a href="#23_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#43">output</a></c26><c3>,</c3><c27><a href="#23_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#48">libs</a></c26><c3>,</c3><c27><a href="#23_1_refs">
</a></c27><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[446441, 446440, 446439]">&nbsp;</a><c27><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#24">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#139">.target_triple</a></c24><c4>)</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[446447, 446449, 446444, 446448, 446450, 446445, 446451, 446446]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#32">flags</a></c26><c13><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#62">rpaths_to_flags</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#50">rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[446453]">&nbsp;</a><c22><a href="#23_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#32">flags</a></c26><c22><a href="#23_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[446454]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[446457, 446487, 446458, 446461, 446459]">&nbsp;</a><c30>fn</c30><c30><a href="#55_1_refs">&nbsp;get_sysroot_absolute_rt_lib</a></c30><c4>(</c4><c20><a href="#56_31_refs">sess</a></c20><c1><a href="#55_1_refs">:&nbsp;</a></c1><c8><a href="#55_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c1><a href="#55_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[446464, 446468, 446466, 446462, 446467, 446463, 446470, 446469, 446465]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#57_8_refs">r</a></c20><c13><a href="#55_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/filesearch.rs.html#138">filesearch::relative_target_lib_path</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#56">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#139">.target_triple</a></c24><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[446475, 446473, 446480, 446478, 446477, 446479, 446474, 446471, 446472, 446476]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#58_8_refs">&nbsp;p</a></c20><c16><a href="#55_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#56">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#317">.filesearch</a></c10><c4>()</c4><c24><a href="../../librustc/metadata/filesearch.rs.html#29">.sysroot</a></c24><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.join</a></c10><c4>(</c4><c5><a href="#55_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/rpath.rs.html#57">r</a></c26><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[446484, 446481, 446483, 446482, 446486, 446485]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#58">p</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.push</a></c10><c4>(</c4><c26><a href="../../libstd/os.rs.html#n133818">os::dll_filename</a></c26><c4>(</c4><c12><a href="#55_1_refs">"rustrt"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[446488]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#58">p</a></c26><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[446489]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[446535, 446492, 446499, 446496, 446501, 446494, 446495, 446498, 446493]">&nbsp;</a><c21>pub</c21><c1><a href="#62_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#62_1_refs">&nbsp;rpaths_to_flags</a></c30><c4>(</c4><c20><a href="#63_23_refs">rpaths</a></c20><c1><a href="#62_1_refs">:&nbsp;</a></c1><c8><a href="#62_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="#62_1_refs">~str</a></c8><c3>]</c3><c4>)</c4><c1><a href="#62_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#62_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="#62_1_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#62_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#62_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[446507, 446503, 446505, 446504, 446502, 446506]">&nbsp;</a><c22><a href="#62_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#62_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#64_8_refs">&nbsp;ret</a></c20><c16><a href="#62_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#62_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[446527, 446511, 446516, 446528, 446531, 446514, 446517, 446515, 446526, 446510, 446509, 446518, 446512, 446513, 446508, 446530, 446529]">&nbsp;</a><c22><a href="#62_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../librustc/back/rpath.rs.html#65">&nbsp;</a></c21><c20><a href="#65_8_refs">rpath</a></c20><c21><a href="../../librustc/back/rpath.rs.html#65">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#63">rpaths</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c21><a href="../../librustc/back/rpath.rs.html#65">&nbsp;</a></c21><c3>{</c3><c22><a href="#65_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[446524, 446521, 446519, 446520, 446522, 446523, 446525]">&nbsp;</a><c22><a href="#65_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#64">ret</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n57406">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">-rpath</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">"</a></c12><c5><a href="../../libstd/vec.rs.html#n57406">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/rpath.rs.html#65">rpath</a></c26><c4>)</c4><c3>;</c3><c22><a href="#65_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#65_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/rpath.rs.html#65">
</a></c21><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[446533, 446532, 446534]">&nbsp;</a><c21><a href="../../librustc/back/rpath.rs.html#65">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c21>return</c21><c13><a href="#62_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#64">ret</a></c26><c3>;</c3><c22><a href="#62_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[446536]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[446539, 446540]">&nbsp;</a><c30>fn</c30><c30><a href="#70_1_refs">&nbsp;get_rpaths</a></c30><c4>(</c4><c20><a href="#71_14_refs">os</a></c20><c1><a href="#70_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/abi.rs.html#n14459">abi::Os</a></c8><c3>,</c3><c1><a href="#70_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[446543, 446544, 446545]">&nbsp;</a><c1><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#72_14_refs">sysroot</a></c20><c1><a href="#70_1_refs">:&nbsp;</a></c1><c8><a href="#70_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#70_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[446549, 446550, 446548]">&nbsp;</a><c1><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#73_14_refs">output</a></c20><c1><a href="#70_1_refs">:&nbsp;</a></c1><c8><a href="#70_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#70_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[446553, 446554, 446555, 446556]">&nbsp;</a><c1><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#74_14_refs">libs</a></c20><c1><a href="#70_1_refs">:&nbsp;</a></c1><c8><a href="#70_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>],</c3><c1><a href="#70_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[446563, 446566, 446561, 447388, 446559, 446560, 446564]">&nbsp;</a><c1><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#75_14_refs">target_triple</a></c20><c1><a href="#70_1_refs">:&nbsp;</a></c1><c8><a href="#70_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#70_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#70_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c1><a href="#70_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[446630, 446609, 446608, 446615, 446634, 446605, 446621, 446620, 446611, 446601, 446636, 446602, 446628, 446599, 446633, 446610, 446640, 446622, 446604, 446632, 446616, 446617, 446644, 446645, 446641, 446663, 446631, 446660, 446618, 446600, 446629, 446638, 446646, 446623, 446627, 446643, 446614, 446635, 446612, 446625, 446603, 446624, 446613, 446642, 446647, 446639, 446626, 446637, 446619]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169505">"sysroot:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c26><c3>,</c3><c22><a href="#70_1_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#72">sysroot</a></c26><c20><a href="#76_26_refs">.display</a></c20><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[446738, 446730, 446723, 446729, 446705, 446715, 446707, 446710, 446717, 446720, 446701, 446721, 446742, 446746, 446718, 446702, 446745, 446734, 446713, 446726, 446714, 446712, 446744, 446765, 446706, 446731, 446724, 446711, 446732, 446762, 446736, 446740, 446735, 446722, 446719, 446747, 446728, 446703, 446733, 446737, 446727, 446741, 446725, 446748, 446739, 446749, 446743, 446704, 446716]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169461">"output:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169461">"</a></c26><c3>,</c3><c22><a href="#70_1_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#73">output</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n169877">.display</a></c26><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[446808, 446821, 446817, 446803, 446811, 446814, 446818, 446829, 446813, 446826, 446804, 446822, 446848, 446823, 446805, 446825, 446819, 446827, 446820, 446824, 446815, 446830, 446828, 446831, 446832, 446816, 446845, 446812, 446809, 446810]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../librustc/back/rpath.rs.html#78">"libs:"</a></c8><c4>)</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[446861, 446968, 446970, 446971, 446855, 446969, 446859, 446856, 446857, 446967, 446972, 446858, 446862, 446863, 446864, 446854, 446860]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c10><c20><a href="#79_8_refs">libpath</a></c20><c10><a href="../../libstd/slice.rs.html#n55129">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/rpath.rs.html#74">libs</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[446917, 446902, 446906, 446945, 446920, 446923, 446922, 446928, 446929, 446908, 446916, 446901, 446931, 446934, 446898, 446913, 446918, 446939, 446944, 446907, 446903, 446914, 446943, 446897, 446942, 446900, 446932, 446921, 446958, 446926, 446930, 446915, 446919, 446938, 446912, 446925, 446910, 446927, 446940, 446899, 446911, 446937, 446909, 446941, 446936, 446924, 446933, 446935, 446961]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c22><a href="../../librustc/back/rpath.rs.html#80">"&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>{}</c3><c22><a href="../../librustc/back/rpath.rs.html#80">"</a></c22><c3>,</c3><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#79">libpath</a></c26><c5><a href="../../librustc/back/rpath.rs.html#80">.display</a></c5><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/slice.rs.html#n55129">
</a></c10><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[447006, 447045, 447033, 447028, 447038, 447010, 447032, 447046, 447029, 447036, 447068, 447022, 447023, 447013, 447047, 447030, 447008, 447037, 447044, 447034, 447043, 447018, 447020, 447016, 447048, 447027, 447050, 447031, 447040, 447065, 447025, 447052, 447041, 447051, 447019, 447007, 447015, 447042, 447017, 447039, 447005, 447024, 447021, 447026, 447049, 447009, 447014, 447035]">&nbsp;</a><c10><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;debug</a></c10><c22><a href="#70_1_refs">!</a></c22><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n169479">"target_triple:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169479">"</a></c12><c3>,</c3><c22><a href="#70_1_refs">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n171474">target_triple</a></c26><c4>)</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Use&nbsp;relative&nbsp;paths&nbsp;to&nbsp;the&nbsp;libraries.&nbsp;Binaries&nbsp;can&nbsp;be&nbsp;moved
</c40><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;as&nbsp;long&nbsp;as&nbsp;they&nbsp;maintain&nbsp;the&nbsp;relative&nbsp;relationship&nbsp;to&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crates&nbsp;they&nbsp;depend&nbsp;on.
</c40><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[447077, 447079, 447081, 447075, 447078, 447082, 447074, 447080, 447076]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#70_1_refs">&nbsp;</a></c22><c20><a href="#87_8_refs">rel_rpaths</a></c20><c16><a href="#70_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#115">get_rpaths_relative_to_output</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#71">os</a></c26><c3>,</c3><c27><a href="#70_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#73">output</a></c26><c3>,</c3><c27><a href="#70_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#74">libs</a></c26><c4>)</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;backup&nbsp;absolute&nbsp;paths&nbsp;to&nbsp;the&nbsp;libraries.&nbsp;Binaries&nbsp;can
</c40><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;be&nbsp;moved&nbsp;as&nbsp;long&nbsp;as&nbsp;the&nbsp;crates&nbsp;they&nbsp;link&nbsp;against&nbsp;don't&nbsp;move.
</c40><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[447083, 447087, 447089, 447088, 447084, 447085, 447086]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#70_1_refs">&nbsp;</a></c22><c20><a href="#91_8_refs">abs_rpaths</a></c20><c13><a href="#70_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#147">get_absolute_rpaths</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#74">libs</a></c26><c4>)</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;And&nbsp;a&nbsp;final&nbsp;backup&nbsp;rpath&nbsp;to&nbsp;the&nbsp;global&nbsp;library&nbsp;location.
</c40><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[447100, 447101, 447108, 447091, 447102, 447107, 447092, 447090]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#70_1_refs">&nbsp;</a></c22><c20><a href="#94_8_refs">fallback_rpaths</a></c20><c16><a href="#70_1_refs">&nbsp;=&nbsp;</a></c16><c22><a href="#70_1_refs">vec!</a></c22><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#158">get_install_prefix_rpath</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#75">target_triple</a></c26><c4>))</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[447224, 447343, 447113, 447109, 447122, 447114, 447118, 447112, 447119, 447120, 447117, 447121]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#96_4_refs">&nbsp;log_rpaths</a></c30><c4>(</c4><c20><a href="#96_18_refs">desc</a></c20><c1><a href="#96_4_refs">:&nbsp;</a></c1><c8><a href="#70_1_refs">&amp;str</a></c8><c3>,</c3><c1><a href="#96_4_refs">&nbsp;</a></c1><c20><a href="#96_30_refs">rpaths</a></c20><c1><a href="#96_4_refs">:&nbsp;</a></c1><c8><a href="#96_4_refs">&amp;</a></c8><c3>[</c3><c8><a href="#96_4_refs">~str</a></c8><c3>]</c3><c4>)</c4><c1><a href="#96_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[447194, 447159, 447185, 447196, 447184, 447189, 447177, 447165, 447190, 447218, 447197, 447171, 447215, 447201, 447193, 447157, 447200, 447183, 447181, 447156, 447198, 447182, 447175, 447195, 447176, 447169, 447191, 447188, 447199, 447160, 447170, 447187, 447202, 447192, 447173, 447163, 447164, 447158, 447174, 447180, 447155, 447167, 447178, 447166, 447186, 447179, 447172, 447168]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169505">&nbsp;rpaths:"</a></c12><c3>,</c3><c22><a href="#70_1_refs">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n169877">desc</a></c26><c4>)</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[447340, 447342, 447229, 447225, 447231, 447338, 447226, 447227, 447228, 447230, 447232, 447233, 447234, 447341, 447339, 447235]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c20><a href="#98_12_refs">rpath</a></c20><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/rpath.rs.html#96">rpaths</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[447302, 447305, 447286, 447310, 447268, 447308, 447279, 447307, 447291, 447297, 447332, 447296, 447298, 447290, 447295, 447301, 447278, 447309, 447314, 447306, 447329, 447283, 447285, 447316, 447270, 447299, 447292, 447273, 447272, 447293, 447287, 447313, 447288, 447303, 447312, 447269, 447282, 447315, 447289, 447281, 447271, 447311, 447274, 447284, 447277, 447300, 447304, 447280, 447294]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n169453">"&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n169453">"</a></c1><c3>,</c3><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n169877">*</a></c26><c26><a href="../../librustc/back/rpath.rs.html#98">rpath</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n104341">
</a></c20><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[447346, 447344, 447349, 447348, 447345, 447347]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#96">log_rpaths</a></c26><c4>(</c4><c12><a href="#70_1_refs">"relative"</a></c12><c3>,</c3><c27><a href="#70_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#87">rel_rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[447350, 447354, 447353, 447351, 447352, 447355]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#96">log_rpaths</a></c26><c4>(</c4><c12><a href="#70_1_refs">"absolute"</a></c12><c3>,</c3><c13><a href="#70_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#91">abs_rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[447357, 447359, 447361, 447360, 447356, 447358]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#96">log_rpaths</a></c26><c4>(</c4><c12><a href="#70_1_refs">"fallback"</a></c12><c3>,</c3><c27><a href="#70_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#94">fallback_rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[447365, 447366, 447362, 447363, 447364]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#70_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#107_8_refs">&nbsp;rpaths</a></c20><c16><a href="#70_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#87">rel_rpaths</a></c26><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[447370, 447371, 447369, 447367, 447368]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#107">rpaths</a></c26><c13><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#91">abs_rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[447374, 447373, 447372, 447376, 447375]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#107">rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#94">fallback_rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Remove&nbsp;duplicates
</c40><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[447378, 447380, 447377, 447382, 447379, 447383, 447384, 447381]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#70_1_refs">&nbsp;</a></c22><c20><a href="#112_8_refs">rpaths</a></c20><c13><a href="#70_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#169">minimize_rpaths</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#107">rpaths</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[447385, 447387, 447386]">&nbsp;</a><c22><a href="#70_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#70_1_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/rpath.rs.html#112">rpaths</a></c26><c3>;</c3><c22><a href="#70_1_refs">
</a></c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[447389]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[447393, 447392]">&nbsp;</a><c30>fn</c30><c30><a href="#115_1_refs">&nbsp;get_rpaths_relative_to_output</a></c30><c4>(</c4><c20><a href="#116_33_refs">os</a></c20><c1><a href="#115_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/abi.rs.html#n14459">abi::Os</a></c8><c3>,</c3><c1><a href="#115_1_refs">
</a></c1><br/><ln>&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[447397, 447398, 447396]">&nbsp;</a><c1><a href="#115_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#117_33_refs">output</a></c20><c1><a href="#115_1_refs">:&nbsp;</a></c1><c8><a href="#115_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#115_1_refs">
</a></c1><br/><ln>&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[447407, 447401, 447402, 447404, 447406, 447409, 447410, 447403]">&nbsp;</a><c1><a href="#115_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#118_33_refs">libs</a></c20><c1><a href="#115_1_refs">:&nbsp;</a></c1><c8><a href="#115_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>]</c3><c4>)</c4><c1><a href="#115_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#115_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="#115_1_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#115_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#115_1_refs">
</a></c22><br/><ln>&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[447412, 447415, 447414, 447421, 447411, 447423, 447419, 447418, 447417, 447420, 447416, 447424, 447422, 447425]">&nbsp;</a><c22><a href="#115_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#118">libs</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="../../<std macros>.html#5">.map</a></c10><c4>(</c4><c1><a href="#115_1_refs">|</a></c1><c20><a href="#119_21_refs">a</a></c20><c8><a href="#115_1_refs">|</a></c8><c1><a href="#115_1_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/rpath.rs.html#121">get_rpath_relative_to_output</a></c8><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#116">os</a></c26><c3>,</c3><c27><a href="#115_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#117">output</a></c26><c3>,</c3><c27><a href="#115_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/rpath.rs.html#119">a</a></c26><c4>))</c4><c10><a href="../../<std macros>.html#4">.collect</a></c10><c4>()</c4><c22><a href="#115_1_refs">
</a></c22><br/><ln>&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[447426]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[447430, 447429]">&nbsp;</a><c21>pub</c21><c1><a href="#121_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#121_1_refs">&nbsp;get_rpath_relative_to_output</a></c30><c4>(</c4><c20><a href="#122_36_refs">os</a></c20><c1><a href="#121_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/abi.rs.html#n14459">abi::Os</a></c8><c3>,</c3><c1><a href="#121_1_refs">
</a></c1><br/><ln>&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[447434, 447433, 447435]">&nbsp;</a><c1><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#123_36_refs">output</a></c20><c1><a href="#121_1_refs">:&nbsp;</a></c1><c8><a href="#121_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#121_1_refs">
</a></c1><br/><ln>&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[447439, 447438, 447440]">&nbsp;</a><c1><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#124_36_refs">lib</a></c20><c1><a href="#121_1_refs">:&nbsp;</a></c1><c8><a href="#121_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#121_1_refs">
</a></c1><br/><ln>&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[447575, 447443, 447442]">&nbsp;</a><c1><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#121_1_refs">&nbsp;</a></c1><c8><a href="#121_1_refs">~str</a></c8><c1><a href="#121_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>use</c21><c22><a href="#121_1_refs">&nbsp;std::os</a></c22><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[447447, 447446, 447445]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#19">not_win32</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#122">os</a></c26><c4>))</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Mac&nbsp;doesn't&nbsp;appear&nbsp;to&nbsp;support&nbsp;$ORIGIN
</c40><br/><ln>&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[447523, 447525, 447524, 447538, 447539, 447522]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#121_1_refs">&nbsp;</a></c22><c20><a href="#131_8_refs">prefix</a></c20><c16><a href="#121_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#121_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#122">os</a></c26><c21><a href="#121_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#121_1_refs">
</a></c21><br/><ln>&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[447526, 447528, 447527]">&nbsp;</a><c21><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14463">abi::OsAndroid</a></c20><c21><a href="#121_1_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14462">abi::OsLinux</a></c20><c21><a href="#121_1_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14464">abi::OsFreebsd</a></c20><c21><a href="#121_1_refs">
</a></c21><br/><ln>&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[447529]">&nbsp;</a><c21><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#121_1_refs">&nbsp;</a></c21><c12><a href="#121_1_refs">"$ORIGIN"</a></c12><c3>,</c3><c21><a href="#121_1_refs">
</a></c21><br/><ln>&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[447531, 447530]">&nbsp;</a><c21><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c20><c21><a href="#121_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#121_1_refs">&nbsp;</a></c21><c12><a href="#121_1_refs">"@loader_path"</a></c12><c3>,</c3><c21><a href="#121_1_refs">
</a></c21><br/><ln>&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[447532, 447537]">&nbsp;</a><c21><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c20><c21><a href="#121_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#121_1_refs">&nbsp;</a></c21><c27><a href="#121_1_refs">unreachable!</a></c27><c4>()</c4><c27><a href="#121_1_refs">
</a></c27><br/><ln>&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[]">&nbsp;</a><c27><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>};</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[447540, 447546, 447545, 447541, 447542, 447544, 447543]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#121_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#138_8_refs">&nbsp;lib</a></c20><c13><a href="#121_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/os.rs.html#n134062">os::make_absolute</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#124">lib</a></c26><c4>)</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[447547, 447549, 447548]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#138">lib</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154973">.pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[447554, 447553, 447556, 447555, 447550, 447551, 447552]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#121_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#140_8_refs">&nbsp;output</a></c20><c16><a href="#121_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/os.rs.html#n134062">os::make_absolute</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#123">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[447559, 447558, 447557]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#140">output</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154973">.pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[447564, 447566, 447561, 447565, 447560, 447562, 447563, 447567]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#121_1_refs">&nbsp;</a></c22><c20><a href="#142_8_refs">relative</a></c20><c13><a href="#121_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/rpath.rs.html#138">lib</a></c26><c10><a href="../../libstd/path/posix.rs.html#n155202">.path_relative_from</a></c10><c4>(</c4><c5><a href="../../libstd/path/posix.rs.html#n155202">&amp;</a></c5><c26><a href="../../librustc/back/rpath.rs.html#140">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[447570, 447569, 447573, 447571, 447572, 447574, 447568]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#121_1_refs">&nbsp;</a></c22><c20><a href="#143_8_refs">relative</a></c20><c16><a href="#121_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/rpath.rs.html#142">relative</a></c26><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"could&nbsp;not&nbsp;create&nbsp;rpath&nbsp;relative&nbsp;to&nbsp;output"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[447582, 447581, 447576, 447577, 447579, 447578, 447583, 447580]">&nbsp;</a><c22><a href="#121_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#131">prefix</a></c26><c5><a href="#121_1_refs">+</a></c5><c12><a href="#121_1_refs">"/"</a></c12><c5><a href="#121_1_refs">+</a></c5><c26><a href="../../librustc/back/rpath.rs.html#143">relative</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"non-utf8&nbsp;component&nbsp;in&nbsp;path"</a></c12><c4>)</c4><c22><a href="#121_1_refs">
</a></c22><br/><ln>&nbsp;146</ln><a id="146">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;147</ln><a id="147">&nbsp;</a><a id="n[447584]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;148</ln><a id="148">&nbsp;</a><a id="n[447595, 447593, 447592, 447588, 447589, 447590, 447587, 447596]">&nbsp;</a><c30>fn</c30><c30><a href="#147_1_refs">&nbsp;get_absolute_rpaths</a></c30><c4>(</c4><c20><a href="#148_23_refs">libs</a></c20><c1><a href="#147_1_refs">:&nbsp;</a></c1><c8><a href="#147_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>]</c3><c4>)</c4><c1><a href="#147_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#147_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c1><a href="#147_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#147_1_refs">
</a></c22><br/><ln>&nbsp;149</ln><a id="149">&nbsp;</a><a id="n[447604, 447601, 447598, 447607, 447609, 447602, 447603, 447597, 447606, 447605, 447600, 447608]">&nbsp;</a><c22><a href="#147_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#148">libs</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c10><a href="../../<std macros>.html#5">.map</a></c10><c4>(</c4><c1><a href="../../<std macros>.html#4">|</a></c1><c20><a href="#149_21_refs">a</a></c20><c8><a href="../../<std macros>.html#4">|</a></c8><c1><a href="../../<std macros>.html#4">&nbsp;</a></c1><c8><a href="../../librustc/back/rpath.rs.html#151">get_absolute_rpath</a></c8><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#149">a</a></c26><c4>))</c4><c10><a href="../../<std macros>.html#4">.collect</a></c10><c4>()</c4><c22><a href="#147_1_refs">
</a></c22><br/><ln>&nbsp;150</ln><a id="150">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;151</ln><a id="151">&nbsp;</a><a id="n[447610]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;152</ln><a id="152">&nbsp;</a><a id="n[447617, 447615, 447613, 447629, 447618, 447614]">&nbsp;</a><c21>pub</c21><c1><a href="#151_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#151_1_refs">&nbsp;get_absolute_rpath</a></c30><c4>(</c4><c20><a href="#152_26_refs">lib</a></c20><c1><a href="#151_1_refs">:&nbsp;</a></c1><c8><a href="#151_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#151_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#151_1_refs">&nbsp;</a></c1><c8><a href="#151_1_refs">~str</a></c8><c1><a href="#151_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#151_1_refs">
</a></c22><br/><ln>&nbsp;153</ln><a id="153">&nbsp;</a><a id="n[447620, 447622, 447624, 447621, 447625, 447619, 447623]">&nbsp;</a><c22><a href="#151_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#151_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#153_8_refs">&nbsp;p</a></c20><c16><a href="#151_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/os.rs.html#n134062">os::make_absolute</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#152">lib</a></c26><c4>)</c4><c3>;</c3><c22><a href="#151_1_refs">
</a></c22><br/><ln>&nbsp;154</ln><a id="154">&nbsp;</a><a id="n[447628, 447627, 447626]">&nbsp;</a><c22><a href="#151_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#153">p</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154973">.pop</a></c10><c4>()</c4><c3>;</c3><c22><a href="#151_1_refs">
</a></c22><br/><ln>&nbsp;155</ln><a id="155">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#151_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;156</ln><a id="156">&nbsp;</a><a id="n[447634, 447633, 447631, 447632, 447630]">&nbsp;</a><c22><a href="#151_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#153">p</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"non-utf8&nbsp;component&nbsp;in&nbsp;rpath"</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#151_1_refs">
</a></c22><br/><ln>&nbsp;157</ln><a id="157">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;158</ln><a id="158">&nbsp;</a><a id="n[447635]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;159</ln><a id="159">&nbsp;</a><a id="n[447638, 447642, 447640, 447643, 447676, 447639]">&nbsp;</a><c21>pub</c21><c1><a href="#158_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#158_1_refs">&nbsp;get_install_prefix_rpath</a></c30><c4>(</c4><c20><a href="#159_32_refs">target_triple</a></c20><c1><a href="#158_1_refs">:&nbsp;</a></c1><c8><a href="#158_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#158_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#158_1_refs">&nbsp;</a></c1><c8><a href="#158_1_refs">~str</a></c8><c1><a href="#158_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;160</ln><a id="160">&nbsp;</a><a id="n[447644, 447646, 447645, 447648, 447647]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#158_1_refs">&nbsp;</a></c22><c20><a href="#160_8_refs">install_prefix</a></c20><c13><a href="#158_1_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#158_1_refs">env!</a></c12><c4>(</c4><c12><a href="#158_1_refs">"CFG_PREFIX"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;161</ln><a id="161">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;162</ln><a id="162">&nbsp;</a><a id="n[447652, 447650, 447651, 447654, 447655, 447653, 447649]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#158_1_refs">&nbsp;</a></c22><c20><a href="#162_8_refs">tlib</a></c20><c16><a href="#158_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/metadata/filesearch.rs.html#138">filesearch::relative_target_lib_path</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#159">target_triple</a></c26><c4>)</c4><c3>;</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;163</ln><a id="163">&nbsp;</a><a id="n[447657, 447659, 447660, 447661, 447656, 447658, 447662]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#158_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#163_8_refs">&nbsp;path</a></c20><c13><a href="#158_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/path/posix.rs.html#n155452">Path::new</a></c26><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#160">install_prefix</a></c26><c4>)</c4><c3>;</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;164</ln><a id="164">&nbsp;</a><a id="n[447663, 447664, 447666, 447667, 447665]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#163">path</a></c26><c13><a href="../../librustc/middle/typeck/astconv.rs.html#142">.push</a></c13><c4>(</c4><c5><a href="../../librustc/middle/typeck/astconv.rs.html#142">&amp;</a></c5><c26><a href="../../librustc/back/rpath.rs.html#162">tlib</a></c26><c4>)</c4><c3>;</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;165</ln><a id="165">&nbsp;</a><a id="n[447672, 447670, 447675, 447673, 447668, 447674, 447669, 447671]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#158_1_refs">&nbsp;</a></c22><c20><a href="#165_8_refs">path</a></c20><c16><a href="#158_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/os.rs.html#n134062">os::make_absolute</a></c26><c4>(</c4><c5><a href="#158_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/rpath.rs.html#163">path</a></c26><c4>)</c4><c3>;</c3><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;166</ln><a id="166">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;167</ln><a id="167">&nbsp;</a><a id="n[447680, 447681, 447678, 447679, 447677]">&nbsp;</a><c22><a href="#158_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#165">path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"non-utf8&nbsp;component&nbsp;in&nbsp;rpath"</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#158_1_refs">
</a></c22><br/><ln>&nbsp;168</ln><a id="168">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;169</ln><a id="169">&nbsp;</a><a id="n[447682]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;170</ln><a id="170">&nbsp;</a><a id="n[447685, 447688, 447687, 447686, 447735, 447694, 447689, 447691, 447692]">&nbsp;</a><c21>pub</c21><c1><a href="#169_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#169_1_refs">&nbsp;minimize_rpaths</a></c30><c4>(</c4><c20><a href="#170_23_refs">rpaths</a></c20><c1><a href="#169_1_refs">:&nbsp;</a></c1><c8><a href="#169_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="#169_1_refs">~str</a></c8><c3>]</c3><c4>)</c4><c1><a href="#169_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#169_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c1><a href="#169_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#169_1_refs">
</a></c22><br/><ln>&nbsp;171</ln><a id="171">&nbsp;</a><a id="n[447695, 447700, 447696, 447699, 447697, 447698]">&nbsp;</a><c22><a href="#169_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#169_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#171_8_refs">&nbsp;set</a></c20><c13><a href="#169_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libcollections/hashmap.rs.html#n16851">HashSet::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#169_1_refs">
</a></c22><br/><ln>&nbsp;172</ln><a id="172">&nbsp;</a><a id="n[447706, 447702, 447703, 447704, 447701, 447705]">&nbsp;</a><c22><a href="#169_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#169_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#172_8_refs">&nbsp;minimized</a></c20><c16><a href="#169_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#169_1_refs">
</a></c22><br/><ln>&nbsp;173</ln><a id="173">&nbsp;</a><a id="n[447731, 447715, 447716, 447709, 447713, 447710, 447734, 447712, 447732, 447717, 447718, 447707, 447711, 447714, 447733, 447708, 447730]">&nbsp;</a><c22><a href="#169_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c20><a href="#173_8_refs">rpath</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#170">rpaths</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;174</ln><a id="174">&nbsp;</a><a id="n[447729, 447721, 447719, 447728, 447722, 447720]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#171">set</a></c26><c10><a href="../../libcollections/hashmap.rs.html#n16809">.insert</a></c10><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#173">rpath</a></c26><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>())</c4><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;175</ln><a id="175">&nbsp;</a><a id="n[447727, 447724, 447725, 447723, 447726]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/rpath.rs.html#172">minimized</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#173">rpath</a></c26><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;176</ln><a id="176">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;177</ln><a id="177">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;178</ln><a id="178">&nbsp;</a><a id="n[447736]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/rpath.rs.html#172">minimized</a></c26><c22><a href="#169_1_refs">
</a></c22><br/><ln>&nbsp;179</ln><a id="179">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;180</ln><a id="180">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;181</ln><a id="181">&nbsp;</a><a id="n[]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>cfg</c50><c4>(</c4><c50>unix</c50><c3>,</c3><c50>&nbsp;test</c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;182</ln><a id="182">&nbsp;</a><a id="n[]">&nbsp;</a><c21>mod</c21><c38>&nbsp;test&nbsp;</c38><c3>{</c3><c0>
</c0><br/><ln>&nbsp;183</ln><a id="183">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;std::os</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;184</ln><a id="184">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;185</ln><a id="185">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;back::rpath::</c0><c3>{</c3><c0>get_absolute_rpath</c0><c3>,</c3><c0>&nbsp;get_install_prefix_rpath</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;186</ln><a id="186">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;back::rpath::</c0><c3>{</c3><c0>minimize_rpaths</c0><c3>,</c3><c0>&nbsp;rpaths_to_flags</c0><c3>,</c3><c0>&nbsp;get_rpath_relative_to_output</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;187</ln><a id="187">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;syntax::abi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;188</ln><a id="188">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>use</c21><c0>&nbsp;metadata::filesearch</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;189</ln><a id="189">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;190</ln><a id="190">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;191</ln><a id="191">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_rpaths_to_flags</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;192</ln><a id="192">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;flags&nbsp;=&nbsp;rpaths_to_flags</c0><c4>(</c4><c3>[</c3><c0>~"path1"</c0><c3>,</c3><c0>&nbsp;~"path2"</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;193</ln><a id="193">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>flags</c0><c3>,</c3><c0>&nbsp;vec!</c0><c4>(</c4><c0>~"-Wl</c0><c3>,</c3><c0>-rpath</c0><c3>,</c3><c0>path1"</c0><c3>,</c3><c0>&nbsp;~"-Wl</c0><c3>,</c3><c0>-rpath</c0><c3>,</c3><c0>path2"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;194</ln><a id="194">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;195</ln><a id="195">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;196</ln><a id="196">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;197</ln><a id="197">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_prefix_rpath</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;198</ln><a id="198">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_install_prefix_rpath</c0><c4>(</c4><c0>"triple"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;199</ln><a id="199">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;</c0><c21>mut</c21><c0>&nbsp;d&nbsp;=&nbsp;Path::new</c0><c4>(</c4><c0>env!</c0><c4>(</c4><c0>"CFG_PREFIX"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;200</ln><a id="200">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.push</c0><c4>(</c4><c0>"lib"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;201</ln><a id="201">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.push</c0><c4>(</c4><c0>filesearch::rustlibdir</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;202</ln><a id="202">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.push</c0><c4>(</c4><c0>"triple/lib"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;203</ln><a id="203">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</c0><c4>(</c4><c0>"test_prefix_path:&nbsp;</c0><c3>{}</c3><c0>&nbsp;vs.&nbsp;</c0><c3>{}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;204</ln><a id="204">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;205</ln><a id="205">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.display</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;206</ln><a id="206">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>res.as_bytes</c0><c4>()</c4><c0>.ends_with</c0><c4>(</c4><c0>d.as_vec</c0><c4>()))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;207</ln><a id="207">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;208</ln><a id="208">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;209</ln><a id="209">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;210</ln><a id="210">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_prefix_rpath_abs</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;211</ln><a id="211">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_install_prefix_rpath</c0><c4>(</c4><c0>"triple"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;212</ln><a id="212">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>Path::new</c0><c4>(</c4><c0>res</c0><c4>)</c4><c0>.is_absolute</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;213</ln><a id="213">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;214</ln><a id="214">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;215</ln><a id="215">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;216</ln><a id="216">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_minimize1</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;217</ln><a id="217">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;minimize_rpaths</c0><c4>(</c4><c3>[</c3><c0>~"rpath1"</c0><c3>,</c3><c0>&nbsp;~"rpath2"</c0><c3>,</c3><c0>&nbsp;~"rpath1"</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;218</ln><a id="218">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c0>&nbsp;==&nbsp;</c0><c3>[</c3><c0>~"rpath1"</c0><c3>,</c3><c0>&nbsp;~"rpath2"</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;219</ln><a id="219">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;220</ln><a id="220">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;221</ln><a id="221">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;222</ln><a id="222">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_minimize2</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;223</ln><a id="223">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;minimize_rpaths</c0><c4>(</c4><c3>[</c3><c0>~"1a"</c0><c3>,</c3><c0>&nbsp;~"2"</c0><c3>,</c3><c0>&nbsp;&nbsp;~"2"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;224</ln><a id="224">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~"1a"</c0><c3>,</c3><c0>&nbsp;~"4a"</c0><c3>,</c3><c0>&nbsp;~"1a"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;225</ln><a id="225">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~"2"</c0><c3>,</c3><c0>&nbsp;&nbsp;~"3"</c0><c3>,</c3><c0>&nbsp;&nbsp;~"4a"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;226</ln><a id="226">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~"3"</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;227</ln><a id="227">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c0>&nbsp;==&nbsp;</c0><c3>[</c3><c0>~"1a"</c0><c3>,</c3><c0>&nbsp;~"2"</c0><c3>,</c3><c0>&nbsp;~"4a"</c0><c3>,</c3><c0>&nbsp;~"3"</c0><c3>]</c3><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;228</ln><a id="228">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;229</ln><a id="229">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;230</ln><a id="230">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;231</ln><a id="231">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>cfg</c0><c4>(</c4><c0>target_os&nbsp;=&nbsp;"linux"</c0><c4>)</c4><c3>]</c3><c0>
</c0><br/><ln>&nbsp;232</ln><a id="232">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>cfg</c0><c4>(</c4><c0>target_os&nbsp;=&nbsp;"android"</c0><c4>)</c4><c3>]</c3><c0>
</c0><br/><ln>&nbsp;233</ln><a id="233">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_rpath_relative</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;234</ln><a id="234">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;o&nbsp;=&nbsp;abi::OsLinux</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;235</ln><a id="235">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_rpath_relative_to_output</c0><c4>(</c4><c0>o</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;236</ln><a id="236">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"bin/rustc"</c0><c4>)</c4><c3>,</c3><c0>&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"lib/libstd.so"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;237</ln><a id="237">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c3>,</c3><c0>&nbsp;"$ORIGIN/../lib"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;238</ln><a id="238">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;239</ln><a id="239">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;240</ln><a id="240">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;241</ln><a id="241">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>cfg</c0><c4>(</c4><c0>target_os&nbsp;=&nbsp;"freebsd"</c0><c4>)</c4><c3>]</c3><c0>
</c0><br/><ln>&nbsp;242</ln><a id="242">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_rpath_relative</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;243</ln><a id="243">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;o&nbsp;=&nbsp;abi::OsFreebsd</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;244</ln><a id="244">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_rpath_relative_to_output</c0><c4>(</c4><c0>o</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;245</ln><a id="245">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"bin/rustc"</c0><c4>)</c4><c3>,</c3><c0>&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"lib/libstd.so"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;246</ln><a id="246">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c3>,</c3><c0>&nbsp;"$ORIGIN/../lib"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;247</ln><a id="247">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;248</ln><a id="248">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;249</ln><a id="249">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;250</ln><a id="250">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>cfg</c0><c4>(</c4><c0>target_os&nbsp;=&nbsp;"macos"</c0><c4>)</c4><c3>]</c3><c0>
</c0><br/><ln>&nbsp;251</ln><a id="251">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_rpath_relative</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;252</ln><a id="252">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;o&nbsp;=&nbsp;abi::OsMacos</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;253</ln><a id="253">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_rpath_relative_to_output</c0><c4>(</c4><c0>o</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;254</ln><a id="254">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"bin/rustc"</c0><c4>)</c4><c3>,</c3><c0>
</c0><br/><ln>&nbsp;255</ln><a id="255">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;Path::new</c0><c4>(</c4><c0>"lib/libstd.so"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;256</ln><a id="256">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c3>,</c3><c0>&nbsp;"@loader_path/../lib"</c0><c4>)</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;257</ln><a id="257">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;258</ln><a id="258">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;259</ln><a id="259">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;#</c0><c3>[</c3><c0>test</c0><c3>]</c3><c0>
</c0><br/><ln>&nbsp;260</ln><a id="260">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c30>fn&nbsp;test_get_absolute_rpath</c30><c4>()</c4><c0>&nbsp;</c0><c3>{</c3><c0>
</c0><br/><ln>&nbsp;261</ln><a id="261">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;res&nbsp;=&nbsp;get_absolute_rpath</c0><c4>(</c4><c0>&amp;Path::new</c0><c4>(</c4><c0>"lib/libstd.so"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;262</ln><a id="262">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c21>let</c21><c0>&nbsp;lib&nbsp;=&nbsp;os::make_absolute</c0><c4>(</c4><c0>&amp;Path::new</c0><c4>(</c4><c0>"lib"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;263</ln><a id="263">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</c0><c4>(</c4><c0>"test_get_absolute_rpath:&nbsp;</c0><c3>{}</c3><c0>&nbsp;vs.&nbsp;</c0><c3>{}</c3><c0>"</c0><c3>,</c3><c0>
</c0><br/><ln>&nbsp;264</ln><a id="264">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res.to_str</c0><c4>()</c4><c3>,</c3><c0>&nbsp;lib.display</c0><c4>())</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;265</ln><a id="265">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;266</ln><a id="266">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c0><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;267</ln><a id="267">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_eq!</c0><c4>(</c4><c0>res.as_slice</c0><c4>()</c4><c3>,</c3><c0>&nbsp;lib.as_str</c0><c4>()</c4><c0>.expect</c0><c4>(</c4><c0>"non-utf8&nbsp;component&nbsp;in&nbsp;path"</c0><c4>))</c4><c3>;</c3><c0>
</c0><br/><ln>&nbsp;268</ln><a id="268">&nbsp;</a><a id="n[]">&nbsp;</a><c0>&nbsp;&nbsp;&nbsp;&nbsp;</c0><c3>}</c3><c0>
</c0><br/><ln>&nbsp;269</ln><a id="269">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="151_1_refs"><a href="#151"><c40>librustc/back/rpath.rs:151:1-151:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_absolute_rpath(lib:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#149"><c40>149:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;libs.iter().map(|a|&nbsp;get_absolute_rpath(a)).collect()
<br/></a><br/><br/><a id="121_1_refs"><a href="#121"><c40>librustc/back/rpath.rs:121:1-121:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_rpath_relative_to_output(os:&nbsp;abi::Os,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#119"><c40>119:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;libs.iter().map(|a|&nbsp;get_rpath_relative_to_output(os,&nbsp;output,&nbsp;a)).collect()
<br/></a><br/><br/><a id="115_1_refs"><a href="#115"><c40>librustc/back/rpath.rs:115:1-115:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_rpaths_relative_to_output(os:&nbsp;abi::Os,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#87"><c40>87:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rel_rpaths&nbsp;=&nbsp;get_rpaths_relative_to_output(os,&nbsp;output,&nbsp;libs);
<br/></a><br/><br/><a id="70_1_refs"><a href="#70"><c40>librustc/back/rpath.rs:70:1-70:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_rpaths(os:&nbsp;abi::Os,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#50"><c40>50:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rpaths&nbsp;=&nbsp;get_rpaths(os,&nbsp;sysroot,&nbsp;output,&nbsp;libs,
<br/></a><br/><br/><a id="62_1_refs"><a href="#62"><c40>librustc/back/rpath.rs:62:1-62:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;rpaths_to_flags(rpaths:&nbsp;&amp;[~str])&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#52"><c40>52:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;flags.push_all(rpaths_to_flags(rpaths.as_slice()).as_slice());
<br/></a><br/><br/><a id="96_4_refs"><a href="#96"><c40>librustc/back/rpath.rs:96:4-96:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;log_rpaths(desc:&nbsp;&amp;str,&nbsp;rpaths:&nbsp;&amp;[~str])&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!("{}&nbsp;rpaths:",&nbsp;desc);
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#103"><c40>103:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;log_rpaths("relative",&nbsp;rel_rpaths.as_slice());
<br/></a><a href="../../librustc/back/rpath.rs.html#105"><c40>105:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;log_rpaths("fallback",&nbsp;fallback_rpaths.as_slice());
<br/></a><a href="../../librustc/back/rpath.rs.html#104"><c40>104:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;log_rpaths("absolute",&nbsp;abs_rpaths.as_slice());
<br/></a><br/><br/><a id="55_1_refs"><a href="#55"><c40>librustc/back/rpath.rs:55:1-55:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_sysroot_absolute_rt_lib(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#48"><c40>48:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libs&nbsp;=&nbsp;slice::append_one(libs,&nbsp;get_sysroot_absolute_rt_lib(sess));
<br/></a><br/><br/><a id="19_1_refs"><a href="#19"><c40>librustc/back/rpath.rs:19:1-19:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;not_win32(os:&nbsp;abi::Os)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#128"><c40>128:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;assert!(not_win32(os));
<br/></a><br/><br/><a id="158_1_refs"><a href="#158"><c40>librustc/back/rpath.rs:158:1-158:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_install_prefix_rpath(target_triple:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#94"><c40>94:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fallback_rpaths&nbsp;=&nbsp;vec!(get_install_prefix_rpath(target_triple));
<br/></a><br/><br/><a id="147_1_refs"><a href="#147"><c40>librustc/back/rpath.rs:147:1-147:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_absolute_rpaths(libs:&nbsp;&amp;[Path])&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#91"><c40>91:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;abs_rpaths&nbsp;=&nbsp;get_absolute_rpaths(libs);
<br/></a><br/><br/><a id="23_1_refs"><a href="#23"><c40>librustc/back/rpath.rs:23:1-23:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_rpath_flags(sess:&nbsp;&amp;Session,&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#1212"><c40>1212:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args.push_all(rpath::get_rpath_flags(sess,&nbsp;out_filename).as_slice());
<br/></a><br/><br/><a id="169_1_refs"><a href="#169"><c40>librustc/back/rpath.rs:169:1-169:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;minimize_rpaths(rpaths:&nbsp;&amp;[~str])&nbsp;-&gt;&nbsp;Vec&lt;~str&gt;&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/rpath.rs.html#112"><c40>112:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;rpaths&nbsp;=&nbsp;minimize_rpaths(rpaths.as_slice());
<br/></a><br/></div></maintext></div></body>