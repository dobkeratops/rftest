<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/lto.rs.html">lto.rs</a></c0><br/><br/><c40>&nbsp;&nbsp;&nbsp;&nbsp;git&nbsp;branch:&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;master&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5200215&nbsp;auto&nbsp;merge&nbsp;of&nbsp;#14035&nbsp;:&nbsp;alexcrichton/rust/experimental,&nbsp;r=huonw<br/></c40><c40>&nbsp;&nbsp;&nbsp;&nbsp;modified:&nbsp;&nbsp;&nbsp;&nbsp;Wed&nbsp;Apr&nbsp;&nbsp;9&nbsp;17:27:02&nbsp;2014<br/></c40></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::archive::ArchiveRO</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::link</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::</c0><c3>{</c3><c0>ModuleRef</c0><c3>,</c3><c0>&nbsp;TargetMachineRef</c0><c3>,</c3><c0>&nbsp;llvm</c0><c3>,</c3><c0>&nbsp;True</c0><c3>,</c3><c0>&nbsp;False</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::cstore</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::common::time</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;libc</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;flate</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n457752">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n457761"><a id="n457759"><a id="n457757"><a id="n457755"><a id="n457754">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#243">&nbsp;run</a></c30><c4>(</c4><c20><a href="#line21_col11_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#243">:&nbsp;&amp;</a></c1><c1><a href="../../librustc/driver/session.rs.html#176">session::Session</a></c1><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c1><c20><a href="#line21_col36_refs">llmod</a></c20><c1><a href="../../librustc/back/link.rs.html#243">:&nbsp;</a></c1><c1><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c1><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#243">
</a></c1><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n457767"><a id="n457765"><a id="n457768"><a id="n457773"><a id="n457770"><a id="n457774"><a id="n457763"><a id="n457772"><a id="n457769">&nbsp;</a></a></a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/lto.rs.html#97">tm</a></c20><c1><a href="../../librustc/back/link.rs.html#243">:&nbsp;</a></c1><c1><a href="../../librustc/lib/llvm.rs.html#259">TargetMachineRef</a></c1><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c1><c20><a href="../../librustc/back/lto.rs.html#75">reachable</a></c20><c1><a href="../../librustc/back/link.rs.html#243">:&nbsp;&amp;</a></c1><c3>[</c3><c1><a href="../../librustc/back/link.rs.html#243">~str</a></c1><c3>]</c3><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n457778"><a id="n457776"><a id="n457779"><a id="n457781"><a id="n457777"><a id="n457775"><a id="n457780">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#155">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#379">.prefer_dynamic</a></c24><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n457785"><a id="n457783"><a id="n457782"><a id="n457784">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#243">"cannot&nbsp;prefer&nbsp;dynamic&nbsp;linking&nbsp;when&nbsp;performing&nbsp;LTO"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n457788"><a id="n457787"><a id="n457786"><a id="n457789">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#238">.note</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#238">"only&nbsp;'staticlib'&nbsp;and&nbsp;'bin'&nbsp;outputs&nbsp;are&nbsp;supported&nbsp;with&nbsp;LTO"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n457791"><a id="n457790"><a id="n457792">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;we&nbsp;actually&nbsp;can&nbsp;run&nbsp;LTO
</c40><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n457806"><a id="n457803"><a id="n457799"><a id="n457811"><a id="n457800"><a id="n457796"><a id="n457802"><a id="n457801"><a id="n457805"><a id="n457795"><a id="n457794"><a id="n457798"><a id="n457804"><a id="n457809"><a id="n457808"><a id="n457807"><a id="n457793"><a id="n457810"><a id="n457797">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../libcore/option.rs.html#n86245">&nbsp;</a></c13><c20><a href="../../librustc/back/lto.rs.html#31">crate_type</a></c20><c13><a href="../../libcore/option.rs.html#n86245">&nbsp;in&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#193">.crate_types</a></c24><c10><a href="../../libcore/cell.rs.html#n76689">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n9213">.iter</a></c10><c4>()</c4><c13><a href="../../libcore/option.rs.html#n86245">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libcore/option.rs.html#n86244">
</a></c22><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n457814"><a id="n457813"><a id="n457812">&nbsp;</a></a></a><c22><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c5><a href="../../libcore/option.rs.html#n86244">*</a></c5><c26><a href="../../librustc/back/lto.rs.html#30">crate_type</a></c26><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libcore/option.rs.html#n86244">
</a></c21><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n457815"><a id="n457817"><a id="n457816"><a id="n457818">&nbsp;</a></a></a></a><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#171">session::CrateTypeExecutable</a></c20><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#174">session::CrateTypeStaticlib</a></c20><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c3>{}</c3><c21><a href="../../libcore/option.rs.html#n86244">
</a></c21><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n457821"><a id="n457819"><a id="n457820">&nbsp;</a></a></a><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libcore/option.rs.html#n86244">_</a></c20><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libcore/option.rs.html#n86244">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libcore/option.rs.html#n86244">
</a></c22><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n457823"><a id="n457825"><a id="n457822"><a id="n457824">&nbsp;</a></a></a></a><c22><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#205">"lto&nbsp;can&nbsp;only&nbsp;be&nbsp;run&nbsp;for&nbsp;executables&nbsp;and&nbsp;\
</a></c12><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c36>static</c36><c36><a href="../../librustc/driver/session.rs.html#205">&nbsp;library&nbsp;outputs"</a></c36><c36>);</c36><c36><a href="../../libcore/option.rs.html#n86244">
</a></c36><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c22><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libcore/option.rs.html#n86244">
</a></c21><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c21><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libcore/option.rs.html#n86244">
</a></c22><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c22><a href="../../libcore/option.rs.html#n86244">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../libcore/option.rs.html#n86245">
</a></c13><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c13><a href="../../libcore/option.rs.html#n86245">
</a></c13><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c13><a href="../../libcore/option.rs.html#n86245">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;For&nbsp;each&nbsp;of&nbsp;our&nbsp;upstream&nbsp;dependencies,&nbsp;find&nbsp;the&nbsp;corresponding&nbsp;rlib&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c13><a href="../../libcore/option.rs.html#n86245">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;load&nbsp;the&nbsp;bitcode&nbsp;from&nbsp;the&nbsp;archive.&nbsp;Then&nbsp;merge&nbsp;it&nbsp;into&nbsp;the&nbsp;current&nbsp;LLVM
</c40><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c13><a href="../../libcore/option.rs.html#n86245">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;module&nbsp;that&nbsp;we've&nbsp;got.
</c40><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n457826"><a id="n457833"><a id="n457829"><a id="n457830"><a id="n457832"><a id="n457828"><a id="n457831"><a id="n457827">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../libcore/option.rs.html#n86245">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#44">crates</a></c20><c16><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n457839"><a id="n457838"><a id="n457836"><a id="n457841"><a id="n457842"><a id="n457850"><a id="n457846"><a id="n457837"><a id="n457843"><a id="n457851"><a id="n457852"><a id="n457848"><a id="n457840"><a id="n457847"><a id="n457845"><a id="n457849"><a id="n457844"><a id="n457835"><a id="n457834">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c13><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#45">cnum</a></c20><c3>,</c3><c20><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c20><c20><a href="../../librustc/back/lto.rs.html#46">path</a></c20><c4>)</c4><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;in&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#43">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n9121">.move_iter</a></c10><c4>()</c4><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n457857"><a id="n457862"><a id="n457861"><a id="n457858"><a id="n457859"><a id="n457853"><a id="n457854"><a id="n457856"><a id="n457855"><a id="n457860">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="#line45_col12_refs">name</a></c20><c16><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#44">cnum</a></c26><c4>)</c4><c24><a href="../../libstd/rc.rs.html#n17072">.name</a></c24><c10><a href="../../libcore/should_not_exist.rs.html#n120791">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n457864"><a id="n457863"><a id="n457868"><a id="n457867"><a id="n457865"><a id="n457866">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#53">path</a></c20><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c13><c21><a href="../../librustc/back/lto.rs.html#44">match&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#44">path</a></c26><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/lto.rs.html#44">
</a></c21><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n457871"><a id="n457869"><a id="n457870">&nbsp;</a></a></a><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libcore/option.rs.html#n86245">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#47">p</a></c20><c4>)</c4><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#47">p</a></c26><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">
</a></c21><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n457874"><a id="n457872"><a id="n457873">&nbsp;</a></a></a><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libcore/option.rs.html#n86244">None</a></c20><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n457878"><a id="n457880"><a id="n457908"><a id="n457916"><a id="n457923"><a id="n457881"><a id="n457884"><a id="n457927"><a id="n457906"><a id="n457902"><a id="n457889"><a id="n457917"><a id="n457876"><a id="n457898"><a id="n457897"><a id="n457920"><a id="n457895"><a id="n457896"><a id="n457887"><a id="n457922"><a id="n457934"><a id="n457911"><a id="n457930"><a id="n457883"><a id="n457903"><a id="n457909"><a id="n457914"><a id="n457885"><a id="n457905"><a id="n457929"><a id="n457877"><a id="n457900"><a id="n457899"><a id="n457913"><a id="n457879"><a id="n457921"><a id="n457888"><a id="n457912"><a id="n457904"><a id="n457926"><a id="n457925"><a id="n457924"><a id="n457918"><a id="n457886"><a id="n457910"><a id="n457882"><a id="n457875"><a id="n457893"><a id="n457915"><a id="n457907"><a id="n457919"><a id="n457892"><a id="n457894"><a id="n457928"><a id="n457901">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c31><a href="../../libstd/fmt/rt.rs.html#n81052">"could&nbsp;not&nbsp;find&nbsp;rlib&nbsp;for:&nbsp;`</a></c31><c3>{}</c3><c31><a href="../../libstd/fmt/rt.rs.html#n81052">`"</a></c31><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n81570">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/lto.rs.html#44">
</a></c21><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n457937"><a id="n457936"><a id="n457940"><a id="n457939"><a id="n457938"><a id="n457944"><a id="n457943"><a id="n457941"><a id="n457935"><a id="n457942">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#56">archive</a></c20><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/archive.rs.html#210">ArchiveRO::open</a></c26><c4>(</c4><c5><a href="../../librustc/back/lto.rs.html#44">&amp;</a></c5><c26><a href="../../librustc/back/lto.rs.html#46">path</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n26928">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n26928">"wanted&nbsp;an&nbsp;rlib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n457995"><a id="n458019"><a id="n458038"><a id="n458024"><a id="n458003"><a id="n458029"><a id="n458025"><a id="n458026"><a id="n457994"><a id="n458033"><a id="n458004"><a id="n458028"><a id="n458021"><a id="n458034"><a id="n458012"><a id="n457999"><a id="n458009"><a id="n458032"><a id="n458008"><a id="n457991"><a id="n458007"><a id="n458010"><a id="n458031"><a id="n458015"><a id="n458014"><a id="n458036"><a id="n458017"><a id="n457996"><a id="n457998"><a id="n458020"><a id="n458030"><a id="n457993"><a id="n458011"><a id="n458016"><a id="n458023"><a id="n458000"><a id="n458055"><a id="n458005"><a id="n458037"><a id="n457997"><a id="n457992"><a id="n458006"><a id="n458013"><a id="n457990"><a id="n458027"><a id="n458022"><a id="n458018"><a id="n458035">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c27><a href="../../libcore/option.rs.html#n86244">"reading&nbsp;</a></c27><c3>{}</c3><c27><a href="../../libcore/option.rs.html#n86244">"</a></c27><c3>,</c3><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n81570">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n458069"><a id="n458106"><a id="n458094"><a id="n458090"><a id="n458061"><a id="n458070"><a id="n458057"><a id="n458073"><a id="n458097"><a id="n458111"><a id="n458099"><a id="n458098"><a id="n458059"><a id="n458102"><a id="n458066"><a id="n458104"><a id="n458124"><a id="n458072"><a id="n458078"><a id="n458113"><a id="n458112"><a id="n458108"><a id="n458107"><a id="n458067"><a id="n458122"><a id="n458120"><a id="n458058"><a id="n458074"><a id="n458109"><a id="n458087"><a id="n458101"><a id="n458082"><a id="n458092"><a id="n458095"><a id="n458089"><a id="n458105"><a id="n458114"><a id="n458075"><a id="n458065"><a id="n458063"><a id="n458125"><a id="n458056"><a id="n458085"><a id="n458116"><a id="n458060"><a id="n458103"><a id="n458093"><a id="n458088"><a id="n458121"><a id="n458115"><a id="n458110"><a id="n458096"><a id="n458064"><a id="n458091"><a id="n458100"><a id="n458071"><a id="n458062"><a id="n458068"><a id="n458086"><a id="n458081"><a id="n458084"><a id="n458083"><a id="n458079"><a id="n458080">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#57">bc</a></c20><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/common.rs.html#18">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c27><a href="../../libstd/fmt/rt.rs.html#n81030">"read&nbsp;</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/rt.rs.html#n81030">.bc.deflate"</a></c27><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n81570">name</a></c27><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c22><a href="../../librustc/back/lto.rs.html#44">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#44">_</a></c20><c1><a href="../../librustc/back/lto.rs.html#44">|</a></c1><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n458161"><a id="n458178"><a id="n458158"><a id="n458167"><a id="n458138"><a id="n458168"><a id="n458179"><a id="n458155"><a id="n458132"><a id="n458154"><a id="n458134"><a id="n458172"><a id="n458174"><a id="n458147"><a id="n458150"><a id="n458169"><a id="n458165"><a id="n458177"><a id="n458126"><a id="n458157"><a id="n458183"><a id="n458141"><a id="n458148"><a id="n458175"><a id="n458153"><a id="n458136"><a id="n458173"><a id="n458160"><a id="n458146"><a id="n458128"><a id="n458171"><a id="n458151"><a id="n458139"><a id="n458135"><a id="n458149"><a id="n458133"><a id="n458131"><a id="n458130"><a id="n458140"><a id="n458159"><a id="n458163"><a id="n458162"><a id="n458127"><a id="n458166"><a id="n458137"><a id="n458144"><a id="n458176"><a id="n458156"><a id="n458164"><a id="n458152"><a id="n458145"><a id="n458129"><a id="n458170">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#53">archive</a></c26><c22><a href="../../librustc/back/archive.rs.html#224">.read</a></c22><c4>(</c4><c21><a href="../../librustc/back/archive.rs.html#224">format!</a></c21><c4>(</c4><c13><a href="../../libstd/fmt/rt.rs.html#n81071">"</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n81071">.bc.deflate"</a></c13><c3>,</c3><c21><a href="../../librustc/back/archive.rs.html#224">&nbsp;</a></c21><c27><a href="../../librustc/back/lto.rs.html#45">name</a></c27><c4>)))</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n458185"><a id="n458184"><a id="n458189"><a id="n458186"><a id="n458188"><a id="n458190"><a id="n458187">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#59">bc</a></c20><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#55">bc</a></c26><c10><a href="../../libstd/option.rs.html#n26928">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n26928">"missing&nbsp;compressed&nbsp;bytecode&nbsp;in&nbsp;archive!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n458241"><a id="n458226"><a id="n458224"><a id="n458233"><a id="n458217"><a id="n458260"><a id="n458204"><a id="n458245"><a id="n458225"><a id="n458199"><a id="n458236"><a id="n458235"><a id="n458194"><a id="n458210"><a id="n458220"><a id="n458240"><a id="n458197"><a id="n458238"><a id="n458247"><a id="n458213"><a id="n458229"><a id="n458223"><a id="n458257"><a id="n458202"><a id="n458206"><a id="n458234"><a id="n458232"><a id="n458259"><a id="n458255"><a id="n458196"><a id="n458209"><a id="n458250"><a id="n458221"><a id="n458195"><a id="n458248"><a id="n458244"><a id="n458227"><a id="n458237"><a id="n458256"><a id="n458191"><a id="n458239"><a id="n458214"><a id="n458230"><a id="n458246"><a id="n458192"><a id="n458222"><a id="n458205"><a id="n458249"><a id="n458200"><a id="n458231"><a id="n458193"><a id="n458243"><a id="n458219"><a id="n458242"><a id="n458198"><a id="n458228"><a id="n458251"><a id="n458203"><a id="n458215"><a id="n458201"><a id="n458218"><a id="n458207"><a id="n458216"><a id="n458208">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="#line58_col12_refs">bc</a></c20><c16><a href="../../libstd/vec.rs.html#n10376">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/common.rs.html#18">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c1><a href="../../librustc/back/lto.rs.html#58">"inflate&nbsp;</a></c1><c3>{}</c3><c1><a href="../../librustc/back/lto.rs.html#58">.bc"</a></c1><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c5><a href="../../libstd/fmt/mod.rs.html#n83169">name</a></c5><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c22><a href="../../librustc/back/lto.rs.html#44">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#44">_</a></c20><c1><a href="../../librustc/back/lto.rs.html#44">|</a></c1><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n458266"><a id="n458264"><a id="n458263"><a id="n458262"><a id="n458261"><a id="n458265">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c26><a href="../../libflate/lib.rs.html#n256">flate::inflate_bytes</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#57">bc</a></c26><c4>)</c4><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n458267"><a id="n458269"><a id="n458268">&nbsp;</a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="../../libcore/option.rs.html#n86245">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#60">bc</a></c20><c4>)</c4><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c4>=&gt;</c4><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#60">bc</a></c26><c3>,</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n458279"><a id="n458300"><a id="n458306"><a id="n458280"><a id="n458288"><a id="n458297"><a id="n458319"><a id="n458301"><a id="n458289"><a id="n458270"><a id="n458314"><a id="n458317"><a id="n458315"><a id="n458321"><a id="n458320"><a id="n458307"><a id="n458292"><a id="n458325"><a id="n458309"><a id="n458281"><a id="n458287"><a id="n458273"><a id="n458305"><a id="n458271"><a id="n458284"><a id="n458313"><a id="n458272"><a id="n458316"><a id="n458294"><a id="n458283"><a id="n458299"><a id="n458310"><a id="n458318"><a id="n458293"><a id="n458274"><a id="n458291"><a id="n458311"><a id="n458322"><a id="n458295"><a id="n458324"><a id="n458290"><a id="n458302"><a id="n458282"><a id="n458298"><a id="n458308"><a id="n458276"><a id="n458278"><a id="n458303"><a id="n458329"><a id="n458312"><a id="n458277"><a id="n458296"><a id="n458323"><a id="n458275"><a id="n458304">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="../../libcore/option.rs.html#n86244">None</a></c20><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c4>=&gt;</c4><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n81021">"failed&nbsp;to&nbsp;decompress&nbsp;bc&nbsp;of&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n81021">`"</a></c26><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c5><a href="../../librustc/back/lto.rs.html#61">name</a></c5><c4>))</c4><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n458333"><a id="n458331"><a id="n458332"><a id="n458335"><a id="n458334"><a id="n458336"><a id="n458330">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#67">ptr</a></c20><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#58">bc</a></c26><c10><a href="../../libstd/c_vec.rs.html#n46904">.as_slice</a></c10><c4>()</c4><c10><a href="../../libcore/slice.rs.html#n91245">.as_ptr</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n458388"><a id="n458410"><a id="n458413"><a id="n458397"><a id="n458428"><a id="n458385"><a id="n458425"><a id="n458424"><a id="n458398"><a id="n458395"><a id="n458419"><a id="n458417"><a id="n458400"><a id="n458403"><a id="n458389"><a id="n458429"><a id="n458408"><a id="n458387"><a id="n458390"><a id="n458392"><a id="n458404"><a id="n458426"><a id="n458386"><a id="n458383"><a id="n458409"><a id="n458407"><a id="n458411"><a id="n458415"><a id="n458423"><a id="n458402"><a id="n458416"><a id="n458384"><a id="n458401"><a id="n458406"><a id="n458427"><a id="n458422"><a id="n458396"><a id="n458391"><a id="n458382"><a id="n458430"><a id="n458420"><a id="n458399"><a id="n458405"><a id="n458418"><a id="n458447"><a id="n458421"><a id="n458412"><a id="n458414">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#64">"linking&nbsp;</a></c20><c3>{}</c3><c20><a href="../../librustc/back/lto.rs.html#64">"</a></c20><c3>,</c3><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n83169">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n458450"><a id="n458484"><a id="n458462"><a id="n458448"><a id="n458481"><a id="n458454"><a id="n458483"><a id="n458501"><a id="n458461"><a id="n458459"><a id="n458467"><a id="n458491"><a id="n458515"><a id="n458494"><a id="n458514"><a id="n458453"><a id="n458463"><a id="n458476"><a id="n458456"><a id="n458493"><a id="n458464"><a id="n458506"><a id="n458508"><a id="n458486"><a id="n458479"><a id="n458452"><a id="n458490"><a id="n458510"><a id="n458477"><a id="n458489"><a id="n458499"><a id="n458492"><a id="n458471"><a id="n458475"><a id="n458457"><a id="n458511"><a id="n458480"><a id="n458487"><a id="n458469"><a id="n458470"><a id="n458474"><a id="n458478"><a id="n458497"><a id="n458482"><a id="n458498"><a id="n458485"><a id="n458488"><a id="n458513"><a id="n458455"><a id="n458516"><a id="n458458"><a id="n458507"><a id="n458473"><a id="n458449"><a id="n458500"><a id="n458468"><a id="n458451"><a id="n458496"><a id="n458460"><a id="n458472"><a id="n458502"><a id="n458512"><a id="n458495">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#18">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c1><a href="../../librustc/back/lto.rs.html#65">"ll&nbsp;link&nbsp;</a></c1><c3>{}</c3><c1><a href="../../librustc/back/lto.rs.html#65">"</a></c1><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c20><a href="../../librustc/back/lto.rs.html#65">name</a></c20><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c22><a href="../../librustc/back/lto.rs.html#44">|</a></c22><c4>()</c4><c1><a href="../../librustc/back/lto.rs.html#44">|</a></c1><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c1><a href="../../librustc/back/lto.rs.html#44">unsafe</a></c1><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n458521"><a id="n458519"><a id="n458518"><a id="n458517"><a id="n458520">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c5><a href="../../librustc/back/lto.rs.html#44">!</a></c5><c26><nop>llvm::LLVMRustLinkInExternalBitcode</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">
</a></c27><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n458524"><a id="n458523"><a id="n458522"><a id="n458525">&nbsp;</a></a></a></a><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#63">ptr</a></c26><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;as&nbsp;</a></c21><c1><a href="../../librustc/back/lto.rs.html#44">*</a></c1><c1><a href="../../liblibc/lib.rs.html#n639">libc::c_char</a></c1><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">
</a></c27><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n458527"><a id="n458532"><a id="n458530"><a id="n458529"><a id="n458528">&nbsp;</a></a></a></a></a><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#58">bc</a></c26><c10><a href="../../libstd/c_vec.rs.html#n47054">.len</a></c10><c4>()</c4><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;as&nbsp;</a></c21><c1><a href="../../liblibc/lib.rs.html#n672">libc::size_t</a></c1><c4>)</c4><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n458543"><a id="n458553"><a id="n458586"><a id="n458578"><a id="n458538"><a id="n458579"><a id="n458564"><a id="n458559"><a id="n458544"><a id="n458563"><a id="n458593"><a id="n458580"><a id="n458574"><a id="n458565"><a id="n458561"><a id="n458571"><a id="n458572"><a id="n458560"><a id="n458546"><a id="n458551"><a id="n458533"><a id="n458584"><a id="n458587"><a id="n458555"><a id="n458568"><a id="n458585"><a id="n458577"><a id="n458540"><a id="n458576"><a id="n458545"><a id="n458554"><a id="n458569"><a id="n458541"><a id="n458547"><a id="n458573"><a id="n458558"><a id="n458566"><a id="n458589"><a id="n458581"><a id="n458575"><a id="n458552"><a id="n458534"><a id="n458548"><a id="n458536"><a id="n458542"><a id="n458588"><a id="n458556"><a id="n458582"><a id="n458570"><a id="n458535"><a id="n458583"><a id="n458562"><a id="n458557"><a id="n458567"><a id="n458537"><a id="n458539">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#55">link::llvm_err</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c27><c21><a href="../../librustc/back/lto.rs.html#44">format!</a></c21><c4>(</c4><c27><a href="../../libstd/fmt/rt.rs.html#n81030">"failed&nbsp;to&nbsp;load&nbsp;bc&nbsp;of&nbsp;`</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/rt.rs.html#n81030">`"</a></c27><c3>,</c3><c21><a href="../../librustc/back/lto.rs.html#44">&nbsp;</a></c21><c5><a href="../../librustc/back/lto.rs.html#69">name</a></c5><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/lto.rs.html#44">
</a></c22><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n10376">
</a></c22><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a>&nbsp;<c22><a href="../../libstd/vec.rs.html#n10376">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/lto.rs.html#44">
</a></c13><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/lto.rs.html#44">
</a></c13><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;Internalize&nbsp;everything&nbsp;but&nbsp;the&nbsp;reachable&nbsp;symbols&nbsp;of&nbsp;the&nbsp;current&nbsp;module
</c40><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n458604"><a id="n458607"><a id="n458595"><a id="n458594"><a id="n458602"><a id="n458610"><a id="n458601"><a id="n458605"><a id="n458600"><a id="n458612"><a id="n458608"><a id="n458596"><a id="n458611"><a id="n458609"><a id="n458603"><a id="n458598">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/lto.rs.html#44">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#76">cstrs</a></c20><c13><a href="../../librustc/back/link.rs.html#243">:&nbsp;</a></c13><c1><a href="../../libstd/vec.rs.html#n7811">Vec&lt;</a></c1><c1><a href="../../libstd/c_str.rs.html#n45557">::std::c_str::CString</a></c1><c1><a href="../../libstd/vec.rs.html#n7811">&gt;</a></c1><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#22">reachable</a></c26><c10><a href="../../libcore/slice.rs.html#n90823">.iter</a></c10><c4>()</c4><c10><nop>.map</nop></c10><c4>(</c4><c22><nop>|</nop></c22><c20><a href="../../librustc/back/lto.rs.html#75">s</a></c20><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><nop>&nbsp;</nop></c22><c1><a href="../../librustc/back/lto.rs.html#75">s</a></c1><c10><a href="../../libstd/c_str.rs.html#n46061">.to_c_str</a></c10><c4>())</c4><c10><nop>.collect</nop></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n458617"><a id="n458636"><a id="n458638"><a id="n458615"><a id="n458627"><a id="n458625"><a id="n458624"><a id="n458639"><a id="n458613"><a id="n458614"><a id="n458618"><a id="n458630"><a id="n458633"><a id="n458628"><a id="n458629"><a id="n458637"><a id="n458623"><a id="n458635"><a id="n458620"><a id="n458631"><a id="n458622"><a id="n458632"><a id="n458621">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c20><a href="#line76_col8_refs">arr</a></c20><c16><a href="../../librustc/back/link.rs.html#243">:&nbsp;</a></c16><c1><a href="../../libstd/vec.rs.html#n7811">Vec&lt;</a></c1><c1><a href="../../librustc/back/link.rs.html#243">*i8</a></c1><c1><a href="../../libstd/vec.rs.html#n7811">&gt;</a></c1><c16><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#75">cstrs</a></c26><c10><a href="../../libstd/vec.rs.html#n9213">.iter</a></c10><c4>()</c4><c10><nop>.map</nop></c10><c4>(</c4><c22><a href="../../librustc/back/link.rs.html#243">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#76">c</a></c20><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#76">c</a></c26><c10><a href="../../libstd/c_str.rs.html#n45717">.with_ref</a></c10><c4>(</c4><c22><a href="../../librustc/back/link.rs.html#243">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#76">p</a></c20><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c1><a href="../../librustc/back/lto.rs.html#76">p</a></c1><c4>))</c4><c10><nop>.collect</nop></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n458640"><a id="n458641"><a id="n458645"><a id="n458643"><a id="n458642"><a id="n458644">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#79">ptr</a></c20><c16><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#76">arr</a></c26><c10><a href="../../libstd/vec.rs.html#n9830">.as_ptr</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n458646"><a id="n458648"><a id="n458647">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n458649"><a id="n458657"><a id="n458651"><a id="n458652"><a id="n458653"><a id="n458655"><a id="n458650"><a id="n458656"><a id="n458654">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustRunRestrictionPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#77">ptr</a></c26><c21><a href="../../librustc/back/link.rs.html#243">&nbsp;as&nbsp;</a></c21><c1><a href="../../librustc/back/link.rs.html#243">**</a></c1><c1><a href="../../liblibc/lib.rs.html#n639">libc::c_char</a></c1><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">
</a></c27><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n458660"><a id="n458659"><a id="n458661"><a id="n458662">&nbsp;</a></a></a></a><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#76">arr</a></c26><c10><a href="../../libstd/vec.rs.html#n8679">.len</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#243">&nbsp;as&nbsp;</a></c21><c1><a href="../../liblibc/lib.rs.html#n672">libc::size_t</a></c1><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n458666"><a id="n458665"><a id="n458664"><a id="n458668"><a id="n458667">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#314">.no_landing_pads</a></c10><c4>()</c4><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n458669"><a id="n458670">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n458671"><a id="n458674"><a id="n458673"><a id="n458672">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustMarkAllFunctionsNounwind</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Now&nbsp;we&nbsp;have&nbsp;one&nbsp;massive&nbsp;module&nbsp;inside&nbsp;of&nbsp;llmod.&nbsp;Time&nbsp;to&nbsp;run&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;LTO-specific&nbsp;optimization&nbsp;passes&nbsp;that&nbsp;LLVM&nbsp;provides.
</c40><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;code&nbsp;is&nbsp;based&nbsp;off&nbsp;the&nbsp;code&nbsp;found&nbsp;in&nbsp;llvm's&nbsp;LTO&nbsp;code&nbsp;generator:
</c40><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tools/lto/LTOCodeGenerator.cpp
</c40><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n458740"><a id="n458767"><a id="n458732"><a id="n458735"><a id="n458738"><a id="n458737"><a id="n458748"><a id="n458750"><a id="n458746"><a id="n458731"><a id="n458720"><a id="n458730"><a id="n458721"><a id="n458744"><a id="n458734"><a id="n458724"><a id="n458723"><a id="n458727"><a id="n458733"><a id="n458741"><a id="n458749"><a id="n458747"><a id="n458743"><a id="n458726"><a id="n458736"><a id="n458725"><a id="n458742"><a id="n458739"><a id="n458722"><a id="n458745">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c22><a href="../../librustc/back/lto.rs.html#94">"running&nbsp;the&nbsp;pass&nbsp;manager"</a></c22><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n458769"><a id="n458770"><a id="n458768">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c3>{</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n458774"><a id="n458776"><a id="n458775"><a id="n458771"><a id="n458773"><a id="n458772">&nbsp;</a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c20><a href="#line96_col12_refs">pm</a></c20><c16><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c16><c26><nop>llvm::LLVMCreatePassManager</nop></c26><c4>()</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n458777"><a id="n458782"><a id="n458778"><a id="n458780"><a id="n458779"><a id="n458781">&nbsp;</a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><nop>llvm::LLVMRustAddAnalysisPasses</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#22">tm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>)</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n458786"><a id="n458783"><a id="n458790"><a id="n458791"><a id="n458794"><a id="n458792"><a id="n458785"><a id="n458784"><a id="n458795"><a id="n458793"><a id="n458789"><a id="n458788">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#243">"verify"</a></c12><c10><a href="../../libstd/c_str.rs.html#n46081">.with_c_str</a></c10><c4>(</c4><c22><a href="../../librustc/back/link.rs.html#243">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#98">s</a></c20><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c1><a href="../../librustc/back/link.rs.html#243">llvm</a></c1><c26><nop>::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#98">s</a></c26><c4>))</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n458797"><a id="n458801"><a id="n458799"><a id="n458800"><a id="n458798"><a id="n458796">&nbsp;</a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c13><c20><a href="#line100_col12_refs">builder</a></c20><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;=&nbsp;</a></c13><c26><nop>llvm::LLVMPassManagerBuilderCreate</nop></c26><c4>()</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n458805"><a id="n458804"><a id="n458806"><a id="n458803"><a id="n458802">&nbsp;</a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><nop>llvm::LLVMPassManagerBuilderPopulateLTOPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#100">builder</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">
</a></c27><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n458807">&nbsp;</a><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c41>/*&nbsp;Internalize&nbsp;=&nbsp;*/</c41><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#26">False</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">
</a></c27><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n458808">&nbsp;</a><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c41>/*&nbsp;RunInliner&nbsp;=&nbsp;*/</c41><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#25">True</a></c26><c4>)</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n458812"><a id="n458810"><a id="n458809"><a id="n458811">&nbsp;</a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><nop>llvm::LLVMPassManagerBuilderDispose</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#100">builder</a></c26><c4>)</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n458821"><a id="n458816"><a id="n458815"><a id="n458823"><a id="n458820"><a id="n458825"><a id="n458814"><a id="n458822"><a id="n458824"><a id="n458819"><a id="n458813"><a id="n458818">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#243">"verify"</a></c12><c10><a href="../../libstd/c_str.rs.html#n46081">.with_c_str</a></c10><c4>(</c4><c22><a href="../../librustc/back/link.rs.html#243">|</a></c22><c20><a href="../../librustc/back/lto.rs.html#106">s</a></c20><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c1><nop>llvm</nop></c1><c26><nop>::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#106">s</a></c26><c4>))</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n458829"><a id="n458832"><a id="n458827"><a id="n458831"><a id="n458830"><a id="n458836"><a id="n458837"><a id="n458826"><a id="n458828"><a id="n458833"><a id="n458835">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/util/common.rs.html#18">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c12><a href="../../librustc/back/link.rs.html#243">"LTO&nbsp;pases"</a></c12><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c27><c22><a href="../../librustc/back/link.rs.html#243">|</a></c22><c4>()</c4><c1><a href="../../librustc/back/link.rs.html#243">|</a></c1><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n458841"><a id="n458842"><a id="n458840"><a id="n458839"><a id="n458838"><a id="n458843">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c1><nop>llvm</nop></c1><c26><nop>::LLVMRunPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>))</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n458845"><a id="n458844"><a id="n458847"><a id="n458846">&nbsp;</a></a></a></a><c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><nop>llvm::LLVMDisposePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c4>)</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#243">
</a></c13><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n458896"><a id="n458911"><a id="n458904"><a id="n458923"><a id="n458920"><a id="n458940"><a id="n458912"><a id="n458894"><a id="n458907"><a id="n458917"><a id="n458914"><a id="n458903"><a id="n458899"><a id="n458919"><a id="n458909"><a id="n458898"><a id="n458918"><a id="n458913"><a id="n458906"><a id="n458895"><a id="n458897"><a id="n458893"><a id="n458905"><a id="n458900"><a id="n458915"><a id="n458916"><a id="n458910"><a id="n458922"><a id="n458921"><a id="n458908">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#243">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../libstd/fmt/mod.rs.html#n81324">"lto&nbsp;done"</a></c13><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#243">
</a></c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"></div></maintext></div></body>