<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/lto.rs.html">lto.rs</a></c0><br/><br/><c40>&nbsp;&nbsp;&nbsp;&nbsp;git&nbsp;branch:&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;master&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c7553ea&nbsp;auto&nbsp;merge&nbsp;of&nbsp;#13609&nbsp;:&nbsp;richo/rust/str-type-vim,&nbsp;r=alexcrichton<br/></c40><c40>&nbsp;&nbsp;&nbsp;&nbsp;modified:&nbsp;&nbsp;&nbsp;&nbsp;Wed&nbsp;Apr&nbsp;&nbsp;9&nbsp;17:27:02&nbsp;2014<br/></c40></fileblock></div><ln>&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::archive::ArchiveRO</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::link</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::</c0><c3>{</c3><c0>ModuleRef</c0><c3>,</c3><c0>&nbsp;TargetMachineRef</c0><c3>,</c3><c0>&nbsp;llvm</c0><c3>,</c3><c0>&nbsp;True</c0><c3>,</c3><c0>&nbsp;False</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::cstore</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::common::time</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;libc</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;flate</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n447249">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n447254"><a id="n447258"><a id="n447251"><a id="n447252"><a id="n447256">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#236">&nbsp;run</a></c30><c4>(</c4><c20><a href="#line21_col11_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#236">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">session::Session</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c1><c20><a href="#line21_col36_refs">llmod</a></c20><c1><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#236">
</a></c1><br/><ln>&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n447262"><a id="n447264"><a id="n447271"><a id="n447270"><a id="n447267"><a id="n447260"><a id="n447265"><a id="n447269"><a id="n447266">&nbsp;</a></a></a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/lto.rs.html#97">tm</a></c20><c1><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#259">TargetMachineRef</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c1><c20><a href="../../librustc/back/lto.rs.html#75">reachable</a></c20><c1><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#236">&amp;</a></c8><c3>[</c3><c8><a href="../../librustc/back/link.rs.html#236">~str</a></c8><c3>]</c3><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n447272"><a id="n447276"><a id="n447278"><a id="n447274"><a id="n447273"><a id="n447275"><a id="n447277">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.prefer_dynamic</a></c24><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n447282"><a id="n447279"><a id="n447280"><a id="n447281">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#236">"cannot&nbsp;prefer&nbsp;dynamic&nbsp;linking&nbsp;when&nbsp;performing&nbsp;LTO"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n447285"><a id="n447284"><a id="n447286"><a id="n447283">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#240">.note</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#240">"only&nbsp;'staticlib'&nbsp;and&nbsp;'bin'&nbsp;outputs&nbsp;are&nbsp;supported&nbsp;with&nbsp;LTO"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n447289"><a id="n447287"><a id="n447288">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;we&nbsp;actually&nbsp;can&nbsp;run&nbsp;LTO
</c40><br/><ln>&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n447295"><a id="n447301"><a id="n447306"><a id="n447296"><a id="n447297"><a id="n447302"><a id="n447304"><a id="n447305"><a id="n447308"><a id="n447303"><a id="n447300"><a id="n447291"><a id="n447307"><a id="n447299"><a id="n447298"><a id="n447290"><a id="n447294"><a id="n447293"><a id="n447292">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c5><c20><a href="../../librustc/back/lto.rs.html#31">crate_type</a></c20><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;in&nbsp;</a></c5><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#195">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c5><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n447310"><a id="n447311"><a id="n447309">&nbsp;</a></a></a><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c5><a href="../../libstd/option.rs.html#n102620">*</a></c5><c26><a href="../../librustc/back/lto.rs.html#30">crate_type</a></c26><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/option.rs.html#n102620">
</a></c21><br/><ln>&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n447315"><a id="n447312"><a id="n447314"><a id="n447313">&nbsp;</a></a></a></a><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeExecutable</a></c20><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#175">session::CrateTypeStaticlib</a></c20><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c3>{}</c3><c21><a href="../../libstd/option.rs.html#n102620">
</a></c21><br/><ln>&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n447317"><a id="n447318"><a id="n447316">&nbsp;</a></a></a><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">_</a></c20><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n447320"><a id="n447321"><a id="n447322"><a id="n447319">&nbsp;</a></a></a></a><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#207">"lto&nbsp;can&nbsp;only&nbsp;be&nbsp;run&nbsp;for&nbsp;executables&nbsp;and&nbsp;\
</a></c12><br/><ln>&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#207">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c12><c36>static</c36><c36><a href="../../librustc/driver/session.rs.html#207">&nbsp;library&nbsp;outputs"</a></c36><c36>);</c36><c36><a href="../../libstd/option.rs.html#n102620">
</a></c36><br/><ln>&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n102620">
</a></c21><br/><ln>&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c5><a href="../../libstd/option.rs.html#n102619">
</a></c5><br/><ln>&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c5><a href="../../libstd/option.rs.html#n102619">
</a></c5><br/><ln>&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c5><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;For&nbsp;each&nbsp;of&nbsp;our&nbsp;upstream&nbsp;dependencies,&nbsp;find&nbsp;the&nbsp;corresponding&nbsp;rlib&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c5><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;load&nbsp;the&nbsp;bitcode&nbsp;from&nbsp;the&nbsp;archive.&nbsp;Then&nbsp;merge&nbsp;it&nbsp;into&nbsp;the&nbsp;current&nbsp;LLVM
</c40><br/><ln>&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c5><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;module&nbsp;that&nbsp;we've&nbsp;got.
</c40><br/><ln>&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n447327"><a id="n447324"><a id="n447323"><a id="n447325"><a id="n447328"><a id="n447326"><a id="n447330"><a id="n447329">&nbsp;</a></a></a></a></a></a></a></a><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#44">crates</a></c20><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n447349"><a id="n447345"><a id="n447343"><a id="n447335"><a id="n447334"><a id="n447344"><a id="n447331"><a id="n447338"><a id="n447341"><a id="n447348"><a id="n447336"><a id="n447332"><a id="n447347"><a id="n447333"><a id="n447342"><a id="n447337"><a id="n447346"><a id="n447339"><a id="n447340">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c10><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#45">cnum</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c20><c20><a href="../../librustc/back/lto.rs.html#46">path</a></c20><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n56731">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/lto.rs.html#43">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c10><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n447359"><a id="n447352"><a id="n447357"><a id="n447354"><a id="n447358"><a id="n447356"><a id="n447350"><a id="n447351"><a id="n447355"><a id="n447353">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="#line45_col12_refs">name</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#44">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n447364"><a id="n447360"><a id="n447362"><a id="n447363"><a id="n447365"><a id="n447361">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#53">path</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c21><a href="../../librustc/back/link.rs.html#236">match&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#44">path</a></c26><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#236">
</a></c21><br/><ln>&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n447368"><a id="n447367"><a id="n447366">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#47">p</a></c20><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#47">p</a></c26><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">
</a></c21><br/><ln>&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n447369"><a id="n447370"><a id="n447371">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n447404"><a id="n447415"><a id="n447421"><a id="n447372"><a id="n447419"><a id="n447413"><a id="n447386"><a id="n447414"><a id="n447384"><a id="n447385"><a id="n447399"><a id="n447409"><a id="n447407"><a id="n447389"><a id="n447396"><a id="n447392"><a id="n447394"><a id="n447406"><a id="n447375"><a id="n447379"><a id="n447390"><a id="n447405"><a id="n447377"><a id="n447424"><a id="n447431"><a id="n447403"><a id="n447393"><a id="n447422"><a id="n447398"><a id="n447427"><a id="n447395"><a id="n447420"><a id="n447391"><a id="n447423"><a id="n447381"><a id="n447376"><a id="n447416"><a id="n447408"><a id="n447412"><a id="n447397"><a id="n447383"><a id="n447402"><a id="n447426"><a id="n447418"><a id="n447425"><a id="n447401"><a id="n447374"><a id="n447417"><a id="n447410"><a id="n447378"><a id="n447400"><a id="n447380"><a id="n447382"><a id="n447373"><a id="n447411">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/back/link.rs.html#236">format!</a></c21><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#49">"could&nbsp;not&nbsp;find&nbsp;rlib&nbsp;for:&nbsp;`</a></c20><c3>{}</c3><c20><a href="../../librustc/back/lto.rs.html#49">`"</a></c20><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c20><a href="../../librustc/back/lto.rs.html#49">name</a></c20><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#236">
</a></c21><br/><ln>&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n447441"><a id="n447436"><a id="n447435"><a id="n447434"><a id="n447432"><a id="n447437"><a id="n447439"><a id="n447440"><a id="n447438"><a id="n447433">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#56">archive</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/archive.rs.html#210">ArchiveRO::open</a></c26><c4>(</c4><c5><a href="../../libstd/option.rs.html#n103330">&amp;</a></c5><c26><a href="../../librustc/back/lto.rs.html#46">path</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n103330">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n103330">"wanted&nbsp;an&nbsp;rlib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n447487"><a id="n447493"><a id="n447498"><a id="n447479"><a id="n447482"><a id="n447505"><a id="n447506"><a id="n447507"><a id="n447515"><a id="n447509"><a id="n447512"><a id="n447488"><a id="n447511"><a id="n447497"><a id="n447513"><a id="n447508"><a id="n447502"><a id="n447496"><a id="n447494"><a id="n447526"><a id="n447516"><a id="n447500"><a id="n447486"><a id="n447485"><a id="n447492"><a id="n447521"><a id="n447525"><a id="n447484"><a id="n447481"><a id="n447483"><a id="n447524"><a id="n447517"><a id="n447510"><a id="n447495"><a id="n447518"><a id="n447504"><a id="n447480"><a id="n447501"><a id="n447542"><a id="n447489"><a id="n447514"><a id="n447522"><a id="n447519"><a id="n447503"><a id="n447520"><a id="n447527"><a id="n447499"><a id="n447523">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n164008">"reading&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164008">"</a></c22><c3>,</c3><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c27><a href="../../librustc/back/lto.rs.html#54">name</a></c27><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n447602"><a id="n447566"><a id="n447575"><a id="n447582"><a id="n447574"><a id="n447568"><a id="n447607"><a id="n447560"><a id="n447547"><a id="n447598"><a id="n447554"><a id="n447584"><a id="n447573"><a id="n447587"><a id="n447572"><a id="n447601"><a id="n447561"><a id="n447545"><a id="n447603"><a id="n447589"><a id="n447594"><a id="n447555"><a id="n447550"><a id="n447549"><a id="n447597"><a id="n447590"><a id="n447596"><a id="n447586"><a id="n447578"><a id="n447558"><a id="n447548"><a id="n447580"><a id="n447577"><a id="n447612"><a id="n447600"><a id="n447551"><a id="n447583"><a id="n447608"><a id="n447581"><a id="n447591"><a id="n447556"><a id="n447611"><a id="n447557"><a id="n447570"><a id="n447559"><a id="n447543"><a id="n447592"><a id="n447576"><a id="n447609"><a id="n447562"><a id="n447553"><a id="n447571"><a id="n447544"><a id="n447565"><a id="n447595"><a id="n447567"><a id="n447546"><a id="n447585"><a id="n447569"><a id="n447588"><a id="n447593"><a id="n447579"><a id="n447552"><a id="n447599">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#57">bc</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c21><a href="../../librustc/back/link.rs.html#236">format!</a></c21><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n164050">"read&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164050">.bc.deflate"</a></c22><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#55">name</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c1><a href="../../librustc/back/link.rs.html#236">|</a></c1><c20><a href="../../librustc/back/link.rs.html#236">_</a></c20><c8><a href="../../librustc/back/link.rs.html#236">|</a></c8><c1><a href="../../librustc/back/link.rs.html#236">
</a></c1><br/><ln>&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n447621"><a id="n447656"><a id="n447626"><a id="n447663"><a id="n447658"><a id="n447635"><a id="n447650"><a id="n447618"><a id="n447662"><a id="n447619"><a id="n447655"><a id="n447616"><a id="n447632"><a id="n447652"><a id="n447624"><a id="n447659"><a id="n447639"><a id="n447645"><a id="n447634"><a id="n447637"><a id="n447633"><a id="n447646"><a id="n447641"><a id="n447620"><a id="n447615"><a id="n447638"><a id="n447623"><a id="n447657"><a id="n447628"><a id="n447648"><a id="n447622"><a id="n447647"><a id="n447644"><a id="n447666"><a id="n447664"><a id="n447649"><a id="n447653"><a id="n447642"><a id="n447660"><a id="n447651"><a id="n447617"><a id="n447640"><a id="n447661"><a id="n447627"><a id="n447625"><a id="n447636"><a id="n447614"><a id="n447665"><a id="n447613"><a id="n447670"><a id="n447643"><a id="n447631"><a id="n447654">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../librustc/back/lto.rs.html#53">archive</a></c8><c22><a href="../../librustc/back/archive.rs.html#224">.read</a></c22><c4>(</c4><c21><a href="../../librustc/back/archive.rs.html#224">format!</a></c21><c4>(</c4><c12><a href="../../libstd/option.rs.html#n102619">"</a></c12><c3>{}</c3><c12><a href="../../libstd/option.rs.html#n102619">.bc.deflate"</a></c12><c3>,</c3><c21><a href="../../librustc/back/archive.rs.html#224">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166021">name</a></c26><c4>)))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n447674"><a id="n447677"><a id="n447671"><a id="n447672"><a id="n447676"><a id="n447675"><a id="n447673">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#59">bc</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#55">bc</a></c26><c10><a href="../../libstd/option.rs.html#n103330">.expect</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#236">"missing&nbsp;compressed&nbsp;bytecode&nbsp;in&nbsp;archive!"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n447734"><a id="n447723"><a id="n447689"><a id="n447684"><a id="n447710"><a id="n447738"><a id="n447688"><a id="n447690"><a id="n447744"><a id="n447722"><a id="n447705"><a id="n447693"><a id="n447694"><a id="n447679"><a id="n447733"><a id="n447701"><a id="n447686"><a id="n447720"><a id="n447681"><a id="n447696"><a id="n447685"><a id="n447729"><a id="n447691"><a id="n447708"><a id="n447731"><a id="n447695"><a id="n447727"><a id="n447743"><a id="n447706"><a id="n447742"><a id="n447735"><a id="n447717"><a id="n447719"><a id="n447704"><a id="n447730"><a id="n447724"><a id="n447700"><a id="n447680"><a id="n447711"><a id="n447715"><a id="n447726"><a id="n447721"><a id="n447702"><a id="n447718"><a id="n447714"><a id="n447736"><a id="n447682"><a id="n447678"><a id="n447707"><a id="n447697"><a id="n447713"><a id="n447747"><a id="n447692"><a id="n447687"><a id="n447732"><a id="n447737"><a id="n447725"><a id="n447709"><a id="n447703"><a id="n447728"><a id="n447716"><a id="n447746"><a id="n447683"><a id="n447712">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="#line58_col12_refs">bc</a></c20><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c21><a href="../../librustc/back/link.rs.html#236">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n163993">"inflate&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n163993">.bc"</a></c12><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#58">name</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c1><a href="../../librustc/back/link.rs.html#236">|</a></c1><c20><a href="../../librustc/back/link.rs.html#236">_</a></c20><c8><a href="../../librustc/back/link.rs.html#236">|</a></c8><c1><a href="../../librustc/back/link.rs.html#236">
</a></c1><br/><ln>&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n447750"><a id="n447748"><a id="n447749"><a id="n447753"><a id="n447752"><a id="n447751">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c21>match</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c26><a href="../../libflate/lib.rs.html#n256">flate::inflate_bytes</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#57">bc</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n447755"><a id="n447754"><a id="n447756">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/lto.rs.html#60">bc</a></c20><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c4>=&gt;</c4><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#60">bc</a></c26><c3>,</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n447801"><a id="n447803"><a id="n447792"><a id="n447761"><a id="n447787"><a id="n447758"><a id="n447790"><a id="n447776"><a id="n447785"><a id="n447770"><a id="n447800"><a id="n447778"><a id="n447805"><a id="n447816"><a id="n447782"><a id="n447795"><a id="n447806"><a id="n447768"><a id="n447764"><a id="n447798"><a id="n447767"><a id="n447786"><a id="n447808"><a id="n447777"><a id="n447762"><a id="n447796"><a id="n447809"><a id="n447802"><a id="n447811"><a id="n447812"><a id="n447804"><a id="n447791"><a id="n447799"><a id="n447763"><a id="n447810"><a id="n447760"><a id="n447759"><a id="n447765"><a id="n447771"><a id="n447783"><a id="n447807"><a id="n447797"><a id="n447766"><a id="n447784"><a id="n447789"><a id="n447780"><a id="n447769"><a id="n447788"><a id="n447794"><a id="n447779"><a id="n447775"><a id="n447781"><a id="n447774"><a id="n447793"><a id="n447757">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c4>=&gt;</c4><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#207">format!</a></c21><c4>(</c4><c13><a href="../../libstd/fmt/rt.rs.html#n164008">"failed&nbsp;to&nbsp;decompress&nbsp;bc&nbsp;of&nbsp;`</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n164008">`"</a></c13><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#207">&nbsp;</a></c21><c20><a href="../../librustc/back/lto.rs.html#61">name</a></c20><c4>))</c4><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n447823"><a id="n447822"><a id="n447817"><a id="n447818"><a id="n447819"><a id="n447821"><a id="n447820">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#67">ptr</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#58">bc</a></c26><c10><a href="../../libstd/c_vec.rs.html#n126903">.as_slice</a></c10><c4>()</c4><c10><a href="../../libstd/slice.rs.html#n49228">.as_ptr</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n447908"><a id="n447902"><a id="n447894"><a id="n447886"><a id="n447868"><a id="n447899"><a id="n447892"><a id="n447863"><a id="n447901"><a id="n447865"><a id="n447896"><a id="n447864"><a id="n447862"><a id="n447895"><a id="n447876"><a id="n447893"><a id="n447890"><a id="n447907"><a id="n447874"><a id="n447866"><a id="n447881"><a id="n447897"><a id="n447924"><a id="n447867"><a id="n447909"><a id="n447877"><a id="n447898"><a id="n447875"><a id="n447880"><a id="n447879"><a id="n447869"><a id="n447906"><a id="n447861"><a id="n447884"><a id="n447878"><a id="n447882"><a id="n447871"><a id="n447903"><a id="n447904"><a id="n447905"><a id="n447883"><a id="n447887"><a id="n447888"><a id="n447900"><a id="n447891"><a id="n447870"><a id="n447885"><a id="n447889">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/option.rs.html#n102619">"linking&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/option.rs.html#n102619">"</a></c26><c3>,</c3><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n164422">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n447926"><a id="n447992"><a id="n447968"><a id="n447937"><a id="n447944"><a id="n447933"><a id="n447929"><a id="n447976"><a id="n447951"><a id="n447978"><a id="n447928"><a id="n447993"><a id="n447938"><a id="n447987"><a id="n447969"><a id="n447941"><a id="n447984"><a id="n447948"><a id="n447955"><a id="n447934"><a id="n447965"><a id="n447947"><a id="n447957"><a id="n447925"><a id="n447956"><a id="n447940"><a id="n447953"><a id="n447962"><a id="n447966"><a id="n447989"><a id="n447985"><a id="n447960"><a id="n447973"><a id="n447977"><a id="n447931"><a id="n447952"><a id="n447988"><a id="n447983"><a id="n447963"><a id="n447964"><a id="n447949"><a id="n447954"><a id="n447958"><a id="n447974"><a id="n447959"><a id="n447927"><a id="n447946"><a id="n447967"><a id="n447936"><a id="n447979"><a id="n447932"><a id="n447961"><a id="n447991"><a id="n447990"><a id="n447950"><a id="n447945"><a id="n447972"><a id="n447971"><a id="n447930"><a id="n447939"><a id="n447970"><a id="n447975"><a id="n447935">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c21><a href="../../librustc/back/link.rs.html#236">format!</a></c21><c4>(</c4><c22><a href="../../librustc/back/lto.rs.html#65">"ll&nbsp;link&nbsp;</a></c22><c3>{}</c3><c22><a href="../../librustc/back/lto.rs.html#65">"</a></c22><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c20><a href="../../librustc/back/lto.rs.html#65">name</a></c20><c4>)</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c1><a href="../../librustc/back/link.rs.html#236">|</a></c1><c4>()</c4><c8><a href="../../librustc/back/link.rs.html#236">|</a></c8><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#236">unsafe</a></c8><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n447996"><a id="n447998"><a id="n447997"><a id="n447995"><a id="n447994">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#236">!</a></c5><c26><nop>llvm::LLVMRustLinkInExternalBitcode</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">
</a></c27><br/><ln>&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n447999"><a id="n448002"><a id="n448000"><a id="n448001">&nbsp;</a></a></a></a><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#63">ptr</a></c26><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/back/link.rs.html#236">*</a></c8><c8><a href="../../liblibc/lib.rs.html#n638">libc::c_char</a></c8><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">
</a></c27><br/><ln>&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n448005"><a id="n448006"><a id="n448007"><a id="n448004"><a id="n448009">&nbsp;</a></a></a></a></a><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#58">bc</a></c26><c10><a href="../../libstd/c_vec.rs.html#n127053">.len</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;as&nbsp;</a></c21><c8><a href="../../liblibc/lib.rs.html#n671">libc::size_t</a></c8><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n448040"><a id="n448070"><a id="n448023"><a id="n448012"><a id="n448041"><a id="n448013"><a id="n448042"><a id="n448066"><a id="n448065"><a id="n448060"><a id="n448048"><a id="n448044"><a id="n448016"><a id="n448057"><a id="n448054"><a id="n448039"><a id="n448045"><a id="n448059"><a id="n448031"><a id="n448025"><a id="n448038"><a id="n448024"><a id="n448022"><a id="n448051"><a id="n448018"><a id="n448010"><a id="n448020"><a id="n448036"><a id="n448029"><a id="n448017"><a id="n448034"><a id="n448052"><a id="n448053"><a id="n448063"><a id="n448030"><a id="n448047"><a id="n448046"><a id="n448028"><a id="n448032"><a id="n448062"><a id="n448058"><a id="n448033"><a id="n448015"><a id="n448061"><a id="n448035"><a id="n448064"><a id="n448019"><a id="n448011"><a id="n448043"><a id="n448050"><a id="n448021"><a id="n448056"><a id="n448055"><a id="n448014"><a id="n448049"><a id="n448037">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#56">link::llvm_err</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c21><a href="../../librustc/back/link.rs.html#236">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164024">"failed&nbsp;to&nbsp;load&nbsp;bc&nbsp;of&nbsp;`</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164024">`"</a></c1><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n164422">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/vec.rs.html#n56731">
</a></c10><br/><ln>&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a>&nbsp;<c10><a href="../../libstd/vec.rs.html#n56731">
</a></c10><br/><ln>&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a>&nbsp;<c10><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c40>//&nbsp;Internalize&nbsp;everything&nbsp;but&nbsp;the&nbsp;reachable&nbsp;symbols&nbsp;of&nbsp;the&nbsp;current&nbsp;module
</c40><br/><ln>&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n448079"><a id="n448088"><a id="n448084"><a id="n448077"><a id="n448085"><a id="n448087"><a id="n448075"><a id="n448072"><a id="n448082"><a id="n448071"><a id="n448089"><a id="n448081"><a id="n448086"><a id="n448078"><a id="n448080"><a id="n448073">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#76">cstrs</a></c20><c13><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c8><a href="../../libstd/c_str.rs.html#n125556">::std::c_str::CString</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#22">reachable</a></c26><c10><a href="../../libstd/slice.rs.html#n48682">.iter</a></c10><c4>()</c4><c10><nop>.map</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c20><a href="../../librustc/back/lto.rs.html#75">s</a></c20><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c8><a href="../../librustc/back/lto.rs.html#75">s</a></c8><c22><a href="../../libstd/c_str.rs.html#n126060">.to_c_str</a></c22><c4>())</c4><c10><nop>.collect</nop></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n448106"><a id="n448107"><a id="n448098"><a id="n448113"><a id="n448109"><a id="n448115"><a id="n448105"><a id="n448102"><a id="n448104"><a id="n448114"><a id="n448101"><a id="n448097"><a id="n448100"><a id="n448108"><a id="n448095"><a id="n448090"><a id="n448094"><a id="n448091"><a id="n448116"><a id="n448099"><a id="n448112"><a id="n448092"><a id="n448110">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="#line76_col8_refs">arr</a></c20><c16><a href="../../librustc/back/link.rs.html#236">:&nbsp;</a></c16><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c8><a href="../../librustc/back/link.rs.html#236">*i8</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/lto.rs.html#75">cstrs</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c10><nop>.map</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c20><a href="../../librustc/back/lto.rs.html#76">c</a></c20><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c26><a href="../../librustc/back/lto.rs.html#76">c</a></c26><c10><a href="../../libstd/c_str.rs.html#n125716">.with_ref</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n125716">|</a></c1><c20><a href="../../librustc/back/lto.rs.html#76">p</a></c20><c8><a href="../../libstd/c_str.rs.html#n125716">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n125716">&nbsp;</a></c1><c26><a href="../../librustc/back/lto.rs.html#76">p</a></c26><c4>))</c4><c10><nop>.collect</nop></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n448122"><a id="n448118"><a id="n448121"><a id="n448120"><a id="n448117"><a id="n448119">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="../../librustc/back/lto.rs.html#79">ptr</a></c20><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#76">arr</a></c26><c10><a href="../../libstd/vec.rs.html#n56240">.as_ptr</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n448123"><a id="n448125"><a id="n448124">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n448131"><a id="n448130"><a id="n448127"><a id="n448133"><a id="n448134"><a id="n448132"><a id="n448129"><a id="n448126"><a id="n448128">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustRunRestrictionPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#77">ptr</a></c26><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/back/link.rs.html#236">**</a></c8><c8><a href="../../liblibc/lib.rs.html#n638">libc::c_char</a></c8><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">
</a></c13><br/><ln>&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n448138"><a id="n448136"><a id="n448137"><a id="n448139">&nbsp;</a></a></a></a><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#76">arr</a></c26><c10><a href="../../libstd/vec.rs.html#n55089">.len</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;as&nbsp;</a></c21><c8><a href="../../liblibc/lib.rs.html#n671">libc::size_t</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n448141"><a id="n448144"><a id="n448145"><a id="n448142"><a id="n448143">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#316">.no_landing_pads</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n448146"><a id="n448147">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n448149"><a id="n448148"><a id="n448151"><a id="n448150">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustMarkAllFunctionsNounwind</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Now&nbsp;we&nbsp;have&nbsp;one&nbsp;massive&nbsp;module&nbsp;inside&nbsp;of&nbsp;llmod.&nbsp;Time&nbsp;to&nbsp;run&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;LTO-specific&nbsp;optimization&nbsp;passes&nbsp;that&nbsp;LLVM&nbsp;provides.
</c40><br/><ln>&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;code&nbsp;is&nbsp;based&nbsp;off&nbsp;the&nbsp;code&nbsp;found&nbsp;in&nbsp;llvm's&nbsp;LTO&nbsp;code&nbsp;generator:
</c40><br/><ln>&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tools/lto/LTOCodeGenerator.cpp
</c40><br/><ln>&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n448213"><a id="n448189"><a id="n448219"><a id="n448199"><a id="n448212"><a id="n448214"><a id="n448194"><a id="n448193"><a id="n448217"><a id="n448192"><a id="n448215"><a id="n448202"><a id="n448211"><a id="n448200"><a id="n448203"><a id="n448208"><a id="n448218"><a id="n448201"><a id="n448207"><a id="n448190"><a id="n448234"><a id="n448191"><a id="n448204"><a id="n448209"><a id="n448205"><a id="n448195"><a id="n448206"><a id="n448210"><a id="n448216"><a id="n448196">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n163992">"running&nbsp;the&nbsp;pass&nbsp;manager"</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n448237"><a id="n448235"><a id="n448236">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n448241"><a id="n448239"><a id="n448240"><a id="n448243"><a id="n448238"><a id="n448242">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="#line96_col12_refs">pm</a></c20><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c13><c26><nop>llvm::LLVMCreatePassManager</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n448249"><a id="n448245"><a id="n448244"><a id="n448248"><a id="n448246"><a id="n448247">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAnalysisPasses</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#22">tm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n448256"><a id="n448261"><a id="n448250"><a id="n448255"><a id="n448251"><a id="n448252"><a id="n448259"><a id="n448253"><a id="n448260"><a id="n448257"><a id="n448258"><a id="n448262">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="../../libstd/c_str.rs.html#n126080">"verify"</a></c12><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/lto.rs.html#98">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c8><nop>llvm</nop></c8><c26><nop>::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#98">s</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;100</ln><a id="100">&nbsp;</a><a id="n448267"><a id="n448268"><a id="n448263"><a id="n448265"><a id="n448264"><a id="n448266">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c22><c20><a href="#line100_col12_refs">builder</a></c20><c16><a href="../../librustc/back/link.rs.html#236">&nbsp;=&nbsp;</a></c16><c26><nop>llvm::LLVMPassManagerBuilderCreate</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;101</ln><a id="101">&nbsp;</a><a id="n448272"><a id="n448270"><a id="n448273"><a id="n448271"><a id="n448269">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderPopulateLTOPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#100">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">
</a></c13><br/><ln>&nbsp;102</ln><a id="102">&nbsp;</a><a id="n448274">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c41>/*&nbsp;Internalize&nbsp;=&nbsp;*/</c41><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#26">False</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">
</a></c13><br/><ln>&nbsp;103</ln><a id="103">&nbsp;</a><a id="n448275">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c41>/*&nbsp;RunInliner&nbsp;=&nbsp;*/</c41><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#25">True</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;104</ln><a id="104">&nbsp;</a><a id="n448277"><a id="n448276"><a id="n448279"><a id="n448278">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderDispose</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#100">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;106</ln><a id="106">&nbsp;</a><a id="n448290"><a id="n448287"><a id="n448291"><a id="n448281"><a id="n448285"><a id="n448292"><a id="n448286"><a id="n448283"><a id="n448289"><a id="n448288"><a id="n448280"><a id="n448282">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="../../libstd/c_str.rs.html#n126080">"verify"</a></c12><c13><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c13><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/lto.rs.html#106">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c8><nop>llvm</nop></c8><c26><nop>::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c22><c26><a href="../../librustc/back/lto.rs.html#106">s</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;108</ln><a id="108">&nbsp;</a><a id="n448297"><a id="n448296"><a id="n448302"><a id="n448303"><a id="n448294"><a id="n448295"><a id="n448299"><a id="n448300"><a id="n448293"><a id="n448304"><a id="n448298">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#21">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#236">"LTO&nbsp;pases"</a></c12><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c13><c1><a href="../../librustc/back/link.rs.html#236">|</a></c1><c4>()</c4><c8><a href="../../librustc/back/link.rs.html#236">|</a></c8><c1><a href="../../librustc/back/link.rs.html#236">
</a></c1><br/><ln>&nbsp;109</ln><a id="109">&nbsp;</a><a id="n448308"><a id="n448305"><a id="n448309"><a id="n448306"><a id="n448310"><a id="n448307">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><nop>llvm</nop></c8><c26><nop>::LLVMRunPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#236">&nbsp;</a></c27><c26><a href="../../librustc/back/lto.rs.html#21">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;110</ln><a id="110">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;111</ln><a id="111">&nbsp;</a><a id="n448311"><a id="n448314"><a id="n448312"><a id="n448313">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/lto.rs.html#96">pm</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;113</ln><a id="113">&nbsp;</a><a id="n448363"><a id="n448364"><a id="n448352"><a id="n448365"><a id="n448353"><a id="n448376"><a id="n448397"><a id="n448379"><a id="n448370"><a id="n448367"><a id="n448354"><a id="n448377"><a id="n448357"><a id="n448372"><a id="n448375"><a id="n448368"><a id="n448378"><a id="n448358"><a id="n448380"><a id="n448355"><a id="n448369"><a id="n448371"><a id="n448359"><a id="n448356"><a id="n448381"><a id="n448366"><a id="n448374"><a id="n448382"><a id="n448362"><a id="n448373">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#236">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c13><a href="../../librustc/back/lto.rs.html#113">"lto&nbsp;done"</a></c13><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#236">
</a></c22><br/><ln>&nbsp;114</ln><a id="114">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"></div></maintext></div></body>