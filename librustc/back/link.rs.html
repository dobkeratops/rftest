<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/link.rs.html">link.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2014&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::archive::</c0><c3>{</c3><c0>Archive</c0><c3>,</c3><c0>&nbsp;METADATA_FILENAME</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::rpath</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::svh::Svh</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::driver::</c0><c3>{</c3><c0>CrateTranslation</c0><c3>,</c3><c0>&nbsp;OutputFilenames</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session::</c0><c3>{</c3><c0>NoDebugInfo</c0><c3>,</c3><c0>&nbsp;Session</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::llvm</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::ModuleRef</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::common::LinkMeta</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::</c0><c3>{</c3><c0>encoder</c0><c3>,</c3><c0>&nbsp;cstore</c0><c3>,</c3><c0>&nbsp;filesearch</c0><c3>,</c3><c0>&nbsp;csearch</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::trans::context::CrateContext</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::trans::common::gensym_name</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::common::time</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::ppaux</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::sha2::</c0><c3>{</c3><c0>Digest</c0><c3>,</c3><c0>&nbsp;Sha256</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::c_str::</c0><c3>{</c3><c0>ToCStr</c0><c3>,</c3><c0>&nbsp;CString</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::char</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::os::consts::</c0><c3>{</c3><c0>macos</c0><c3>,</c3><c0>&nbsp;freebsd</c0><c3>,</c3><c0>&nbsp;linux</c0><c3>,</c3><c0>&nbsp;android</c0><c3>,</c3><c0>&nbsp;win32</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::ptr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io::</c0><c3>{</c3><c0>fs</c0><c3>,</c3><c0>&nbsp;TempDir</c0><c3>,</c3><c0>&nbsp;Process</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;flate</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;serialize::hex::ToHex</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::abi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast_map::</c0><c3>{</c3><c0>PathElem</c0><c3>,</c3><c0>&nbsp;PathElems</c0><c3>,</c3><c0>&nbsp;PathName</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast_map</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::attr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::attr::AttrMetaMethods</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::crateid::CrateId</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n437644"><a id="n438079"><a id="n437796"><a id="n437741"><a id="n437730"><a id="n437619"><a id="n437889"><a id="n438092"><a id="n437581"><a id="n437609"><a id="n437716"><a id="n438027"><a id="n437813"><a id="n437925"><a id="n437990"><a id="n438100"><a id="n437868"><a id="n437940"><a id="n438128"><a id="n438064"><a id="n437947"><a id="n438112"><a id="n437697"><a id="n438014"><a id="n437858"><a id="n437707"><a id="n438058"><a id="n437660"><a id="n437974"><a id="n437669"><a id="n438110"><a id="n438040"><a id="n437954"><a id="n437618"><a id="n437695"><a id="n437785"><a id="n438013"><a id="n437830"><a id="n437587"><a id="n438074"><a id="n437923"><a id="n437915"><a id="n437815"><a id="n437921"><a id="n437588"><a id="n438153"><a id="n437933"><a id="n438055"><a id="n438085"><a id="n437667"><a id="n437704"><a id="n437937"><a id="n437879"><a id="n437672"><a id="n437641"><a id="n437615"><a id="n437992"><a id="n438072"><a id="n437628"><a id="n438131"><a id="n438124"><a id="n438073"><a id="n437701"><a id="n437829"><a id="n438020"><a id="n438010"><a id="n437804"><a id="n437655"><a id="n438025"><a id="n437725"><a id="n437898"><a id="n437674"><a id="n437848"><a id="n437962"><a id="n437824"><a id="n437939"><a id="n437684"><a id="n438169"><a id="n437589"><a id="n437683"><a id="n437696"><a id="n437840"><a id="n438080"><a id="n438152"><a id="n438099"><a id="n437886"><a id="n438144"><a id="n438063"><a id="n437827"><a id="n437709"><a id="n437597"><a id="n437931"><a id="n437832"><a id="n437935"><a id="n438136"><a id="n437967"><a id="n437678"><a id="n437983"><a id="n437731"><a id="n437834"><a id="n438097"><a id="n437625"><a id="n437850"><a id="n437846"><a id="n437943"><a id="n437878"><a id="n437574"><a id="n438106"><a id="n438167"><a id="n437917"><a id="n437841"><a id="n437711"><a id="n437883"><a id="n437623"><a id="n437810"><a id="n437658"><a id="n438177"><a id="n438173"><a id="n438016"><a id="n438166"><a id="n438042"><a id="n437723"><a id="n437591"><a id="n437792"><a id="n438006"><a id="n438089"><a id="n437994"><a id="n437959"><a id="n437777"><a id="n438111"><a id="n437870"><a id="n437806"><a id="n438048"><a id="n437608"><a id="n437871"><a id="n438004"><a id="n437756"><a id="n437882"><a id="n437956"><a id="n437869"><a id="n437728"><a id="n437820"><a id="n437735"><a id="n437909"><a id="n437857"><a id="n437612"><a id="n438084"><a id="n437599"><a id="n437712"><a id="n437713"><a id="n437801"><a id="n437714"><a id="n437895"><a id="n437911"><a id="n438147"><a id="n438039"><a id="n437912"><a id="n437681"><a id="n438060"><a id="n437642"><a id="n438139"><a id="n438154"><a id="n438158"><a id="n437786"><a id="n438032"><a id="n437798"><a id="n437852"><a id="n438087"><a id="n438171"><a id="n438090"><a id="n437928"><a id="n437620"><a id="n437818"><a id="n438120"><a id="n437963"><a id="n437866"><a id="n437772"><a id="n438068"><a id="n437843"><a id="n437758"><a id="n437733"><a id="n437646"><a id="n437698"><a id="n438052"><a id="n437775"><a id="n437862"><a id="n437596"><a id="n437781"><a id="n438051"><a id="n438162"><a id="n437854"><a id="n437652"><a id="n437887"><a id="n438151"><a id="n438022"><a id="n437590"><a id="n437942"><a id="n438159"><a id="n437874"><a id="n437769"><a id="n438108"><a id="n437838"><a id="n437680"><a id="n438045"><a id="n437708"><a id="n437969"><a id="n438053"><a id="n438077"><a id="n437676"><a id="n437639"><a id="n437765"><a id="n438107"><a id="n437624"><a id="n438127"><a id="n438082"><a id="n438056"><a id="n437971"><a id="n438178"><a id="n438129"><a id="n437881"><a id="n437968"><a id="n437793"><a id="n437688"><a id="n437759"><a id="n437739"><a id="n438155"><a id="n438008"><a id="n437632"><a id="n438140"><a id="n438081"><a id="n438135"><a id="n437860"><a id="n437749"><a id="n437690"><a id="n438175"><a id="n437607"><a id="n437907"><a id="n438028"><a id="n437719"><a id="n438076"><a id="n437773"><a id="n437602"><a id="n437864"><a id="n437770"><a id="n437636"><a id="n437767"><a id="n437593"><a id="n437808"><a id="n437802"><a id="n438088"><a id="n438018"><a id="n437648"><a id="n438115"><a id="n437662"><a id="n437686"><a id="n437951"><a id="n438142"><a id="n438164"><a id="n437783"><a id="n437982"><a id="n437919"><a id="n437844"><a id="n438145"><a id="n438069"><a id="n438126"><a id="n438011"><a id="n438134"><a id="n437799"><a id="n437794"><a id="n437986"><a id="n437650"><a id="n437753"><a id="n437812"><a id="n438000"><a id="n438143"><a id="n438093"><a id="n437949"><a id="n438113"><a id="n438002"><a id="n437980"><a id="n437826"><a id="n437605"><a id="n438123"><a id="n437978"><a id="n437996"><a id="n438132"><a id="n437891"><a id="n438098"><a id="n438148"><a id="n437797"><a id="n437884"><a id="n438066"><a id="n437656"><a id="n437751"><a id="n437700"><a id="n437742"><a id="n437761"><a id="n437903"><a id="n438065"><a id="n437789"><a id="n438038"><a id="n438095"><a id="n437634"><a id="n438137"><a id="n437966"><a id="n437737"><a id="n438030"><a id="n437603"><a id="n437763"><a id="n438034"><a id="n437964"><a id="n437985"><a id="n437972"><a id="n438071"><a id="n437727"><a id="n437836"><a id="n437988"><a id="n437627"><a id="n438156"><a id="n437914"><a id="n438116"><a id="n437905"><a id="n437999"><a id="n438121"><a id="n437622"><a id="n437600"><a id="n437580"><a id="n437822"><a id="n437779"><a id="n437901"><a id="n437594"><a id="n437717"><a id="n438061"><a id="n437611"><a id="n437897"><a id="n438036"><a id="n437638"><a id="n437747"><a id="n437583"><a id="n437877"><a id="n438044"><a id="n438118"><a id="n437721"><a id="n438119"><a id="n437584"><a id="n437664"><a id="n437692"><a id="n437670"><a id="n438096"><a id="n437900"><a id="n437745"><a id="n438057"><a id="n437744"><a id="n437694"><a id="n437976"><a id="n437953"><a id="n437855"><a id="n438024"><a id="n437926"><a id="n437945"><a id="n437893"><a id="n438103"><a id="n437929"><a id="n437997"><a id="n438165"><a id="n437784"><a id="n437666"><a id="n437755"><a id="n437816"><a id="n437606"><a id="n437955"><a id="n438150"><a id="n438041"><a id="n437653"><a id="n437630">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../libstd/clone.rs.html#n98535">Clone</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="#47_18_refs">Eq</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#47">Ord</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libstd/cmp.rs.html#n75035">TotalOrd</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#47">TotalEq</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a>&nbsp;<c21>pub</c21><c34><a href="#47_47_refs">&nbsp;</a></c34><c34>enum</c34><c34><a href="#47_47_refs">&nbsp;OutputType&nbsp;</a></c34><c3>{</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n437671"><a id="n438029"><a id="n437774"><a id="n438114"><a id="n438015"><a id="n437643"><a id="n437760"><a id="n437715"><a id="n437732"><a id="n437930"><a id="n438062"><a id="n437629"><a id="n437685"><a id="n437916"><a id="n437575"><a id="n437885"><a id="n437746"><a id="n438168"><a id="n437657"><a id="n437592"><a id="n437987"><a id="n437803"><a id="n437970"><a id="n438117"><a id="n437888"><a id="n438059"><a id="n437859"><a id="n437902"><a id="n437845"><a id="n437944"><a id="n438001"><a id="n437831"><a id="n437718"><a id="n437817"><a id="n437973"><a id="n437800"><a id="n437626">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n437805"><a id="n438170"><a id="n437576"><a id="n437984"><a id="n437595"><a id="n438031"><a id="n438070"><a id="n438125"><a id="n437640"><a id="n437631"><a id="n437847"><a id="n438003"><a id="n437776"><a id="n437890"><a id="n437645"><a id="n437904"><a id="n437833"><a id="n437861"><a id="n437734"><a id="n437720"><a id="n437762"><a id="n437729"><a id="n437748"><a id="n437819"><a id="n438017"><a id="n438067"><a id="n437975"><a id="n437918"><a id="n437659"><a id="n437989"><a id="n437899"><a id="n437946"><a id="n437932"><a id="n437814"><a id="n437673"><a id="n438122"><a id="n437687">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n437892"><a id="n437722"><a id="n437675"><a id="n438172"><a id="n437633"><a id="n438078"><a id="n437689"><a id="n437807"><a id="n437977"><a id="n438133"><a id="n437750"><a id="n437778"><a id="n437598"><a id="n437906"><a id="n437948"><a id="n437577"><a id="n438130"><a id="n437743"><a id="n438033"><a id="n438019"><a id="n437654"><a id="n437934"><a id="n437991"><a id="n437821"><a id="n437998"><a id="n437828"><a id="n438075"><a id="n437764"><a id="n437863"><a id="n437661"><a id="n437920"><a id="n438005"><a id="n437647"><a id="n437849"><a id="n437913"><a id="n437736"><a id="n437835">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeLlvmAssembly</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n437894"><a id="n437578"><a id="n437601"><a id="n437649"><a id="n437752"><a id="n437936"><a id="n437663"><a id="n437677"><a id="n437908"><a id="n438174"><a id="n437738"><a id="n438007"><a id="n437809"><a id="n437922"><a id="n437724"><a id="n437837"><a id="n438141"><a id="n437691"><a id="n437757"><a id="n437635"><a id="n438035"><a id="n438012"><a id="n437780"><a id="n438083"><a id="n437668"><a id="n437842"><a id="n438138"><a id="n437865"><a id="n437950"><a id="n437927"><a id="n438021"><a id="n438086"><a id="n437851"><a id="n437993"><a id="n437766"><a id="n437823"><a id="n437979">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n437754"><a id="n438009"><a id="n437924"><a id="n437726"><a id="n438149"><a id="n437839"><a id="n437693"><a id="n437679"><a id="n438176"><a id="n437856"><a id="n437981"><a id="n437995"><a id="n438026"><a id="n437604"><a id="n437825"><a id="n438037"><a id="n437952"><a id="n438146"><a id="n437867"><a id="n437768"><a id="n437771"><a id="n437941"><a id="n437782"><a id="n437665"><a id="n438094"><a id="n437938"><a id="n438023"><a id="n437682"><a id="n437637"><a id="n437651"><a id="n437811"><a id="n437853"><a id="n437896"><a id="n437579"><a id="n437910"><a id="n437740"><a id="n438091">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n438179">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n438182"><a id="n438187"><a id="n438184"><a id="n438188"><a id="n438183"><a id="n438191"><a id="n438190"><a id="n438189">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#55_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#55_1_refs">&nbsp;llvm_err</a></c30><c4>(</c4><c20><a href="#56_16_refs">sess</a></c20><c1><a href="#55_1_refs">:&nbsp;</a></c1><c8><a href="#55_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#55_1_refs">&nbsp;</a></c1><c20><a href="#56_32_refs">msg</a></c20><c1><a href="#55_1_refs">:&nbsp;</a></c1><c8><a href="#55_1_refs">~str</a></c8><c4>)</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c8><a href="#55_1_refs">!</a></c8><c1><a href="#55_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n438198"><a id="n438236">&nbsp;</a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n438194"><a id="n438196"><a id="n438195"><a id="n438197"><a id="n438193"><a id="n438192">&nbsp;</a></a></a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#58_12_refs">cstr</a></c20><c16><a href="#55_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=519864">llvm::LLVMRustGetLastError</a></c26><c4>()</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n438202"><a id="n438199"><a id="n438201"><a id="n438200"><a id="n438207"><a id="n438235">&nbsp;</a></a></a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#55_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#58">cstr</a></c26><c5><a href="#55_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/ptr.rs.html#n71257">ptr::null</a></c26><c4>()</c4><c21><a href="#55_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n438204"><a id="n438205"><a id="n438203"><a id="n438206">&nbsp;</a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#56">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#56">msg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n438233"><a id="n438234">&nbsp;</a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#55_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#55_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n438214"><a id="n438210"><a id="n438209"><a id="n438208"><a id="n438211"><a id="n438212"><a id="n438215"><a id="n438213">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#62_16_refs">err</a></c20><c13><a href="#55_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/c_str.rs.html#n126591">CString::new</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#58">cstr</a></c26><c3>,</c3><c27><a href="#55_1_refs">&nbsp;</a></c27><c12><a href="#55_1_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n438216"><a id="n438218"><a id="n438220"><a id="n438217"><a id="n438222"><a id="n438221"><a id="n438219"><a id="n438223">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#63_16_refs">err</a></c20><c13><a href="#55_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/str.rs.html#n62437">str::from_utf8_lossy</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#62">err</a></c26><c10><a href="../../libstd/c_str.rs.html#n126728">.as_bytes</a></c10><c4>())</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n438225"><a id="n438226"><a id="n438231"><a id="n438227"><a id="n438230"><a id="n438224"><a id="n438232"><a id="n438229"><a id="n438228">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#56">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#56">msg</a></c26><c5><a href="../../librustc/driver/session.rs.html#205">&nbsp;+&nbsp;</a></c5><c12><a href="../../librustc/driver/session.rs.html#205">":&nbsp;"</a></c12><c5><a href="../../librustc/driver/session.rs.html#205">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#63">err</a></c26><c10><a href="../../libstd/str.rs.html#n63245">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a>&nbsp;<c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n438237">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a>&nbsp;<c21>pub</c21><c1><a href="#68_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#68_1_refs">&nbsp;WriteOutputFile</a></c30><c4>(</c4><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n438242"><a id="n438241"><a id="n438240">&nbsp;</a></a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#70_8_refs">sess</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="#68_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n438245"><a id="n438246">&nbsp;</a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#71_8_refs">target</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#259">lib::llvm::TargetMachineRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n438250"><a id="n438249">&nbsp;</a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#72_8_refs">pm</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n438253"><a id="n438254">&nbsp;</a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#73_8_refs">m</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n438259"><a id="n438257"><a id="n438258">&nbsp;</a></a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#74_8_refs">output</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="#68_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n438262"><a id="n438263"><a id="n438264"><a id="n438265">&nbsp;</a></a></a></a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#75_8_refs">file_type</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#180">lib::llvm::FileType</a></c8><c4>)</c4><c1><a href="#68_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n438298"><a id="n438266">&nbsp;</a></a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#68_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n438284"><a id="n438297"><a id="n438267"><a id="n438272"><a id="n438295"><a id="n438270"><a id="n438296"><a id="n438269"><a id="n438271">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#74">output</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c1><c20><a href="#77_27_refs">output</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n438276"><a id="n438275"><a id="n438274"><a id="n438283"><a id="n438282"><a id="n438273">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c22><c20><a href="#78_16_refs">result</a></c20><c16><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=520909">llvm::LLVMRustWriteOutputFile</a></c26><c4>(</c4><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c27><br/><ln>&nbsp;&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n438279"><a id="n438281"><a id="n438280"><a id="n438278"><a id="n438277">&nbsp;</a></a></a></a></a><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#71">target</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#72">pm</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#73">m</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#77">output</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#75">file_type</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n438293"><a id="n438285"><a id="n438286"><a id="n438294">&nbsp;</a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c21><c5><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">!</a></c5><c26><a href="../../librustc/back/link.rs.html#78">result</a></c26><c21><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n438288"><a id="n438287"><a id="n438291"><a id="n438290"><a id="n438289"><a id="n438292">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#55">llvm_err</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#70">sess</a></c26><c3>,</c3><c13><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c13><c16><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">~</a></c16><c12><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">"could&nbsp;not&nbsp;write&nbsp;output"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n438299">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a>&nbsp;<c21>pub</c21><c38>&nbsp;</c38><c21>mod</c21><c38>&nbsp;write&nbsp;</c38><c3>{</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::lto</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>WriteOutputFile</c38><c3>,</c3><c38>&nbsp;OutputType</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeAssembly</c38><c3>,</c3><c38>&nbsp;OutputTypeBitcode</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeExe</c38><c3>,</c3><c38>&nbsp;OutputTypeLlvmAssembly</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeObject</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::driver::</c38><c3>{</c3><c38>CrateTranslation</c38><c3>,</c3><c38>&nbsp;OutputFilenames</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session::</c38><c3>{</c3><c38>NoDebugInfo</c38><c3>,</c3><c38>&nbsp;Session</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::llvm</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::</c38><c3>{</c3><c38>ModuleRef</c38><c3>,</c3><c38>&nbsp;TargetMachineRef</c38><c3>,</c3><c38>&nbsp;PassManagerRef</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;100</ln><a id="100">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;util::common::time</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;101</ln><a id="101">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;syntax::abi</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;102</ln><a id="102">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;103</ln><a id="103">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::c_str::ToCStr</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;104</ln><a id="104">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::io::Process</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;libc::</c38><c3>{</c3><c38>c_uint</c38><c3>,</c3><c38>&nbsp;c_int</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;106</ln><a id="106">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::str</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;108</ln><a id="108">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;On&nbsp;android,&nbsp;we&nbsp;by&nbsp;default&nbsp;compile&nbsp;for&nbsp;armv7&nbsp;processors.&nbsp;This&nbsp;enables
</c40><br/><ln>&nbsp;&nbsp;109</ln><a id="109">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;things&nbsp;like&nbsp;double&nbsp;word&nbsp;CAS&nbsp;instructions&nbsp;(rather&nbsp;than&nbsp;emulating&nbsp;them)
</c40><br/><ln>&nbsp;&nbsp;110</ln><a id="110">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;which&nbsp;are&nbsp;*far*&nbsp;more&nbsp;efficient.&nbsp;This&nbsp;is&nbsp;obviously&nbsp;undesirable&nbsp;in&nbsp;some
</c40><br/><ln>&nbsp;&nbsp;111</ln><a id="111">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;cases,&nbsp;so&nbsp;if&nbsp;any&nbsp;sort&nbsp;of&nbsp;target&nbsp;feature&nbsp;is&nbsp;specified&nbsp;we&nbsp;don't&nbsp;append&nbsp;v7
</c40><br/><ln>&nbsp;&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;to&nbsp;the&nbsp;feature&nbsp;list.
</c40><br/><ln>&nbsp;&nbsp;113</ln><a id="113">&nbsp;</a><a id="n438346"><a id="n438340"><a id="n438339"><a id="n438334"><a id="n438338"><a id="n438344"><a id="n438343">&nbsp;</a></a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c30>fn</c30><c30><a href="#113_4_refs">&nbsp;target_feature</a></c30><c5><a href="#113_4_refs">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#113_26_refs">sess</a></c20><c1><a href="#113_4_refs">:&nbsp;</a></c1><c8><a href="#113_4_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#113_4_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#113_4_refs">&nbsp;</a></c1><c8><a href="#113_4_refs">&amp;'a&nbsp;str</a></c8><c1><a href="#113_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;114</ln><a id="114">&nbsp;</a><a id="n438348"><a id="n438347"><a id="n438375"><a id="n438349">&nbsp;</a></a></a></a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;115</ln><a id="115">&nbsp;</a><a id="n438351"><a id="n438368"><a id="n438350">&nbsp;</a></a></a><c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14692">abi::OsAndroid</a></c20><c21><a href="#113_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;116</ln><a id="116">&nbsp;</a><a id="n438356"><a id="n438353"><a id="n438355"><a id="n438367"><a id="n438352"><a id="n438357"><a id="n438354"><a id="n438358">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c12><a href="#113_4_refs">""</a></c12><c5><a href="#113_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.target_feature</a></c24><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;117</ln><a id="117">&nbsp;</a><a id="n438359">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#113_4_refs">"+v7"</a></c12><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;118</ln><a id="118">&nbsp;</a><a id="n438366"><a id="n438360">&nbsp;</a></a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#113_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;119</ln><a id="119">&nbsp;</a><a id="n438365"><a id="n438362"><a id="n438363"><a id="n438364"><a id="n438361">&nbsp;</a></a></a></a></a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>()</c4><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;120</ln><a id="120">&nbsp;</a>&nbsp;<c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;121</ln><a id="121">&nbsp;</a>&nbsp;<c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;122</ln><a id="122">&nbsp;</a><a id="n438372"><a id="n438373"><a id="n438369"><a id="n438371"><a id="n438370"><a id="n438374">&nbsp;</a></a></a></a></a></a><c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#113_4_refs">_</a></c20><c21><a href="#113_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#113_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>()</c4><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;123</ln><a id="123">&nbsp;</a>&nbsp;<c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;125</ln><a id="125">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;126</ln><a id="126">&nbsp;</a><a id="n438380"><a id="n438381"><a id="n438379"><a id="n438376">&nbsp;</a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="#126_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#126_4_refs">&nbsp;run_passes</a></c30><c4>(</c4><c20><a href="#126_22_refs">sess</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;127</ln><a id="127">&nbsp;</a><a id="n438384"><a id="n438386"><a id="n438385">&nbsp;</a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#127_22_refs">trans</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;128</ln><a id="128">&nbsp;</a><a id="n438389"><a id="n438392"><a id="n438390"><a id="n438391">&nbsp;</a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#128_22_refs">output_types</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../librustc/back/link.rs.html#47">OutputType</a></c8><c3>],</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;129</ln><a id="129">&nbsp;</a><a id="n438397"><a id="n438398"><a id="n438395"><a id="n438411"><a id="n438396">&nbsp;</a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#129_22_refs">output</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1121">OutputFilenames</a></c8><c4>)</c4><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;130</ln><a id="130">&nbsp;</a><a id="n438401"><a id="n438403"><a id="n438402"><a id="n438404"><a id="n438399"><a id="n438400">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#130_12_refs">llmod</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#409">.module</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;131</ln><a id="131">&nbsp;</a><a id="n438408"><a id="n438410"><a id="n438406"><a id="n438407"><a id="n438409"><a id="n438405">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#131_12_refs">llcx</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#408">.context</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;132</ln><a id="132">&nbsp;</a><a id="n439322"><a id="n439330">&nbsp;</a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;133</ln><a id="133">&nbsp;</a><a id="n438414"><a id="n438413"><a id="n438415"><a id="n438412">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">configure_llvm</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;134</ln><a id="134">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;135</ln><a id="135">&nbsp;</a><a id="n438417"><a id="n438420"><a id="n438416"><a id="n438418"><a id="n438419"><a id="n438439"><a id="n438438">&nbsp;</a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.save_temps</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;136</ln><a id="136">&nbsp;</a><a id="n438426"><a id="n438428"><a id="n438436"><a id="n438422"><a id="n438421"><a id="n438423"><a id="n438425"><a id="n438427"><a id="n438435"><a id="n438434"><a id="n438437">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1148">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/driver/driver.rs.html#1148">"no-opt.bc"</a></c12><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="#126_4_refs">|</a></c1><c20><a href="#136_63_refs">buf</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;137</ln><a id="137">&nbsp;</a><a id="n438429"><a id="n438431"><a id="n438433"><a id="n438430"><a id="n438432">&nbsp;</a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519254">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#136">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;138</ln><a id="138">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;139</ln><a id="139">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;141</ln><a id="141">&nbsp;</a><a id="n438445"><a id="n438444"><a id="n438455"><a id="n438454"><a id="n438443"><a id="n438441"><a id="n438440"><a id="n438442">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#141_16_refs">opt_level</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#126_4_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;142</ln><a id="142">&nbsp;</a><a id="n438447"><a id="n438446">&nbsp;</a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#110">session::No</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelNone</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;143</ln><a id="143">&nbsp;</a><a id="n438448"><a id="n438449">&nbsp;</a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#111">session::Less</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelLess</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;144</ln><a id="144">&nbsp;</a><a id="n438451"><a id="n438450">&nbsp;</a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelDefault</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;145</ln><a id="145">&nbsp;</a><a id="n438452"><a id="n438453">&nbsp;</a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#207">lib::llvm::CodeGenLevelAggressive</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;146</ln><a id="146">&nbsp;</a>&nbsp;<c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;147</ln><a id="147">&nbsp;</a><a id="n438459"><a id="n438458"><a id="n438462"><a id="n438463"><a id="n438456"><a id="n438461"><a id="n438457"><a id="n438460">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#147_16_refs">use_softfp</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.soft_float</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;148</ln><a id="148">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11906:&nbsp;Omitting&nbsp;frame&nbsp;pointers&nbsp;breaks&nbsp;retrieving&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;parameter.
</c40><br/><ln>&nbsp;&nbsp;150</ln><a id="150">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11954:&nbsp;mac64&nbsp;unwinding&nbsp;may&nbsp;not&nbsp;work&nbsp;with&nbsp;fp&nbsp;elim
</c40><br/><ln>&nbsp;&nbsp;151</ln><a id="151">&nbsp;</a><a id="n438486"><a id="n438466"><a id="n438470"><a id="n438464"><a id="n438467"><a id="n438471"><a id="n438469"><a id="n438472"><a id="n438465"><a id="n438485"><a id="n438468">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#151_16_refs">no_fp_elim</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#131">.debuginfo</a></c24><c5><a href="#126_4_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#118">NoDebugInfo</a></c26><c4>)</c4><c1><a href="#126_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;152</ln><a id="152">&nbsp;</a><a id="n438475"><a id="n438473"><a id="n438483"><a id="n438474"><a id="n438477"><a id="n438476"><a id="n438484">&nbsp;</a></a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#126_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14690">abi::OsMacos</a></c26><c1><a href="#126_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;153</ln><a id="153">&nbsp;</a><a id="n438479"><a id="n438480"><a id="n438478"><a id="n438481"><a id="n438482">&nbsp;</a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#35">.arch</a></c24><c5><a href="#126_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n15576">abi::X86_64</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;154</ln><a id="154">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;155</ln><a id="155">&nbsp;</a><a id="n438491"><a id="n438489"><a id="n438494"><a id="n438575"><a id="n438488"><a id="n438487"><a id="n438492"><a id="n438493"><a id="n438576"><a id="n438490">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#155_16_refs">reloc_model</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#126_4_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.relocation_model</a></c24><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;156</ln><a id="156">&nbsp;</a><a id="n438495"><a id="n438497"><a id="n438496">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#126_4_refs">"pic"</a></c20><c12><a href="#126_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#214">lib::llvm::RelocPIC</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;157</ln><a id="157">&nbsp;</a><a id="n438499"><a id="n438498"><a id="n438500">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#126_4_refs">"</a></c20><c36>static</c36><c36><a href="#126_4_refs">"&nbsp;</a></c36><c36>=&gt;</c36><c5><a href="#126_4_refs">&nbsp;</a></c5><c5><a href="../../librustc/lib/llvm.rs.html#213">lib::llvm::RelocStatic</a></c5><c5>,</c5><c5><a href="#126_4_refs">
</a></c5><br/><ln>&nbsp;&nbsp;158</ln><a id="158">&nbsp;</a><a id="n438503"><a id="n438502"><a id="n438501">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#126_4_refs">"default"</a></c20><c12><a href="#126_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#212">lib::llvm::RelocDefault</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;159</ln><a id="159">&nbsp;</a><a id="n438504"><a id="n438505"><a id="n438506">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#126_4_refs">"dynamic-no-pic"</a></c20><c12><a href="#126_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#215">lib::llvm::RelocDynamicNoPic</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;160</ln><a id="160">&nbsp;</a><a id="n438574"><a id="n438507"><a id="n438573">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#126_4_refs">_</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;161</ln><a id="161">&nbsp;</a><a id="n438548"><a id="n438566"><a id="n438555"><a id="n438520"><a id="n438538"><a id="n438541"><a id="n438558"><a id="n438554"><a id="n438530"><a id="n438508"><a id="n438531"><a id="n438567"><a id="n438522"><a id="n438564"><a id="n438521"><a id="n438539"><a id="n438514"><a id="n438550"><a id="n438546"><a id="n438517"><a id="n438525"><a id="n438524"><a id="n438529"><a id="n438527"><a id="n438557"><a id="n438536"><a id="n438533"><a id="n438561"><a id="n438552"><a id="n438537"><a id="n438559"><a id="n438551"><a id="n438556"><a id="n438528"><a id="n438540"><a id="n438523"><a id="n438516"><a id="n438565"><a id="n438526"><a id="n438549"><a id="n438532"><a id="n438553"><a id="n438547"><a id="n438535"><a id="n438534">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n164602">"</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164602">&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;relocation&nbsp;mode"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;&nbsp;162</ln><a id="162">&nbsp;</a><a id="n438512"><a id="n438545"><a id="n438543"><a id="n438544"><a id="n438509"><a id="n438510"><a id="n438513"><a id="n438515"><a id="n438511"><a id="n438542">&nbsp;</a></a></a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c26><a href="../../libstd/fmt/mod.rs.html#n166625">.relocation_model</a></c26><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;163</ln><a id="163">&nbsp;</a><a id="n438568"><a id="n438569"><a id="n438570">&nbsp;</a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;164</ln><a id="164">&nbsp;</a><a id="n438571"><a id="n438572">&nbsp;</a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;165</ln><a id="165">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;166</ln><a id="166">&nbsp;</a>&nbsp;<c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;167</ln><a id="167">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;168</ln><a id="168">&nbsp;</a><a id="n438583"><a id="n438626"><a id="n438628"><a id="n438629"><a id="n438577"><a id="n438581"><a id="n438588"><a id="n438579"><a id="n438586"><a id="n438627"><a id="n438589"><a id="n438582"><a id="n438580"><a id="n438587"><a id="n438585"><a id="n438578">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#168_16_refs">tm</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#17">.target_triple</a></c24><c10><a href="../../libstd/c_str.rs.html#n126991">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126991">|</a></c1><c20><a href="#168_73_refs">t</a></c20><c8><a href="../../libstd/c_str.rs.html#n126991">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;169</ln><a id="169">&nbsp;</a><a id="n438590"><a id="n438595"><a id="n438593"><a id="n438597"><a id="n438592"><a id="n438598"><a id="n438625"><a id="n438596"><a id="n438624"><a id="n438623"><a id="n438599"><a id="n438591">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.target_cpu</a></c24><c10><a href="../../libstd/c_str.rs.html#n126991">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126991">|</a></c1><c20><a href="#169_52_refs">cpu</a></c20><c8><a href="../../libstd/c_str.rs.html#n126991">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;170</ln><a id="170">&nbsp;</a><a id="n438620"><a id="n438605"><a id="n438600"><a id="n438607"><a id="n438608"><a id="n438622"><a id="n438602"><a id="n438604"><a id="n438606"><a id="n438601"><a id="n438621">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#113">target_feature</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c4>)</c4><c10><a href="../../libstd/c_str.rs.html#n126991">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126991">|</a></c1><c20><a href="#170_53_refs">features</a></c20><c8><a href="../../libstd/c_str.rs.html#n126991">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;171</ln><a id="171">&nbsp;</a><a id="n438619"><a id="n438609">&nbsp;</a></a><c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520817">llvm::LLVMRustCreateTargetMachine</a></c26><c4>(</c4><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;172</ln><a id="172">&nbsp;</a><a id="n438611"><a id="n438612"><a id="n438610">&nbsp;</a></a></a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#168">t</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#169">cpu</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#170">features</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;173</ln><a id="173">&nbsp;</a><a id="n438613">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#220">lib::llvm::CodeModelDefault</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;174</ln><a id="174">&nbsp;</a><a id="n438614">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#155">reloc_model</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;175</ln><a id="175">&nbsp;</a><a id="n438615">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#141">opt_level</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;176</ln><a id="176">&nbsp;</a><a id="n438616">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="../../libstd/c_str.rs.html#n126991">true</a></c12><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;177</ln><a id="177">&nbsp;</a><a id="n438617">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#147">use_softfp</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;178</ln><a id="178">&nbsp;</a><a id="n438618">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#151">no_fp_elim</a></c26><c27><a href="../../libstd/c_str.rs.html#n126991">
</a></c27><br/><ln>&nbsp;&nbsp;179</ln><a id="179">&nbsp;</a>&nbsp;<c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;180</ln><a id="180">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;181</ln><a id="181">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;182</ln><a id="182">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;183</ln><a id="183">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;two&nbsp;optimizing&nbsp;pass&nbsp;managers.&nbsp;These&nbsp;mirror&nbsp;what&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;does,&nbsp;and&nbsp;are&nbsp;by&nbsp;populated&nbsp;by&nbsp;LLVM's&nbsp;default&nbsp;PassManagerBuilder.
</c40><br/><ln>&nbsp;&nbsp;186</ln><a id="186">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Each&nbsp;manager&nbsp;has&nbsp;a&nbsp;different&nbsp;set&nbsp;of&nbsp;passes,&nbsp;but&nbsp;they&nbsp;also&nbsp;share
</c40><br/><ln>&nbsp;&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;some&nbsp;common&nbsp;passes.
</c40><br/><ln>&nbsp;&nbsp;188</ln><a id="188">&nbsp;</a><a id="n438636"><a id="n438630"><a id="n438631"><a id="n438634"><a id="n438633"><a id="n438635"><a id="n438632">&nbsp;</a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#188_16_refs">fpm</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=519374">llvm::LLVMCreateFunctionPassManagerForModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;189</ln><a id="189">&nbsp;</a><a id="n438639"><a id="n438638"><a id="n438642"><a id="n438637"><a id="n438640"><a id="n438641">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#189_16_refs">mpm</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=519371">llvm::LLVMCreatePassManager</a></c26><c4>()</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;190</ln><a id="190">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;191</ln><a id="191">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;verifying&nbsp;or&nbsp;linting,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;function&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;192</ln><a id="192">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;193</ln><a id="193">&nbsp;</a><a id="n438648"><a id="n438652"><a id="n438653"><a id="n438643"><a id="n438650"><a id="n438667"><a id="n438645"><a id="n438644"><a id="n438649"><a id="n438651"><a id="n438668"><a id="n438666">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#193_16_refs">addpass</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c20><a href="#193_27_refs">pass</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;str</a></c8><c1><a href="#126_4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;194</ln><a id="194">&nbsp;</a><a id="n438662"><a id="n438658"><a id="n438654"><a id="n438657"><a id="n438660"><a id="n438661"><a id="n438664"><a id="n438663"><a id="n438656"><a id="n438659"><a id="n438665">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#193">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n126991">.with_c_str</a></c10><c4>(</c4><c1><a href="#126_4_refs">|</a></c1><c20><a href="#194_33_refs">s</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c8><a href="c=0 n=520805">llvm</a></c8><c26><a href="c=0 n=520805">::LLVMRustAddPass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#188">fpm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#194">s</a></c26><c4>))</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;195</ln><a id="195">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;196</ln><a id="196">&nbsp;</a><a id="n438670"><a id="n438671"><a id="n438749"><a id="n438751"><a id="n438672"><a id="n438750"><a id="n438674"><a id="n438673"><a id="n438669">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c5><a href="#126_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#306">.no_verify</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">&nbsp;assert!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#193">addpass</a></c26><c4>(</c4><c12><a href="#126_4_refs">"verify"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;197</ln><a id="197">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;198</ln><a id="198">&nbsp;</a><a id="n438754"><a id="n438756"><a id="n438753"><a id="n438777"><a id="n438752"><a id="n438755"><a id="n438778"><a id="n438776">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#126_4_refs">&nbsp;</a></c13><c5><a href="#126_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.no_prepopulate_passes</a></c24><c13><a href="#126_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;199</ln><a id="199">&nbsp;</a><a id="n438757"><a id="n438762"><a id="n438761"><a id="n438759"><a id="n438760"><a id="n438758">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520865">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#188">fpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;200</ln><a id="200">&nbsp;</a><a id="n438764"><a id="n438768"><a id="n438767"><a id="n438766"><a id="n438763"><a id="n438765">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520865">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#189">mpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;201</ln><a id="201">&nbsp;</a><a id="n438773"><a id="n438772"><a id="n438774"><a id="n438771"><a id="n438770"><a id="n438769"><a id="n438775">&nbsp;</a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#427">populate_llvm_passes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#188">fpm</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#189">mpm</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#141">opt_level</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;202</ln><a id="202">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;203</ln><a id="203">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;204</ln><a id="204">&nbsp;</a><a id="n438783"><a id="n438786"><a id="n438789"><a id="n438793"><a id="n438873"><a id="n438876"><a id="n438782"><a id="n438784"><a id="n438780"><a id="n438792"><a id="n438779"><a id="n438790"><a id="n438875"><a id="n438785"><a id="n438788"><a id="n438874"><a id="n438791"><a id="n438787"><a id="n438872"><a id="n438781">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#204">&nbsp;</a></c26><c20><a href="#204_16_refs">pass</a></c20><c26><a href="../../librustc/back/link.rs.html#204">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.passes</a></c24><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#204">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103652">
</a></c22><br/><ln>&nbsp;&nbsp;205</ln><a id="205">&nbsp;</a><a id="n438871"><a id="n438797"><a id="n438869"><a id="n438798"><a id="n438796"><a id="n438800"><a id="n438794"><a id="n438799"><a id="n438870">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#204">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n126991">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126991">|</a></c1><c20><a href="#205_33_refs">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n126991">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;206</ln><a id="206">&nbsp;</a><a id="n438801"><a id="n438805"><a id="n438868"><a id="n438802"><a id="n438803"><a id="n438867"><a id="n438804">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c21><c5><a href="../../libstd/c_str.rs.html#n126991">!</a></c5><c26><a href="c=0 n=520805">llvm::LLVMRustAddPass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">mpm</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#205">s</a></c26><c4>)</c4><c21><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;207</ln><a id="207">&nbsp;</a><a id="n438832"><a id="n438816"><a id="n438847"><a id="n438836"><a id="n438822"><a id="n438820"><a id="n438812"><a id="n438842"><a id="n438863"><a id="n438828"><a id="n438830"><a id="n438866"><a id="n438811"><a id="n438833"><a id="n438846"><a id="n438852"><a id="n438818"><a id="n438864"><a id="n438826"><a id="n438821"><a id="n438839"><a id="n438851"><a id="n438835"><a id="n438834"><a id="n438837"><a id="n438810"><a id="n438853"><a id="n438809"><a id="n438843"><a id="n438813"><a id="n438829"><a id="n438825"><a id="n438838"><a id="n438865"><a id="n438831"><a id="n438840"><a id="n438858"><a id="n438824"><a id="n438844"><a id="n438849"><a id="n438827"><a id="n438856"><a id="n438857"><a id="n438848"><a id="n438855"><a id="n438807"><a id="n438845"><a id="n438819"><a id="n438823"><a id="n438806"><a id="n438860"><a id="n438808"><a id="n438817"><a id="n438854"><a id="n438850"><a id="n438841">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#226">.warn</a></c10><c4>(</c4><c21><a href="../../libstd/c_str.rs.html#n126991">format!</a></c21><c4>(</c4><c20><a href="#207_42_refs">"unknown&nbsp;pass&nbsp;</a></c20><c3>{},</c3><c20><a href="#207_42_refs">&nbsp;ignoring"</a></c20><c3>,</c3><c21><a href="../../libstd/c_str.rs.html#n126991">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166625">*</a></c26><c26><a href="../../librustc/back/link.rs.html#204">pass</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;208</ln><a id="208">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/c_str.rs.html#n126991">
</a></c22><br/><ln>&nbsp;&nbsp;209</ln><a id="209">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126991">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/option.rs.html#n103652">
</a></c22><br/><ln>&nbsp;&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#204">
</a></c26><br/><ln>&nbsp;&nbsp;211</ln><a id="211">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#204">
</a></c26><br/><ln>&nbsp;&nbsp;212</ln><a id="212">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#204">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;Finally,&nbsp;run&nbsp;the&nbsp;actual&nbsp;optimization&nbsp;passes
</c40><br/><ln>&nbsp;&nbsp;213</ln><a id="213">&nbsp;</a><a id="n438880"><a id="n438893"><a id="n438879"><a id="n438878"><a id="n438884"><a id="n438881"><a id="n438892"><a id="n438894"><a id="n438877"><a id="n438885"><a id="n438883">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c26><a href="../../librustc/back/link.rs.html#204">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c12><a href="#126_4_refs">"llvm&nbsp;function&nbsp;passes"</a></c12><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;214</ln><a id="214">&nbsp;</a><a id="n438889"><a id="n438888"><a id="n438891"><a id="n438887"><a id="n438886"><a id="n438890">&nbsp;</a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="c=0 n=520899">llvm</a></c8><c26><a href="c=0 n=520899">::LLVMRustRunFunctionPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#188">fpm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;215</ln><a id="215">&nbsp;</a><a id="n438901"><a id="n438912"><a id="n438897"><a id="n438903"><a id="n438898"><a id="n438899"><a id="n438902"><a id="n438911"><a id="n438895"><a id="n438910"><a id="n438896">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c12><a href="#126_4_refs">"llvm&nbsp;module&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;216</ln><a id="216">&nbsp;</a><a id="n438907"><a id="n438909"><a id="n438908"><a id="n438906"><a id="n438905"><a id="n438904">&nbsp;</a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="c=0 n=519387">llvm</a></c8><c26><a href="c=0 n=519387">::LLVMRunPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">mpm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;217</ln><a id="217">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;218</ln><a id="218">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Deallocate&nbsp;managers&nbsp;that&nbsp;we're&nbsp;now&nbsp;done&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;219</ln><a id="219">&nbsp;</a><a id="n438915"><a id="n438913"><a id="n438916"><a id="n438914">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519381">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#188">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;220</ln><a id="220">&nbsp;</a><a id="n438918"><a id="n438920"><a id="n438919"><a id="n438917">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519381">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;221</ln><a id="221">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;222</ln><a id="222">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Emit&nbsp;the&nbsp;bytecode&nbsp;if&nbsp;we're&nbsp;either&nbsp;saving&nbsp;our&nbsp;temporaries&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;223</ln><a id="223">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;emitting&nbsp;an&nbsp;rlib.&nbsp;Whenever&nbsp;an&nbsp;rlib&nbsp;is&nbsp;created,&nbsp;the&nbsp;bytecode&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;224</ln><a id="224">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;inserted&nbsp;into&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;LTO&nbsp;against&nbsp;it.
</c40><br/><ln>&nbsp;&nbsp;225</ln><a id="225">&nbsp;</a><a id="n438959"><a id="n438924"><a id="n438958"><a id="n438922"><a id="n438923"><a id="n438939"><a id="n438921">&nbsp;</a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.save_temps</a></c24><c1><a href="#126_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;226</ln><a id="226">&nbsp;</a><a id="n438927"><a id="n438937"><a id="n438925"><a id="n438928"><a id="n438929"><a id="n438938"><a id="n438926"><a id="n438930">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#193">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n58073">.contains</a></c10><c4>(</c4><c5><a href="#126_4_refs">&amp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c26><c4>)</c4><c1><a href="#126_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;227</ln><a id="227">&nbsp;</a><a id="n438932"><a id="n438934"><a id="n438935"><a id="n438940"><a id="n438931"><a id="n438936"><a id="n438933">&nbsp;</a></a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58073">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n58073">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c26><c4>))</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;228</ln><a id="228">&nbsp;</a><a id="n438957"><a id="n438941"><a id="n438948"><a id="n438954"><a id="n438942"><a id="n438946"><a id="n438956"><a id="n438955"><a id="n438945"><a id="n438947"><a id="n438943">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c1><c20><a href="#228_64_refs">buf</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;229</ln><a id="229">&nbsp;</a><a id="n438953"><a id="n438949"><a id="n438951"><a id="n438950"><a id="n438952">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519254">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#228">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;230</ln><a id="230">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;231</ln><a id="231">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;232</ln><a id="232">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;233</ln><a id="233">&nbsp;</a><a id="n439009"><a id="n438984"><a id="n438961"><a id="n438960"><a id="n439008">&nbsp;</a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#311">.lto</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;234</ln><a id="234">&nbsp;</a><a id="n438968"><a id="n438963"><a id="n438966"><a id="n438983"><a id="n438969"><a id="n438965"><a id="n438964"><a id="n438982"><a id="n438962"><a id="n438970"><a id="n438981">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c12><a href="#126_4_refs">"all&nbsp;lto&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;235</ln><a id="235">&nbsp;</a><a id="n438977"><a id="n438971"><a id="n438974"><a id="n438973"><a id="n438979"><a id="n438972"><a id="n438980"><a id="n438975"><a id="n438978"><a id="n438976">&nbsp;</a></a></a></a></a></a></a></a></a></a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../librustc/back/lto.rs.html#20">lto</a></c8><c26><a href="../../librustc/back/lto.rs.html#20">::run</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#413">.reachable</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;236</ln><a id="236">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;237</ln><a id="237">&nbsp;</a><a id="n438988"><a id="n439007"><a id="n438987"><a id="n438989"><a id="n438986"><a id="n438985">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.save_temps</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;238</ln><a id="238">&nbsp;</a><a id="n438991"><a id="n438997"><a id="n438992"><a id="n439004"><a id="n438994"><a id="n438996"><a id="n438995"><a id="n439005"><a id="n438990"><a id="n439006"><a id="n439003">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1148">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/driver/driver.rs.html#1148">"lto.bc"</a></c12><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c1><c20><a href="#238_64_refs">buf</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;239</ln><a id="239">&nbsp;</a><a id="n439001"><a id="n438999"><a id="n439002"><a id="n438998"><a id="n439000">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519254">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#238">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;240</ln><a id="240">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;241</ln><a id="241">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;242</ln><a id="242">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;243</ln><a id="243">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;244</ln><a id="244">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;A&nbsp;codegen-specific&nbsp;pass&nbsp;manager&nbsp;is&nbsp;used&nbsp;to&nbsp;generate&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;245</ln><a id="245">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;files&nbsp;for&nbsp;an&nbsp;LLVM&nbsp;module.
</c40><br/><ln>&nbsp;&nbsp;246</ln><a id="246">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;247</ln><a id="247">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Apparently&nbsp;each&nbsp;of&nbsp;these&nbsp;pass&nbsp;managers&nbsp;is&nbsp;a&nbsp;one-shot&nbsp;kind&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;248</ln><a id="248">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;thing,&nbsp;so&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;one&nbsp;for&nbsp;each&nbsp;type&nbsp;of&nbsp;output.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;249</ln><a id="249">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;pass&nbsp;manager&nbsp;passed&nbsp;to&nbsp;the&nbsp;closure&nbsp;should&nbsp;be&nbsp;ensured&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;250</ln><a id="250">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;escape&nbsp;the&nbsp;closure&nbsp;itself,&nbsp;and&nbsp;the&nbsp;manager&nbsp;should&nbsp;only&nbsp;be
</c40><br/><ln>&nbsp;&nbsp;251</ln><a id="251">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;once.
</c40><br/><ln>&nbsp;&nbsp;252</ln><a id="252">&nbsp;</a><a id="n439014"><a id="n439013"><a id="n439010"><a id="n439017"><a id="n439056"><a id="n439018">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#252_12_refs">&nbsp;with_codegen</a></c30><c4>(</c4><c20><a href="#252_28_refs">tm</a></c20><c13><a href="#252_12_refs">:&nbsp;</a></c13><c8><a href="../../librustc/lib/llvm.rs.html#259">TargetMachineRef</a></c8><c3>,</c3><c13><a href="#252_12_refs">&nbsp;</a></c13><c20><a href="#252_50_refs">llmod</a></c20><c13><a href="#252_12_refs">:&nbsp;</a></c13><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c13><a href="#252_12_refs">
</a></c13><br/><ln>&nbsp;&nbsp;253</ln><a id="253">&nbsp;</a><a id="n439024"><a id="n439028"><a id="n439027"><a id="n439022"><a id="n439025"><a id="n439026">&nbsp;</a></a></a></a></a></a><c13><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#253_28_refs">f</a></c20><c13><a href="#252_12_refs">:&nbsp;</a></c13><c8><a href="#252_12_refs">|</a></c8><c8><a href="../../librustc/lib/llvm.rs.html#245">PassManagerRef</a></c8><c8><a href="#252_12_refs">|</a></c8><c4>)</c4><c13><a href="#252_12_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;254</ln><a id="254">&nbsp;</a><a id="n439054"><a id="n439055">&nbsp;</a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#252_12_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;255</ln><a id="255">&nbsp;</a><a id="n439033"><a id="n439031"><a id="n439029"><a id="n439032"><a id="n439034"><a id="n439030">&nbsp;</a></a></a></a></a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#252_12_refs">&nbsp;</a></c22><c20><a href="#255_24_refs">cpm</a></c20><c13><a href="#252_12_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519371">llvm::LLVMCreatePassManager</a></c26><c4>()</c4><c3>;</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;256</ln><a id="256">&nbsp;</a><a id="n439035"><a id="n439038"><a id="n439037"><a id="n439039"><a id="n439040"><a id="n439036">&nbsp;</a></a></a></a></a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520865">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#252">tm</a></c26><c3>,</c3><c13><a href="#252_12_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#255">cpm</a></c26><c3>,</c3><c13><a href="#252_12_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#252">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;257</ln><a id="257">&nbsp;</a><a id="n439045"><a id="n439044"><a id="n439041"><a id="n439043"><a id="n439042">&nbsp;</a></a></a></a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520889">llvm::LLVMRustAddLibraryInfo</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#255">cpm</a></c26><c3>,</c3><c27><a href="#252_12_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#252">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;258</ln><a id="258">&nbsp;</a><a id="n439047"><a id="n439046"><a id="n439049"><a id="n439048">&nbsp;</a></a></a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">f</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#255">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;259</ln><a id="259">&nbsp;</a><a id="n439051"><a id="n439053"><a id="n439050"><a id="n439052">&nbsp;</a></a></a></a><c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519381">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#255">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;260</ln><a id="260">&nbsp;</a>&nbsp;<c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#252_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;261</ln><a id="261">&nbsp;</a>&nbsp;<c22><a href="#252_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;262</ln><a id="262">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;263</ln><a id="263">&nbsp;</a><a id="n439060"><a id="n439059"><a id="n439061"><a id="n439058"><a id="n439057">&nbsp;</a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#263_16_refs">&nbsp;object_file</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;264</ln><a id="264">&nbsp;</a><a id="n439063"><a id="n439066"><a id="n439065"><a id="n439062"><a id="n439064">&nbsp;</a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#264_16_refs">&nbsp;needs_metadata</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c12><a href="#126_4_refs">false</a></c12><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;265</ln><a id="265">&nbsp;</a><a id="n439216"><a id="n439072"><a id="n439219"><a id="n439077"><a id="n439073"><a id="n439070"><a id="n439220"><a id="n439074"><a id="n439076"><a id="n439068"><a id="n439071"><a id="n439218"><a id="n439067"><a id="n439075"><a id="n439069"><a id="n439217"><a id="n439086">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c20><a href="#265_16_refs">output_type</a></c20><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#128">output_types</a></c26><c10><a href="../../libstd/slice.rs.html#n48731">.iter</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;266</ln><a id="266">&nbsp;</a><a id="n439079"><a id="n439082"><a id="n439085"><a id="n439081"><a id="n439083"><a id="n439078"><a id="n439080"><a id="n439084">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c22><c20><a href="#266_20_refs">path</a></c20><c16><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1129">.path</a></c10><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#265">*</a></c5><c26><a href="../../librustc/back/link.rs.html#265">output_type</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;267</ln><a id="267">&nbsp;</a><a id="n439087"><a id="n439215"><a id="n439088">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#265">*</a></c5><c26><a href="../../librustc/back/link.rs.html#265">output_type</a></c26><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;268</ln><a id="268">&nbsp;</a><a id="n439089"><a id="n439106"><a id="n439090">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c20><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;269</ln><a id="269">&nbsp;</a><a id="n439104"><a id="n439091"><a id="n439094"><a id="n439105"><a id="n439103"><a id="n439096"><a id="n439095"><a id="n439093"><a id="n439102">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#266">path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/back/link.rs.html#265">|</a></c1><c20><a href="#269_41_refs">buf</a></c20><c8><a href="../../librustc/back/link.rs.html#265">|</a></c8><c1><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;270</ln><a id="270">&nbsp;</a><a id="n439099"><a id="n439100"><a id="n439097"><a id="n439098"><a id="n439101">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519254">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#269">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;271</ln><a id="271">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;272</ln><a id="272">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;273</ln><a id="273">&nbsp;</a><a id="n439107"><a id="n439108"><a id="n439137">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeLlvmAssembly</a></c20><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;274</ln><a id="274">&nbsp;</a><a id="n439136"><a id="n439135"><a id="n439115"><a id="n439114"><a id="n439113"><a id="n439111"><a id="n439109"><a id="n439112"><a id="n439134">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#266">path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c1><c20><a href="#274_41_refs">output</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;275</ln><a id="275">&nbsp;</a><a id="n439133"><a id="n439123"><a id="n439116"><a id="n439122"><a id="n439131"><a id="n439132"><a id="n439120"><a id="n439117"><a id="n439121"><a id="n439130"><a id="n439118">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#252">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c27><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c1><c20><a href="#275_53_refs">cpm</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;276</ln><a id="276">&nbsp;</a><a id="n439125"><a id="n439126"><a id="n439127"><a id="n439124"><a id="n439128"><a id="n439129">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520933">llvm::LLVMRustPrintModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#275">cpm</a></c26><c3>,</c3><c13><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#274">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;277</ln><a id="277">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">
</a></c22><br/><ln>&nbsp;&nbsp;278</ln><a id="278">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/typeck/check/mod.rs.html#3803">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;279</ln><a id="279">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;280</ln><a id="280">&nbsp;</a><a id="n439138"><a id="n439189"><a id="n439190">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c20><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;281</ln><a id="281">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;using&nbsp;the&nbsp;LLVM&nbsp;assembler,&nbsp;this&nbsp;function
</c40><br/><ln>&nbsp;&nbsp;282</ln><a id="282">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;could&nbsp;be&nbsp;invoked&nbsp;specially&nbsp;with&nbsp;output_type_assembly,
</c40><br/><ln>&nbsp;&nbsp;283</ln><a id="283">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;in&nbsp;this&nbsp;case&nbsp;we&nbsp;still&nbsp;want&nbsp;the&nbsp;metadata&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;284</ln><a id="284">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;285</ln><a id="285">&nbsp;</a><a id="n439140"><a id="n439141"><a id="n439143"><a id="n439139"><a id="n439142">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c22><c20><a href="#285_28_refs">ty</a></c20><c16><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;286</ln><a id="286">&nbsp;</a><a id="n439164"><a id="n439148"><a id="n439151"><a id="n439144"><a id="n439146"><a id="n439152"><a id="n439149"><a id="n439165"><a id="n439147"><a id="n439145"><a id="n439153"><a id="n439150">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c22><c20><a href="#286_28_refs">path</a></c20><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c13><c21><a href="../../librustc/back/link.rs.html#265">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58073">.contains</a></c10><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#265">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#285">ty</a></c26><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;287</ln><a id="287">&nbsp;</a><a id="n439154">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#266">path</a></c26><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;288</ln><a id="288">&nbsp;</a><a id="n439163"><a id="n439159">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;289</ln><a id="289">&nbsp;</a><a id="n439156"><a id="n439157"><a id="n439158"><a id="n439155">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#264">needs_metadata</a></c26><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#265">true</a></c12><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;290</ln><a id="290">&nbsp;</a><a id="n439161"><a id="n439160"><a id="n439162">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;291</ln><a id="291">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;292</ln><a id="292">&nbsp;</a><a id="n439168"><a id="n439172"><a id="n439171"><a id="n439186"><a id="n439188"><a id="n439166"><a id="n439187"><a id="n439170"><a id="n439185"><a id="n439184"><a id="n439173"><a id="n439167">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#252">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c27><c1><a href="../../librustc/back/link.rs.html#265">|</a></c1><c20><a href="#292_49_refs">cpm</a></c20><c8><a href="../../librustc/back/link.rs.html#265">|</a></c8><c1><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;293</ln><a id="293">&nbsp;</a><a id="n439179"><a id="n439180"><a id="n439178"><a id="n439175"><a id="n439177"><a id="n439182"><a id="n439174"><a id="n439183"><a id="n439176">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#292">cpm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#265">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#286">path</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#265">
</a></c13><br/><ln>&nbsp;&nbsp;294</ln><a id="294">&nbsp;</a><a id="n439181">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#182">lib::llvm::AssemblyFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;295</ln><a id="295">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;296</ln><a id="296">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;297</ln><a id="297">&nbsp;</a><a id="n439198"><a id="n439191"><a id="n439199">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c20><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;298</ln><a id="298">&nbsp;</a><a id="n439194"><a id="n439192"><a id="n439197"><a id="n439196"><a id="n439193"><a id="n439195">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#263">object_file</a></c26><c5><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c5><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#266">path</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;299</ln><a id="299">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;300</ln><a id="300">&nbsp;</a><a id="n439200"><a id="n439213"><a id="n439214">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c20><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#265">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;301</ln><a id="301">&nbsp;</a><a id="n439208"><a id="n439205"><a id="n439207"><a id="n439206"><a id="n439203"><a id="n439202"><a id="n439201"><a id="n439204">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#263">object_file</a></c26><c5><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c5><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;302</ln><a id="302">&nbsp;</a><a id="n439209"><a id="n439210"><a id="n439211"><a id="n439212">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#264">needs_metadata</a></c26><c13><a href="../../librustc/back/link.rs.html#265">&nbsp;=&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#265">true</a></c12><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;303</ln><a id="303">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#265">
</a></c21><br/><ln>&nbsp;&nbsp;304</ln><a id="304">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#265">
</a></c22><br/><ln>&nbsp;&nbsp;305</ln><a id="305">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;&nbsp;306</ln><a id="306">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;&nbsp;307</ln><a id="307">&nbsp;</a><a id="n439264"><a id="n439228"><a id="n439225"><a id="n439230"><a id="n439302"><a id="n439222"><a id="n439231"><a id="n439223"><a id="n439303"><a id="n439221"><a id="n439301"><a id="n439229"><a id="n439224"><a id="n439227"><a id="n439304">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c12><a href="#126_4_refs">"codegen&nbsp;passes"</a></c12><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;308</ln><a id="308">&nbsp;</a><a id="n439232"><a id="n439263"><a id="n439262">&nbsp;</a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#263">object_file</a></c26><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;309</ln><a id="309">&nbsp;</a><a id="n439257"><a id="n439233"><a id="n439234"><a id="n439258">&nbsp;</a></a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#309_25_refs">ref&nbsp;path</a></c20><c4>)</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;310</ln><a id="310">&nbsp;</a><a id="n439236"><a id="n439253"><a id="n439242"><a id="n439241"><a id="n439240"><a id="n439252"><a id="n439254"><a id="n439255"><a id="n439256"><a id="n439235"><a id="n439237"><a id="n439239">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#252">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c20><a href="#310_49_refs">cpm</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;311</ln><a id="311">&nbsp;</a><a id="n439248"><a id="n439243"><a id="n439245"><a id="n439251"><a id="n439247"><a id="n439244"><a id="n439250"><a id="n439246">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#310">cpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#309">path</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;312</ln><a id="312">&nbsp;</a><a id="n439249">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#183">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;313</ln><a id="313">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;314</ln><a id="314">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;315</ln><a id="315">&nbsp;</a><a id="n439260"><a id="n439259"><a id="n439261">&nbsp;</a></a></a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;316</ln><a id="316">&nbsp;</a>&nbsp;<c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;317</ln><a id="317">&nbsp;</a><a id="n439265"><a id="n439266"><a id="n439300">&nbsp;</a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#264">needs_metadata</a></c26><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;318</ln><a id="318">&nbsp;</a><a id="n439298"><a id="n439269"><a id="n439267"><a id="n439299"><a id="n439272"><a id="n439296"><a id="n439268"><a id="n439297"><a id="n439273"><a id="n439275"><a id="n439270"><a id="n439274">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#252">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c20><a href="#318_61_refs">cpm</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;319</ln><a id="319">&nbsp;</a><a id="n439281"><a id="n439276"><a id="n439279"><a id="n439284"><a id="n439283"><a id="n439278"><a id="n439280"><a id="n439277">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#319_28_refs">out</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">
</a></c10><br/><ln>&nbsp;&nbsp;320</ln><a id="320">&nbsp;</a><a id="n439282">&nbsp;</a><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">"metadata.o"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;321</ln><a id="321">&nbsp;</a><a id="n439286"><a id="n439288"><a id="n439294"><a id="n439285"><a id="n439287"><a id="n439295">&nbsp;</a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#318">cpm</a></c26><c3>,</c3><c13><a href="#126_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;322</ln><a id="322">&nbsp;</a><a id="n439291"><a id="n439292"><a id="n439290"><a id="n439289">&nbsp;</a></a></a></a><c13><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c5><a href="#126_4_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#319">out</a></c26><c3>,</c3><c13><a href="#126_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;323</ln><a id="323">&nbsp;</a><a id="n439293">&nbsp;</a><c13><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#183">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;324</ln><a id="324">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;325</ln><a id="325">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;326</ln><a id="326">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;327</ln><a id="327">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;328</ln><a id="328">&nbsp;</a><a id="n439306"><a id="n439308"><a id="n439305"><a id="n439307">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520859">llvm::LLVMRustDisposeTargetMachine</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#168">tm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;329</ln><a id="329">&nbsp;</a><a id="n439313"><a id="n439312"><a id="n439311"><a id="n439310"><a id="n439309">&nbsp;</a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=514975">llvm::LLVMDisposeModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;330</ln><a id="330">&nbsp;</a><a id="n439315"><a id="n439316"><a id="n439317"><a id="n439314">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=514975">llvm::LLVMDisposeModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;331</ln><a id="331">&nbsp;</a><a id="n439319"><a id="n439321"><a id="n439320"><a id="n439318">&nbsp;</a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=514934">llvm::LLVMContextDispose</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llcx</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;332</ln><a id="332">&nbsp;</a><a id="n439325"><a id="n439327"><a id="n439323"><a id="n439326"><a id="n439329"><a id="n439328"><a id="n439324">&nbsp;</a></a></a></a></a></a></a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#300">.time_llvm_passes</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="c=0 n=519868">llvm::LLVMRustPrintPassTimings</a></c26><c4>()</c4><c3>;</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;333</ln><a id="333">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;334</ln><a id="334">&nbsp;</a>&nbsp;<c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;335</ln><a id="335">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;336</ln><a id="336">&nbsp;</a><a id="n439336"><a id="n439334"><a id="n439331"><a id="n439340"><a id="n439342"><a id="n439341"><a id="n439339"><a id="n439505"><a id="n439335">&nbsp;</a></a></a></a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="#336_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#336_4_refs">&nbsp;run_assembler</a></c30><c4>(</c4><c20><a href="#336_25_refs">sess</a></c20><c1><a href="#336_4_refs">:&nbsp;</a></c1><c8><a href="#336_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#336_4_refs">&nbsp;</a></c1><c20><a href="#336_41_refs">outputs</a></c20><c1><a href="#336_4_refs">:&nbsp;</a></c1><c8><a href="#336_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1121">OutputFilenames</a></c8><c4>)</c4><c1><a href="#336_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;337</ln><a id="337">&nbsp;</a><a id="n439346"><a id="n439343"><a id="n439348"><a id="n439349"><a id="n439347"><a id="n439345"><a id="n439344">&nbsp;</a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#336_4_refs">&nbsp;</a></c22><c20><a href="#337_12_refs">cc</a></c20><c13><a href="#336_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#722">super::get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;338</ln><a id="338">&nbsp;</a><a id="n439350"><a id="n439355"><a id="n439356"><a id="n439352"><a id="n439354"><a id="n439351"><a id="n439353">&nbsp;</a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#336_4_refs">&nbsp;</a></c22><c20><a href="#338_12_refs">assembly</a></c20><c13><a href="#336_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#336">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c4>)</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;339</ln><a id="339">&nbsp;</a><a id="n439357"><a id="n439360"><a id="n439358"><a id="n439359"><a id="n439363"><a id="n439361"><a id="n439362">&nbsp;</a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#336_4_refs">&nbsp;</a></c22><c20><a href="#339_12_refs">object</a></c20><c13><a href="#336_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#336">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1129">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;340</ln><a id="340">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;341</ln><a id="341">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;342</ln><a id="342">&nbsp;</a><a id="n439364"><a id="n439366"><a id="n439380"><a id="n439365"><a id="n439379">&nbsp;</a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#336_4_refs">&nbsp;</a></c22><c20><a href="#342_12_refs">args</a></c20><c13><a href="#336_4_refs">&nbsp;=&nbsp;</a></c13><c3>[</c3><c1><a href="#336_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;343</ln><a id="343">&nbsp;</a><a id="n439367"><a id="n439368">&nbsp;</a></a><c1><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#336_4_refs">~</a></c16><c12><a href="#336_4_refs">"-c"</a></c12><c3>,</c3><c1><a href="#336_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;344</ln><a id="344">&nbsp;</a><a id="n439373"><a id="n439374"><a id="n439371"><a id="n439372"><a id="n439370"><a id="n439369">&nbsp;</a></a></a></a></a></a><c1><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#336_4_refs">~</a></c16><c12><a href="#336_4_refs">"-o"</a></c12><c3>,</c3><c1><a href="#336_4_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#339">object</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="#336_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;345</ln><a id="345">&nbsp;</a><a id="n439378"><a id="n439377"><a id="n439375"><a id="n439376">&nbsp;</a></a></a></a><c1><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#338">assembly</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>];</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;346</ln><a id="346">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;347</ln><a id="347">&nbsp;</a><a id="n439449"><a id="n439442"><a id="n439474"><a id="n439433"><a id="n439499"><a id="n439453"><a id="n439483"><a id="n439470"><a id="n439465"><a id="n439451"><a id="n439462"><a id="n439477"><a id="n439461"><a id="n439417"><a id="n439446"><a id="n439427"><a id="n439459"><a id="n439454"><a id="n439439"><a id="n439419"><a id="n439418"><a id="n439457"><a id="n439437"><a id="n439421"><a id="n439482"><a id="n439420"><a id="n439445"><a id="n439469"><a id="n439440"><a id="n439496"><a id="n439413"><a id="n439481"><a id="n439448"><a id="n439429"><a id="n439443"><a id="n439447"><a id="n439458"><a id="n439463"><a id="n439464"><a id="n439431"><a id="n439468"><a id="n439444"><a id="n439441"><a id="n439478"><a id="n439423"><a id="n439415"><a id="n439416"><a id="n439452"><a id="n439430"><a id="n439460"><a id="n439472"><a id="n439450"><a id="n439471"><a id="n439479"><a id="n439455"><a id="n439432"><a id="n439476"><a id="n439414"><a id="n439426"><a id="n439466"><a id="n439480"><a id="n439434"><a id="n439436"><a id="n439475"><a id="n439422"><a id="n439435"><a id="n439456"><a id="n439473"><a id="n439438"><a id="n439467"><a id="n439428">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164612">"</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164612">&nbsp;'</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164612">'"</a></c8><c3>,</c3><c22><a href="#336_4_refs">&nbsp;</a></c22><c5><a href="../../librustc/back/link.rs.html#347">cc</a></c5><c3>,</c3><c22><a href="#336_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#342">args</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.connect</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#347">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;348</ln><a id="348">&nbsp;</a><a id="n439508"><a id="n439509"><a id="n439506"><a id="n439507"><a id="n439789">&nbsp;</a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n141104">Process::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#337">cc</a></c26><c3>,</c3><c27><a href="#336_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#342">args</a></c26><c4>)</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#336_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;349</ln><a id="349">&nbsp;</a><a id="n439512"><a id="n439510"><a id="n439511"><a id="n439703">&nbsp;</a></a></a></a><c21><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="#349_15_refs">prog</a></c20><c4>)</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;350</ln><a id="350">&nbsp;</a><a id="n439515"><a id="n439702"><a id="n439514"><a id="n439513"><a id="n439701"><a id="n439516">&nbsp;</a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#336_4_refs">&nbsp;</a></c21><c5><a href="#336_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#349">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n141013">.success</a></c10><c4>()</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;351</ln><a id="351">&nbsp;</a><a id="n439570"><a id="n439547"><a id="n439534"><a id="n439539"><a id="n439549"><a id="n439550"><a id="n439520"><a id="n439517"><a id="n439519"><a id="n439581"><a id="n439593"><a id="n439564"><a id="n439555"><a id="n439554"><a id="n439536"><a id="n439579"><a id="n439585"><a id="n439574"><a id="n439580"><a id="n439538"><a id="n439557"><a id="n439530"><a id="n439584"><a id="n439523"><a id="n439563"><a id="n439587"><a id="n439586"><a id="n439582"><a id="n439592"><a id="n439537"><a id="n439556"><a id="n439562"><a id="n439522"><a id="n439527"><a id="n439552"><a id="n439545"><a id="n439595"><a id="n439532"><a id="n439575"><a id="n439568"><a id="n439560"><a id="n439573"><a id="n439526"><a id="n439566"><a id="n439546"><a id="n439589"><a id="n439540"><a id="n439583"><a id="n439535"><a id="n439533"><a id="n439559"><a id="n439541"><a id="n439561"><a id="n439544"><a id="n439518"><a id="n439542"><a id="n439565"><a id="n439577"><a id="n439521"><a id="n439548"><a id="n439531"><a id="n439551"><a id="n439572"><a id="n439567"><a id="n439594"><a id="n439576"><a id="n439525"><a id="n439553"><a id="n439524"><a id="n439543"><a id="n439569"><a id="n439578"><a id="n439558"><a id="n439571">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="#336_4_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/option.rs.html#n103652">"linking&nbsp;with&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/option.rs.html#n103652">`&nbsp;failed:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/option.rs.html#n103652">"</a></c26><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c27><a href="#351_69_refs">cc</a></c27><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#349">prog</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.status</a></c26><c4>))</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;352</ln><a id="352">&nbsp;</a><a id="n439634"><a id="n439604"><a id="n439654"><a id="n439621"><a id="n439622"><a id="n439643"><a id="n439644"><a id="n439656"><a id="n439640"><a id="n439662"><a id="n439666"><a id="n439664"><a id="n439611"><a id="n439649"><a id="n439638"><a id="n439652"><a id="n439635"><a id="n439619"><a id="n439647"><a id="n439624"><a id="n439669"><a id="n439633"><a id="n439673"><a id="n439623"><a id="n439672"><a id="n439625"><a id="n439629"><a id="n439606"><a id="n439667"><a id="n439653"><a id="n439645"><a id="n439658"><a id="n439598"><a id="n439630"><a id="n439660"><a id="n439663"><a id="n439641"><a id="n439626"><a id="n439612"><a id="n439665"><a id="n439675"><a id="n439636"><a id="n439637"><a id="n439627"><a id="n439597"><a id="n439631"><a id="n439639"><a id="n439615"><a id="n439599"><a id="n439650"><a id="n439646"><a id="n439618"><a id="n439648"><a id="n439614"><a id="n439659"><a id="n439674"><a id="n439601"><a id="n439610"><a id="n439602"><a id="n439603"><a id="n439661"><a id="n439600"><a id="n439657"><a id="n439616"><a id="n439632"><a id="n439596"><a id="n439642"><a id="n439605"><a id="n439620"><a id="n439617"><a id="n439613"><a id="n439655"><a id="n439628"><a id="n439651"><a id="n439607">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#238">.note</a></c10><c4>(</c4><c21><a href="#336_4_refs">format!</a></c21><c4>(</c4><c1><a href="#352_38_refs">"</a></c1><c3>{}</c3><c1><a href="#352_38_refs">&nbsp;arguments:&nbsp;'</a></c1><c3>{}</c3><c1><a href="#352_38_refs">'"</a></c1><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#352">cc</a></c26><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#342">args</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.connect</a></c26><c4>(</c4><c12><a href="../../libstd/str.rs.html#n58828">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;353</ln><a id="353">&nbsp;</a><a id="n439680"><a id="n439681"><a id="n439677"><a id="n439679"><a id="n439682"><a id="n439678"><a id="n439676">&nbsp;</a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#336_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#353_24_refs">&nbsp;note</a></c20><c16><a href="#336_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#349">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.error</a></c24><c10><a href="../../libstd/vec.rs.html#n56418">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;354</ln><a id="354">&nbsp;</a><a id="n439684"><a id="n439686"><a id="n439685"><a id="n439687"><a id="n439688"><a id="n439683">&nbsp;</a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#353">note</a></c26><c13><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#349">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.output</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;355</ln><a id="355">&nbsp;</a><a id="n439697"><a id="n439693"><a id="n439691"><a id="n439690"><a id="n439696"><a id="n439695"><a id="n439692"><a id="n439694"><a id="n439689">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#238">.note</a></c10><c4>(</c4><c26><a href="../../libstd/str.rs.html#n58530">str::from_utf8</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#353">note</a></c26><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;356</ln><a id="356">&nbsp;</a><a id="n439698"><a id="n439700"><a id="n439699">&nbsp;</a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;357</ln><a id="357">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;358</ln><a id="358">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#336_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;359</ln><a id="359">&nbsp;</a><a id="n439788"><a id="n439787"><a id="n439705"><a id="n439704">&nbsp;</a></a></a></a><c21><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#359_16_refs">e</a></c20><c4>)</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#336_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;360</ln><a id="360">&nbsp;</a><a id="n439773"><a id="n439730"><a id="n439722"><a id="n439712"><a id="n439710"><a id="n439770"><a id="n439765"><a id="n439728"><a id="n439766"><a id="n439715"><a id="n439723"><a id="n439749"><a id="n439734"><a id="n439742"><a id="n439762"><a id="n439709"><a id="n439706"><a id="n439780"><a id="n439736"><a id="n439783"><a id="n439771"><a id="n439756"><a id="n439738"><a id="n439733"><a id="n439714"><a id="n439725"><a id="n439781"><a id="n439761"><a id="n439752"><a id="n439777"><a id="n439772"><a id="n439757"><a id="n439769"><a id="n439774"><a id="n439719"><a id="n439740"><a id="n439782"><a id="n439732"><a id="n439727"><a id="n439758"><a id="n439708"><a id="n439729"><a id="n439745"><a id="n439747"><a id="n439767"><a id="n439754"><a id="n439741"><a id="n439760"><a id="n439739"><a id="n439768"><a id="n439737"><a id="n439775"><a id="n439711"><a id="n439750"><a id="n439713"><a id="n439743"><a id="n439724"><a id="n439731"><a id="n439718"><a id="n439707"><a id="n439753"><a id="n439735"><a id="n439751"><a id="n439744"><a id="n439748"><a id="n439720"><a id="n439755"><a id="n439759"><a id="n439746"><a id="n439764"><a id="n439721"><a id="n439763"><a id="n439726">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="#336_4_refs">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n164602">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164602">`:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164602">"</a></c12><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">cc</a></c26><c3>,</c3><c21><a href="#336_4_refs">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;361</ln><a id="361">&nbsp;</a><a id="n439785"><a id="n439786"><a id="n439784">&nbsp;</a></a></a><c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#336">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;362</ln><a id="362">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#336_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;363</ln><a id="363">&nbsp;</a>&nbsp;<c21><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#336_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;364</ln><a id="364">&nbsp;</a>&nbsp;<c22><a href="#336_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;365</ln><a id="365">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;366</ln><a id="366">&nbsp;</a><a id="n439794"><a id="n440021"><a id="n439796"><a id="n439790"><a id="n439793"><a id="n439795">&nbsp;</a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="#366_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#366_4_refs">&nbsp;configure_llvm</a></c30><c4>(</c4><c20><a href="#366_29_refs">sess</a></c20><c1><a href="#366_4_refs">:&nbsp;</a></c1><c8><a href="#366_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#366_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;367</ln><a id="367">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>use</c21><c22><a href="#366_4_refs">&nbsp;sync::one::</a></c22><c3>{</c3><c22><a href="#366_4_refs">Once</a></c22><c3>,</c3><c22><a href="#366_4_refs">&nbsp;ONCE_INIT</a></c22><c3>};</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;368</ln><a id="368">&nbsp;</a><a id="n439804"><a id="n439803"><a id="n439800"><a id="n439802">&nbsp;</a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="#368_8_refs">&nbsp;mut&nbsp;INIT:&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6529">Once</a></c36><c36><a href="#368_8_refs">&nbsp;=&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6539">ONCE_INIT</a></c36><c36>;</c36><c36><a href="#366_4_refs">
</a></c36><br/><ln>&nbsp;&nbsp;369</ln><a id="369">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;370</ln><a id="370">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Copy&nbsp;what&nbsp;clang&nbsp;does&nbsp;by&nbsp;turning&nbsp;on&nbsp;loop&nbsp;vectorization&nbsp;at&nbsp;O2&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;371</ln><a id="371">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;slp&nbsp;vectorization&nbsp;at&nbsp;O3
</c40><br/><ln>&nbsp;&nbsp;372</ln><a id="372">&nbsp;</a><a id="n439826"><a id="n439811"><a id="n439825"><a id="n439812"><a id="n439809"><a id="n439807"><a id="n439806"><a id="n439805"><a id="n439808"><a id="n439810">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#366_4_refs">&nbsp;</a></c22><c20><a href="#372_12_refs">vectorize_loop</a></c20><c16><a href="#366_4_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#366_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.no_vectorize_loops</a></c24><c1><a href="#366_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;373</ln><a id="373">&nbsp;</a><a id="n439813"><a id="n439815"><a id="n439817"><a id="n439824"><a id="n439816"><a id="n439823"><a id="n439814">&nbsp;</a></a></a></a></a></a></a><c1><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#366_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c26><c1><a href="#366_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;374</ln><a id="374">&nbsp;</a><a id="n439820"><a id="n439819"><a id="n439822"><a id="n439821"><a id="n439818">&nbsp;</a></a></a></a></a><c1><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#366_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;375</ln><a id="375">&nbsp;</a><a id="n439827"><a id="n439830"><a id="n439840"><a id="n439829"><a id="n439828"><a id="n439834"><a id="n439831"><a id="n439841"><a id="n439832"><a id="n439833">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#366_4_refs">&nbsp;</a></c22><c20><a href="#375_12_refs">vectorize_slp</a></c20><c13><a href="#366_4_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#366_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.no_vectorize_slp</a></c24><c1><a href="#366_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;376</ln><a id="376">&nbsp;</a><a id="n439836"><a id="n439838"><a id="n439839"><a id="n439837"><a id="n439835">&nbsp;</a></a></a></a></a><c1><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#366_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;377</ln><a id="377">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;378</ln><a id="378">&nbsp;</a><a id="n439842"><a id="n439845"><a id="n439846"><a id="n439844"><a id="n439847"><a id="n439843">&nbsp;</a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#366_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#378_12_refs">&nbsp;llvm_c_strs</a></c20><c13><a href="#366_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n55907">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;379</ln><a id="379">&nbsp;</a><a id="n439849"><a id="n439850"><a id="n439852"><a id="n439848"><a id="n439853"><a id="n439851">&nbsp;</a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#366_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#379_12_refs">&nbsp;llvm_args</a></c20><c13><a href="#366_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n55907">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;380</ln><a id="380">&nbsp;</a><a id="n439953"><a id="n439928"><a id="n439954">&nbsp;</a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>{</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;381</ln><a id="381">&nbsp;</a><a id="n439855"><a id="n439889"><a id="n439887"><a id="n439859"><a id="n439863"><a id="n439856"><a id="n439854"><a id="n439860"><a id="n439886"><a id="n439888"><a id="n439862"><a id="n439861">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c13><a href="#366_4_refs">&nbsp;</a></c13><c20><a href="#381_16_refs">add</a></c20><c16><a href="#366_4_refs">&nbsp;=&nbsp;</a></c16><c1><a href="#366_4_refs">|</a></c1><c20><a href="#381_23_refs">arg</a></c20><c1><a href="#366_4_refs">:&nbsp;</a></c1><c8><a href="#366_4_refs">&amp;str</a></c8><c1><a href="#366_4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;382</ln><a id="382">&nbsp;</a><a id="n439865"><a id="n439869"><a id="n439868"><a id="n439866"><a id="n439864"><a id="n439867">&nbsp;</a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#366_4_refs">&nbsp;</a></c22><c20><a href="#382_20_refs">s</a></c20><c16><a href="#366_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#381">arg</a></c26><c10><a href="../../libstd/c_str.rs.html#n126971">.to_c_str</a></c10><c4>()</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;383</ln><a id="383">&nbsp;</a><a id="n439871"><a id="n439878"><a id="n439881"><a id="n439876"><a id="n439879"><a id="n439875"><a id="n439874"><a id="n439870"><a id="n439873"><a id="n439880"><a id="n439877">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#379">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#382">s</a></c26><c10><a href="../../libstd/c_str.rs.html#n126627">.with_ref</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126627">|</a></c1><c20><a href="#383_43_refs">p</a></c20><c8><a href="../../libstd/c_str.rs.html#n126627">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126627">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#383">p</a></c26><c4>))</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;384</ln><a id="384">&nbsp;</a><a id="n439885"><a id="n439884"><a id="n439883"><a id="n439882">&nbsp;</a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#378">llvm_c_strs</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#382">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;385</ln><a id="385">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;386</ln><a id="386">&nbsp;</a><a id="n439890"><a id="n439892"><a id="n439891"><a id="n439893">&nbsp;</a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c12><a href="#366_4_refs">"rustc"</a></c12><c4>)</c4><c3>;</c3><c13><a href="#366_4_refs">&nbsp;</a></c13><c40>//&nbsp;fake&nbsp;program&nbsp;name
</c40><br/><ln>&nbsp;&nbsp;387</ln><a id="387">&nbsp;</a><a id="n439900"><a id="n439897"><a id="n439899"><a id="n439894"><a id="n439896"><a id="n439895"><a id="n439898"><a id="n439901">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="#366_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#372">vectorize_loop</a></c26><c13><a href="#366_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c12><a href="#366_4_refs">"-vectorize-loops"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;388</ln><a id="388">&nbsp;</a><a id="n439906"><a id="n439909"><a id="n439907"><a id="n439905"><a id="n439904"><a id="n439903"><a id="n439908"><a id="n439902">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="#366_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#375">vectorize_slp</a></c26><c21><a href="#366_4_refs">&nbsp;&nbsp;</a></c21><c3>{</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c12><a href="#366_4_refs">"-vectorize-slp"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;389</ln><a id="389">&nbsp;</a><a id="n439916"><a id="n439911"><a id="n439913"><a id="n439915"><a id="n439912"><a id="n439914"><a id="n439910"><a id="n439918"><a id="n439917">&nbsp;</a></a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="#366_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#300">.time_llvm_passes</a></c10><c4>()</c4><c21><a href="#366_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c12><a href="#366_4_refs">"-time-passes"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;390</ln><a id="390">&nbsp;</a><a id="n439921"><a id="n439924"><a id="n439923"><a id="n439920"><a id="n439922"><a id="n439919"><a id="n439926"><a id="n439925"><a id="n439927">&nbsp;</a></a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="#366_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.print_llvm_passes</a></c10><c4>()</c4><c13><a href="#366_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c12><a href="#366_4_refs">"-debug-pass=Structure"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;391</ln><a id="391">&nbsp;</a>&nbsp;<c13><a href="#366_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;392</ln><a id="392">&nbsp;</a><a id="n439932"><a id="n439935"><a id="n439937"><a id="n439940"><a id="n439936"><a id="n439951"><a id="n439929"><a id="n439930"><a id="n439939"><a id="n439934"><a id="n439942"><a id="n439933"><a id="n439931"><a id="n439941"><a id="n439952"><a id="n439950"><a id="n439949"><a id="n439948"><a id="n439938">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>for</c21><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c20><a href="#392_16_refs">arg</a></c20><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#366">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.llvm_args</a></c24><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;&nbsp;393</ln><a id="393">&nbsp;</a><a id="n439945"><a id="n439947"><a id="n439944"><a id="n439943"><a id="n439946">&nbsp;</a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#381">add</a></c26><c4>(</c4><c5><a href="#392_12_refs">*</a></c5><c26><a href="../../librustc/back/link.rs.html#392">arg</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;&nbsp;394</ln><a id="394">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/slice.rs.html#n54616">
</a></c10><br/><ln>&nbsp;&nbsp;395</ln><a id="395">&nbsp;</a>&nbsp;<c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;396</ln><a id="396">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;397</ln><a id="397">&nbsp;</a><a id="n440018"><a id="n439955"><a id="n440019"><a id="n439956"><a id="n440016"><a id="n440017"><a id="n439957"><a id="n440020">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#368">INIT</a></c26><c13><a href="../../libsync/one.rs.html#n6549">.doit</a></c13><c4>(</c4><c1><a href="../../libsync/one.rs.html#n6549">||&nbsp;</a></c1><c3>{</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;398</ln><a id="398">&nbsp;</a><a id="n439959"><a id="n439960"><a id="n439958">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519423">llvm::LLVMInitializePasses</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;399</ln><a id="399">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;400</ln><a id="400">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Only&nbsp;initialize&nbsp;the&nbsp;platforms&nbsp;supported&nbsp;by&nbsp;Rust&nbsp;here,&nbsp;because
</c40><br/><ln>&nbsp;&nbsp;401</ln><a id="401">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;using&nbsp;--llvm-root&nbsp;will&nbsp;have&nbsp;multiple&nbsp;platforms&nbsp;that&nbsp;rustllvm
</c40><br/><ln>&nbsp;&nbsp;402</ln><a id="402">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;doesn't&nbsp;actually&nbsp;link&nbsp;to&nbsp;and&nbsp;it's&nbsp;pointless&nbsp;to&nbsp;put&nbsp;target&nbsp;info
</c40><br/><ln>&nbsp;&nbsp;403</ln><a id="403">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;registry&nbsp;that&nbsp;Rust&nbsp;cannot&nbsp;generate&nbsp;machine&nbsp;code&nbsp;for.
</c40><br/><ln>&nbsp;&nbsp;404</ln><a id="404">&nbsp;</a><a id="n439961"><a id="n439962"><a id="n439963">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520775">llvm::LLVMInitializeX86TargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;405</ln><a id="405">&nbsp;</a><a id="n439965"><a id="n439964"><a id="n439966">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520777">llvm::LLVMInitializeX86Target</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;406</ln><a id="406">&nbsp;</a><a id="n439969"><a id="n439968"><a id="n439967">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520779">llvm::LLVMInitializeX86TargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;407</ln><a id="407">&nbsp;</a><a id="n439970"><a id="n439971"><a id="n439972">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520781">llvm::LLVMInitializeX86AsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;408</ln><a id="408">&nbsp;</a><a id="n439975"><a id="n439974"><a id="n439973">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520783">llvm::LLVMInitializeX86AsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;409</ln><a id="409">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;410</ln><a id="410">&nbsp;</a><a id="n439976"><a id="n439977"><a id="n439978">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520785">llvm::LLVMInitializeARMTargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;411</ln><a id="411">&nbsp;</a><a id="n439979"><a id="n439980"><a id="n439981">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520787">llvm::LLVMInitializeARMTarget</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;412</ln><a id="412">&nbsp;</a><a id="n439984"><a id="n439983"><a id="n439982">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520789">llvm::LLVMInitializeARMTargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;413</ln><a id="413">&nbsp;</a><a id="n439987"><a id="n439986"><a id="n439985">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520791">llvm::LLVMInitializeARMAsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;414</ln><a id="414">&nbsp;</a><a id="n439989"><a id="n439988"><a id="n439990">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520793">llvm::LLVMInitializeARMAsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;415</ln><a id="415">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;416</ln><a id="416">&nbsp;</a><a id="n439992"><a id="n439991"><a id="n439993">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520795">llvm::LLVMInitializeMipsTargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;417</ln><a id="417">&nbsp;</a><a id="n439994"><a id="n439995"><a id="n439996">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520797">llvm::LLVMInitializeMipsTarget</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;418</ln><a id="418">&nbsp;</a><a id="n439999"><a id="n439998"><a id="n439997">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520799">llvm::LLVMInitializeMipsTargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;419</ln><a id="419">&nbsp;</a><a id="n440001"><a id="n440002"><a id="n440000">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520801">llvm::LLVMInitializeMipsAsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;420</ln><a id="420">&nbsp;</a><a id="n440005"><a id="n440004"><a id="n440003">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520803">llvm::LLVMInitializeMipsAsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;421</ln><a id="421">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;422</ln><a id="422">&nbsp;</a><a id="n440006"><a id="n440015"><a id="n440010"><a id="n440014"><a id="n440011"><a id="n440008"><a id="n440007">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520948">llvm::LLVMRustSetLLVMOptions</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#379">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n56719">.len</a></c10><c4>()</c4><c21><a href="../../libsync/one.rs.html#n6549">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/middle/trans/inline.rs.html#111">c_int</a></c8><c3>,</c3><c27><a href="../../libsync/one.rs.html#n6549">
</a></c27><br/><ln>&nbsp;&nbsp;423</ln><a id="423">&nbsp;</a><a id="n440012"><a id="n440013">&nbsp;</a></a><c27><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#379">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n57875">.as_ptr</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6549">
</a></c22><br/><ln>&nbsp;&nbsp;424</ln><a id="424">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6549">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#366_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;425</ln><a id="425">&nbsp;</a>&nbsp;<c22><a href="#366_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;426</ln><a id="426">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;427</ln><a id="427">&nbsp;</a><a id="n440022"><a id="n440026"><a id="n440025">&nbsp;</a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="#427_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#427_4_refs">&nbsp;populate_llvm_passes</a></c30><c4>(</c4><c20><a href="#427_35_refs">fpm</a></c20><c1><a href="#427_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#427_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;428</ln><a id="428">&nbsp;</a><a id="n440029"><a id="n440030">&nbsp;</a></a><c1><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#428_35_refs">mpm</a></c20><c1><a href="#427_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#427_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;429</ln><a id="429">&nbsp;</a><a id="n440033"><a id="n440034">&nbsp;</a></a><c1><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#429_35_refs">llmod</a></c20><c1><a href="#427_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="#427_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;430</ln><a id="430">&nbsp;</a><a id="n440038"><a id="n440108"><a id="n440037"><a id="n440039">&nbsp;</a></a></a></a><c1><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#430_35_refs">opt</a></c20><c1><a href="#427_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#202">lib::llvm::CodeGenOptLevel</a></c8><c4>)</c4><c1><a href="#427_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;431</ln><a id="431">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;PassManagerBuilder&nbsp;for&nbsp;LLVM.&nbsp;We&nbsp;configure&nbsp;it&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;432</ln><a id="432">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;reasonable&nbsp;defaults&nbsp;and&nbsp;prepare&nbsp;it&nbsp;to&nbsp;actually&nbsp;populate&nbsp;the&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;433</ln><a id="433">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;434</ln><a id="434">&nbsp;</a><a id="n440042"><a id="n440040"><a id="n440041"><a id="n440043"><a id="n440045"><a id="n440044">&nbsp;</a></a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#427_4_refs">&nbsp;</a></c22><c20><a href="#434_12_refs">builder</a></c20><c13><a href="#427_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519641">llvm::LLVMPassManagerBuilderCreate</a></c26><c4>()</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;435</ln><a id="435">&nbsp;</a><a id="n440079"><a id="n440046"><a id="n440080">&nbsp;</a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#427_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#430">opt</a></c26><c13><a href="#427_4_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;436</ln><a id="436">&nbsp;</a><a id="n440053"><a id="n440054"><a id="n440047">&nbsp;</a></a></a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelNone</a></c20><c13><a href="#427_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#427_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;437</ln><a id="437">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Don't&nbsp;add&nbsp;lifetime&nbsp;intrinsics&nbsp;at&nbsp;O0
</c40><br/><ln>&nbsp;&nbsp;438</ln><a id="438">&nbsp;</a><a id="n440051"><a id="n440048"><a id="n440052"><a id="n440050"><a id="n440049">&nbsp;</a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520973">llvm::LLVMRustAddAlwaysInlinePass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c13><a href="#427_4_refs">&nbsp;</a></c13><c12><a href="#427_4_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;439</ln><a id="439">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;440</ln><a id="440">&nbsp;</a><a id="n440055"><a id="n440061"><a id="n440062">&nbsp;</a></a></a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelLess</a></c20><c13><a href="#427_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#427_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;441</ln><a id="441">&nbsp;</a><a id="n440060"><a id="n440059"><a id="n440056"><a id="n440057"><a id="n440058">&nbsp;</a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520973">llvm::LLVMRustAddAlwaysInlinePass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c27><a href="#427_4_refs">&nbsp;</a></c27><c12><a href="#427_4_refs">true</a></c12><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;442</ln><a id="442">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;443</ln><a id="443">&nbsp;</a>&nbsp;<c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;numeric&nbsp;values&nbsp;copied&nbsp;from&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;444</ln><a id="444">&nbsp;</a><a id="n440069"><a id="n440070"><a id="n440063">&nbsp;</a></a></a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelDefault</a></c20><c13><a href="#427_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#427_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;445</ln><a id="445">&nbsp;</a><a id="n440064"><a id="n440067"><a id="n440068"><a id="n440065">&nbsp;</a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519700">llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;446</ln><a id="446">&nbsp;</a><a id="n440066">&nbsp;</a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#427_4_refs">225</a></c12><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;447</ln><a id="447">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;448</ln><a id="448">&nbsp;</a><a id="n440071"><a id="n440077"><a id="n440078">&nbsp;</a></a></a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#207">lib::llvm::CodeGenLevelAggressive</a></c20><c13><a href="#427_4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#427_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;449</ln><a id="449">&nbsp;</a><a id="n440075"><a id="n440073"><a id="n440076"><a id="n440072">&nbsp;</a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519700">llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;450</ln><a id="450">&nbsp;</a><a id="n440074">&nbsp;</a><c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#427_4_refs">275</a></c12><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;451</ln><a id="451">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#427_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;452</ln><a id="452">&nbsp;</a>&nbsp;<c13><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;453</ln><a id="453">&nbsp;</a><a id="n440088"><a id="n440085"><a id="n440083"><a id="n440082"><a id="n440086"><a id="n440087"><a id="n440081">&nbsp;</a></a></a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519650">llvm::LLVMPassManagerBuilderSetOptLevel</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c27><a href="#427_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#430">opt</a></c26><c21><a href="#427_4_refs">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/middle/trans/inline.rs.html#84">c_uint</a></c8><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;454</ln><a id="454">&nbsp;</a><a id="n440093"><a id="n440090"><a id="n440089"><a id="n440092"><a id="n440091">&nbsp;</a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520879">llvm::LLVMRustAddBuilderLibraryInfo</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c27><a href="#427_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#429">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;455</ln><a id="455">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;456</ln><a id="456">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Use&nbsp;the&nbsp;builder&nbsp;to&nbsp;populate&nbsp;the&nbsp;function/module&nbsp;pass&nbsp;managers.
</c40><br/><ln>&nbsp;&nbsp;457</ln><a id="457">&nbsp;</a><a id="n440095"><a id="n440097"><a id="n440094"><a id="n440096"><a id="n440098">&nbsp;</a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519720">llvm::LLVMPassManagerBuilderPopulateFunctionPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c13><a href="#427_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#427">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;458</ln><a id="458">&nbsp;</a><a id="n440100"><a id="n440102"><a id="n440101"><a id="n440103"><a id="n440099">&nbsp;</a></a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519710">llvm::LLVMPassManagerBuilderPopulateModulePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c3>,</c3><c13><a href="#427_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#428">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;459</ln><a id="459">&nbsp;</a><a id="n440107"><a id="n440104"><a id="n440106"><a id="n440105">&nbsp;</a></a></a></a><c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519644">llvm::LLVMPassManagerBuilderDispose</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#434">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="#427_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;460</ln><a id="460">&nbsp;</a>&nbsp;<c22><a href="#427_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;461</ln><a id="461">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;462</ln><a id="462">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;463</ln><a id="463">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;464</ln><a id="464">&nbsp;</a>&nbsp;<c41>/*
</c41><br/><ln>&nbsp;&nbsp;465</ln><a id="465">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;Name&nbsp;mangling&nbsp;and&nbsp;its&nbsp;relationship&nbsp;to&nbsp;metadata.&nbsp;This&nbsp;is&nbsp;complex.&nbsp;Read
</c41><br/><ln>&nbsp;&nbsp;466</ln><a id="466">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;carefully.
</c41><br/><ln>&nbsp;&nbsp;467</ln><a id="467">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;468</ln><a id="468">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;The&nbsp;semantic&nbsp;model&nbsp;of&nbsp;Rust&nbsp;linkage&nbsp;is,&nbsp;broadly,&nbsp;that&nbsp;"there's&nbsp;no&nbsp;global
</c41><br/><ln>&nbsp;&nbsp;469</ln><a id="469">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;namespace"&nbsp;between&nbsp;crates.&nbsp;Our&nbsp;aim&nbsp;is&nbsp;to&nbsp;preserve&nbsp;the&nbsp;illusion&nbsp;of&nbsp;this
</c41><br/><ln>&nbsp;&nbsp;470</ln><a id="470">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;model&nbsp;despite&nbsp;the&nbsp;fact&nbsp;that&nbsp;it's&nbsp;not&nbsp;*quite*&nbsp;possible&nbsp;to&nbsp;implement&nbsp;on
</c41><br/><ln>&nbsp;&nbsp;471</ln><a id="471">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;modern&nbsp;linkers.&nbsp;We&nbsp;initially&nbsp;didn't&nbsp;use&nbsp;system&nbsp;linkers&nbsp;at&nbsp;all,&nbsp;but&nbsp;have
</c41><br/><ln>&nbsp;&nbsp;472</ln><a id="472">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;been&nbsp;convinced&nbsp;of&nbsp;their&nbsp;utility.
</c41><br/><ln>&nbsp;&nbsp;473</ln><a id="473">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;474</ln><a id="474">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;issues&nbsp;to&nbsp;handle:
</c41><br/><ln>&nbsp;&nbsp;475</ln><a id="475">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;476</ln><a id="476">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Linkers&nbsp;operate&nbsp;on&nbsp;a&nbsp;flat&nbsp;namespace,&nbsp;so&nbsp;we&nbsp;have&nbsp;to&nbsp;flatten&nbsp;names.
</c41><br/><ln>&nbsp;&nbsp;477</ln><a id="477">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;do&nbsp;this&nbsp;using&nbsp;the&nbsp;C++&nbsp;namespace-mangling&nbsp;technique.&nbsp;Foo::bar
</c41><br/><ln>&nbsp;&nbsp;478</ln><a id="478">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;and&nbsp;such.
</c41><br/><ln>&nbsp;&nbsp;479</ln><a id="479">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;480</ln><a id="480">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;but&nbsp;different&nbsp;types&nbsp;need&nbsp;to&nbsp;get&nbsp;different
</c41><br/><ln>&nbsp;&nbsp;481</ln><a id="481">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;linkage-names.&nbsp;We&nbsp;do&nbsp;this&nbsp;by&nbsp;hashing&nbsp;a&nbsp;string-encoding&nbsp;of&nbsp;the&nbsp;type&nbsp;into
</c41><br/><ln>&nbsp;&nbsp;482</ln><a id="482">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;fixed-size&nbsp;(currently&nbsp;16-byte&nbsp;hex)&nbsp;cryptographic&nbsp;hash&nbsp;function&nbsp;(CHF:
</c41><br/><ln>&nbsp;&nbsp;483</ln><a id="483">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;use&nbsp;SHA256)&nbsp;to&nbsp;"prevent&nbsp;collisions".&nbsp;This&nbsp;is&nbsp;not&nbsp;airtight&nbsp;but&nbsp;16&nbsp;hex
</c41><br/><ln>&nbsp;&nbsp;484</ln><a id="484">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;digits&nbsp;on&nbsp;uniform&nbsp;probability&nbsp;means&nbsp;you're&nbsp;going&nbsp;to&nbsp;need&nbsp;2**32&nbsp;same-name
</c41><br/><ln>&nbsp;&nbsp;485</ln><a id="485">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;in&nbsp;the&nbsp;same&nbsp;process&nbsp;before&nbsp;you're&nbsp;even&nbsp;hitting&nbsp;birthday-paradox
</c41><br/><ln>&nbsp;&nbsp;486</ln><a id="486">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;collision&nbsp;probability.
</c41><br/><ln>&nbsp;&nbsp;487</ln><a id="487">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;488</ln><a id="488">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;in&nbsp;different&nbsp;crates&nbsp;but&nbsp;with&nbsp;same&nbsp;names&nbsp;"within"&nbsp;the&nbsp;crate&nbsp;need
</c41><br/><ln>&nbsp;&nbsp;489</ln><a id="489">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;different&nbsp;linkage-names.
</c41><br/><ln>&nbsp;&nbsp;490</ln><a id="490">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;491</ln><a id="491">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;The&nbsp;hash&nbsp;shown&nbsp;in&nbsp;the&nbsp;filename&nbsp;needs&nbsp;to&nbsp;be&nbsp;predictable&nbsp;and&nbsp;stable&nbsp;for
</c41><br/><ln>&nbsp;&nbsp;492</ln><a id="492">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;build&nbsp;tooling&nbsp;integration.&nbsp;It&nbsp;also&nbsp;needs&nbsp;to&nbsp;be&nbsp;using&nbsp;a&nbsp;hash&nbsp;function
</c41><br/><ln>&nbsp;&nbsp;493</ln><a id="493">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;is&nbsp;easy&nbsp;to&nbsp;use&nbsp;from&nbsp;Python,&nbsp;make,&nbsp;etc.
</c41><br/><ln>&nbsp;&nbsp;494</ln><a id="494">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;495</ln><a id="495">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;So&nbsp;here&nbsp;is&nbsp;what&nbsp;we&nbsp;do:
</c41><br/><ln>&nbsp;&nbsp;496</ln><a id="496">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;497</ln><a id="497">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Consider&nbsp;the&nbsp;package&nbsp;id;&nbsp;every&nbsp;crate&nbsp;has&nbsp;one&nbsp;(specified&nbsp;with&nbsp;crate_id
</c41><br/><ln>&nbsp;&nbsp;498</ln><a id="498">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;attribute).&nbsp;&nbsp;If&nbsp;a&nbsp;package&nbsp;id&nbsp;isn't&nbsp;provided&nbsp;explicitly,&nbsp;we&nbsp;infer&nbsp;a
</c41><br/><ln>&nbsp;&nbsp;499</ln><a id="499">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;versionless&nbsp;one&nbsp;from&nbsp;the&nbsp;output&nbsp;name.&nbsp;The&nbsp;version&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;0.0
</c41><br/><ln>&nbsp;&nbsp;500</ln><a id="500">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;this&nbsp;case.&nbsp;CNAME&nbsp;and&nbsp;CVERS&nbsp;are&nbsp;taken&nbsp;from&nbsp;this&nbsp;package&nbsp;id.&nbsp;For
</c41><br/><ln>&nbsp;&nbsp;501</ln><a id="501">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;example,&nbsp;github.com/mozilla/CNAME#CVERS.
</c41><br/><ln>&nbsp;&nbsp;502</ln><a id="502">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;503</ln><a id="503">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH&nbsp;as&nbsp;SHA256(crateid).
</c41><br/><ln>&nbsp;&nbsp;504</ln><a id="504">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;505</ln><a id="505">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH8&nbsp;as&nbsp;the&nbsp;first&nbsp;8&nbsp;characters&nbsp;of&nbsp;CMH.
</c41><br/><ln>&nbsp;&nbsp;506</ln><a id="506">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;507</ln><a id="507">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Compile&nbsp;our&nbsp;crate&nbsp;to&nbsp;lib&nbsp;CNAME-CMH8-CVERS.so
</c41><br/><ln>&nbsp;&nbsp;508</ln><a id="508">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;509</ln><a id="509">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;STH(sym)&nbsp;as&nbsp;SHA256(CMH,&nbsp;type_str(sym))
</c41><br/><ln>&nbsp;&nbsp;510</ln><a id="510">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;511</ln><a id="511">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Suffix&nbsp;a&nbsp;mangled&nbsp;sym&nbsp;with&nbsp;::STH@CVERS,&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;unique&nbsp;in&nbsp;the
</c41><br/><ln>&nbsp;&nbsp;512</ln><a id="512">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;name,&nbsp;non-name&nbsp;metadata,&nbsp;and&nbsp;type&nbsp;sense,&nbsp;and&nbsp;versioned&nbsp;in&nbsp;the&nbsp;way
</c41><br/><ln>&nbsp;&nbsp;513</ln><a id="513">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;system&nbsp;linkers&nbsp;understand.
</c41><br/><ln>&nbsp;&nbsp;514</ln><a id="514">&nbsp;</a>&nbsp;<c42>&nbsp;*/
</c42><br/><ln>&nbsp;&nbsp;515</ln><a id="515">&nbsp;</a><a id="n440109">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;516</ln><a id="516">&nbsp;</a><a id="n440118"><a id="n440119"><a id="n440120"><a id="n440115"><a id="n440122"><a id="n440113"><a id="n440112"><a id="n440114"><a id="n440123">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#515_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#515_1_refs">&nbsp;find_crate_id</a></c30><c4>(</c4><c20><a href="#516_21_refs">attrs</a></c20><c1><a href="#515_1_refs">:&nbsp;</a></c1><c8><a href="#515_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#n71374">ast::Attribute</a></c8><c3>],</c3><c1><a href="#515_1_refs">&nbsp;</a></c1><c20><a href="#516_47_refs">out_filestem</a></c20><c1><a href="#515_1_refs">:&nbsp;</a></c1><c8><a href="#515_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#515_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#515_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c1><a href="#515_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#515_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;517</ln><a id="517">&nbsp;</a><a id="n440125"><a id="n440135"><a id="n440124"><a id="n440126">&nbsp;</a></a></a></a><c22><a href="#515_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#515_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/attr.rs.html#n3277">attr::find_crateid</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#516">attrs</a></c26><c4>)</c4><c21><a href="#515_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#515_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;518</ln><a id="518">&nbsp;</a><a id="n440128"><a id="n440131"><a id="n440129"><a id="n440130"><a id="n440127">&nbsp;</a></a></a></a></a><c21><a href="#515_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#515_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#515_1_refs">&nbsp;</a></c21><c26><a href="../../libstd/from_str.rs.html#n75966">from_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#516">out_filestem</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c3>,</c3><c21><a href="#515_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;519</ln><a id="519">&nbsp;</a><a id="n440134"><a id="n440132"><a id="n440133">&nbsp;</a></a></a><c21><a href="#515_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#519_13_refs">s</a></c20><c4>)</c4><c21><a href="#515_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#515_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#519">s</a></c26><c3>,</c3><c21><a href="#515_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;520</ln><a id="520">&nbsp;</a>&nbsp;<c21><a href="#515_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#515_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;521</ln><a id="521">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;522</ln><a id="522">&nbsp;</a><a id="n440136">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;523</ln><a id="523">&nbsp;</a><a id="n440140"><a id="n440144"><a id="n440143"><a id="n440139"><a id="n440156"><a id="n440141">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#522_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#522_1_refs">&nbsp;crate_id_hash</a></c30><c4>(</c4><c20><a href="#523_21_refs">crate_id</a></c20><c1><a href="#522_1_refs">:&nbsp;</a></c1><c8><a href="#522_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c4>)</c4><c1><a href="#522_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#522_1_refs">&nbsp;</a></c1><c8><a href="#522_1_refs">~str</a></c8><c1><a href="#522_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#522_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;524</ln><a id="524">&nbsp;</a>&nbsp;<c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;calculates&nbsp;CMH&nbsp;as&nbsp;defined&nbsp;above.&nbsp;Note&nbsp;that&nbsp;we&nbsp;don't&nbsp;use&nbsp;the&nbsp;path&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;525</ln><a id="525">&nbsp;</a>&nbsp;<c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;crate&nbsp;id&nbsp;in&nbsp;the&nbsp;hash&nbsp;because&nbsp;lookups&nbsp;are&nbsp;only&nbsp;done&nbsp;by&nbsp;(name/vers),
</c40><br/><ln>&nbsp;&nbsp;526</ln><a id="526">&nbsp;</a>&nbsp;<c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;by&nbsp;path.
</c40><br/><ln>&nbsp;&nbsp;527</ln><a id="527">&nbsp;</a><a id="n440149"><a id="n440146"><a id="n440145"><a id="n440148"><a id="n440147"><a id="n440150">&nbsp;</a></a></a></a></a></a><c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#522_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#527_8_refs">&nbsp;s</a></c20><c13><a href="#522_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/sha2.rs.html#481">Sha256::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#522_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;528</ln><a id="528">&nbsp;</a><a id="n440153"><a id="n440154"><a id="n440151"><a id="n440155"><a id="n440152">&nbsp;</a></a></a></a></a><c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#527">s</a></c26><c13><a href="c=0 n=526158">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#523">crate_id</a></c26><c10><a href="../../libsyntax/crateid.rs.html#n139081">.short_name_with_version</a></c10><c4>())</c4><c3>;</c3><c22><a href="#522_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;529</ln><a id="529">&nbsp;</a><a id="n440157"><a id="n440160"><a id="n440163"><a id="n440162"><a id="n440161"><a id="n440158"><a id="n440159">&nbsp;</a></a></a></a></a></a></a><c22><a href="#522_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#540">truncated_hash_result</a></c26><c4>(</c4><c5><a href="../../libstd/str.rs.html#n66548">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#527">s</a></c26><c4>)</c4><c10><a href="../../libstd/str.rs.html#n65834">.slice_to</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n65834">8</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c22><a href="#522_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;530</ln><a id="530">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;531</ln><a id="531">&nbsp;</a><a id="n440164">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;532</ln><a id="532">&nbsp;</a><a id="n440168"><a id="n440167"><a id="n440173"><a id="n440289"><a id="n440172"><a id="n440176"><a id="n440169"><a id="n440174">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#531_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#531_1_refs">&nbsp;build_link_meta</a></c30><c4>(</c4><c20><a href="#532_23_refs">krate</a></c20><c1><a href="#531_1_refs">:&nbsp;</a></c1><c8><a href="#531_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n26831">ast::Crate</a></c8><c3>,</c3><c1><a href="#531_1_refs">&nbsp;</a></c1><c20><a href="#532_43_refs">out_filestem</a></c20><c1><a href="#531_1_refs">:&nbsp;</a></c1><c8><a href="#531_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#531_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#531_1_refs">&nbsp;</a></c1><c8><a href="../../librustc/metadata/common.rs.html#202">LinkMeta</a></c8><c1><a href="#531_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#531_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;533</ln><a id="533">&nbsp;</a><a id="n440178"><a id="n440189"><a id="n440179"><a id="n440190"><a id="n440177">&nbsp;</a></a></a></a></a><c22><a href="#531_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#531_1_refs">&nbsp;</a></c22><c20><a href="#533_8_refs">r</a></c20><c16><a href="#531_1_refs">&nbsp;=&nbsp;</a></c16><c1><a href="../../librustc/metadata/common.rs.html#202">LinkMeta&nbsp;</a></c1><c3>{</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;534</ln><a id="534">&nbsp;</a><a id="n440185"><a id="n440184"><a id="n440182"><a id="n440180"><a id="n440181"><a id="n440183">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#515">find_crate_id</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#532">krate</a></c26><c24><a href="../../libsyntax/ast.rs.html#n26831">.attrs</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/metadata/common.rs.html#202">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#532">out_filestem</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;535</ln><a id="535">&nbsp;</a><a id="n440188"><a id="n440186"><a id="n440187">&nbsp;</a></a></a><c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crate_hash:&nbsp;</a></c1><c26><a href="../../librustc/back/svh.rs.html#70">Svh::calculate</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#532">krate</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;536</ln><a id="536">&nbsp;</a>&nbsp;<c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>};</c3><c22><a href="#531_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;537</ln><a id="537">&nbsp;</a><a id="n440260"><a id="n440259"><a id="n440234"><a id="n440263"><a id="n440241"><a id="n440252"><a id="n440256"><a id="n440242"><a id="n440245"><a id="n440232"><a id="n440262"><a id="n440247"><a id="n440244"><a id="n440236"><a id="n440221"><a id="n440278"><a id="n440265"><a id="n440251"><a id="n440237"><a id="n440230"><a id="n440226"><a id="n440249"><a id="n440255"><a id="n440238"><a id="n440246"><a id="n440224"><a id="n440257"><a id="n440235"><a id="n440250"><a id="n440231"><a id="n440261"><a id="n440243"><a id="n440258"><a id="n440233"><a id="n440253"><a id="n440239"><a id="n440225"><a id="n440222"><a id="n440229"><a id="n440240"><a id="n440248"><a id="n440254"><a id="n440281"><a id="n440223"><a id="n440264">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#531_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;info!</a></c22><c4>(</c4><c13><a href="../../libstd/option.rs.html#n103652">"</a></c13><c3>{}</c3><c13><a href="../../libstd/option.rs.html#n103652">"</a></c13><c3>,</c3><c22><a href="#531_1_refs">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n166625">r</a></c26><c4>)</c4><c3>;</c3><c22><a href="#531_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;538</ln><a id="538">&nbsp;</a><a id="n440286"><a id="n440288"><a id="n440287">&nbsp;</a></a></a><c22><a href="#531_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#531_1_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#533">r</a></c26><c3>;</c3><c22><a href="#531_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;539</ln><a id="539">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;540</ln><a id="540">&nbsp;</a><a id="n440290">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;541</ln><a id="541">&nbsp;</a><a id="n440297"><a id="n440293"><a id="n440295"><a id="n440298"><a id="n440294"><a id="n440305">&nbsp;</a></a></a></a></a></a><c30>fn</c30><c30><a href="#540_1_refs">&nbsp;truncated_hash_result</a></c30><c4>(</c4><c20><a href="#541_25_refs">symbol_hasher</a></c20><c1><a href="#540_1_refs">:&nbsp;</a></c1><c8><a href="#540_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#474">Sha256</a></c8><c4>)</c4><c1><a href="#540_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#540_1_refs">&nbsp;</a></c1><c8><a href="#540_1_refs">~str</a></c8><c1><a href="#540_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#540_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;542</ln><a id="542">&nbsp;</a><a id="n440300"><a id="n440301"><a id="n440302"><a id="n440299"><a id="n440304"><a id="n440303">&nbsp;</a></a></a></a></a></a><c22><a href="#540_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#540_1_refs">&nbsp;</a></c22><c20><a href="#542_8_refs">output</a></c20><c13><a href="#540_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#541">symbol_hasher</a></c26><c10><a href="c=0 n=526159">.result_bytes</a></c10><c4>()</c4><c3>;</c3><c22><a href="#540_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;543</ln><a id="543">&nbsp;</a>&nbsp;<c22><a href="#540_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;64&nbsp;bits&nbsp;should&nbsp;be&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;544</ln><a id="544">&nbsp;</a><a id="n440309"><a id="n440307"><a id="n440306"><a id="n440308">&nbsp;</a></a></a></a><c22><a href="#540_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#542">output</a></c26><c10><a href="../../libstd/vec.rs.html#n57836">.slice_to</a></c10><c4>(</c4><c12><a href="../../libserialize/hex.rs.html#n27175">8</a></c12><c4>)</c4><c10><a href="../../libserialize/hex.rs.html#n27175">.to_hex</a></c10><c4>()</c4><c22><a href="#540_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;545</ln><a id="545">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;546</ln><a id="546">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;547</ln><a id="547">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;548</ln><a id="548">&nbsp;</a><a id="n440310">&nbsp;</a><c40>//&nbsp;This&nbsp;calculates&nbsp;STH&nbsp;for&nbsp;a&nbsp;symbol,&nbsp;as&nbsp;defined&nbsp;above
</c40><br/><ln>&nbsp;&nbsp;549</ln><a id="549">&nbsp;</a><a id="n440319"><a id="n440313"><a id="n440314"><a id="n440320"><a id="n440318"><a id="n440315">&nbsp;</a></a></a></a></a></a><c30>fn</c30><c30><a href="#548_54_refs">&nbsp;symbol_hash</a></c30><c4>(</c4><c20><a href="#549_15_refs">tcx</a></c20><c1><a href="#548_54_refs">:&nbsp;</a></c1><c8><a href="#548_54_refs">&amp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#247">ty::ctxt</a></c8><c3>,</c3><c1><a href="#548_54_refs">&nbsp;</a></c1><c20><a href="#549_31_refs">symbol_hasher</a></c20><c1><a href="#548_54_refs">:&nbsp;</a></c1><c8><a href="#548_54_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#474">Sha256</a></c8><c3>,</c3><c1><a href="#548_54_refs">
</a></c1><br/><ln>&nbsp;&nbsp;550</ln><a id="550">&nbsp;</a><a id="n440327"><a id="n440329"><a id="n440332"><a id="n440328"><a id="n440323"><a id="n440374"><a id="n440331"><a id="n440324">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#550_15_refs">t</a></c20><c1><a href="#548_54_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#388">ty::t</a></c8><c3>,</c3><c1><a href="#548_54_refs">&nbsp;</a></c1><c20><a href="#550_25_refs">link_meta</a></c20><c1><a href="#548_54_refs">:&nbsp;</a></c1><c8><a href="#548_54_refs">&amp;</a></c8><c8><a href="../../librustc/metadata/common.rs.html#202">LinkMeta</a></c8><c4>)</c4><c1><a href="#548_54_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#548_54_refs">&nbsp;</a></c1><c8><a href="#548_54_refs">~str</a></c8><c1><a href="#548_54_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;551</ln><a id="551">&nbsp;</a>&nbsp;<c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;NB:&nbsp;do&nbsp;*not*&nbsp;use&nbsp;abbrevs&nbsp;here&nbsp;as&nbsp;we&nbsp;want&nbsp;the&nbsp;symbol&nbsp;names
</c40><br/><ln>&nbsp;&nbsp;552</ln><a id="552">&nbsp;</a>&nbsp;<c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;one&nbsp;another&nbsp;in&nbsp;the&nbsp;crate.
</c40><br/><ln>&nbsp;&nbsp;553</ln><a id="553">&nbsp;</a>&nbsp;<c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;554</ln><a id="554">&nbsp;</a><a id="n440333"><a id="n440335"><a id="n440334">&nbsp;</a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c10><a href="../../librustc/util/sha2.rs.html#506">.reset</a></c10><c4>()</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;555</ln><a id="555">&nbsp;</a><a id="n440336"><a id="n440340"><a id="n440339"><a id="n440341"><a id="n440338"><a id="n440337">&nbsp;</a></a></a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c13><a href="c=0 n=526158">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#550">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#204">.crateid</a></c24><c24><a href="../../libsyntax/crateid.rs.html#n138359">.name</a></c24><c4>)</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;556</ln><a id="556">&nbsp;</a><a id="n440344"><a id="n440345"><a id="n440343"><a id="n440342">&nbsp;</a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c13><a href="c=0 n=526158">.input_str</a></c13><c4>(</c4><c12><a href="c=0 n=526158">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;557</ln><a id="557">&nbsp;</a><a id="n440350"><a id="n440349"><a id="n440347"><a id="n440348"><a id="n440346"><a id="n440351">&nbsp;</a></a></a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c13><a href="c=0 n=526158">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#550">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#205">.crate_hash</a></c24><c10><a href="../../librustc/back/svh.rs.html#66">.as_str</a></c10><c4>())</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;558</ln><a id="558">&nbsp;</a><a id="n440352"><a id="n440355"><a id="n440354"><a id="n440353">&nbsp;</a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c10><a href="c=0 n=526158">.input_str</a></c10><c4>(</c4><c12><a href="c=0 n=526158">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;559</ln><a id="559">&nbsp;</a><a id="n440358"><a id="n440361"><a id="n440357"><a id="n440362"><a id="n440359"><a id="n440356"><a id="n440360">&nbsp;</a></a></a></a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c13><a href="c=0 n=526158">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/metadata/encoder.rs.html#1866">encoder::encoded_ty</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#549">tcx</a></c26><c3>,</c3><c27><a href="c=0 n=526158">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#550">t</a></c26><c4>))</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;560</ln><a id="560">&nbsp;</a><a id="n440367"><a id="n440365"><a id="n440364"><a id="n440363"><a id="n440369"><a id="n440368"><a id="n440366">&nbsp;</a></a></a></a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#548_54_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#560_8_refs">&nbsp;hash</a></c20><c13><a href="#548_54_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#540">truncated_hash_result</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#549">symbol_hasher</a></c26><c4>)</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;561</ln><a id="561">&nbsp;</a>&nbsp;<c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Prefix&nbsp;with&nbsp;'h'&nbsp;so&nbsp;that&nbsp;it&nbsp;never&nbsp;blends&nbsp;into&nbsp;adjacent&nbsp;digits
</c40><br/><ln>&nbsp;&nbsp;562</ln><a id="562">&nbsp;</a><a id="n440371"><a id="n440370"><a id="n440372"><a id="n440373">&nbsp;</a></a></a></a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#560">hash</a></c26><c13><a href="../../libstd/str.rs.html#n68447">.unshift_char</a></c13><c4>(</c4><c12><a href="#548_54_refs">'h'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;563</ln><a id="563">&nbsp;</a><a id="n440375">&nbsp;</a><c22><a href="#548_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#560">hash</a></c26><c22><a href="#548_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;564</ln><a id="564">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;565</ln><a id="565">&nbsp;</a><a id="n440376">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;566</ln><a id="566">&nbsp;</a><a id="n440385"><a id="n440435"><a id="n440379"><a id="n440384"><a id="n440380"><a id="n440381"><a id="n440387"><a id="n440388">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#565_1_refs">&nbsp;get_symbol_hash</a></c30><c4>(</c4><c20><a href="#566_19_refs">ccx</a></c20><c1><a href="#565_1_refs">:&nbsp;</a></c1><c8><a href="#565_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="#565_1_refs">&nbsp;</a></c1><c20><a href="#566_39_refs">t</a></c20><c1><a href="#565_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#388">ty::t</a></c8><c4>)</c4><c1><a href="#565_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#565_1_refs">&nbsp;</a></c1><c8><a href="#565_1_refs">~str</a></c8><c1><a href="#565_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;567</ln><a id="567">&nbsp;</a><a id="n440404"><a id="n440394"><a id="n440403"><a id="n440393"><a id="n440392"><a id="n440389"><a id="n440390"><a id="n440391">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#565_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#566">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#97">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n13548">.find</a></c10><c4>(</c4><c5><a href="../../libcollections/hashmap.rs.html#n13548">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#566">t</a></c26><c4>)</c4><c21><a href="#565_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#565_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;568</ln><a id="568">&nbsp;</a><a id="n440395"><a id="n440398"><a id="n440399"><a id="n440396"><a id="n440397">&nbsp;</a></a></a></a></a><c21><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#568_13_refs">h</a></c20><c4>)</c4><c21><a href="#565_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#565_1_refs">&nbsp;</a></c21><c1><a href="#565_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#568">h</a></c26><c10><a href="../../libstd/to_str.rs.html#n98474">.to_str</a></c10><c4>()</c4><c3>,</c3><c21><a href="#565_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;569</ln><a id="569">&nbsp;</a><a id="n440401"><a id="n440400"><a id="n440402">&nbsp;</a></a></a><c21><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#565_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#565_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#565_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;570</ln><a id="570">&nbsp;</a>&nbsp;<c21><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;571</ln><a id="571">&nbsp;</a>&nbsp;<c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;572</ln><a id="572">&nbsp;</a><a id="n440407"><a id="n440406"><a id="n440405"><a id="n440408"><a id="n440411"><a id="n440410"><a id="n440409">&nbsp;</a></a></a></a></a></a></a><c22><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#565_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#572_8_refs">&nbsp;symbol_hasher</a></c20><c13><a href="#565_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#566">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#96">.symbol_hasher</a></c24><c10><a href="../../libstd/cell.rs.html#n106959">.borrow_mut</a></c10><c4>()</c4><c3>;</c3><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;573</ln><a id="573">&nbsp;</a><a id="n440423"><a id="n440418"><a id="n440426"><a id="n440415"><a id="n440420"><a id="n440416"><a id="n440413"><a id="n440414"><a id="n440424"><a id="n440417"><a id="n440412"><a id="n440419"><a id="n440421"><a id="n440422"><a id="n440425">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#565_1_refs">&nbsp;</a></c22><c20><a href="#573_8_refs">hash</a></c20><c16><a href="#565_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#548">symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#566">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#221">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#565_1_refs">&nbsp;</a></c27><c5><a href="#565_1_refs">&amp;mut&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#572">symbol_hasher</a></c26><c3>,</c3><c27><a href="#565_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#566">t</a></c26><c3>,</c3><c27><a href="#565_1_refs">&nbsp;</a></c27><c5><a href="#565_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#566">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#49">.link_meta</a></c24><c4>)</c4><c3>;</c3><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;574</ln><a id="574">&nbsp;</a><a id="n440428"><a id="n440429"><a id="n440430"><a id="n440427"><a id="n440433"><a id="n440432"><a id="n440434"><a id="n440431">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#566">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#97">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n106959">.borrow_mut</a></c10><c4>()</c4><c13><a href="../../librustc/middle/trans/common.rs.html#744">.insert</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#566">t</a></c26><c3>,</c3><c13><a href="../../librustc/middle/trans/common.rs.html#744">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#573">hash</a></c26><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;575</ln><a id="575">&nbsp;</a><a id="n440436">&nbsp;</a><c22><a href="#565_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#573">hash</a></c26><c22><a href="#565_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;576</ln><a id="576">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;577</ln><a id="577">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;578</ln><a id="578">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;579</ln><a id="579">&nbsp;</a>&nbsp;<c40>//&nbsp;Name&nbsp;sanitation.&nbsp;LLVM&nbsp;will&nbsp;happily&nbsp;accept&nbsp;identifiers&nbsp;with&nbsp;weird&nbsp;names,&nbsp;but
</c40><br/><ln>&nbsp;&nbsp;580</ln><a id="580">&nbsp;</a>&nbsp;<c40>//&nbsp;gas&nbsp;doesn't!
</c40><br/><ln>&nbsp;&nbsp;581</ln><a id="581">&nbsp;</a><a id="n440437">&nbsp;</a><c40>//&nbsp;gas&nbsp;accepts&nbsp;the&nbsp;following&nbsp;characters&nbsp;in&nbsp;symbols:&nbsp;a-z,&nbsp;A-Z,&nbsp;0-9,&nbsp;.,&nbsp;_,&nbsp;$
</c40><br/><ln>&nbsp;&nbsp;582</ln><a id="582">&nbsp;</a><a id="n440608"><a id="n440442"><a id="n440444"><a id="n440440"><a id="n440441"><a id="n440445">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#581_75_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#581_75_refs">&nbsp;sanitize</a></c30><c4>(</c4><c20><a href="#582_16_refs">s</a></c20><c1><a href="#581_75_refs">:&nbsp;</a></c1><c8><a href="#581_75_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#581_75_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#581_75_refs">&nbsp;</a></c1><c8><a href="#581_75_refs">~str</a></c8><c1><a href="#581_75_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;583</ln><a id="583">&nbsp;</a><a id="n440451"><a id="n440446"><a id="n440447"><a id="n440450"><a id="n440448"><a id="n440449">&nbsp;</a></a></a></a></a></a><c22><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#581_75_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#583_8_refs">&nbsp;result</a></c20><c16><a href="#581_75_refs">&nbsp;=&nbsp;~</a></c16><c12><a href="#581_75_refs">""</a></c12><c3>;</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;584</ln><a id="584">&nbsp;</a><a id="n440458"><a id="n440452"><a id="n440455"><a id="n440572"><a id="n440461"><a id="n440568"><a id="n440456"><a id="n440462"><a id="n440454"><a id="n440569"><a id="n440457"><a id="n440453"><a id="n440570"><a id="n440463"><a id="n440460"><a id="n440459"><a id="n440571">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c20><a href="#584_8_refs">c</a></c20><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#582">s</a></c26><c10><a href="../../libstd/str.rs.html#n65254">.chars</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c3>{</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;585</ln><a id="585">&nbsp;</a><a id="n440464"><a id="n440567">&nbsp;</a></a><c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#584">c</a></c26><c21><a href="#584_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;586</ln><a id="586">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Escape&nbsp;these&nbsp;with&nbsp;$&nbsp;sequences
</c40><br/><ln>&nbsp;&nbsp;587</ln><a id="587">&nbsp;</a><a id="n440465"><a id="n440469"><a id="n440468"><a id="n440467"><a id="n440466">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'@'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$SP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;588</ln><a id="588">&nbsp;</a><a id="n440473"><a id="n440470"><a id="n440472"><a id="n440474"><a id="n440471">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#584_4_refs">'~'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n59180">"$UP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;589</ln><a id="589">&nbsp;</a><a id="n440477"><a id="n440478"><a id="n440476"><a id="n440479"><a id="n440475">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#584_4_refs">'*'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="#584_4_refs">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;590</ln><a id="590">&nbsp;</a><a id="n440484"><a id="n440483"><a id="n440481"><a id="n440482"><a id="n440480">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#584_4_refs">'&amp;'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$BP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;591</ln><a id="591">&nbsp;</a><a id="n440489"><a id="n440485"><a id="n440488"><a id="n440487"><a id="n440486">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'&lt;'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$LT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;592</ln><a id="592">&nbsp;</a><a id="n440492"><a id="n440490"><a id="n440493"><a id="n440494"><a id="n440491">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#584_4_refs">'&gt;'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="#584_4_refs">"$GT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;593</ln><a id="593">&nbsp;</a><a id="n440496"><a id="n440499"><a id="n440498"><a id="n440495"><a id="n440497">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c4>(</c4><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$LP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;594</ln><a id="594">&nbsp;</a><a id="n440502"><a id="n440500"><a id="n440501"><a id="n440504"><a id="n440503">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c4>)</c4><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;595</ln><a id="595">&nbsp;</a><a id="n440505"><a id="n440509"><a id="n440506"><a id="n440508"><a id="n440507">&nbsp;</a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c3>,</c3><c20><a href="../../libstd/str.rs.html#n59180">'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68277">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68277">"$C$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;596</ln><a id="596">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;597</ln><a id="597">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;'.'&nbsp;doesn't&nbsp;occur&nbsp;in&nbsp;types&nbsp;and&nbsp;functions,&nbsp;so&nbsp;reuse&nbsp;it
</c40><br/><ln>&nbsp;&nbsp;598</ln><a id="598">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;for&nbsp;':'&nbsp;and&nbsp;'-'
</c40><br/><ln>&nbsp;&nbsp;599</ln><a id="599">&nbsp;</a><a id="n440513"><a id="n440511"><a id="n440510"><a id="n440516"><a id="n440515"><a id="n440512"><a id="n440514">&nbsp;</a></a></a></a></a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'-'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">':'</a></c20><c12><a href="#584_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68296">'.'</a></c12><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;600</ln><a id="600">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;601</ln><a id="601">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;These&nbsp;are&nbsp;legal&nbsp;symbols
</c40><br/><ln>&nbsp;&nbsp;602</ln><a id="602">&nbsp;</a><a id="n440518"><a id="n440517"><a id="n440519">&nbsp;</a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c12><a href="#584_4_refs">'a'&nbsp;..</a></c12><c20><a href="#584_4_refs">&nbsp;</a></c20><c20><a href="../../libstd/str.rs.html#n59180">'z'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">
</a></c12><br/><ln>&nbsp;&nbsp;603</ln><a id="603">&nbsp;</a><a id="n440522"><a id="n440520"><a id="n440521">&nbsp;</a></a></a><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c12><a href="../../libstd/str.rs.html#n59180">'A'&nbsp;..</a></c12><c20><a href="../../libstd/str.rs.html#n59180">&nbsp;'Z'</a></c20><c12><a href="#584_4_refs">
</a></c12><br/><ln>&nbsp;&nbsp;604</ln><a id="604">&nbsp;</a><a id="n440525"><a id="n440524"><a id="n440523">&nbsp;</a></a></a><c12><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c12><a href="#584_4_refs">'0'&nbsp;..</a></c12><c20><a href="#584_4_refs">&nbsp;'9'</a></c20><c12><a href="#584_4_refs">
</a></c12><br/><ln>&nbsp;&nbsp;605</ln><a id="605">&nbsp;</a><a id="n440526"><a id="n440527"><a id="n440533"><a id="n440530"><a id="n440534"><a id="n440529"><a id="n440528"><a id="n440531"><a id="n440532">&nbsp;</a></a></a></a></a></a></a></a></a><c12><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'_'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c20><a href="#584_4_refs">'.'</a></c20><c12><a href="#584_4_refs">&nbsp;|</a></c12><c21><a href="#584_4_refs">&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">'$'</a></c20><c12><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#584">c</a></c26><c4>)</c4><c3>,</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;606</ln><a id="606">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;607</ln><a id="607">&nbsp;</a><a id="n440535"><a id="n440566"><a id="n440565">&nbsp;</a></a></a><c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/str.rs.html#n59180">_</a></c20><c21><a href="#584_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#584_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;608</ln><a id="608">&nbsp;</a><a id="n440539"><a id="n440538"><a id="n440541"><a id="n440537"><a id="n440536"><a id="n440540">&nbsp;</a></a></a></a></a></a><c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#584_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#608_20_refs">&nbsp;tstr</a></c20><c16><a href="#584_4_refs">&nbsp;=&nbsp;~</a></c16><c12><a href="../../libstd/str.rs.html#n59180">""</a></c12><c3>;</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;609</ln><a id="609">&nbsp;</a><a id="n440546"><a id="n440547"><a id="n440543"><a id="n440542"><a id="n440548"><a id="n440553"><a id="n440554"><a id="n440550"><a id="n440545"><a id="n440551"><a id="n440552"><a id="n440549">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/char.rs.html#n14751">char::escape_unicode</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#584">c</a></c26><c3>,</c3><c13><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c13><c1><a href="../../libstd/str.rs.html#n59180">|</a></c1><c20><a href="#609_41_refs">c</a></c20><c8><a href="../../libstd/str.rs.html#n59180">|</a></c8><c1><a href="../../libstd/str.rs.html#n59180">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#608">tstr</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#609">c</a></c26><c4>))</c4><c3>;</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;610</ln><a id="610">&nbsp;</a><a id="n440556"><a id="n440558"><a id="n440557"><a id="n440555">&nbsp;</a></a></a></a><c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n59180">'$'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;611</ln><a id="611">&nbsp;</a><a id="n440562"><a id="n440563"><a id="n440559"><a id="n440564"><a id="n440560"><a id="n440561">&nbsp;</a></a></a></a></a></a><c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c13><a href="../../libstd/str.rs.html#n68277">.push_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#608">tstr</a></c26><c10><a href="../../libstd/str.rs.html#n65816">.slice_from</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n65816">1</a></c12><c4>))</c4><c3>;</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;612</ln><a id="612">&nbsp;</a>&nbsp;<c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#584_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;613</ln><a id="613">&nbsp;</a>&nbsp;<c21><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#584_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;614</ln><a id="614">&nbsp;</a>&nbsp;<c22><a href="#584_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;&nbsp;615</ln><a id="615">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;&nbsp;616</ln><a id="616">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Underscore-qualify&nbsp;anything&nbsp;that&nbsp;didn't&nbsp;start&nbsp;as&nbsp;an&nbsp;ident.
</c40><br/><ln>&nbsp;&nbsp;617</ln><a id="617">&nbsp;</a><a id="n440573"><a id="n440585"><a id="n440603"><a id="n440574"><a id="n440604"><a id="n440595"><a id="n440576"><a id="n440575">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c21>if</c21><c13><a href="#581_75_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c10><a href="../../libstd/str.rs.html#n64610">.len</a></c10><c4>()</c4><c5><a href="#581_75_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#581_75_refs">0u</a></c12><c1><a href="#581_75_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;618</ln><a id="618">&nbsp;</a><a id="n440580"><a id="n440582"><a id="n440579"><a id="n440578"><a id="n440577"><a id="n440584"><a id="n440583">&nbsp;</a></a></a></a></a></a></a><c1><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c3>[</c3><c12><a href="#581_75_refs">0</a></c12><c3>]</c3><c5><a href="#581_75_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#581_75_refs">'_'</a></c12><c21><a href="#581_75_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#581_75_refs">u8</a></c8><c1><a href="#581_75_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;619</ln><a id="619">&nbsp;</a><a id="n440589"><a id="n440587"><a id="n440592"><a id="n440602"><a id="n440593"><a id="n440586"><a id="n440588"><a id="n440594"><a id="n440591">&nbsp;</a></a></a></a></a></a></a></a></a><c1><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#581_75_refs">!&nbsp;</a></c5><c26><a href="../../libstd/char.rs.html#n14060">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c3>[</c3><c12><a href="#581_75_refs">0</a></c12><c3>]</c3><c21><a href="#581_75_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#581_75_refs">char</a></c8><c4>)</c4><c13><a href="#581_75_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;620</ln><a id="620">&nbsp;</a><a id="n440596"><a id="n440601"><a id="n440599"><a id="n440597"><a id="n440598"><a id="n440600">&nbsp;</a></a></a></a></a></a><c22><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#581_75_refs">&nbsp;</a></c1><c16><a href="#581_75_refs">~</a></c16><c12><a href="#581_75_refs">"_"</a></c12><c5><a href="#581_75_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c3>;</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;621</ln><a id="621">&nbsp;</a>&nbsp;<c22><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;622</ln><a id="622">&nbsp;</a>&nbsp;<c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;623</ln><a id="623">&nbsp;</a><a id="n440605"><a id="n440606"><a id="n440607">&nbsp;</a></a></a><c22><a href="#581_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#581_75_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#583">result</a></c26><c3>;</c3><c22><a href="#581_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;624</ln><a id="624">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;625</ln><a id="625">&nbsp;</a><a id="n440609">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;626</ln><a id="626">&nbsp;</a><a id="n440613"><a id="n440633"><a id="n440634"><a id="n440612">&nbsp;</a></a></a></a><c21>pub</c21><c1><a href="#625_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#625_1_refs">&nbsp;mangle</a></c30><c5><a href="#625_1_refs">&lt;PI:&nbsp;</a></c5><c5><a href="../../libstd/iter.rs.html#n90686">Iterator&lt;</a></c5><c5><a href="../../libsyntax/ast_map.rs.html#n82607">PathElem</a></c5><c5><a href="../../libstd/iter.rs.html#n90686">&gt;</a></c5><c5><a href="#625_1_refs">&gt;</a></c5><c4>(</c4><c20><a href="#626_38_refs">mut&nbsp;path</a></c20><c1><a href="#625_1_refs">:&nbsp;</a></c1><c8><a href="c=0 n=440631">PI</a></c8><c3>,</c3><c1><a href="#625_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;627</ln><a id="627">&nbsp;</a><a id="n440616"><a id="n440620"><a id="n440617"><a id="n440619">&nbsp;</a></a></a></a><c1><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#627_38_refs">hash</a></c20><c1><a href="#625_1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n103651">Option&lt;</a></c8><c8><a href="#625_1_refs">&amp;str</a></c8><c8><a href="../../libstd/option.rs.html#n103651">&gt;</a></c8><c3>,</c3><c1><a href="#625_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;628</ln><a id="628">&nbsp;</a><a id="n440627"><a id="n440623"><a id="n440630"><a id="n440624"><a id="n440792"><a id="n440629"><a id="n440626">&nbsp;</a></a></a></a></a></a></a><c1><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#628_38_refs">vers</a></c20><c1><a href="#625_1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n103651">Option&lt;</a></c8><c8><a href="#625_1_refs">&amp;str</a></c8><c8><a href="../../libstd/option.rs.html#n103651">&gt;</a></c8><c4>)</c4><c1><a href="#625_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#625_1_refs">&nbsp;</a></c1><c8><a href="#625_1_refs">~str</a></c8><c1><a href="#625_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;629</ln><a id="629">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Follow&nbsp;C++&nbsp;namespace-mangling&nbsp;style,&nbsp;see
</c40><br/><ln>&nbsp;&nbsp;630</ln><a id="630">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;http://en.wikipedia.org/wiki/Name_mangling&nbsp;for&nbsp;more&nbsp;info.
</c40><br/><ln>&nbsp;&nbsp;631</ln><a id="631">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;632</ln><a id="632">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;on&nbsp;OSX&nbsp;you&nbsp;can&nbsp;actually&nbsp;have&nbsp;arbitrary&nbsp;symbols&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;633</ln><a id="633">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;function&nbsp;names&nbsp;(at&nbsp;least&nbsp;when&nbsp;given&nbsp;to&nbsp;LLVM),&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;possible
</c40><br/><ln>&nbsp;&nbsp;634</ln><a id="634">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;when&nbsp;using&nbsp;unix's&nbsp;linker.&nbsp;Perhaps&nbsp;one&nbsp;day&nbsp;when&nbsp;we&nbsp;just&nbsp;use&nbsp;a&nbsp;linker&nbsp;from&nbsp;LLVM
</c40><br/><ln>&nbsp;&nbsp;635</ln><a id="635">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;won't&nbsp;need&nbsp;to&nbsp;do&nbsp;this&nbsp;name&nbsp;mangling.&nbsp;The&nbsp;problem&nbsp;with&nbsp;name&nbsp;mangling&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;636</ln><a id="636">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;it&nbsp;seriously&nbsp;limits&nbsp;the&nbsp;available&nbsp;characters.&nbsp;For&nbsp;example&nbsp;we&nbsp;can't
</c40><br/><ln>&nbsp;&nbsp;637</ln><a id="637">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;have&nbsp;things&nbsp;like&nbsp;&amp;T&nbsp;or&nbsp;~[T]&nbsp;in&nbsp;symbol&nbsp;names&nbsp;when&nbsp;one&nbsp;would&nbsp;theoretically
</c40><br/><ln>&nbsp;&nbsp;638</ln><a id="638">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;want&nbsp;them&nbsp;for&nbsp;things&nbsp;like&nbsp;impls&nbsp;of&nbsp;traits&nbsp;on&nbsp;that&nbsp;type.
</c40><br/><ln>&nbsp;&nbsp;639</ln><a id="639">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;640</ln><a id="640">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;To&nbsp;be&nbsp;able&nbsp;to&nbsp;work&nbsp;on&nbsp;all&nbsp;platforms&nbsp;and&nbsp;get&nbsp;*some*&nbsp;reasonable&nbsp;output,&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;641</ln><a id="641">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;use&nbsp;C++&nbsp;name-mangling.
</c40><br/><ln>&nbsp;&nbsp;642</ln><a id="642">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;643</ln><a id="643">&nbsp;</a><a id="n440639"><a id="n440637"><a id="n440640"><a id="n440638"><a id="n440636"><a id="n440635">&nbsp;</a></a></a></a></a></a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#625_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#643_8_refs">&nbsp;n</a></c20><c16><a href="#625_1_refs">&nbsp;=&nbsp;~</a></c16><c12><a href="#625_1_refs">"_ZN"</a></c12><c3>;</c3><c22><a href="#625_1_refs">&nbsp;</a></c22><c40>//&nbsp;_Z&nbsp;==&nbsp;Begin&nbsp;name-sequence,&nbsp;N&nbsp;==&nbsp;nested
</c40><br/><ln>&nbsp;&nbsp;644</ln><a id="644">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;645</ln><a id="645">&nbsp;</a><a id="n440653"><a id="n440651"><a id="n440641"><a id="n440647"><a id="n440650"><a id="n440735"><a id="n440644"><a id="n440734"><a id="n440645"><a id="n440652"><a id="n440646">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#645_4_refs">&nbsp;push</a></c30><c4>(</c4><c20><a href="#645_12_refs">n</a></c20><c13><a href="#645_4_refs">:&nbsp;</a></c13><c8><a href="#645_4_refs">&amp;mut&nbsp;~str</a></c8><c3>,</c3><c13><a href="#645_4_refs">&nbsp;</a></c13><c20><a href="#645_26_refs">s</a></c20><c13><a href="#645_4_refs">:&nbsp;</a></c13><c8><a href="#645_4_refs">&amp;str</a></c8><c4>)</c4><c13><a href="#645_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#645_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;646</ln><a id="646">&nbsp;</a><a id="n440654"><a id="n440659"><a id="n440660"><a id="n440655"><a id="n440657"><a id="n440658"><a id="n440656">&nbsp;</a></a></a></a></a></a></a><c22><a href="#645_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#645_4_refs">&nbsp;</a></c22><c20><a href="#646_12_refs">sani</a></c20><c13><a href="#645_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#581">sanitize</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#645">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#645_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;647</ln><a id="647">&nbsp;</a><a id="n440701"><a id="n440704"><a id="n440688"><a id="n440664"><a id="n440698"><a id="n440714"><a id="n440703"><a id="n440666"><a id="n440718"><a id="n440717"><a id="n440669"><a id="n440684"><a id="n440668"><a id="n440712"><a id="n440716"><a id="n440699"><a id="n440675"><a id="n440665"><a id="n440708"><a id="n440732"><a id="n440721"><a id="n440676"><a id="n440731"><a id="n440682"><a id="n440697"><a id="n440727"><a id="n440689"><a id="n440678"><a id="n440730"><a id="n440713"><a id="n440707"><a id="n440706"><a id="n440662"><a id="n440680"><a id="n440670"><a id="n440687"><a id="n440671"><a id="n440679"><a id="n440686"><a id="n440724"><a id="n440710"><a id="n440723"><a id="n440691"><a id="n440709"><a id="n440685"><a id="n440692"><a id="n440663"><a id="n440705"><a id="n440733"><a id="n440683"><a id="n440690"><a id="n440702"><a id="n440694"><a id="n440711"><a id="n440693"><a id="n440695"><a id="n440674"><a id="n440722"><a id="n440696"><a id="n440681"><a id="n440700"><a id="n440661"><a id="n440667"><a id="n440720"><a id="n440725"><a id="n440677"><a id="n440719"><a id="n440715">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#645_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#645">n</a></c26><c13><a href="../../libstd/str.rs.html#n68277">.push_str</a></c13><c4>(</c4><c21><a href="../../libstd/str.rs.html#n68277">format!</a></c21><c4>(</c4><c16><a href="../../libstd/fmt/mod.rs.html#n164803">"</a></c16><c3>{}{}</c3><c16><a href="../../libstd/fmt/mod.rs.html#n164803">"</a></c16><c3>,</c3><c21><a href="../../libstd/str.rs.html#n68277">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#646">sani</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.len</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../libstd/str.rs.html#n68277">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n165026">sani</a></c27><c4>))</c4><c3>;</c3><c22><a href="#645_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;648</ln><a id="648">&nbsp;</a>&nbsp;<c22><a href="#645_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;649</ln><a id="649">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;650</ln><a id="650">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;First,&nbsp;connect&nbsp;each&nbsp;component&nbsp;with&nbsp;&lt;len,&nbsp;name&gt;&nbsp;pairs.
</c40><br/><ln>&nbsp;&nbsp;651</ln><a id="651">&nbsp;</a><a id="n440744"><a id="n440737"><a id="n440739"><a id="n440743"><a id="n440736"><a id="n440761"><a id="n440760"><a id="n440745"><a id="n440740"><a id="n440757"><a id="n440746"><a id="n440738"><a id="n440758"><a id="n440742"><a id="n440759"><a id="n440741">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/iter.rs.html#n90687">&nbsp;</a></c10><c20><a href="#651_8_refs">e</a></c20><c10><a href="../../libstd/iter.rs.html#n90687">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#626">path</a></c26><c10><a href="../../libstd/iter.rs.html#n90687">&nbsp;</a></c10><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;652</ln><a id="652">&nbsp;</a><a id="n440747"><a id="n440756"><a id="n440755"><a id="n440749"><a id="n440753"><a id="n440752"><a id="n440750"><a id="n440748"><a id="n440754"><a id="n440751">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#645">push</a></c26><c4>(</c4><c5><a href="#625_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#643">n</a></c26><c3>,</c3><c27><a href="#625_1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/token.rs.html#n131932">token::get_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#651">e</a></c26><c10><a href="../../libsyntax/ast_map.rs.html#n82759">.name</a></c10><c4>())</c4><c10><a href="../../libsyntax/parse/token.rs.html#n131692">.get</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64529">.as_slice</a></c10><c4>())</c4><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;653</ln><a id="653">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/iter.rs.html#n90687">
</a></c10><br/><ln>&nbsp;&nbsp;654</ln><a id="654">&nbsp;</a>&nbsp;<c10><a href="../../libstd/iter.rs.html#n90687">
</a></c10><br/><ln>&nbsp;&nbsp;655</ln><a id="655">&nbsp;</a><a id="n440774"><a id="n440773"><a id="n440762">&nbsp;</a></a></a><c10><a href="../../libstd/iter.rs.html#n90687">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21>match</c21><c21><a href="#625_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#627">hash</a></c26><c21><a href="#625_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#625_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;656</ln><a id="656">&nbsp;</a><a id="n440764"><a id="n440768"><a id="n440765"><a id="n440766"><a id="n440769"><a id="n440763"><a id="n440767">&nbsp;</a></a></a></a></a></a></a><c21><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#656_13_refs">s</a></c20><c4>)</c4><c21><a href="#625_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#625_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#645">push</a></c26><c4>(</c4><c5><a href="#625_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#643">n</a></c26><c3>,</c3><c27><a href="#625_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#656">s</a></c26><c4>)</c4><c3>,</c3><c21><a href="#625_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;657</ln><a id="657">&nbsp;</a><a id="n440770"><a id="n440771"><a id="n440772">&nbsp;</a></a></a><c21><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#625_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#625_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#625_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;658</ln><a id="658">&nbsp;</a>&nbsp;<c21><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;659</ln><a id="659">&nbsp;</a><a id="n440786"><a id="n440775"><a id="n440787">&nbsp;</a></a></a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#625_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#628">vers</a></c26><c13><a href="#625_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#625_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;660</ln><a id="660">&nbsp;</a><a id="n440776"><a id="n440782"><a id="n440781"><a id="n440780"><a id="n440778"><a id="n440779"><a id="n440777">&nbsp;</a></a></a></a></a></a></a><c13><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#660_13_refs">s</a></c20><c4>)</c4><c13><a href="#625_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#625_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#645">push</a></c26><c4>(</c4><c5><a href="#625_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#643">n</a></c26><c3>,</c3><c27><a href="#625_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#660">s</a></c26><c4>)</c4><c3>,</c3><c13><a href="#625_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;661</ln><a id="661">&nbsp;</a><a id="n440784"><a id="n440785"><a id="n440783">&nbsp;</a></a></a><c13><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c13><a href="#625_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#625_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#625_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;662</ln><a id="662">&nbsp;</a>&nbsp;<c13><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;663</ln><a id="663">&nbsp;</a>&nbsp;<c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;664</ln><a id="664">&nbsp;</a><a id="n440791"><a id="n440789"><a id="n440790"><a id="n440788">&nbsp;</a></a></a></a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#643">n</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c12><a href="#625_1_refs">'E'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#625_1_refs">&nbsp;</a></c22><c40>//&nbsp;End&nbsp;name-sequence.
</c40><br/><ln>&nbsp;&nbsp;665</ln><a id="665">&nbsp;</a><a id="n440793">&nbsp;</a><c22><a href="#625_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#643">n</a></c26><c22><a href="#625_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;666</ln><a id="666">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;667</ln><a id="667">&nbsp;</a><a id="n440794">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;668</ln><a id="668">&nbsp;</a><a id="n440811"><a id="n440802"><a id="n440807"><a id="n440801"><a id="n440806"><a id="n440810"><a id="n440803"><a id="n440797"><a id="n440836"><a id="n440798"><a id="n440808">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#667_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#667_1_refs">&nbsp;exported_name</a></c30><c4>(</c4><c20><a href="#668_21_refs">path</a></c20><c1><a href="#667_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n83033">PathElems</a></c8><c3>,</c3><c1><a href="#667_1_refs">&nbsp;</a></c1><c20><a href="#668_38_refs">hash</a></c20><c1><a href="#667_1_refs">:&nbsp;</a></c1><c8><a href="#667_1_refs">&amp;str</a></c8><c3>,</c3><c1><a href="#667_1_refs">&nbsp;</a></c1><c20><a href="#668_50_refs">vers</a></c20><c1><a href="#667_1_refs">:&nbsp;</a></c1><c8><a href="#667_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#667_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#667_1_refs">&nbsp;</a></c1><c8><a href="#667_1_refs">~str</a></c8><c1><a href="#667_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;669</ln><a id="669">&nbsp;</a>&nbsp;<c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;version&nbsp;will&nbsp;get&nbsp;mangled&nbsp;to&nbsp;have&nbsp;a&nbsp;leading&nbsp;'_',&nbsp;but&nbsp;it&nbsp;makes&nbsp;more
</c40><br/><ln>&nbsp;&nbsp;670</ln><a id="670">&nbsp;</a>&nbsp;<c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;sense&nbsp;to&nbsp;lead&nbsp;with&nbsp;a&nbsp;'v'&nbsp;b/c&nbsp;this&nbsp;is&nbsp;a&nbsp;version...
</c40><br/><ln>&nbsp;&nbsp;671</ln><a id="671">&nbsp;</a><a id="n440816"><a id="n440825"><a id="n440822"><a id="n440826"><a id="n440815"><a id="n440814"><a id="n440818"><a id="n440821"><a id="n440834"><a id="n440820"><a id="n440819"><a id="n440824"><a id="n440835"><a id="n440817"><a id="n440812"><a id="n440813"><a id="n440823">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#667_1_refs">&nbsp;</a></c22><c20><a href="#671_8_refs">vers</a></c20><c16><a href="#667_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#667_1_refs">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#668">vers</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c5><a href="#667_1_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#667_1_refs">0</a></c12><c1><a href="#667_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#667_1_refs">!</a></c5><c26><a href="../../libstd/char.rs.html#n14060">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#668">vers</a></c26><c10><a href="../../libstd/str.rs.html#n67395">.char_at</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n67395">0</a></c12><c4>))</c4><c21><a href="#667_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;672</ln><a id="672">&nbsp;</a><a id="n440828"><a id="n440829"><a id="n440827">&nbsp;</a></a></a><c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#667_1_refs">"v"</a></c12><c5><a href="#667_1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#668">vers</a></c26><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;673</ln><a id="673">&nbsp;</a><a id="n440830"><a id="n440833">&nbsp;</a></a><c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#667_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#667_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;674</ln><a id="674">&nbsp;</a><a id="n440831"><a id="n440832">&nbsp;</a></a><c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#668">vers</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;675</ln><a id="675">&nbsp;</a>&nbsp;<c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;676</ln><a id="676">&nbsp;</a>&nbsp;<c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;677</ln><a id="677">&nbsp;</a><a id="n440840"><a id="n440845"><a id="n440839"><a id="n440838"><a id="n440842"><a id="n440846"><a id="n440843"><a id="n440844"><a id="n440841"><a id="n440837">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#667_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#625">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#668">path</a></c26><c3>,</c3><c27><a href="#667_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#668">hash</a></c26><c4>)</c4><c3>,</c3><c27><a href="#667_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#671">vers</a></c26><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>()))</c4><c22><a href="#667_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;678</ln><a id="678">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;679</ln><a id="679">&nbsp;</a><a id="n440847">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;680</ln><a id="680">&nbsp;</a><a id="n440851"><a id="n440855"><a id="n440852"><a id="n440856"><a id="n440850">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="#679_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#679_1_refs">&nbsp;mangle_exported_name</a></c30><c4>(</c4><c20><a href="#680_28_refs">ccx</a></c20><c1><a href="#679_1_refs">:&nbsp;</a></c1><c8><a href="#679_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="#679_1_refs">&nbsp;</a></c1><c20><a href="#680_48_refs">path</a></c20><c1><a href="#679_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n83033">PathElems</a></c8><c3>,</c3><c1><a href="#679_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;681</ln><a id="681">&nbsp;</a><a id="n440863"><a id="n440866"><a id="n440958"><a id="n440864"><a id="n440859"><a id="n440867"><a id="n440860">&nbsp;</a></a></a></a></a></a></a><c1><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#681_28_refs">t</a></c20><c1><a href="#679_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#388">ty::t</a></c8><c3>,</c3><c1><a href="#679_1_refs">&nbsp;</a></c1><c20><a href="#681_38_refs">id</a></c20><c1><a href="#679_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#n18300">ast::NodeId</a></c8><c4>)</c4><c1><a href="#679_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#679_1_refs">&nbsp;</a></c1><c8><a href="#679_1_refs">~str</a></c8><c1><a href="#679_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;682</ln><a id="682">&nbsp;</a><a id="n440874"><a id="n440870"><a id="n440871"><a id="n440868"><a id="n440869"><a id="n440872"><a id="n440873"><a id="n440875">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#682_8_refs">&nbsp;hash</a></c20><c13><a href="#679_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#565">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#680">ccx</a></c26><c3>,</c3><c27><a href="#679_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#681">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;683</ln><a id="683">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;684</ln><a id="684">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Paths&nbsp;can&nbsp;be&nbsp;completely&nbsp;identical&nbsp;for&nbsp;different&nbsp;nodes,
</c40><br/><ln>&nbsp;&nbsp;685</ln><a id="685">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;e.g.&nbsp;`fn&nbsp;foo()&nbsp;{&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;}`,&nbsp;so&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;686</ln><a id="686">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;generate&nbsp;unique&nbsp;characters&nbsp;from&nbsp;the&nbsp;node&nbsp;id.&nbsp;For&nbsp;now
</c40><br/><ln>&nbsp;&nbsp;687</ln><a id="687">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;hopefully&nbsp;3&nbsp;characters&nbsp;is&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;688</ln><a id="688">&nbsp;</a><a id="n440882"><a id="n440880"><a id="n440876"><a id="n440879">&nbsp;</a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="#688_4_refs">&nbsp;EXTRA_CHARS:&nbsp;</a></c36><c36><a href="#679_1_refs">&amp;'static&nbsp;str</a></c36><c36><a href="#688_4_refs">&nbsp;=
</a></c36><br/><ln>&nbsp;&nbsp;689</ln><a id="689">&nbsp;</a><a id="n440881">&nbsp;</a><c1><a href="#688_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="#679_1_refs">"abcdefghijklmnopqrstuvwxyz\
</a></c12><br/><ln>&nbsp;&nbsp;690</ln><a id="690">&nbsp;</a>&nbsp;<c12><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABCDEFGHIJKLMNOPQRSTUVWXYZ\
</a></c12><br/><ln>&nbsp;&nbsp;691</ln><a id="691">&nbsp;</a>&nbsp;<c12><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0123456789"</a></c12><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;692</ln><a id="692">&nbsp;</a><a id="n440883"><a id="n440885"><a id="n440884"><a id="n440890"><a id="n440886"><a id="n440888"><a id="n440889">&nbsp;</a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#692_8_refs">id</a></c20><c13><a href="#679_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#681">id</a></c26><c21><a href="#679_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#679_1_refs">uint</a></c8><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;693</ln><a id="693">&nbsp;</a><a id="n440897"><a id="n440892"><a id="n440896"><a id="n440891"><a id="n440895"><a id="n440893"><a id="n440894"><a id="n440898">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#693_8_refs">extra1</a></c20><c13><a href="#679_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#692">id</a></c26><c1><a href="#679_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;694</ln><a id="694">&nbsp;</a><a id="n440906"><a id="n440900"><a id="n440904"><a id="n440903"><a id="n440905"><a id="n440899"><a id="n440901"><a id="n440902">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#694_8_refs">id</a></c20><c16><a href="#679_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#692">id</a></c26><c5><a href="#679_1_refs">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;695</ln><a id="695">&nbsp;</a><a id="n440914"><a id="n440913"><a id="n440911"><a id="n440908"><a id="n440909"><a id="n440910"><a id="n440912"><a id="n440907">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#695_8_refs">extra2</a></c20><c16><a href="#679_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#694">id</a></c26><c1><a href="#679_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;696</ln><a id="696">&nbsp;</a><a id="n440921"><a id="n440915"><a id="n440920"><a id="n440919"><a id="n440918"><a id="n440922"><a id="n440916"><a id="n440917">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#696_8_refs">id</a></c20><c13><a href="#679_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#694">id</a></c26><c5><a href="#679_1_refs">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;697</ln><a id="697">&nbsp;</a><a id="n440926"><a id="n440927"><a id="n440928"><a id="n440925"><a id="n440930"><a id="n440924"><a id="n440929"><a id="n440923">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#679_1_refs">&nbsp;</a></c22><c20><a href="#697_8_refs">extra3</a></c20><c16><a href="#679_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#696">id</a></c26><c1><a href="#679_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;698</ln><a id="698">&nbsp;</a><a id="n440937"><a id="n440932"><a id="n440938"><a id="n440933"><a id="n440934"><a id="n440939"><a id="n440931"><a id="n440936">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#682">hash</a></c26><c13><a href="../../libstd/str.rs.html#n68296">.push_char</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#693">extra1</a></c26><c3>]</c3><c21><a href="../../libstd/str.rs.html#n68296">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/str.rs.html#n68296">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;699</ln><a id="699">&nbsp;</a><a id="n440947"><a id="n440945"><a id="n440941"><a id="n440940"><a id="n440946"><a id="n440943"><a id="n440948"><a id="n440942">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#682">hash</a></c26><c13><a href="../../libstd/str.rs.html#n68296">.push_char</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#695">extra2</a></c26><c3>]</c3><c21><a href="../../libstd/str.rs.html#n68296">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/str.rs.html#n68296">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;700</ln><a id="700">&nbsp;</a><a id="n440950"><a id="n440955"><a id="n440954"><a id="n440952"><a id="n440949"><a id="n440957"><a id="n440956"><a id="n440951">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#682">hash</a></c26><c10><a href="../../libstd/str.rs.html#n68296">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#688">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#697">extra3</a></c26><c3>]</c3><c21><a href="#679_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#679_1_refs">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;701</ln><a id="701">&nbsp;</a>&nbsp;<c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;702</ln><a id="702">&nbsp;</a><a id="n440960"><a id="n440965"><a id="n440964"><a id="n440962"><a id="n440961"><a id="n440959"><a id="n440963"><a id="n440966">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#679_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#667">exported_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#680">path</a></c26><c3>,</c3><c27><a href="#679_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#682">hash</a></c26><c3>,</c3><c27><a href="#679_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#680">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#49">.link_meta</a></c24><c24><a href="../../librustc/metadata/common.rs.html#204">.crateid</a></c24><c10><a href="../../libsyntax/crateid.rs.html#n139061">.version_or_default</a></c10><c4>())</c4><c22><a href="#679_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;703</ln><a id="703">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;704</ln><a id="704">&nbsp;</a><a id="n440967">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;705</ln><a id="705">&nbsp;</a><a id="n440970"><a id="n440971"><a id="n440972">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#704_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#704_1_refs">&nbsp;mangle_internal_name_by_type_and_seq</a></c30><c4>(</c4><c20><a href="#705_44_refs">ccx</a></c20><c1><a href="#704_1_refs">:&nbsp;</a></c1><c8><a href="#704_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="#704_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;706</ln><a id="706">&nbsp;</a><a id="n440976"><a id="n440975">&nbsp;</a></a><c1><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#706_44_refs">t</a></c20><c1><a href="#704_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#388">ty::t</a></c8><c3>,</c3><c1><a href="#704_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;707</ln><a id="707">&nbsp;</a><a id="n441015"><a id="n440983"><a id="n440981"><a id="n440979"><a id="n440980"><a id="n440984">&nbsp;</a></a></a></a></a></a><c1><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#707_44_refs">name</a></c20><c1><a href="#704_1_refs">:&nbsp;</a></c1><c8><a href="#704_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#704_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#704_1_refs">&nbsp;</a></c1><c8><a href="#704_1_refs">~str</a></c8><c1><a href="#704_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#704_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;708</ln><a id="708">&nbsp;</a><a id="n440988"><a id="n440990"><a id="n440991"><a id="n440985"><a id="n440986"><a id="n440989"><a id="n440992"><a id="n440993"><a id="n440987">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#704_1_refs">&nbsp;</a></c22><c20><a href="#708_8_refs">s</a></c20><c13><a href="#704_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/ppaux.rs.html#249">ppaux::ty_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#705">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#221">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#704_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#706">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#704_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;709</ln><a id="709">&nbsp;</a><a id="n440997"><a id="n441006"><a id="n441005"><a id="n440996"><a id="n440994"><a id="n441001"><a id="n440995"><a id="n440999"><a id="n441000"><a id="n440998">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#704_1_refs">&nbsp;</a></c22><c20><a href="#709_8_refs">path</a></c20><c16><a href="#704_1_refs">&nbsp;=&nbsp;</a></c16><c3>[</c3><c26><a href="../../libsyntax/ast_map.rs.html#n82615">PathName</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#n131977">token::intern</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#708">s</a></c26><c4>))</c4><c3>,</c3><c1><a href="#704_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;710</ln><a id="710">&nbsp;</a><a id="n441003"><a id="n441004"><a id="n441002">&nbsp;</a></a></a><c1><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#707">name</a></c26><c4>)</c4><c3>];</c3><c22><a href="#704_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;711</ln><a id="711">&nbsp;</a><a id="n441012"><a id="n441011"><a id="n441008"><a id="n441007"><a id="n441010"><a id="n441014"><a id="n441009"><a id="n441013">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#704_1_refs">&nbsp;</a></c22><c20><a href="#711_8_refs">hash</a></c20><c13><a href="#704_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#565">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#705">ccx</a></c26><c3>,</c3><c27><a href="#704_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#706">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#704_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;712</ln><a id="712">&nbsp;</a><a id="n441024"><a id="n441017"><a id="n441023"><a id="n441019"><a id="n441016"><a id="n441025"><a id="n441026"><a id="n441021"><a id="n441018"><a id="n441022"><a id="n441020">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#704_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#625">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/middle/trans/meth.rs.html#533">ast_map::Values</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#709">path</a></c26><c10><a href="../../libstd/slice.rs.html#n48731">.iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#704_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#711">hash</a></c26><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>())</c4><c3>,</c3><c27><a href="#704_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c4>)</c4><c22><a href="#704_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;713</ln><a id="713">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;714</ln><a id="714">&nbsp;</a><a id="n441027">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;715</ln><a id="715">&nbsp;</a><a id="n441030"><a id="n441035"><a id="n441036"><a id="n441034"><a id="n441040"><a id="n441031"><a id="n441038"><a id="n441039">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#714_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#714_1_refs">&nbsp;mangle_internal_name_by_path_and_seq</a></c30><c4>(</c4><c20><a href="#715_44_refs">path</a></c20><c1><a href="#714_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n83033">PathElems</a></c8><c3>,</c3><c1><a href="#714_1_refs">&nbsp;</a></c1><c20><a href="#715_61_refs">flav</a></c20><c1><a href="#714_1_refs">:&nbsp;</a></c1><c8><a href="#714_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#714_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#714_1_refs">&nbsp;</a></c1><c8><a href="#714_1_refs">~str</a></c8><c1><a href="#714_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#714_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;716</ln><a id="716">&nbsp;</a><a id="n441045"><a id="n441052"><a id="n441047"><a id="n441043"><a id="n441050"><a id="n441042"><a id="n441048"><a id="n441041"><a id="n441049"><a id="n441044"><a id="n441051"><a id="n441046">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#714_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#625">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#715">path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3426">.chain</a></c10><c4>(</c4><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#715">flav</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n104615">.move_iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#714_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c3>,</c3><c27><a href="#714_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c4>)</c4><c22><a href="#714_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;717</ln><a id="717">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;718</ln><a id="718">&nbsp;</a><a id="n441053">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;719</ln><a id="719">&nbsp;</a><a id="n441061"><a id="n441057"><a id="n441056"><a id="n441062"><a id="n441058"><a id="n441060">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#718_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#718_1_refs">&nbsp;output_lib_filename</a></c30><c4>(</c4><c20><a href="#719_27_refs">id</a></c20><c1><a href="#718_1_refs">:&nbsp;</a></c1><c8><a href="#718_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c4>)</c4><c1><a href="#718_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#718_1_refs">&nbsp;</a></c1><c8><a href="#718_1_refs">~str</a></c8><c1><a href="#718_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#718_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;720</ln><a id="720">&nbsp;</a><a id="n441070"><a id="n441142"><a id="n441143"><a id="n441148"><a id="n441109"><a id="n441074"><a id="n441133"><a id="n441128"><a id="n441077"><a id="n441098"><a id="n441066"><a id="n441121"><a id="n441083"><a id="n441068"><a id="n441105"><a id="n441076"><a id="n441095"><a id="n441115"><a id="n441131"><a id="n441153"><a id="n441073"><a id="n441107"><a id="n441141"><a id="n441102"><a id="n441120"><a id="n441084"><a id="n441091"><a id="n441064"><a id="n441088"><a id="n441117"><a id="n441146"><a id="n441125"><a id="n441108"><a id="n441110"><a id="n441090"><a id="n441135"><a id="n441072"><a id="n441082"><a id="n441075"><a id="n441111"><a id="n441126"><a id="n441096"><a id="n441067"><a id="n441151"><a id="n441136"><a id="n441129"><a id="n441094"><a id="n441112"><a id="n441085"><a id="n441087"><a id="n441119"><a id="n441155"><a id="n441159"><a id="n441078"><a id="n441093"><a id="n441065"><a id="n441081"><a id="n441147"><a id="n441071"><a id="n441150"><a id="n441086"><a id="n441089"><a id="n441100"><a id="n441140"><a id="n441099"><a id="n441122"><a id="n441104"><a id="n441097"><a id="n441134"><a id="n441116"><a id="n441113"><a id="n441118"><a id="n441132"><a id="n441103"><a id="n441069"><a id="n441124"><a id="n441158"><a id="n441101"><a id="n441106"><a id="n441144"><a id="n441092"><a id="n441149"><a id="n441138"><a id="n441139"><a id="n441127"><a id="n441152"><a id="n441123"><a id="n441130"><a id="n441063"><a id="n441114"><a id="n441145"><a id="n441137">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#718_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="#718_1_refs">format!</a></c21><c4>(</c4><c20><a href="#720_12_refs">"</a></c20><c3>{}</c3><c20><a href="#720_12_refs">-</a></c20><c3>{}</c3><c20><a href="#720_12_refs">-</a></c20><c3>{}</c3><c20><a href="#720_12_refs">"</a></c20><c3>,</c3><c21><a href="#718_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#719">id</a></c26><c26><a href="../../librustc/back/link.rs.html#720">.name</a></c26><c3>,</c3><c21><a href="#718_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#522">crate_id_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#719">id</a></c26><c4>)</c4><c3>,</c3><c21><a href="#718_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#719">id</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.version_or_default</a></c26><c4>())</c4><c21><a href="#718_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;721</ln><a id="721">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;722</ln><a id="722">&nbsp;</a><a id="n441160">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;723</ln><a id="723">&nbsp;</a><a id="n441168"><a id="n441164"><a id="n441165"><a id="n441167"><a id="n441195"><a id="n441163">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#722_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#722_1_refs">&nbsp;get_cc_prog</a></c30><c4>(</c4><c20><a href="#723_19_refs">sess</a></c20><c1><a href="#722_1_refs">:&nbsp;</a></c1><c8><a href="#722_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#722_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#722_1_refs">&nbsp;</a></c1><c8><a href="#722_1_refs">~str</a></c8><c1><a href="#722_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;724</ln><a id="724">&nbsp;</a><a id="n441181"><a id="n441171"><a id="n441170"><a id="n441172"><a id="n441182"><a id="n441169">&nbsp;</a></a></a></a></a></a><c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#722_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#723">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.linker</a></c24><c13><a href="#722_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#722_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;725</ln><a id="725">&nbsp;</a><a id="n441173"><a id="n441174"><a id="n441175"><a id="n441177"><a id="n441176">&nbsp;</a></a></a></a></a><c13><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#725_13_refs">ref&nbsp;linker</a></c20><c4>)</c4><c13><a href="#722_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#722_1_refs">&nbsp;</a></c13><c1><a href="#722_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#725">linker</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="#722_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;726</ln><a id="726">&nbsp;</a><a id="n441179"><a id="n441180"><a id="n441178">&nbsp;</a></a></a><c13><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c13><a href="#722_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#722_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#722_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;727</ln><a id="727">&nbsp;</a>&nbsp;<c13><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;728</ln><a id="728">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;729</ln><a id="729">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;the&nbsp;future,&nbsp;FreeBSD&nbsp;will&nbsp;use&nbsp;clang&nbsp;as&nbsp;default&nbsp;compiler.
</c40><br/><ln>&nbsp;&nbsp;730</ln><a id="730">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;would&nbsp;be&nbsp;flexible&nbsp;to&nbsp;use&nbsp;cc&nbsp;(system's&nbsp;default&nbsp;C&nbsp;compiler)
</c40><br/><ln>&nbsp;&nbsp;731</ln><a id="731">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;instead&nbsp;of&nbsp;hard-coded&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;732</ln><a id="732">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;win32,&nbsp;there&nbsp;is&nbsp;no&nbsp;cc&nbsp;command,&nbsp;so&nbsp;we&nbsp;add&nbsp;a&nbsp;condition&nbsp;to&nbsp;make&nbsp;it&nbsp;use&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;733</ln><a id="733">&nbsp;</a><a id="n441183"><a id="n441185"><a id="n441184"><a id="n441194"><a id="n441193">&nbsp;</a></a></a></a></a><c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#722_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#723">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#722_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#722_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;734</ln><a id="734">&nbsp;</a><a id="n441188"><a id="n441187"><a id="n441186"><a id="n441189">&nbsp;</a></a></a></a><c21><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14689">abi::OsWin32</a></c20><c21><a href="#722_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#722_1_refs">&nbsp;</a></c21><c1><a href="#722_1_refs">return&nbsp;</a></c1><c16><a href="#722_1_refs">~</a></c16><c12><a href="#722_1_refs">"gcc"</a></c12><c3>,</c3><c21><a href="#722_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;735</ln><a id="735">&nbsp;</a><a id="n441191"><a id="n441190"><a id="n441192">&nbsp;</a></a></a><c21><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#722_1_refs">_</a></c20><c21><a href="#722_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#722_1_refs">&nbsp;</a></c21><c3>{},</c3><c21><a href="#722_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;736</ln><a id="736">&nbsp;</a>&nbsp;<c21><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;737</ln><a id="737">&nbsp;</a>&nbsp;<c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;738</ln><a id="738">&nbsp;</a><a id="n441198"><a id="n441196"><a id="n441197"><a id="n441199">&nbsp;</a></a></a></a><c22><a href="#722_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#749">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#723">sess</a></c26><c3>,</c3><c27><a href="#722_1_refs">&nbsp;</a></c27><c12><a href="#722_1_refs">"cc"</a></c12><c4>)</c4><c22><a href="#722_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;739</ln><a id="739">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;740</ln><a id="740">&nbsp;</a><a id="n441200">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;741</ln><a id="741">&nbsp;</a><a id="n441208"><a id="n441205"><a id="n441203"><a id="n441207"><a id="n441223"><a id="n441204">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#740_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#740_1_refs">&nbsp;get_ar_prog</a></c30><c4>(</c4><c20><a href="#741_19_refs">sess</a></c20><c1><a href="#740_1_refs">:&nbsp;</a></c1><c8><a href="#740_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#740_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#740_1_refs">&nbsp;</a></c1><c8><a href="#740_1_refs">~str</a></c8><c1><a href="#740_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#740_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;742</ln><a id="742">&nbsp;</a><a id="n441209"><a id="n441210"><a id="n441212"><a id="n441221"><a id="n441211"><a id="n441222">&nbsp;</a></a></a></a></a></a><c22><a href="#740_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#740_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#741">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.ar</a></c24><c13><a href="#740_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#740_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;743</ln><a id="743">&nbsp;</a><a id="n441217"><a id="n441214"><a id="n441213"><a id="n441215"><a id="n441216">&nbsp;</a></a></a></a></a><c13><a href="#740_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#743_13_refs">ref&nbsp;ar</a></c20><c4>)</c4><c13><a href="#740_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#740_1_refs">&nbsp;</a></c13><c1><a href="#740_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#743">ar</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="#740_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;744</ln><a id="744">&nbsp;</a><a id="n441218"><a id="n441220"><a id="n441219">&nbsp;</a></a></a><c13><a href="#740_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c13><a href="#740_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#740_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#740_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;745</ln><a id="745">&nbsp;</a>&nbsp;<c13><a href="#740_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#740_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;746</ln><a id="746">&nbsp;</a>&nbsp;<c22><a href="#740_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;747</ln><a id="747">&nbsp;</a><a id="n441225"><a id="n441224"><a id="n441226"><a id="n441227">&nbsp;</a></a></a></a><c22><a href="#740_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#749">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#741">sess</a></c26><c3>,</c3><c27><a href="#740_1_refs">&nbsp;</a></c27><c12><a href="#740_1_refs">"ar"</a></c12><c4>)</c4><c22><a href="#740_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;748</ln><a id="748">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;749</ln><a id="749">&nbsp;</a><a id="n441228">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;750</ln><a id="750">&nbsp;</a><a id="n441242"><a id="n441240"><a id="n441236"><a id="n441232"><a id="n441233"><a id="n441241"><a id="n441238"><a id="n441231"><a id="n441237">&nbsp;</a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#749_1_refs">&nbsp;get_system_tool</a></c30><c4>(</c4><c20><a href="#750_19_refs">sess</a></c20><c1><a href="#749_1_refs">:&nbsp;</a></c1><c8><a href="#749_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#749_1_refs">&nbsp;</a></c1><c20><a href="#750_35_refs">tool</a></c20><c1><a href="#749_1_refs">:&nbsp;</a></c1><c8><a href="#749_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#749_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#749_1_refs">&nbsp;</a></c1><c8><a href="#749_1_refs">~str</a></c8><c1><a href="#749_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;751</ln><a id="751">&nbsp;</a><a id="n441405"><a id="n441244"><a id="n441245"><a id="n441243">&nbsp;</a></a></a></a><c22><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#749_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#750">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#749_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;752</ln><a id="752">&nbsp;</a><a id="n441401"><a id="n441250"><a id="n441249"><a id="n441247"><a id="n441246"><a id="n441248">&nbsp;</a></a></a></a></a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14692">abi::OsAndroid</a></c20><c21><a href="#749_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#750">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.android_cross_path</a></c24><c21><a href="#749_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;753</ln><a id="753">&nbsp;</a><a id="n441252"><a id="n441338"><a id="n441264"><a id="n441251">&nbsp;</a></a></a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#753_17_refs">ref&nbsp;path</a></c20><c4>)</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;754</ln><a id="754">&nbsp;</a><a id="n441254"><a id="n441255"><a id="n441262"><a id="n441256"><a id="n441253"><a id="n441263">&nbsp;</a></a></a></a></a></a><c22><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#749_1_refs">&nbsp;</a></c22><c20><a href="#754_20_refs">tool_str</a></c20><c13><a href="#749_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#749_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#750">tool</a></c26><c21><a href="#749_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;755</ln><a id="755">&nbsp;</a><a id="n441257"><a id="n441259"><a id="n441258">&nbsp;</a></a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#749_1_refs">"cc"</a></c20><c12><a href="#749_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c12><a href="#749_1_refs">"gcc"</a></c12><c3>,</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;756</ln><a id="756">&nbsp;</a><a id="n441261"><a id="n441260">&nbsp;</a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#749_1_refs">_</a></c20><c21><a href="#749_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#750">tool</a></c26><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;757</ln><a id="757">&nbsp;</a>&nbsp;<c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;758</ln><a id="758">&nbsp;</a><a id="n441280"><a id="n441300"><a id="n441279"><a id="n441287"><a id="n441324"><a id="n441336"><a id="n441281"><a id="n441331"><a id="n441273"><a id="n441266"><a id="n441302"><a id="n441293"><a id="n441297"><a id="n441301"><a id="n441325"><a id="n441291"><a id="n441326"><a id="n441271"><a id="n441318"><a id="n441330"><a id="n441265"><a id="n441298"><a id="n441267"><a id="n441310"><a id="n441328"><a id="n441289"><a id="n441323"><a id="n441315"><a id="n441294"><a id="n441286"><a id="n441303"><a id="n441295"><a id="n441270"><a id="n441312"><a id="n441290"><a id="n441305"><a id="n441284"><a id="n441333"><a id="n441327"><a id="n441309"><a id="n441299"><a id="n441296"><a id="n441292"><a id="n441321"><a id="n441277"><a id="n441311"><a id="n441316"><a id="n441274"><a id="n441322"><a id="n441314"><a id="n441288"><a id="n441317"><a id="n441272"><a id="n441269"><a id="n441337"><a id="n441282"><a id="n441306"><a id="n441320"><a id="n441313"><a id="n441329"><a id="n441307"><a id="n441319"><a id="n441304"><a id="n441283"><a id="n441308"><a id="n441268"><a id="n441285"><a id="n441278">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="#749_1_refs">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164654">/bin/arm-linux-androideabi-</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c12><c3>,</c3><c21><a href="#749_1_refs">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n165026">*</a></c27><c26><a href="../../librustc/back/link.rs.html#753">path</a></c26><c3>,</c3><c21><a href="#749_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#754">tool_str</a></c26><c4>)</c4><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;759</ln><a id="759">&nbsp;</a>&nbsp;<c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;760</ln><a id="760">&nbsp;</a><a id="n441339"><a id="n441340"><a id="n441400">&nbsp;</a></a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#749_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;761</ln><a id="761">&nbsp;</a><a id="n441353"><a id="n441346"><a id="n441386"><a id="n441352"><a id="n441380"><a id="n441363"><a id="n441372"><a id="n441369"><a id="n441392"><a id="n441347"><a id="n441397"><a id="n441390"><a id="n441362"><a id="n441364"><a id="n441350"><a id="n441388"><a id="n441359"><a id="n441355"><a id="n441399"><a id="n441341"><a id="n441389"><a id="n441368"><a id="n441354"><a id="n441356"><a id="n441391"><a id="n441365"><a id="n441351"><a id="n441361"><a id="n441366"><a id="n441394"><a id="n441383"><a id="n441382"><a id="n441381"><a id="n441385"><a id="n441358"><a id="n441360"><a id="n441371"><a id="n441367"><a id="n441398"><a id="n441384"><a id="n441387"><a id="n441374"><a id="n441357"><a id="n441344"><a id="n441373"><a id="n441379"><a id="n441370">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#750">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164656">"need&nbsp;Android&nbsp;NDK&nbsp;path&nbsp;for&nbsp;the&nbsp;'</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164656">'&nbsp;tool&nbsp;\
</a></c1><br/><ln>&nbsp;&nbsp;762</ln><a id="762">&nbsp;</a><a id="n441345"><a id="n441343"><a id="n441377"><a id="n441375"><a id="n441376"><a id="n441342"><a id="n441378">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../libstd/fmt/rt.rs.html#n164656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164656">-C&nbsp;android-cross-path</a></c1><c4>)</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164656">"</a></c1><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#205">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#750">tool</a></c27><c4>))</c4><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;763</ln><a id="763">&nbsp;</a>&nbsp;<c22><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;764</ln><a id="764">&nbsp;</a>&nbsp;<c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>},</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;765</ln><a id="765">&nbsp;</a><a id="n441402"><a id="n441403"><a id="n441404">&nbsp;</a></a></a><c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#749_1_refs">_</a></c20><c21><a href="#749_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#749_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#750">tool</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>,</c3><c21><a href="#749_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;766</ln><a id="766">&nbsp;</a>&nbsp;<c21><a href="#749_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#749_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;767</ln><a id="767">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;768</ln><a id="768">&nbsp;</a><a id="n441406">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;769</ln><a id="769">&nbsp;</a><a id="n441418"><a id="n441415"><a id="n441409"><a id="n441414"><a id="n441417"><a id="n441416"><a id="n441410"><a id="n441411">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#768_1_refs">&nbsp;remove</a></c30><c4>(</c4><c20><a href="#769_10_refs">sess</a></c20><c1><a href="#768_1_refs">:&nbsp;</a></c1><c8><a href="#768_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#768_1_refs">&nbsp;</a></c1><c20><a href="#769_26_refs">path</a></c20><c1><a href="#768_1_refs">:&nbsp;</a></c1><c8><a href="#768_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#768_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#768_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;770</ln><a id="770">&nbsp;</a><a id="n441420"><a id="n441508"><a id="n441419"><a id="n441421">&nbsp;</a></a></a></a><c22><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#768_1_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n135067">fs::unlink</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#769">path</a></c26><c4>)</c4><c21><a href="#768_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#768_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;771</ln><a id="771">&nbsp;</a><a id="n441422"><a id="n441424"><a id="n441423">&nbsp;</a></a></a><c21><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105112">..</a></c20><c4>)</c4><c21><a href="#768_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#768_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#768_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;772</ln><a id="772">&nbsp;</a><a id="n441426"><a id="n441506"><a id="n441507"><a id="n441425">&nbsp;</a></a></a></a><c21><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#772_12_refs">e</a></c20><c4>)</c4><c21><a href="#768_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#768_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#768_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;773</ln><a id="773">&nbsp;</a><a id="n441442"><a id="n441444"><a id="n441494"><a id="n441458"><a id="n441463"><a id="n441437"><a id="n441462"><a id="n441470"><a id="n441454"><a id="n441492"><a id="n441482"><a id="n441468"><a id="n441483"><a id="n441436"><a id="n441464"><a id="n441448"><a id="n441469"><a id="n441427"><a id="n441440"><a id="n441465"><a id="n441434"><a id="n441491"><a id="n441474"><a id="n441451"><a id="n441479"><a id="n441496"><a id="n441485"><a id="n441453"><a id="n441429"><a id="n441493"><a id="n441449"><a id="n441476"><a id="n441460"><a id="n441446"><a id="n441477"><a id="n441432"><a id="n441435"><a id="n441461"><a id="n441487"><a id="n441484"><a id="n441473"><a id="n441433"><a id="n441459"><a id="n441455"><a id="n441504"><a id="n441489"><a id="n441488"><a id="n441480"><a id="n441443"><a id="n441431"><a id="n441450"><a id="n441481"><a id="n441478"><a id="n441475"><a id="n441441"><a id="n441495"><a id="n441447"><a id="n441456"><a id="n441428"><a id="n441472"><a id="n441471"><a id="n441466"><a id="n441457"><a id="n441486"><a id="n441452"><a id="n441430"><a id="n441502"><a id="n441505"><a id="n441503"><a id="n441445"><a id="n441467"><a id="n441499"><a id="n441490"><a id="n441497">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#769">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c22><a href="../../librustc/back/link.rs.html#773">"failed&nbsp;to&nbsp;remove&nbsp;</a></c22><c3>{}</c3><c22><a href="../../librustc/back/link.rs.html#773">:&nbsp;</a></c22><c3>{}</c3><c22><a href="../../librustc/back/link.rs.html#773">"</a></c22><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#769">path</a></c26><c5><a href="../../librustc/back/link.rs.html#773">.display</a></c5><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#768_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;774</ln><a id="774">&nbsp;</a>&nbsp;<c22><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#768_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;775</ln><a id="775">&nbsp;</a>&nbsp;<c21><a href="#768_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#768_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;776</ln><a id="776">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;777</ln><a id="777">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;778</ln><a id="778">&nbsp;</a>&nbsp;<c42>///&nbsp;Perform&nbsp;the&nbsp;linkage&nbsp;portion&nbsp;of&nbsp;the&nbsp;compilation&nbsp;phase.&nbsp;This&nbsp;will&nbsp;generate&nbsp;all
</c42><br/><ln>&nbsp;&nbsp;779</ln><a id="779">&nbsp;</a><a id="n441509">&nbsp;</a><c42>///&nbsp;of&nbsp;the&nbsp;requested&nbsp;outputs&nbsp;for&nbsp;this&nbsp;compilation&nbsp;session.
</c42><br/><ln>&nbsp;&nbsp;780</ln><a id="780">&nbsp;</a><a id="n441512"><a id="n441514"><a id="n441513">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#779_59_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#779_59_refs">&nbsp;link_binary</a></c30><c4>(</c4><c20><a href="#780_19_refs">sess</a></c20><c1><a href="#779_59_refs">:&nbsp;</a></c1><c8><a href="#779_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#779_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;781</ln><a id="781">&nbsp;</a><a id="n441519"><a id="n441517"><a id="n441518">&nbsp;</a></a></a><c1><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#781_19_refs">trans</a></c20><c1><a href="#779_59_refs">:&nbsp;</a></c1><c8><a href="#779_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="#779_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;782</ln><a id="782">&nbsp;</a><a id="n441522"><a id="n441524"><a id="n441523">&nbsp;</a></a></a><c1><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#782_19_refs">outputs</a></c20><c1><a href="#779_59_refs">:&nbsp;</a></c1><c8><a href="#779_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1121">OutputFilenames</a></c8><c3>,</c3><c1><a href="#779_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;783</ln><a id="783">&nbsp;</a><a id="n441529"><a id="n441533"><a id="n441527"><a id="n441614"><a id="n441528"><a id="n441531">&nbsp;</a></a></a></a></a></a><c1><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#783_19_refs">id</a></c20><c1><a href="#779_59_refs">:&nbsp;</a></c1><c8><a href="#779_59_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c4>)</c4><c1><a href="#779_59_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#779_59_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c1><a href="#779_59_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;784</ln><a id="784">&nbsp;</a><a id="n441535"><a id="n441539"><a id="n441534"><a id="n441538"><a id="n441537"><a id="n441536">&nbsp;</a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#779_59_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#784_8_refs">&nbsp;out_filenames</a></c20><c16><a href="#779_59_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n55907">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;785</ln><a id="785">&nbsp;</a><a id="n441572"><a id="n441571"><a id="n441543"><a id="n441540"><a id="n441546"><a id="n441545"><a id="n441549"><a id="n441542"><a id="n441574"><a id="n441553"><a id="n441569"><a id="n441544"><a id="n441541"><a id="n441573"><a id="n441551"><a id="n441570"><a id="n441547"><a id="n441552"><a id="n441550"><a id="n441548">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c20><a href="../../librustc/back/link.rs.html#785">&amp;</a></c20><c20><a href="#785_9_refs">crate_type</a></c20><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#193">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;&nbsp;786</ln><a id="786">&nbsp;</a><a id="n441561"><a id="n441556"><a id="n441564"><a id="n441559"><a id="n441554"><a id="n441563"><a id="n441560"><a id="n441557"><a id="n441562"><a id="n441555"><a id="n441558">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#786_12_refs">out_file</a></c20><c16><a href="../../libstd/option.rs.html#n103652">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#832">link_binary_output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#781">trans</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#785">crate_type</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#782">outputs</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#783">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;&nbsp;787</ln><a id="787">&nbsp;</a><a id="n441567"><a id="n441566"><a id="n441568"><a id="n441565">&nbsp;</a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#784">out_filenames</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#786">out_file</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;&nbsp;788</ln><a id="788">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/slice.rs.html#n54616">
</a></c10><br/><ln>&nbsp;&nbsp;789</ln><a id="789">&nbsp;</a>&nbsp;<c10><a href="../../libstd/slice.rs.html#n54616">
</a></c10><br/><ln>&nbsp;&nbsp;790</ln><a id="790">&nbsp;</a>&nbsp;<c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c40>//&nbsp;Remove&nbsp;the&nbsp;temporary&nbsp;object&nbsp;file&nbsp;and&nbsp;metadata&nbsp;if&nbsp;we&nbsp;aren't&nbsp;saving&nbsp;temps
</c40><br/><ln>&nbsp;&nbsp;791</ln><a id="791">&nbsp;</a><a id="n441578"><a id="n441575"><a id="n441611"><a id="n441576"><a id="n441577"><a id="n441579"><a id="n441613"><a id="n441612">&nbsp;</a></a></a></a></a></a></a></a><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21>if</c21><c21><a href="#779_59_refs">&nbsp;</a></c21><c5><a href="#779_59_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.save_temps</a></c24><c21><a href="#779_59_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;792</ln><a id="792">&nbsp;</a><a id="n441581"><a id="n441580"><a id="n441585"><a id="n441582"><a id="n441583"><a id="n441584"><a id="n441586">&nbsp;</a></a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#779_59_refs">&nbsp;</a></c22><c20><a href="#792_12_refs">obj_filename</a></c20><c13><a href="#779_59_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#782">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;793</ln><a id="793">&nbsp;</a><a id="n441587"><a id="n441592"><a id="n441593"><a id="n441589"><a id="n441588"><a id="n441591"><a id="n441601"><a id="n441600"><a id="n441602"><a id="n441590">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#779_59_refs">&nbsp;</a></c13><c5><a href="#779_59_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58073">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n58073">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c13><a href="#779_59_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;794</ln><a id="794">&nbsp;</a><a id="n441595"><a id="n441599"><a id="n441596"><a id="n441597"><a id="n441598"><a id="n441594">&nbsp;</a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#768">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c3>,</c3><c27><a href="#779_59_refs">&nbsp;</a></c27><c5><a href="#779_59_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#792">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;795</ln><a id="795">&nbsp;</a>&nbsp;<c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;796</ln><a id="796">&nbsp;</a><a id="n441608"><a id="n441610"><a id="n441605"><a id="n441603"><a id="n441609"><a id="n441604"><a id="n441607"><a id="n441606">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#768">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#780">sess</a></c26><c3>,</c3><c27><a href="#779_59_refs">&nbsp;</a></c27><c5><a href="#779_59_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#792">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">"metadata.o"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;797</ln><a id="797">&nbsp;</a>&nbsp;<c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;798</ln><a id="798">&nbsp;</a>&nbsp;<c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;799</ln><a id="799">&nbsp;</a><a id="n441615">&nbsp;</a><c22><a href="#779_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#784">out_filenames</a></c26><c22><a href="#779_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;800</ln><a id="800">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;801</ln><a id="801">&nbsp;</a><a id="n441616">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;802</ln><a id="802">&nbsp;</a><a id="n441620"><a id="n441619"><a id="n441621"><a id="n441623"><a id="n441624">&nbsp;</a></a></a></a></a><c30>fn</c30><c30><a href="#801_1_refs">&nbsp;is_writeable</a></c30><c4>(</c4><c20><a href="#802_16_refs">p</a></c20><c1><a href="#801_1_refs">:&nbsp;</a></c1><c8><a href="#801_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#801_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#801_1_refs">&nbsp;</a></c1><c8><a href="#801_1_refs">bool</a></c8><c1><a href="#801_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#801_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;803</ln><a id="803">&nbsp;</a><a id="n441637"><a id="n441626"><a id="n441625">&nbsp;</a></a></a><c22><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#801_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#802">p</a></c26><c10><a href="../../libstd/io/fs.rs.html#n136057">.stat</a></c10><c4>()</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;804</ln><a id="804">&nbsp;</a><a id="n441628"><a id="n441627">&nbsp;</a></a><c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105116">..</a></c20><c4>)</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c12><a href="#801_1_refs">true</a></c12><c3>,</c3><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;805</ln><a id="805">&nbsp;</a><a id="n441636"><a id="n441632"><a id="n441631"><a id="n441630"><a id="n441634"><a id="n441635"><a id="n441629"><a id="n441633">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="#805_11_refs">m</a></c20><c4>)</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#801_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#805">m</a></c26><c24><a href="../../libstd/io/mod.rs.html#n148935">.perm</a></c24><c5><a href="#801_1_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n149174">io::UserWrite</a></c26><c5><a href="#801_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n149174">io::UserWrite</a></c26><c21><a href="#801_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;806</ln><a id="806">&nbsp;</a>&nbsp;<c21><a href="#801_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#801_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;807</ln><a id="807">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;808</ln><a id="808">&nbsp;</a><a id="n441638">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;809</ln><a id="809">&nbsp;</a><a id="n441642"><a id="n441641"><a id="n441643"><a id="n441647"><a id="n441646">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="#808_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#808_1_refs">&nbsp;filename_for_input</a></c30><c4>(</c4><c20><a href="#809_26_refs">sess</a></c20><c1><a href="#808_1_refs">:&nbsp;</a></c1><c8><a href="#808_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#808_1_refs">&nbsp;</a></c1><c20><a href="#809_42_refs">crate_type</a></c20><c1><a href="#808_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#168">session::CrateType</a></c8><c3>,</c3><c1><a href="#808_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;810</ln><a id="810">&nbsp;</a><a id="n441655"><a id="n441657"><a id="n441667"><a id="n441651"><a id="n441650"><a id="n441659"><a id="n441656"><a id="n441652">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#810_26_refs">id</a></c20><c1><a href="#808_1_refs">:&nbsp;</a></c1><c8><a href="#808_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c3>,</c3><c1><a href="#808_1_refs">&nbsp;</a></c1><c20><a href="#810_40_refs">out_filename</a></c20><c1><a href="#808_1_refs">:&nbsp;</a></c1><c8><a href="#808_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#808_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#808_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c1><a href="#808_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;811</ln><a id="811">&nbsp;</a><a id="n441665"><a id="n441660"><a id="n441664"><a id="n441663"><a id="n441661"><a id="n441666"><a id="n441662">&nbsp;</a></a></a></a></a></a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#808_1_refs">&nbsp;</a></c22><c20><a href="#811_8_refs">libname</a></c20><c13><a href="#808_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#718">output_lib_filename</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#810">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;812</ln><a id="812">&nbsp;</a><a id="n441668"><a id="n441918">&nbsp;</a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#808_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#809">crate_type</a></c26><c21><a href="#808_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;813</ln><a id="813">&nbsp;</a><a id="n441730"><a id="n441670"><a id="n441669">&nbsp;</a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;814</ln><a id="814">&nbsp;</a><a id="n441698"><a id="n441687"><a id="n441682"><a id="n441721"><a id="n441719"><a id="n441689"><a id="n441694"><a id="n441690"><a id="n441695"><a id="n441708"><a id="n441712"><a id="n441702"><a id="n441685"><a id="n441715"><a id="n441707"><a id="n441673"><a id="n441711"><a id="n441675"><a id="n441716"><a id="n441676"><a id="n441717"><a id="n441709"><a id="n441693"><a id="n441680"><a id="n441684"><a id="n441720"><a id="n441727"><a id="n441696"><a id="n441713"><a id="n441718"><a id="n441691"><a id="n441683"><a id="n441681"><a id="n441701"><a id="n441728"><a id="n441703"><a id="n441706"><a id="n441671"><a id="n441729"><a id="n441672"><a id="n441724"><a id="n441710"><a id="n441704"><a id="n441674"><a id="n441705"><a id="n441692"><a id="n441677"><a id="n441700"><a id="n441686"><a id="n441714"><a id="n441722"><a id="n441688"><a id="n441699"><a id="n441697">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#810">out_filename</a></c26><c10><a href="c=1 n=246701">.with_filename</a></c10><c4>(</c4><c21><a href="c=1 n=246701">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n164602">"lib</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164602">.rlib"</a></c26><c3>,</c3><c21><a href="c=1 n=246701">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166625">libname</a></c26><c4>))</c4><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;815</ln><a id="815">&nbsp;</a>&nbsp;<c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;816</ln><a id="816">&nbsp;</a><a id="n441852"><a id="n441762"><a id="n441731">&nbsp;</a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#171">session::CrateTypeDylib</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;817</ln><a id="817">&nbsp;</a><a id="n441761"><a id="n441760"><a id="n441734"><a id="n441737"><a id="n441739"><a id="n441738"><a id="n441732"><a id="n441733"><a id="n441735"><a id="n441736">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#808_1_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#817_17_refs">prefix</a></c20><c3>,</c3><c20><a href="#808_1_refs">&nbsp;</a></c20><c20><a href="#817_25_refs">suffix</a></c20><c4>)</c4><c16><a href="#808_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#808_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#809">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#808_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;818</ln><a id="818">&nbsp;</a><a id="n441743"><a id="n441742"><a id="n441740"><a id="n441741">&nbsp;</a></a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14689">abi::OsWin32</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n130349">win32::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#808_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n130355">win32::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;819</ln><a id="819">&nbsp;</a><a id="n441744"><a id="n441745"><a id="n441747"><a id="n441746">&nbsp;</a></a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14690">abi::OsMacos</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n130201">macos::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#808_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n130207">macos::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;820</ln><a id="820">&nbsp;</a><a id="n441750"><a id="n441751"><a id="n441749"><a id="n441748">&nbsp;</a></a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14691">abi::OsLinux</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n130275">linux::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#808_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n130281">linux::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;821</ln><a id="821">&nbsp;</a><a id="n441753"><a id="n441754"><a id="n441752"><a id="n441755">&nbsp;</a></a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14692">abi::OsAndroid</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n130312">android::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#808_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n130318">android::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;822</ln><a id="822">&nbsp;</a><a id="n441759"><a id="n441758"><a id="n441757"><a id="n441756">&nbsp;</a></a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14693">abi::OsFreebsd</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n130238">freebsd::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#808_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n130244">freebsd::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;823</ln><a id="823">&nbsp;</a>&nbsp;<c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;824</ln><a id="824">&nbsp;</a><a id="n441849"><a id="n441793"><a id="n441797"><a id="n441798"><a id="n441830"><a id="n441779"><a id="n441772"><a id="n441803"><a id="n441781"><a id="n441808"><a id="n441763"><a id="n441841"><a id="n441827"><a id="n441825"><a id="n441832"><a id="n441790"><a id="n441780"><a id="n441786"><a id="n441824"><a id="n441791"><a id="n441800"><a id="n441811"><a id="n441766"><a id="n441823"><a id="n441778"><a id="n441819"><a id="n441838"><a id="n441802"><a id="n441850"><a id="n441807"><a id="n441769"><a id="n441799"><a id="n441787"><a id="n441812"><a id="n441842"><a id="n441844"><a id="n441765"><a id="n441788"><a id="n441792"><a id="n441796"><a id="n441804"><a id="n441826"><a id="n441794"><a id="n441806"><a id="n441805"><a id="n441820"><a id="n441789"><a id="n441783"><a id="n441834"><a id="n441815"><a id="n441822"><a id="n441837"><a id="n441801"><a id="n441785"><a id="n441843"><a id="n441840"><a id="n441809"><a id="n441814"><a id="n441767"><a id="n441782"><a id="n441773"><a id="n441774"><a id="n441817"><a id="n441771"><a id="n441831"><a id="n441810"><a id="n441768"><a id="n441816"><a id="n441775"><a id="n441818"><a id="n441784"><a id="n441835"><a id="n441833"><a id="n441764"><a id="n441851"><a id="n441839"><a id="n441813"><a id="n441828"><a id="n441829"><a id="n441795"><a id="n441836"><a id="n441821"><a id="n441846"><a id="n441770">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#810">out_filename</a></c26><c10><a href="c=1 n=246701">.with_filename</a></c10><c4>(</c4><c21><a href="c=1 n=246701">format!</a></c21><c4>(</c4><c14><a href="../../librustc/back/link.rs.html#824">"</a></c14><c3>{}{}{}</c3><c14><a href="../../librustc/back/link.rs.html#824">"</a></c14><c3>,</c3><c21><a href="c=1 n=246701">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#824">prefix</a></c26><c3>,</c3><c21><a href="c=1 n=246701">&nbsp;</a></c21><c5><a href="../../libstd/fmt/mod.rs.html#n166625">libname</a></c5><c3>,</c3><c21><a href="c=1 n=246701">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#824">suffix</a></c26><c4>))</c4><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;825</ln><a id="825">&nbsp;</a>&nbsp;<c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;826</ln><a id="826">&nbsp;</a><a id="n441914"><a id="n441853"><a id="n441854">&nbsp;</a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeStaticlib</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;827</ln><a id="827">&nbsp;</a><a id="n441880"><a id="n441913"><a id="n441891"><a id="n441884"><a id="n441902"><a id="n441886"><a id="n441905"><a id="n441879"><a id="n441855"><a id="n441892"><a id="n441869"><a id="n441887"><a id="n441860"><a id="n441882"><a id="n441888"><a id="n441904"><a id="n441901"><a id="n441857"><a id="n441858"><a id="n441877"><a id="n441885"><a id="n441865"><a id="n441875"><a id="n441864"><a id="n441859"><a id="n441900"><a id="n441871"><a id="n441881"><a id="n441889"><a id="n441895"><a id="n441898"><a id="n441861"><a id="n441867"><a id="n441899"><a id="n441894"><a id="n441878"><a id="n441876"><a id="n441874"><a id="n441906"><a id="n441897"><a id="n441870"><a id="n441911"><a id="n441856"><a id="n441890"><a id="n441883"><a id="n441868"><a id="n441903"><a id="n441908"><a id="n441866"><a id="n441896"><a id="n441893"><a id="n441873"><a id="n441872"><a id="n441912">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#810">out_filename</a></c26><c10><a href="c=1 n=246701">.with_filename</a></c10><c4>(</c4><c21><a href="c=1 n=246701">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/parse.rs.html#n161512">"lib</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/parse.rs.html#n161512">.a"</a></c12><c3>,</c3><c21><a href="c=1 n=246701">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">libname</a></c26><c4>))</c4><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;828</ln><a id="828">&nbsp;</a>&nbsp;<c22><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;829</ln><a id="829">&nbsp;</a><a id="n441916"><a id="n441915"><a id="n441917">&nbsp;</a></a></a><c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#170">session::CrateTypeExecutable</a></c20><c21><a href="#808_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#808_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#810">out_filename</a></c26><c10><a href="../../libstd/path/posix.rs.html#n149401">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#808_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;830</ln><a id="830">&nbsp;</a>&nbsp;<c21><a href="#808_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#808_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;831</ln><a id="831">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;832</ln><a id="832">&nbsp;</a><a id="n441919">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;833</ln><a id="833">&nbsp;</a><a id="n441923"><a id="n441922"><a id="n441924">&nbsp;</a></a></a><c30>fn</c30><c30><a href="#832_1_refs">&nbsp;link_binary_output</a></c30><c4>(</c4><c20><a href="#833_22_refs">sess</a></c20><c1><a href="#832_1_refs">:&nbsp;</a></c1><c8><a href="#832_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#832_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;834</ln><a id="834">&nbsp;</a><a id="n441929"><a id="n441927"><a id="n441928">&nbsp;</a></a></a><c1><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#834_22_refs">trans</a></c20><c1><a href="#832_1_refs">:&nbsp;</a></c1><c8><a href="#832_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="#832_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;835</ln><a id="835">&nbsp;</a><a id="n441933"><a id="n441932">&nbsp;</a></a><c1><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#835_22_refs">crate_type</a></c20><c1><a href="#832_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#168">session::CrateType</a></c8><c3>,</c3><c1><a href="#832_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;836</ln><a id="836">&nbsp;</a><a id="n441937"><a id="n441938"><a id="n441936">&nbsp;</a></a></a><c1><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#836_22_refs">outputs</a></c20><c1><a href="#832_1_refs">:&nbsp;</a></c1><c8><a href="#832_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1121">OutputFilenames</a></c8><c3>,</c3><c1><a href="#832_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;837</ln><a id="837">&nbsp;</a><a id="n441942"><a id="n441945"><a id="n441941"><a id="n441943"><a id="n442180">&nbsp;</a></a></a></a></a><c1><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#837_22_refs">id</a></c20><c1><a href="#832_1_refs">:&nbsp;</a></c1><c8><a href="#832_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138359">CrateId</a></c8><c4>)</c4><c1><a href="#832_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#832_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c1><a href="#832_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;838</ln><a id="838">&nbsp;</a><a id="n441949"><a id="n441947"><a id="n441951"><a id="n441946"><a id="n441952"><a id="n441950"><a id="n441948">&nbsp;</a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#832_1_refs">&nbsp;</a></c22><c20><a href="#838_8_refs">obj_filename</a></c20><c13><a href="#832_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#836">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1137">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;839</ln><a id="839">&nbsp;</a><a id="n441956"><a id="n441954"><a id="n441953"><a id="n441980"><a id="n441955"><a id="n441957"><a id="n441979">&nbsp;</a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#832_1_refs">&nbsp;</a></c22><c20><a href="#839_8_refs">out_filename</a></c20><c13><a href="#832_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#832_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#836">outputs</a></c26><c24><a href="../../librustc/driver/driver.rs.html#1125">.single_output_file</a></c24><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;840</ln><a id="840">&nbsp;</a><a id="n441959"><a id="n441960"><a id="n441958"><a id="n441961">&nbsp;</a></a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#840_13_refs">ref&nbsp;file</a></c20><c4>)</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#840">file</a></c26><c10><a href="../../libstd/path/posix.rs.html#n149401">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;841</ln><a id="841">&nbsp;</a><a id="n441970"><a id="n441962"><a id="n441978">&nbsp;</a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;842</ln><a id="842">&nbsp;</a><a id="n441968"><a id="n441963"><a id="n441965"><a id="n441967"><a id="n441966"><a id="n441964"><a id="n441969">&nbsp;</a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#832_1_refs">&nbsp;</a></c22><c20><a href="#842_16_refs">out_filename</a></c20><c13><a href="#832_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#836">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1129">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;843</ln><a id="843">&nbsp;</a><a id="n441977"><a id="n441976"><a id="n441974"><a id="n441971"><a id="n441972"><a id="n441975"><a id="n441973">&nbsp;</a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#808">filename_for_input</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c3>,</c3><c27><a href="#832_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#835">crate_type</a></c26><c3>,</c3><c27><a href="#832_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#837">id</a></c26><c3>,</c3><c27><a href="#832_1_refs">&nbsp;</a></c27><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#842">out_filename</a></c26><c4>)</c4><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;844</ln><a id="844">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;845</ln><a id="845">&nbsp;</a>&nbsp;<c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;846</ln><a id="846">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;847</ln><a id="847">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;output&nbsp;and&nbsp;obj_filename&nbsp;are&nbsp;both&nbsp;writeable.
</c40><br/><ln>&nbsp;&nbsp;848</ln><a id="848">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Mac,&nbsp;FreeBSD,&nbsp;and&nbsp;Windows&nbsp;system&nbsp;linkers&nbsp;check&nbsp;this&nbsp;already&nbsp;--
</c40><br/><ln>&nbsp;&nbsp;849</ln><a id="849">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;however,&nbsp;the&nbsp;Linux&nbsp;linker&nbsp;will&nbsp;happily&nbsp;overwrite&nbsp;a&nbsp;read-only&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;850</ln><a id="850">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;should&nbsp;be&nbsp;consistent.
</c40><br/><ln>&nbsp;&nbsp;851</ln><a id="851">&nbsp;</a><a id="n441986"><a id="n441985"><a id="n441984"><a id="n441987"><a id="n441981"><a id="n441982"><a id="n441983"><a id="n441988">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#832_1_refs">&nbsp;</a></c22><c20><a href="#851_8_refs">obj_is_writeable</a></c20><c13><a href="#832_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#801">is_writeable</a></c26><c4>(</c4><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;852</ln><a id="852">&nbsp;</a><a id="n441991"><a id="n441990"><a id="n441993"><a id="n441989"><a id="n441995"><a id="n441992"><a id="n441996"><a id="n441994">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#832_1_refs">&nbsp;</a></c22><c20><a href="#852_8_refs">out_is_writeable</a></c20><c13><a href="#832_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#801">is_writeable</a></c26><c4>(</c4><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;853</ln><a id="853">&nbsp;</a><a id="n442126"><a id="n442060"><a id="n441997"><a id="n442127"><a id="n441998">&nbsp;</a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#852">out_is_writeable</a></c26><c13><a href="#832_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;854</ln><a id="854">&nbsp;</a><a id="n442028"><a id="n442012"><a id="n442053"><a id="n442046"><a id="n442019"><a id="n442050"><a id="n442059"><a id="n442038"><a id="n442005"><a id="n442003"><a id="n442047"><a id="n442051"><a id="n442029"><a id="n442021"><a id="n442009"><a id="n442014"><a id="n442030"><a id="n442039"><a id="n442011"><a id="n442040"><a id="n442006"><a id="n441999"><a id="n442032"><a id="n442033"><a id="n442056"><a id="n442024"><a id="n442013"><a id="n442043"><a id="n442017"><a id="n442020"><a id="n442048"><a id="n442010"><a id="n442044"><a id="n442049"><a id="n442025"><a id="n442042"><a id="n442057"><a id="n442026"><a id="n442041"><a id="n442027"><a id="n442023"><a id="n442018"><a id="n442058"><a id="n442045"><a id="n442016"><a id="n442015"><a id="n442022"><a id="n442031">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c21><a href="#832_1_refs">format!</a></c21><c4>(</c4><c16><a href="../../libstd/fmt/rt.rs.html#n164628">"output&nbsp;file&nbsp;</a></c16><c3>{}</c3><c16><a href="../../libstd/fmt/rt.rs.html#n164628">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c16><c3>,</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;855</ln><a id="855">&nbsp;</a><a id="n442034"><a id="n442000"><a id="n442036"><a id="n442037"><a id="n442001"><a id="n442002"><a id="n442035"><a id="n442004">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c20><a href="#855_27_refs">.display</a></c20><c4>()))</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;856</ln><a id="856">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#832_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;857</ln><a id="857">&nbsp;</a><a id="n442125"><a id="n442062"><a id="n442124"><a id="n442061">&nbsp;</a></a></a></a><c13><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>else</c21><c13><a href="#832_1_refs">&nbsp;</a></c13><c21>if</c21><c21><a href="#832_1_refs">&nbsp;</a></c21><c5><a href="#832_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#851">obj_is_writeable</a></c26><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;858</ln><a id="858">&nbsp;</a><a id="n442084"><a id="n442114"><a id="n442104"><a id="n442087"><a id="n442082"><a id="n442109"><a id="n442075"><a id="n442077"><a id="n442076"><a id="n442097"><a id="n442105"><a id="n442093"><a id="n442103"><a id="n442102"><a id="n442079"><a id="n442092"><a id="n442070"><a id="n442112"><a id="n442067"><a id="n442117"><a id="n442078"><a id="n442122"><a id="n442081"><a id="n442089"><a id="n442091"><a id="n442073"><a id="n442088"><a id="n442090"><a id="n442120"><a id="n442108"><a id="n442115"><a id="n442080"><a id="n442111"><a id="n442096"><a id="n442110"><a id="n442074"><a id="n442069"><a id="n442086"><a id="n442083"><a id="n442113"><a id="n442085"><a id="n442121"><a id="n442107"><a id="n442094"><a id="n442063"><a id="n442106"><a id="n442123"><a id="n442095">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c16><a href="#858_27_refs">"object&nbsp;file&nbsp;</a></c16><c3>{}</c3><c16><a href="#858_27_refs">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c16><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#205">
</a></c21><br/><ln>&nbsp;&nbsp;859</ln><a id="859">&nbsp;</a><a id="n442065"><a id="n442099"><a id="n442100"><a id="n442066"><a id="n442068"><a id="n442064"><a id="n442098"><a id="n442101">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n166625">.display</a></c27><c4>()))</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;860</ln><a id="860">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;861</ln><a id="861">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;862</ln><a id="862">&nbsp;</a><a id="n442179"><a id="n442128"><a id="n442178">&nbsp;</a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#832_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#835">crate_type</a></c26><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;863</ln><a id="863">&nbsp;</a><a id="n442142"><a id="n442141"><a id="n442129">&nbsp;</a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c20><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;864</ln><a id="864">&nbsp;</a><a id="n442130"><a id="n442136"><a id="n442138"><a id="n442134"><a id="n442139"><a id="n442140"><a id="n442137"><a id="n442132"><a id="n442131"><a id="n442133"><a id="n442135">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#885">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#834">trans</a></c26><c4>)</c4><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;865</ln><a id="865">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;866</ln><a id="866">&nbsp;</a><a id="n442153"><a id="n442143"><a id="n442152">&nbsp;</a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeStaticlib</a></c20><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;867</ln><a id="867">&nbsp;</a><a id="n442148"><a id="n442149"><a id="n442147"><a id="n442150"><a id="n442151"><a id="n442145"><a id="n442144"><a id="n442146">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#991">link_staticlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;868</ln><a id="868">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;869</ln><a id="869">&nbsp;</a><a id="n442165"><a id="n442154"><a id="n442164">&nbsp;</a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#170">session::CrateTypeExecutable</a></c20><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;870</ln><a id="870">&nbsp;</a><a id="n442158"><a id="n442156"><a id="n442162"><a id="n442160"><a id="n442159"><a id="n442157"><a id="n442155"><a id="n442163"><a id="n442161">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1022">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c12><a href="#832_1_refs">false</a></c12><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;871</ln><a id="871">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;872</ln><a id="872">&nbsp;</a><a id="n442177"><a id="n442166"><a id="n442176">&nbsp;</a></a></a><c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#171">session::CrateTypeDylib</a></c20><c21><a href="#832_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#832_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;873</ln><a id="873">&nbsp;</a><a id="n442171"><a id="n442169"><a id="n442172"><a id="n442174"><a id="n442173"><a id="n442175"><a id="n442168"><a id="n442170"><a id="n442167">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1022">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#833">sess</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c12><a href="#832_1_refs">true</a></c12><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#838">obj_filename</a></c26><c3>,</c3><c13><a href="#832_1_refs">&nbsp;</a></c13><c5><a href="#832_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;874</ln><a id="874">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#832_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;875</ln><a id="875">&nbsp;</a>&nbsp;<c21><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;876</ln><a id="876">&nbsp;</a>&nbsp;<c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;877</ln><a id="877">&nbsp;</a><a id="n442181">&nbsp;</a><c22><a href="#832_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#839">out_filename</a></c26><c22><a href="#832_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;878</ln><a id="878">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;879</ln><a id="879">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;880</ln><a id="880">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;an&nbsp;'rlib'
</c40><br/><ln>&nbsp;&nbsp;881</ln><a id="881">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;882</ln><a id="882">&nbsp;</a>&nbsp;<c40>//&nbsp;An&nbsp;rlib&nbsp;in&nbsp;its&nbsp;current&nbsp;incarnation&nbsp;is&nbsp;essentially&nbsp;a&nbsp;renamed&nbsp;.a&nbsp;file.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;883</ln><a id="883">&nbsp;</a>&nbsp;<c40>//&nbsp;rlib&nbsp;primarily&nbsp;contains&nbsp;the&nbsp;object&nbsp;file&nbsp;of&nbsp;the&nbsp;crate,&nbsp;but&nbsp;it&nbsp;also&nbsp;contains
</c40><br/><ln>&nbsp;&nbsp;884</ln><a id="884">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;from&nbsp;native&nbsp;libraries.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;unzipping
</c40><br/><ln>&nbsp;&nbsp;885</ln><a id="885">&nbsp;</a><a id="n442182">&nbsp;</a><c40>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;886</ln><a id="886">&nbsp;</a><a id="n442188"><a id="n442187"><a id="n442186">&nbsp;</a></a></a><c30>fn</c30><c30><a href="#885_73_refs">&nbsp;link_rlib</a></c30><c5><a href="#885_73_refs">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#886_17_refs">sess</a></c20><c1><a href="#885_73_refs">:&nbsp;</a></c1><c8><a href="#885_73_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#885_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;887</ln><a id="887">&nbsp;</a><a id="n442192"><a id="n442191"><a id="n442194"><a id="n442195">&nbsp;</a></a></a></a><c1><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#887_17_refs">trans</a></c20><c1><a href="#885_73_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n103651">Option&lt;</a></c8><c8><a href="#885_73_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c8><a href="../../libstd/option.rs.html#n103651">&gt;</a></c8><c3>,</c3><c1><a href="#885_73_refs">&nbsp;</a></c1><c40>//&nbsp;None&nbsp;==&nbsp;no&nbsp;metadata/bytecode
</c40><br/><ln>&nbsp;&nbsp;888</ln><a id="888">&nbsp;</a><a id="n442198"><a id="n442200"><a id="n442199">&nbsp;</a></a></a><c1><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#888_17_refs">obj_filename</a></c20><c1><a href="#885_73_refs">:&nbsp;</a></c1><c8><a href="#885_73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#885_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;889</ln><a id="889">&nbsp;</a><a id="n442204"><a id="n442203"><a id="n442208"><a id="n442205"><a id="n442561">&nbsp;</a></a></a></a></a><c1><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#889_17_refs">out_filename</a></c20><c1><a href="#885_73_refs">:&nbsp;</a></c1><c8><a href="#885_73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#885_73_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#885_73_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/archive.rs.html#29">Archive&lt;'a&gt;</a></c8><c1><a href="#885_73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;890</ln><a id="890">&nbsp;</a><a id="n442218"><a id="n442214"><a id="n442217"><a id="n442216"><a id="n442212"><a id="n442215"><a id="n442211"><a id="n442210"><a id="n442213">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#885_73_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#890_8_refs">&nbsp;a</a></c20><c16><a href="#885_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/archive.rs.html#80">Archive::create</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c3>,</c3><c27><a href="#885_73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#889">out_filename</a></c26><c3>,</c3><c27><a href="#885_73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#888">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;891</ln><a id="891">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;892</ln><a id="892">&nbsp;</a><a id="n442252"><a id="n442221"><a id="n442224"><a id="n442226"><a id="n442232"><a id="n442254"><a id="n442253"><a id="n442223"><a id="n442219"><a id="n442220"><a id="n442255"><a id="n442228"><a id="n442225"><a id="n442235"><a id="n442233"><a id="n442234"><a id="n442230"><a id="n442236"><a id="n442256"><a id="n442231"><a id="n442222"><a id="n442229"><a id="n442227">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#892">&nbsp;</a></c26><c20><a href="../../libstd/option.rs.html#n103656">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="#892_10_refs">&nbsp;l</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c20><a href="#892_17_refs">kind</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#892">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#186">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#892">&nbsp;</a></c26><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;893</ln><a id="893">&nbsp;</a><a id="n442237"><a id="n442251">&nbsp;</a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#885_73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#892">kind</a></c26><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;894</ln><a id="894">&nbsp;</a><a id="n442246"><a id="n442245"><a id="n442238">&nbsp;</a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;895</ln><a id="895">&nbsp;</a><a id="n442243"><a id="n442241"><a id="n442242"><a id="n442244"><a id="n442240"><a id="n442239">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#890">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#892">l</a></c26><c10><a href="../../libstd/str.rs.html#n64558">.as_slice</a></c10><c4>())</c4><c13><a href="../../libstd/result.rs.html#n106238">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;896</ln><a id="896">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;897</ln><a id="897">&nbsp;</a><a id="n442250"><a id="n442248"><a id="n442249"><a id="n442247">&nbsp;</a></a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="#885_73_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;898</ln><a id="898">&nbsp;</a>&nbsp;<c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;899</ln><a id="899">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#892">
</a></c26><br/><ln>&nbsp;&nbsp;900</ln><a id="900">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">
</a></c26><br/><ln>&nbsp;&nbsp;901</ln><a id="901">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;Note&nbsp;that&nbsp;it&nbsp;is&nbsp;important&nbsp;that&nbsp;we&nbsp;add&nbsp;all&nbsp;of&nbsp;our&nbsp;non-object&nbsp;"magical
</c40><br/><ln>&nbsp;&nbsp;902</ln><a id="902">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;files"&nbsp;*after*&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;in&nbsp;the&nbsp;archive.&nbsp;The&nbsp;reason&nbsp;for
</c40><br/><ln>&nbsp;&nbsp;903</ln><a id="903">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;this&nbsp;is&nbsp;as&nbsp;follows:
</c40><br/><ln>&nbsp;&nbsp;904</ln><a id="904">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//
</c40><br/><ln>&nbsp;&nbsp;905</ln><a id="905">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;*&nbsp;When&nbsp;performing&nbsp;LTO,&nbsp;this&nbsp;archive&nbsp;will&nbsp;be&nbsp;modified&nbsp;to&nbsp;remove
</c40><br/><ln>&nbsp;&nbsp;906</ln><a id="906">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;obj_filename&nbsp;from&nbsp;above.&nbsp;The&nbsp;reason&nbsp;for&nbsp;this&nbsp;is&nbsp;described&nbsp;below.
</c40><br/><ln>&nbsp;&nbsp;907</ln><a id="907">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//
</c40><br/><ln>&nbsp;&nbsp;908</ln><a id="908">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;*&nbsp;When&nbsp;the&nbsp;system&nbsp;linker&nbsp;looks&nbsp;at&nbsp;an&nbsp;archive,&nbsp;it&nbsp;will&nbsp;attempt&nbsp;to
</c40><br/><ln>&nbsp;&nbsp;909</ln><a id="909">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;determine&nbsp;the&nbsp;architecture&nbsp;of&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;see&nbsp;whether&nbsp;its
</c40><br/><ln>&nbsp;&nbsp;910</ln><a id="910">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;linkable.
</c40><br/><ln>&nbsp;&nbsp;911</ln><a id="911">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//
</c40><br/><ln>&nbsp;&nbsp;912</ln><a id="912">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;for&nbsp;this&nbsp;detection&nbsp;is:&nbsp;iterate&nbsp;over&nbsp;the&nbsp;files&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;913</ln><a id="913">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;archive.&nbsp;Skip&nbsp;magical&nbsp;SYMDEF&nbsp;names.&nbsp;Interpret&nbsp;the&nbsp;first&nbsp;file&nbsp;as&nbsp;an
</c40><br/><ln>&nbsp;&nbsp;914</ln><a id="914">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;object&nbsp;file.&nbsp;Read&nbsp;architecture&nbsp;from&nbsp;the&nbsp;object&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;915</ln><a id="915">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//
</c40><br/><ln>&nbsp;&nbsp;916</ln><a id="916">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;*&nbsp;As&nbsp;one&nbsp;can&nbsp;probably&nbsp;see,&nbsp;if&nbsp;"metadata"&nbsp;and&nbsp;"foo.bc"&nbsp;were&nbsp;placed
</c40><br/><ln>&nbsp;&nbsp;917</ln><a id="917">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;before&nbsp;all&nbsp;of&nbsp;the&nbsp;objects,&nbsp;then&nbsp;the&nbsp;architecture&nbsp;of&nbsp;this&nbsp;archive&nbsp;would
</c40><br/><ln>&nbsp;&nbsp;918</ln><a id="918">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;&nbsp;&nbsp;not&nbsp;be&nbsp;correctly&nbsp;inferred&nbsp;once&nbsp;'foo.o'&nbsp;is&nbsp;removed.
</c40><br/><ln>&nbsp;&nbsp;919</ln><a id="919">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//
</c40><br/><ln>&nbsp;&nbsp;920</ln><a id="920">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;Basically,&nbsp;all&nbsp;this&nbsp;means&nbsp;is&nbsp;that&nbsp;this&nbsp;code&nbsp;should&nbsp;not&nbsp;move&nbsp;above&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;921</ln><a id="921">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;code&nbsp;above.
</c40><br/><ln>&nbsp;&nbsp;922</ln><a id="922">&nbsp;</a><a id="n442556"><a id="n442257"><a id="n442557">&nbsp;</a></a></a><c26><a href="../../librustc/back/link.rs.html#892">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c21>match</c21><c13><a href="#885_73_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#887">trans</a></c26><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;923</ln><a id="923">&nbsp;</a><a id="n442259"><a id="n442552"><a id="n442258"><a id="n442538">&nbsp;</a></a></a></a><c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#923_13_refs">trans</a></c20><c4>)</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;924</ln><a id="924">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Instead&nbsp;of&nbsp;putting&nbsp;the&nbsp;metadata&nbsp;in&nbsp;an&nbsp;object&nbsp;file&nbsp;section,&nbsp;rlibs
</c40><br/><ln>&nbsp;&nbsp;925</ln><a id="925">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;contain&nbsp;the&nbsp;metadata&nbsp;in&nbsp;a&nbsp;separate&nbsp;file.&nbsp;We&nbsp;use&nbsp;a&nbsp;temp&nbsp;directory
</c40><br/><ln>&nbsp;&nbsp;926</ln><a id="926">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here&nbsp;so&nbsp;concurrent&nbsp;builds&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;don't&nbsp;try&nbsp;to&nbsp;use
</c40><br/><ln>&nbsp;&nbsp;927</ln><a id="927">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;same&nbsp;filename&nbsp;for&nbsp;metadata&nbsp;(stomping&nbsp;over&nbsp;one&nbsp;another)
</c40><br/><ln>&nbsp;&nbsp;928</ln><a id="928">&nbsp;</a><a id="n442263"><a id="n442262"><a id="n442260"><a id="n442261"><a id="n442267"><a id="n442268"><a id="n442266"><a id="n442264"><a id="n442265">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#885_73_refs">&nbsp;</a></c22><c20><a href="#928_16_refs">tmpdir</a></c20><c13><a href="#885_73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/io/tempfile.rs.html#n134059">TempDir::new</a></c26><c4>(</c4><c12><a href="../../libstd/option.rs.html#n104363">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n104363">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n104363">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;929</ln><a id="929">&nbsp;</a><a id="n442273"><a id="n442269"><a id="n442272"><a id="n442276"><a id="n442271"><a id="n442275"><a id="n442270"><a id="n442274">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#885_73_refs">&nbsp;</a></c22><c20><a href="#929_16_refs">metadata</a></c20><c13><a href="#885_73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#928">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n134091">.path</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3811">.join</a></c10><c4>(</c4><c26><a href="../../librustc/back/archive.rs.html#27">METADATA_FILENAME</a></c26><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;930</ln><a id="930">&nbsp;</a><a id="n442281"><a id="n442374"><a id="n442284"><a id="n442283"><a id="n442282"><a id="n442277"><a id="n442280"><a id="n442279"><a id="n442375"><a id="n442278">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#885_73_refs">&nbsp;</a></c13><c26><a href="../../libstd/io/fs.rs.html#n134988">fs::File::create</a></c26><c4>(</c4><c5><a href="../../libstd/io/result.rs.html#n133615">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#929">metadata</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n133615">.write</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#923">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#412">.metadata</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">
</a></c10><br/><ln>&nbsp;&nbsp;931</ln><a id="931">&nbsp;</a>&nbsp;<c10><a href="../../libstd/vec.rs.html#n58208">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.as_slice</a></c10><c4>())</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;932</ln><a id="932">&nbsp;</a><a id="n442286"><a id="n442285"><a id="n442287">&nbsp;</a></a></a><c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105112">..</a></c20><c4>)</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;933</ln><a id="933">&nbsp;</a><a id="n442372"><a id="n442373"><a id="n442288"><a id="n442289">&nbsp;</a></a></a></a><c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#933_20_refs">e</a></c20><c4>)</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;934</ln><a id="934">&nbsp;</a><a id="n442350"><a id="n442325"><a id="n442351"><a id="n442310"><a id="n442323"><a id="n442357"><a id="n442349"><a id="n442324"><a id="n442355"><a id="n442328"><a id="n442299"><a id="n442311"><a id="n442303"><a id="n442360"><a id="n442307"><a id="n442320"><a id="n442319"><a id="n442354"><a id="n442333"><a id="n442366"><a id="n442367"><a id="n442317"><a id="n442334"><a id="n442335"><a id="n442338"><a id="n442300"><a id="n442358"><a id="n442306"><a id="n442359"><a id="n442316"><a id="n442312"><a id="n442329"><a id="n442327"><a id="n442332"><a id="n442308"><a id="n442322"><a id="n442353"><a id="n442318"><a id="n442348"><a id="n442326"><a id="n442309"><a id="n442337"><a id="n442290"><a id="n442321"><a id="n442368"><a id="n442296"><a id="n442331"><a id="n442356"><a id="n442305"><a id="n442365"><a id="n442336"><a id="n442330"><a id="n442313"><a id="n442304"><a id="n442314"><a id="n442315"><a id="n442362"><a id="n442352"><a id="n442347">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="#885_73_refs">format!</a></c21><c4>(</c4><c1><a href="#934_37_refs">"failed&nbsp;to&nbsp;write&nbsp;</a></c1><c3>{}</c3><c1><a href="#934_37_refs">:&nbsp;</a></c1><c3>{}</c3><c1><a href="#934_37_refs">"</a></c1><c3>,</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;935</ln><a id="935">&nbsp;</a><a id="n442293"><a id="n442291"><a id="n442340"><a id="n442345"><a id="n442339"><a id="n442297"><a id="n442341"><a id="n442292"><a id="n442295"><a id="n442343"><a id="n442298"><a id="n442342"><a id="n442346"><a id="n442344"><a id="n442294">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#929">metadata</a></c26><c27><a href="c=1 n=246691">.display</a></c27><c4>()</c4><c3>,</c3><c21><a href="#885_73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#933">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;936</ln><a id="936">&nbsp;</a><a id="n442370"><a id="n442371"><a id="n442369">&nbsp;</a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;937</ln><a id="937">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;938</ln><a id="938">&nbsp;</a>&nbsp;<c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;939</ln><a id="939">&nbsp;</a><a id="n442380"><a id="n442378"><a id="n442381"><a id="n442376"><a id="n442379"><a id="n442377">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#890">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#116">.add_file</a></c13><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#116">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#929">metadata</a></c26><c3>,</c3><c13><a href="../../librustc/back/archive.rs.html#116">&nbsp;</a></c13><c12><a href="../../librustc/back/archive.rs.html#116">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;940</ln><a id="940">&nbsp;</a><a id="n442383"><a id="n442387"><a id="n442384"><a id="n442385"><a id="n442386"><a id="n442382">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#768">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c3>,</c3><c27><a href="#885_73_refs">&nbsp;</a></c27><c5><a href="#885_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#929">metadata</a></c26><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;941</ln><a id="941">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;942</ln><a id="942">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;LTO&nbsp;purposes,&nbsp;the&nbsp;bytecode&nbsp;of&nbsp;this&nbsp;library&nbsp;is&nbsp;also&nbsp;inserted
</c40><br/><ln>&nbsp;&nbsp;943</ln><a id="943">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;944</ln><a id="944">&nbsp;</a><a id="n442388"><a id="n442390"><a id="n442391"><a id="n442392"><a id="n442389"><a id="n442394"><a id="n442393">&nbsp;</a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#885_73_refs">&nbsp;</a></c22><c20><a href="#944_16_refs">bc</a></c20><c13><a href="#885_73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#888">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.with_extension</a></c10><c4>(</c4><c12><a href="#885_73_refs">"bc"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;945</ln><a id="945">&nbsp;</a><a id="n442398"><a id="n442397"><a id="n442401"><a id="n442400"><a id="n442395"><a id="n442396"><a id="n442399">&nbsp;</a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#885_73_refs">&nbsp;</a></c22><c20><a href="#945_16_refs">bc_deflated</a></c20><c16><a href="#885_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#888">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">"bc.deflate"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;946</ln><a id="946">&nbsp;</a><a id="n442406"><a id="n442503"><a id="n442405"><a id="n442404"><a id="n442431"><a id="n442410"><a id="n442411"><a id="n442502"><a id="n442403"><a id="n442432"><a id="n442412"><a id="n442433"><a id="n442402"><a id="n442409"><a id="n442408">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#885_73_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n134972">fs::File::open</a></c26><c4>(</c4><c5><a href="../../librustc/middle/typeck/check/mod.rs.html#3657">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#944">bc</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3657">.read_to_end</a></c10><c4>()</c4><c10><a href="../../libstd/result.rs.html#n106137">.and_then</a></c10><c4>(</c4><c1><a href="#885_73_refs">|</a></c1><c20><a href="#946_62_refs">data</a></c20><c8><a href="#885_73_refs">|</a></c8><c1><a href="#885_73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;947</ln><a id="947">&nbsp;</a><a id="n442416"><a id="n442415"><a id="n442430"><a id="n442414"><a id="n442413">&nbsp;</a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/io/fs.rs.html#n134988">fs::File::create</a></c26><c4>(</c4><c5><a href="#885_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#945">bc_deflated</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n133615">
</a></c10><br/><ln>&nbsp;&nbsp;948</ln><a id="948">&nbsp;</a><a id="n442429"><a id="n442419"><a id="n442428"><a id="n442418"><a id="n442420"><a id="n442417">&nbsp;</a></a></a></a></a></a><c10><a href="../../libstd/io/result.rs.html#n133615">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.write</a></c10><c4>(</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">match&nbsp;</a></c21><c26><a href="../../libflate/lib.rs.html#n145">flate::deflate_bytes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#946">data</a></c26><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/c_vec.rs.html#n127814">
</a></c21><br/><ln>&nbsp;&nbsp;949</ln><a id="949">&nbsp;</a><a id="n442423"><a id="n442421"><a id="n442422">&nbsp;</a></a></a><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#949_29_refs">compressed</a></c20><c4>)</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#949">compressed</a></c26><c3>,</c3><c21><a href="../../libstd/c_vec.rs.html#n127814">
</a></c21><br/><ln>&nbsp;&nbsp;950</ln><a id="950">&nbsp;</a><a id="n442426"><a id="n442427"><a id="n442424"><a id="n442425">&nbsp;</a></a></a></a><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c12><a href="#885_73_refs">"failed&nbsp;to&nbsp;compress&nbsp;bytecode"</a></c12><c4>)</c4><c21><a href="../../libstd/c_vec.rs.html#n127814">
</a></c21><br/><ln>&nbsp;&nbsp;951</ln><a id="951">&nbsp;</a>&nbsp;<c21><a href="../../libstd/c_vec.rs.html#n127814">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c10><a href="../../libstd/c_vec.rs.html#n127814">.as_slice</a></c10><c4>())</c4><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;952</ln><a id="952">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;953</ln><a id="953">&nbsp;</a><a id="n442435"><a id="n442437"><a id="n442438"><a id="n442436"><a id="n442434">&nbsp;</a></a></a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(())</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;954</ln><a id="954">&nbsp;</a><a id="n442501"><a id="n442440"><a id="n442439"><a id="n442498">&nbsp;</a></a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#954_20_refs">e</a></c20><c4>)</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;955</ln><a id="955">&nbsp;</a><a id="n442478"><a id="n442444"><a id="n442455"><a id="n442488"><a id="n442457"><a id="n442489"><a id="n442458"><a id="n442482"><a id="n442472"><a id="n442471"><a id="n442461"><a id="n442494"><a id="n442446"><a id="n442485"><a id="n442486"><a id="n442462"><a id="n442454"><a id="n442479"><a id="n442465"><a id="n442475"><a id="n442497"><a id="n442481"><a id="n442463"><a id="n442476"><a id="n442466"><a id="n442469"><a id="n442470"><a id="n442441"><a id="n442496"><a id="n442487"><a id="n442464"><a id="n442443"><a id="n442445"><a id="n442456"><a id="n442453"><a id="n442452"><a id="n442483"><a id="n442477"><a id="n442460"><a id="n442467"><a id="n442484"><a id="n442491"><a id="n442459"><a id="n442442"><a id="n442450"><a id="n442447"><a id="n442451"><a id="n442473"><a id="n442495"><a id="n442480"><a id="n442468"><a id="n442474">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c13><a href="#955_37_refs">"failed&nbsp;to&nbsp;write&nbsp;compressed&nbsp;bytecode:&nbsp;</a></c13><c3>{}</c3><c13><a href="#955_37_refs">"</a></c13><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#955">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;956</ln><a id="956">&nbsp;</a><a id="n442499"><a id="n442500">&nbsp;</a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;957</ln><a id="957">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;958</ln><a id="958">&nbsp;</a>&nbsp;<c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;959</ln><a id="959">&nbsp;</a><a id="n442504"><a id="n442507"><a id="n442508"><a id="n442505"><a id="n442509"><a id="n442506">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#890">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#116">.add_file</a></c13><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#116">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#945">bc_deflated</a></c26><c3>,</c3><c13><a href="../../librustc/back/archive.rs.html#116">&nbsp;</a></c13><c12><a href="#885_73_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;960</ln><a id="960">&nbsp;</a><a id="n442511"><a id="n442515"><a id="n442513"><a id="n442514"><a id="n442510"><a id="n442512">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#768">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c3>,</c3><c27><a href="#885_73_refs">&nbsp;</a></c27><c5><a href="#885_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#945">bc_deflated</a></c26><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;961</ln><a id="961">&nbsp;</a><a id="n442536"><a id="n442520"><a id="n442537"><a id="n442528"><a id="n442519"><a id="n442518"><a id="n442517"><a id="n442516">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#885_73_refs">&nbsp;</a></c13><c5><a href="#885_73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.save_temps</a></c24><c1><a href="#885_73_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;962</ln><a id="962">&nbsp;</a><a id="n442524"><a id="n442527"><a id="n442523"><a id="n442522"><a id="n442521"><a id="n442525"><a id="n442526"><a id="n442535">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#885_73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58073">.contains</a></c10><c4>(</c4><c5><a href="#885_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c26><c4>)</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;963</ln><a id="963">&nbsp;</a><a id="n442532"><a id="n442529"><a id="n442531"><a id="n442534"><a id="n442533"><a id="n442530">&nbsp;</a></a></a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#768">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c3>,</c3><c27><a href="#885_73_refs">&nbsp;</a></c27><c5><a href="#885_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#944">bc</a></c26><c4>)</c4><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;964</ln><a id="964">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;965</ln><a id="965">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;966</ln><a id="966">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;After&nbsp;adding&nbsp;all&nbsp;files&nbsp;to&nbsp;the&nbsp;archive,&nbsp;we&nbsp;need&nbsp;to&nbsp;update&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;967</ln><a id="967">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbol&nbsp;table&nbsp;of&nbsp;the&nbsp;archive.&nbsp;This&nbsp;currently&nbsp;dies&nbsp;on&nbsp;OSX&nbsp;(see
</c40><br/><ln>&nbsp;&nbsp;968</ln><a id="968">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#11162),&nbsp;and&nbsp;isn't&nbsp;necessary&nbsp;there&nbsp;anyway
</c40><br/><ln>&nbsp;&nbsp;969</ln><a id="969">&nbsp;</a><a id="n442540"><a id="n442541"><a id="n442539"><a id="n442551">&nbsp;</a></a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#885_73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#886">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;970</ln><a id="970">&nbsp;</a><a id="n442544"><a id="n442543"><a id="n442542">&nbsp;</a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14690">abi::OsMacos</a></c20><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;971</ln><a id="971">&nbsp;</a><a id="n442546"><a id="n442547"><a id="n442545"><a id="n442550"><a id="n442548"><a id="n442549">&nbsp;</a></a></a></a></a></a><c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#885_73_refs">_</a></c20><c21><a href="#885_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#885_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#885_73_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#890">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#127">.update_symbols</a></c13><c4>()</c4><c3>;</c3><c22><a href="#885_73_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#885_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;972</ln><a id="972">&nbsp;</a>&nbsp;<c21><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;973</ln><a id="973">&nbsp;</a>&nbsp;<c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;974</ln><a id="974">&nbsp;</a>&nbsp;<c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;975</ln><a id="975">&nbsp;</a><a id="n442554"><a id="n442553"><a id="n442555">&nbsp;</a></a></a><c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c13><a href="#885_73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#885_73_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#885_73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;976</ln><a id="976">&nbsp;</a>&nbsp;<c13><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;977</ln><a id="977">&nbsp;</a><a id="n442560"><a id="n442558"><a id="n442559">&nbsp;</a></a></a><c22><a href="#885_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#885_73_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#890">a</a></c26><c3>;</c3><c22><a href="#885_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;978</ln><a id="978">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;979</ln><a id="979">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;980</ln><a id="980">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;a&nbsp;static&nbsp;archive
</c40><br/><ln>&nbsp;&nbsp;981</ln><a id="981">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;982</ln><a id="982">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;is&nbsp;essentially&nbsp;the&nbsp;same&nbsp;thing&nbsp;as&nbsp;an&nbsp;rlib,&nbsp;but&nbsp;it&nbsp;also&nbsp;involves&nbsp;adding
</c40><br/><ln>&nbsp;&nbsp;983</ln><a id="983">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;upstream&nbsp;crates'&nbsp;objects&nbsp;into&nbsp;the&nbsp;archive.&nbsp;This&nbsp;will&nbsp;slurp&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;984</ln><a id="984">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries&nbsp;of&nbsp;upstream&nbsp;dependencies&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;&nbsp;985</ln><a id="985">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;986</ln><a id="986">&nbsp;</a>&nbsp;<c40>//&nbsp;Additionally,&nbsp;there's&nbsp;no&nbsp;way&nbsp;for&nbsp;us&nbsp;to&nbsp;link&nbsp;dynamic&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;warn
</c40><br/><ln>&nbsp;&nbsp;987</ln><a id="987">&nbsp;</a>&nbsp;<c40>//&nbsp;about&nbsp;all&nbsp;dynamic&nbsp;library&nbsp;dependencies&nbsp;that&nbsp;they're&nbsp;not&nbsp;linked&nbsp;in.
</c40><br/><ln>&nbsp;&nbsp;988</ln><a id="988">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;989</ln><a id="989">&nbsp;</a>&nbsp;<c40>//&nbsp;There's&nbsp;no&nbsp;need&nbsp;to&nbsp;include&nbsp;metadata&nbsp;in&nbsp;a&nbsp;static&nbsp;archive,&nbsp;so&nbsp;ensure&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;990</ln><a id="990">&nbsp;</a>&nbsp;<c40>//&nbsp;link&nbsp;in&nbsp;the&nbsp;metadata&nbsp;object&nbsp;file&nbsp;(and&nbsp;also&nbsp;don't&nbsp;prepare&nbsp;the&nbsp;archive&nbsp;with&nbsp;a
</c40><br/><ln>&nbsp;&nbsp;991</ln><a id="991">&nbsp;</a><a id="n442562">&nbsp;</a><c40>//&nbsp;metadata&nbsp;file).
</c40><br/><ln>&nbsp;&nbsp;992</ln><a id="992">&nbsp;</a><a id="n442575"><a id="n442572"><a id="n442565"><a id="n442567"><a id="n442570"><a id="n442571"><a id="n442578"><a id="n442607"><a id="n442576"><a id="n442577"><a id="n442566">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#991_19_refs">&nbsp;link_staticlib</a></c30><c4>(</c4><c20><a href="#992_18_refs">sess</a></c20><c1><a href="#991_19_refs">:&nbsp;</a></c1><c8><a href="#991_19_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#991_19_refs">&nbsp;</a></c1><c20><a href="#992_34_refs">obj_filename</a></c20><c1><a href="#991_19_refs">:&nbsp;</a></c1><c8><a href="#991_19_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#991_19_refs">&nbsp;</a></c1><c20><a href="#992_55_refs">out_filename</a></c20><c1><a href="#991_19_refs">:&nbsp;</a></c1><c8><a href="#991_19_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#991_19_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;993</ln><a id="993">&nbsp;</a><a id="n442579"><a id="n442583"><a id="n442584"><a id="n442585"><a id="n442582"><a id="n442586"><a id="n442581"><a id="n442580"><a id="n442587"><a id="n442588">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#991_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#991_19_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#993_8_refs">&nbsp;a</a></c20><c13><a href="#991_19_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#885">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c3>,</c3><c27><a href="#991_19_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c3>,</c3><c27><a href="#991_19_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#992">obj_filename</a></c26><c3>,</c3><c27><a href="#991_19_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#992">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;994</ln><a id="994">&nbsp;</a><a id="n442590"><a id="n442593"><a id="n442591"><a id="n442592"><a id="n442589">&nbsp;</a></a></a></a></a><c22><a href="#991_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#993">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c12><a href="../../librustc/back/archive.rs.html#94">"morestack"</a></c12><c4>)</c4><c10><a href="../../libstd/result.rs.html#n106238">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;995</ln><a id="995">&nbsp;</a><a id="n442596"><a id="n442594"><a id="n442598"><a id="n442595"><a id="n442597">&nbsp;</a></a></a></a></a><c22><a href="#991_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#993">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c12><a href="../../librustc/back/archive.rs.html#94">"compiler-rt"</a></c12><c4>)</c4><c10><a href="../../libstd/result.rs.html#n106238">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;996</ln><a id="996">&nbsp;</a>&nbsp;<c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;997</ln><a id="997">&nbsp;</a><a id="n442600"><a id="n442599"><a id="n442604"><a id="n442605"><a id="n442603"><a id="n442602"><a id="n442606"><a id="n442601">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#991_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#991_19_refs">&nbsp;</a></c22><c20><a href="#997_8_refs">crates</a></c20><c13><a href="#991_19_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#991_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;998</ln><a id="998">&nbsp;</a><a id="n442838"><a id="n442837"><a id="n442619"><a id="n442840"><a id="n442616"><a id="n442839"><a id="n442610"><a id="n442620"><a id="n442608"><a id="n442618"><a id="n442614"><a id="n442617"><a id="n442612"><a id="n442613"><a id="n442615"><a id="n442726"><a id="n442609"><a id="n442611"><a id="n442621">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#991_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c20><a href="../../libstd/slice.rs.html#n54616">&amp;</a></c20><c4>(</c4><c20><a href="#998_10_refs">cnum</a></c20><c3>,</c3><c20><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c20><c20><a href="#998_16_refs">ref&nbsp;path</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#997">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;&nbsp;999</ln><a id="999">&nbsp;</a><a id="n442622"><a id="n442627"><a id="n442630"><a id="n442623"><a id="n442629"><a id="n442626"><a id="n442624"><a id="n442631"><a id="n442625"><a id="n442628">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c22><c20><a href="#999_12_refs">name</a></c20><c13><a href="../../libstd/slice.rs.html#n54616">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#998">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1000</ln><a id="1000">&nbsp;</a><a id="n442634"><a id="n442636"><a id="n442632"><a id="n442633"><a id="n442706"><a id="n442635"><a id="n442705">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c22><c20><a href="#1000_12_refs">p</a></c20><c13><a href="../../libstd/slice.rs.html#n54616">&nbsp;=&nbsp;</a></c13><c21><a href="../../libstd/slice.rs.html#n54616">match&nbsp;</a></c21><c5><a href="../../libstd/slice.rs.html#n54616">*</a></c5><c26><a href="../../librustc/back/link.rs.html#998">path</a></c26><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/slice.rs.html#n54616">
</a></c21><br/><ln>&nbsp;1001</ln><a id="1001">&nbsp;</a><a id="n442637"><a id="n442639"><a id="n442704"><a id="n442641"><a id="n442640"><a id="n442702"><a id="n442638">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#1001_17_refs">ref&nbsp;p</a></c20><c4>)</c4><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1001">p</a></c26><c10><a href="../../libstd/path/posix.rs.html#n149401">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1002</ln><a id="1002">&nbsp;</a><a id="n442652"><a id="n442654"><a id="n442684"><a id="n442699"><a id="n442701"><a id="n442672"><a id="n442666"><a id="n442682"><a id="n442671"><a id="n442678"><a id="n442661"><a id="n442669"><a id="n442663"><a id="n442645"><a id="n442660"><a id="n442677"><a id="n442667"><a id="n442692"><a id="n442647"><a id="n442659"><a id="n442670"><a id="n442685"><a id="n442675"><a id="n442646"><a id="n442676"><a id="n442673"><a id="n442653"><a id="n442690"><a id="n442643"><a id="n442642"><a id="n442683"><a id="n442657"><a id="n442698"><a id="n442688"><a id="n442668"><a id="n442651"><a id="n442662"><a id="n442693"><a id="n442686"><a id="n442656"><a id="n442687"><a id="n442674"><a id="n442681"><a id="n442691"><a id="n442664"><a id="n442695"><a id="n442680"><a id="n442644"><a id="n442689"><a id="n442700"><a id="n442665"><a id="n442679"><a id="n442658"><a id="n442655"><a id="n442648">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="../../libstd/slice.rs.html#n54616">format!</a></c21><c4>(</c4><c1><a href="#1002_33_refs">"could&nbsp;not&nbsp;find&nbsp;rlib&nbsp;for:&nbsp;`</a></c1><c3>{}</c3><c1><a href="#1002_33_refs">`"</a></c1><c3>,</c3><c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#999">name</a></c27><c4>))</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1003</ln><a id="1003">&nbsp;</a>&nbsp;<c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue
</a></c22><br/><ln>&nbsp;1004</ln><a id="1004">&nbsp;</a><a id="n442703">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n54616">
</a></c21><br/><ln>&nbsp;1005</ln><a id="1005">&nbsp;</a>&nbsp;<c21><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1006</ln><a id="1006">&nbsp;</a><a id="n442710"><a id="n442708"><a id="n442709"><a id="n442707"><a id="n442712"><a id="n442711"><a id="n442714"><a id="n442713"><a id="n442715">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#993">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#104">.add_rlib</a></c10><c4>(</c4><c5><a href="../../libstd/result.rs.html#n106238">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1000">p</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#104">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#999">name</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#104">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#311">.lto</a></c10><c4>())</c4><c13><a href="../../libstd/result.rs.html#n106238">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1007</ln><a id="1007">&nbsp;</a><a id="n442725"><a id="n442718"><a id="n442717"><a id="n442724"><a id="n442720"><a id="n442722"><a id="n442716"><a id="n442723"><a id="n442721"><a id="n442719">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c22><c20><a href="#1007_12_refs">native_libs</a></c20><c16><a href="../../libstd/slice.rs.html#n54616">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/metadata/csearch.rs.html#240">csearch::get_native_libraries</a></c26><c4>(</c4><c5><a href="../../libstd/slice.rs.html#n54616">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#998">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n54616">
</a></c22><br/><ln>&nbsp;1008</ln><a id="1008">&nbsp;</a><a id="n442731"><a id="n442728"><a id="n442734"><a id="n442737"><a id="n442834"><a id="n442729"><a id="n442740"><a id="n442735"><a id="n442832"><a id="n442836"><a id="n442833"><a id="n442738"><a id="n442835"><a id="n442730"><a id="n442727"><a id="n442739"><a id="n442733"><a id="n442736"><a id="n442732">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1008">&nbsp;</a></c26><c20><a href="#1008_8_refs">&amp;</a></c20><c4>(</c4><c20><a href="#1008_14_refs">kind</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c20><a href="#1008_20_refs">ref&nbsp;lib</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#1008">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1007">native_libs</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1008">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1009</ln><a id="1009">&nbsp;</a><a id="n442741"><a id="n442752"><a id="n442742"><a id="n442744"><a id="n442743"><a id="n442751">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#1009_16_refs">name</a></c20><c13><a href="../../libstd/option.rs.html#n103652">&nbsp;=&nbsp;</a></c13><c21><a href="../../libstd/option.rs.html#n103652">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1008">kind</a></c26><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;1010</ln><a id="1010">&nbsp;</a><a id="n442745"><a id="n442746">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n103652">"</a></c12><c36>static</c36><c36><a href="../../libstd/option.rs.html#n103652">&nbsp;library"</a></c36><c36>,</c36><c36><a href="../../libstd/option.rs.html#n103652">
</a></c36><br/><ln>&nbsp;1011</ln><a id="1011">&nbsp;</a><a id="n442748"><a id="n442747">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n103652">"library"</a></c12><c3>,</c3><c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;1012</ln><a id="1012">&nbsp;</a><a id="n442749"><a id="n442750">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n103652">"framework"</a></c12><c3>,</c3><c21><a href="../../libstd/option.rs.html#n103652">
</a></c21><br/><ln>&nbsp;1013</ln><a id="1013">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n103652">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1014</ln><a id="1014">&nbsp;</a><a id="n442786"><a id="n442771"><a id="n442757"><a id="n442761"><a id="n442759"><a id="n442774"><a id="n442789"><a id="n442805"><a id="n442787"><a id="n442760"><a id="n442813"><a id="n442802"><a id="n442778"><a id="n442810"><a id="n442779"><a id="n442793"><a id="n442795"><a id="n442821"><a id="n442783"><a id="n442798"><a id="n442806"><a id="n442812"><a id="n442801"><a id="n442830"><a id="n442775"><a id="n442755"><a id="n442773"><a id="n442792"><a id="n442767"><a id="n442815"><a id="n442790"><a id="n442769"><a id="n442823"><a id="n442781"><a id="n442753"><a id="n442829"><a id="n442797"><a id="n442754"><a id="n442758"><a id="n442796"><a id="n442828"><a id="n442788"><a id="n442800"><a id="n442817"><a id="n442807"><a id="n442780"><a id="n442818"><a id="n442791"><a id="n442820"><a id="n442782"><a id="n442814"><a id="n442770"><a id="n442808"><a id="n442816"><a id="n442831"><a id="n442772"><a id="n442756"><a id="n442762"><a id="n442819"><a id="n442803"><a id="n442785"><a id="n442811"><a id="n442822"><a id="n442825"><a id="n442776"><a id="n442777"><a id="n442799"><a id="n442804"><a id="n442794"><a id="n442784"><a id="n442809"><a id="n442763"><a id="n442768"><a id="n442766">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#992">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#226">.warn</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#226">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164596">"unlinked&nbsp;native&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164596">:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164596">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#226">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1014">name</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#226">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#1014">*</a></c27><c26><a href="../../librustc/back/link.rs.html#1008">lib</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1015</ln><a id="1015">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1008">
</a></c26><br/><ln>&nbsp;1016</ln><a id="1016">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1008">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c3>}</c3><c20><a href="../../libstd/option.rs.html#n103656">
</a></c20><br/><ln>&nbsp;1017</ln><a id="1017">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1018</ln><a id="1018">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1019</ln><a id="1019">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;a&nbsp;dynamic&nbsp;library&nbsp;or&nbsp;executable
</c40><br/><ln>&nbsp;1020</ln><a id="1020">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1021</ln><a id="1021">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;will&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker/cc&nbsp;to&nbsp;create&nbsp;the&nbsp;resulting&nbsp;file.&nbsp;This
</c40><br/><ln>&nbsp;1022</ln><a id="1022">&nbsp;</a><a id="n442841">&nbsp;</a><c40>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1023</ln><a id="1023">&nbsp;</a><a id="n442845"><a id="n442844"><a id="n442854"><a id="n442853"><a id="n442850"><a id="n442855"><a id="n442846"><a id="n442849">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1022_40_refs">&nbsp;link_natively</a></c30><c4>(</c4><c20><a href="#1023_17_refs">sess</a></c20><c1><a href="#1022_40_refs">:&nbsp;</a></c1><c8><a href="#1022_40_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1022_40_refs">&nbsp;</a></c1><c20><a href="#1023_33_refs">dylib</a></c20><c1><a href="#1022_40_refs">:&nbsp;</a></c1><c8><a href="#1022_40_refs">bool</a></c8><c3>,</c3><c1><a href="#1022_40_refs">&nbsp;</a></c1><c20><a href="#1023_46_refs">obj_filename</a></c20><c1><a href="#1022_40_refs">:&nbsp;</a></c1><c8><a href="#1022_40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#1022_40_refs">
</a></c1><br/><ln>&nbsp;1024</ln><a id="1024">&nbsp;</a><a id="n443415"><a id="n442861"><a id="n442860"><a id="n442858"><a id="n442859">&nbsp;</a></a></a></a></a><c1><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1024_17_refs">out_filename</a></c20><c1><a href="#1022_40_refs">:&nbsp;</a></c1><c8><a href="#1022_40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#1022_40_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1025</ln><a id="1025">&nbsp;</a><a id="n442869"><a id="n442868"><a id="n442862"><a id="n442863"><a id="n442865"><a id="n442867"><a id="n442866"><a id="n442864"><a id="n442870">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1022_40_refs">&nbsp;</a></c22><c20><a href="#1025_8_refs">tmpdir</a></c20><c13><a href="#1022_40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/io/tempfile.rs.html#n134059">TempDir::new</a></c26><c4>(</c4><c12><a href="../../libstd/option.rs.html#n104363">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n104363">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n104363">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1026</ln><a id="1026">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;invocations&nbsp;of&nbsp;cc&nbsp;share&nbsp;some&nbsp;flags&nbsp;across&nbsp;platforms
</c40><br/><ln>&nbsp;1027</ln><a id="1027">&nbsp;</a><a id="n442877"><a id="n442873"><a id="n442872"><a id="n442875"><a id="n442876"><a id="n442874"><a id="n442871">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1022_40_refs">&nbsp;</a></c22><c20><a href="#1027_8_refs">cc_prog</a></c20><c16><a href="#1022_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#722">get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1028</ln><a id="1028">&nbsp;</a><a id="n442886"><a id="n442884"><a id="n442883"><a id="n442882"><a id="n442880"><a id="n442885"><a id="n442879"><a id="n442881"><a id="n442878">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1022_40_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1028_8_refs">&nbsp;cc_args</a></c20><c16><a href="#1022_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#18">.cc_args</a></c24><c10><a href="../../libstd/vec.rs.html#n56418">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1029</ln><a id="1029">&nbsp;</a><a id="n442897"><a id="n442888"><a id="n442887"><a id="n442889"><a id="n442892"><a id="n442895"><a id="n442891"><a id="n442896"><a id="n442890">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1028">cc_args</a></c26><c10><a href="../../libstd/vec.rs.html#n57699">.push_all_move</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1074">link_args</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1023">dylib</a></c26><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1025">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n134091">.path</a></c10><c4>()</c4><c3>,</c3><c27><a href="#1022_40_refs">
</a></c27><br/><ln>&nbsp;1030</ln><a id="1030">&nbsp;</a><a id="n442893"><a id="n442894">&nbsp;</a></a><c27><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1023">obj_filename</a></c26><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1024">out_filename</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1031</ln><a id="1031">&nbsp;</a><a id="n442901"><a id="n442903"><a id="n442985"><a id="n442984"><a id="n442900"><a id="n442905"><a id="n442902"><a id="n442898"><a id="n442986"><a id="n442904"><a id="n442899">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1022_40_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#149">.debugging_opts</a></c24><c5><a href="#1022_40_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#46">session::PRINT_LINK_ARGS</a></c26><c4>)</c4><c5><a href="#1022_40_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#1022_40_refs">0</a></c12><c13><a href="#1022_40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1032</ln><a id="1032">&nbsp;</a><a id="n442929"><a id="n442969"><a id="n442982"><a id="n442965"><a id="n442954"><a id="n442933"><a id="n442974"><a id="n442924"><a id="n442972"><a id="n442975"><a id="n442930"><a id="n442940"><a id="n442914"><a id="n442926"><a id="n442944"><a id="n442963"><a id="n442912"><a id="n442956"><a id="n442931"><a id="n442943"><a id="n442949"><a id="n442925"><a id="n442964"><a id="n442973"><a id="n442937"><a id="n442952"><a id="n442961"><a id="n442921"><a id="n442951"><a id="n442938"><a id="n442911"><a id="n442908"><a id="n442932"><a id="n442942"><a id="n442910"><a id="n442971"><a id="n442948"><a id="n442947"><a id="n442960"><a id="n442939"><a id="n442934"><a id="n442953"><a id="n442967"><a id="n442907"><a id="n442955"><a id="n442983"><a id="n442936"><a id="n442976"><a id="n442916"><a id="n442981"><a id="n442970"><a id="n442909"><a id="n442950"><a id="n442935"><a id="n442920"><a id="n442946"><a id="n442959"><a id="n442941"><a id="n442913"><a id="n442978"><a id="n442962"><a id="n442968"><a id="n442915"><a id="n442928"><a id="n442906"><a id="n442923"><a id="n442922"><a id="n442957"><a id="n442945"><a id="n442966"><a id="n442927"><a id="n442919"><a id="n442958">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</a></c22><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164596">"</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164596">&nbsp;link&nbsp;args:&nbsp;'</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164596">'"</a></c8><c3>,</c3><c22><a href="#1022_40_refs">&nbsp;</a></c22><c27><a href="../../librustc/back/link.rs.html#1032">cc_prog</a></c27><c3>,</c3><c22><a href="#1022_40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1028">cc_args</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n166625">.connect</a></c27><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n165026">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1033</ln><a id="1033">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1034</ln><a id="1034">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1035</ln><a id="1035">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;May&nbsp;have&nbsp;not&nbsp;found&nbsp;libraries&nbsp;in&nbsp;the&nbsp;right&nbsp;formats.
</c40><br/><ln>&nbsp;1036</ln><a id="1036">&nbsp;</a><a id="n442989"><a id="n442988"><a id="n442987">&nbsp;</a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1037</ln><a id="1037">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1038</ln><a id="1038">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Invoke&nbsp;the&nbsp;system&nbsp;linker
</c40><br/><ln>&nbsp;1039</ln><a id="1039">&nbsp;</a><a id="n443083"><a id="n443058"><a id="n443061"><a id="n443023"><a id="n443028"><a id="n443030"><a id="n443059"><a id="n443071"><a id="n443084"><a id="n443086"><a id="n443065"><a id="n443068"><a id="n443076"><a id="n443066"><a id="n443039"><a id="n443089"><a id="n443082"><a id="n443051"><a id="n443042"><a id="n443049"><a id="n443043"><a id="n443070"><a id="n443048"><a id="n443026"><a id="n443074"><a id="n443060"><a id="n443022"><a id="n443063"><a id="n443087"><a id="n443038"><a id="n443053"><a id="n443067"><a id="n443025"><a id="n443050"><a id="n443047"><a id="n443024"><a id="n443055"><a id="n443088"><a id="n443036"><a id="n443045"><a id="n443062"><a id="n443040"><a id="n443069"><a id="n443032"><a id="n443079"><a id="n443075"><a id="n443052"><a id="n443073"><a id="n443072"><a id="n443077"><a id="n443081"><a id="n443029"><a id="n443085"><a id="n443064"><a id="n443105"><a id="n443057"><a id="n443080"><a id="n443041"><a id="n443056"><a id="n443046"><a id="n443102"><a id="n443054"><a id="n443027"><a id="n443035"><a id="n443037"><a id="n443031"><a id="n443078"><a id="n443044">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164654">&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c26><c3>,</c3><c22><a href="#1022_40_refs">&nbsp;</a></c22><c20><a href="#1039_20_refs">cc_prog</a></c20><c3>,</c3><c22><a href="#1022_40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1028">cc_args</a></c26><c5><a href="../../libstd/fmt/mod.rs.html#n166625">.connect</a></c5><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1039">"&nbsp;"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1040</ln><a id="1040">&nbsp;</a><a id="n443114"><a id="n443116"><a id="n443117"><a id="n443118"><a id="n443132"><a id="n443131"><a id="n443112"><a id="n443113"><a id="n443122"><a id="n443120"><a id="n443115"><a id="n443121"><a id="n443130"><a id="n443111">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1022_40_refs">&nbsp;</a></c22><c20><a href="#1040_8_refs">prog</a></c20><c16><a href="#1022_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c12><a href="#1022_40_refs">"running&nbsp;linker"</a></c12><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c1><a href="#1022_40_refs">|</a></c1><c4>()</c4><c8><a href="#1022_40_refs">|</a></c8><c1><a href="#1022_40_refs">
</a></c1><br/><ln>&nbsp;1041</ln><a id="1041">&nbsp;</a><a id="n443123"><a id="n443126"><a id="n443125"><a id="n443128"><a id="n443124"><a id="n443129"><a id="n443127">&nbsp;</a></a></a></a></a></a></a><c1><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../libstd/io/process.rs.html#n141104">Process</a></c8><c26><a href="../../libstd/io/process.rs.html#n141104">::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1027">cc_prog</a></c26><c3>,</c3><c27><a href="#1022_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1028">cc_args</a></c26><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1042</ln><a id="1042">&nbsp;</a><a id="n443413"><a id="n443414"><a id="n443133">&nbsp;</a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#1022_40_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1040">prog</a></c26><c13><a href="#1022_40_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#1022_40_refs">
</a></c13><br/><ln>&nbsp;1043</ln><a id="1043">&nbsp;</a><a id="n443134"><a id="n443135"><a id="n443136"><a id="n443327">&nbsp;</a></a></a></a><c13><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="#1043_11_refs">prog</a></c20><c4>)</c4><c13><a href="#1022_40_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1022_40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1044</ln><a id="1044">&nbsp;</a><a id="n443325"><a id="n443140"><a id="n443139"><a id="n443326"><a id="n443137"><a id="n443138">&nbsp;</a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1022_40_refs">&nbsp;</a></c21><c5><a href="#1022_40_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1043">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n141013">.success</a></c10><c4>()</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1045</ln><a id="1045">&nbsp;</a><a id="n443189"><a id="n443209"><a id="n443178"><a id="n443179"><a id="n443175"><a id="n443166"><a id="n443173"><a id="n443167"><a id="n443172"><a id="n443181"><a id="n443210"><a id="n443194"><a id="n443200"><a id="n443149"><a id="n443217"><a id="n443207"><a id="n443216"><a id="n443187"><a id="n443159"><a id="n443202"><a id="n443186"><a id="n443161"><a id="n443150"><a id="n443144"><a id="n443146"><a id="n443192"><a id="n443170"><a id="n443141"><a id="n443208"><a id="n443213"><a id="n443198"><a id="n443203"><a id="n443188"><a id="n443177"><a id="n443176"><a id="n443205"><a id="n443184"><a id="n443196"><a id="n443191"><a id="n443171"><a id="n443169"><a id="n443160"><a id="n443197"><a id="n443163"><a id="n443145"><a id="n443182"><a id="n443168"><a id="n443201"><a id="n443174"><a id="n443183"><a id="n443206"><a id="n443155"><a id="n443195"><a id="n443156"><a id="n443164"><a id="n443154"><a id="n443158"><a id="n443148"><a id="n443165"><a id="n443151"><a id="n443185"><a id="n443219"><a id="n443147"><a id="n443190"><a id="n443204"><a id="n443143"><a id="n443199"><a id="n443157"><a id="n443142"><a id="n443162"><a id="n443193"><a id="n443218"><a id="n443180"><a id="n443211">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="#1022_40_refs">format!</a></c21><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n164654">"linking&nbsp;with&nbsp;`</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164654">`&nbsp;failed:&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c22><c3>,</c3><c21><a href="#1022_40_refs">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#1027">cc_prog</a></c27><c3>,</c3><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1043">prog</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.status</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1046</ln><a id="1046">&nbsp;</a><a id="n443258"><a id="n443229"><a id="n443246"><a id="n443263"><a id="n443222"><a id="n443220"><a id="n443273"><a id="n443262"><a id="n443255"><a id="n443289"><a id="n443288"><a id="n443221"><a id="n443249"><a id="n443226"><a id="n443237"><a id="n443252"><a id="n443247"><a id="n443266"><a id="n443227"><a id="n443261"><a id="n443291"><a id="n443296"><a id="n443276"><a id="n443268"><a id="n443230"><a id="n443256"><a id="n443267"><a id="n443244"><a id="n443240"><a id="n443287"><a id="n443253"><a id="n443231"><a id="n443293"><a id="n443282"><a id="n443275"><a id="n443299"><a id="n443225"><a id="n443259"><a id="n443286"><a id="n443248"><a id="n443250"><a id="n443260"><a id="n443242"><a id="n443235"><a id="n443279"><a id="n443265"><a id="n443272"><a id="n443290"><a id="n443228"><a id="n443257"><a id="n443251"><a id="n443269"><a id="n443271"><a id="n443264"><a id="n443274"><a id="n443254"><a id="n443297"><a id="n443238"><a id="n443280"><a id="n443241"><a id="n443243"><a id="n443236"><a id="n443239"><a id="n443277"><a id="n443234"><a id="n443270"><a id="n443283"><a id="n443298"><a id="n443223"><a id="n443224"><a id="n443284"><a id="n443285"><a id="n443245"><a id="n443281"><a id="n443278">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#238">.note</a></c10><c4>(</c4><c21><a href="#1022_40_refs">format!</a></c21><c4>(</c4><c1><a href="../../libstd/option.rs.html#n103652">"</a></c1><c3>{}</c3><c1><a href="../../libstd/option.rs.html#n103652">&nbsp;arguments:&nbsp;'</a></c1><c3>{}</c3><c1><a href="../../libstd/option.rs.html#n103652">'"</a></c1><c3>,</c3><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166625">cc_prog</a></c26><c3>,</c3><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1028">cc_args</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n166625">.connect</a></c27><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n166625">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1047</ln><a id="1047">&nbsp;</a><a id="n443306"><a id="n443302"><a id="n443300"><a id="n443303"><a id="n443304"><a id="n443305"><a id="n443301">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1022_40_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1047_20_refs">&nbsp;output</a></c20><c16><a href="#1022_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1043">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.error</a></c24><c10><a href="../../libstd/vec.rs.html#n56418">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1048</ln><a id="1048">&nbsp;</a><a id="n443311"><a id="n443310"><a id="n443309"><a id="n443307"><a id="n443312"><a id="n443308">&nbsp;</a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1047">output</a></c26><c13><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1043">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n140630">.output</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1049</ln><a id="1049">&nbsp;</a><a id="n443315"><a id="n443318"><a id="n443319"><a id="n443320"><a id="n443317"><a id="n443316"><a id="n443313"><a id="n443321"><a id="n443314">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#238">.note</a></c13><c4>(</c4><c26><a href="../../libstd/str.rs.html#n58530">str::from_utf8</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1047">output</a></c26><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1050</ln><a id="1050">&nbsp;</a><a id="n443323"><a id="n443322"><a id="n443324">&nbsp;</a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1051</ln><a id="1051">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1052</ln><a id="1052">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c13><a href="#1022_40_refs">
</a></c13><br/><ln>&nbsp;1053</ln><a id="1053">&nbsp;</a><a id="n443329"><a id="n443328"><a id="n443412"><a id="n443411">&nbsp;</a></a></a></a><c13><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#1053_12_refs">e</a></c20><c4>)</c4><c13><a href="#1022_40_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1022_40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1054</ln><a id="1054">&nbsp;</a><a id="n443331"><a id="n443392"><a id="n443365"><a id="n443376"><a id="n443399"><a id="n443382"><a id="n443342"><a id="n443380"><a id="n443343"><a id="n443375"><a id="n443397"><a id="n443359"><a id="n443404"><a id="n443406"><a id="n443355"><a id="n443353"><a id="n443388"><a id="n443401"><a id="n443344"><a id="n443369"><a id="n443333"><a id="n443371"><a id="n443349"><a id="n443361"><a id="n443394"><a id="n443332"><a id="n443385"><a id="n443335"><a id="n443396"><a id="n443348"><a id="n443366"><a id="n443362"><a id="n443390"><a id="n443358"><a id="n443351"><a id="n443384"><a id="n443374"><a id="n443363"><a id="n443356"><a id="n443338"><a id="n443373"><a id="n443383"><a id="n443345"><a id="n443368"><a id="n443339"><a id="n443395"><a id="n443347"><a id="n443370"><a id="n443372"><a id="n443334"><a id="n443350"><a id="n443330"><a id="n443381"><a id="n443379"><a id="n443336"><a id="n443352"><a id="n443377"><a id="n443386"><a id="n443337"><a id="n443364"><a id="n443354"><a id="n443357"><a id="n443389"><a id="n443398"><a id="n443407"><a id="n443391"><a id="n443393"><a id="n443387"><a id="n443378"><a id="n443367"><a id="n443405"><a id="n443346"><a id="n443360">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n164654">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164654">`:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c12><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166625">cc_prog</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c20><a href="#1054_76_refs">e</a></c20><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1055</ln><a id="1055">&nbsp;</a><a id="n443410"><a id="n443409"><a id="n443408">&nbsp;</a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1056</ln><a id="1056">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#1022_40_refs">
</a></c13><br/><ln>&nbsp;1057</ln><a id="1057">&nbsp;</a>&nbsp;<c13><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1058</ln><a id="1058">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1059</ln><a id="1059">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1060</ln><a id="1060">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;OSX,&nbsp;debuggers&nbsp;need&nbsp;this&nbsp;utility&nbsp;to&nbsp;get&nbsp;run&nbsp;to&nbsp;do&nbsp;some&nbsp;munging&nbsp;of
</c40><br/><ln>&nbsp;1061</ln><a id="1061">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;symbols
</c40><br/><ln>&nbsp;1062</ln><a id="1062">&nbsp;</a><a id="n443425"><a id="n443422"><a id="n443420"><a id="n443416"><a id="n443417"><a id="n443421"><a id="n443423"><a id="n443428"><a id="n443505"><a id="n443419"><a id="n443426"><a id="n443427"><a id="n443424"><a id="n443418">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1022_40_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14690">abi::OsMacos</a></c26><c1><a href="#1022_40_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#131">.debuginfo</a></c24><c5><a href="#1022_40_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#118">NoDebugInfo</a></c26><c4>)</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1063</ln><a id="1063">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1064</ln><a id="1064">&nbsp;</a><a id="n443436"><a id="n443430"><a id="n443429"><a id="n443504">&nbsp;</a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n141135">Process::status</a></c26><c4>(</c4><c12><a href="#1022_40_refs">"dsymutil"</a></c12><c3>,</c3><c27><a href="#1022_40_refs">
</a></c27><br/><ln>&nbsp;1065</ln><a id="1065">&nbsp;</a><a id="n443433"><a id="n443432"><a id="n443434"><a id="n443431"><a id="n443435">&nbsp;</a></a></a></a></a><c27><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#1024">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1022_40_refs">
</a></c21><br/><ln>&nbsp;1066</ln><a id="1066">&nbsp;</a><a id="n443438"><a id="n443437"><a id="n443439">&nbsp;</a></a></a><c21><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105112">..</a></c20><c4>)</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#1022_40_refs">
</a></c21><br/><ln>&nbsp;1067</ln><a id="1067">&nbsp;</a><a id="n443503"><a id="n443502"><a id="n443440"><a id="n443441">&nbsp;</a></a></a></a><c21><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#1067_16_refs">e</a></c20><c4>)</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1022_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1068</ln><a id="1068">&nbsp;</a><a id="n443472"><a id="n443481"><a id="n443444"><a id="n443463"><a id="n443446"><a id="n443448"><a id="n443495"><a id="n443459"><a id="n443483"><a id="n443489"><a id="n443471"><a id="n443496"><a id="n443453"><a id="n443467"><a id="n443458"><a id="n443474"><a id="n443451"><a id="n443479"><a id="n443468"><a id="n443498"><a id="n443470"><a id="n443447"><a id="n443456"><a id="n443454"><a id="n443464"><a id="n443477"><a id="n443462"><a id="n443485"><a id="n443473"><a id="n443445"><a id="n443466"><a id="n443480"><a id="n443461"><a id="n443492"><a id="n443469"><a id="n443452"><a id="n443482"><a id="n443487"><a id="n443486"><a id="n443442"><a id="n443460"><a id="n443497"><a id="n443476"><a id="n443490"><a id="n443484"><a id="n443488"><a id="n443455"><a id="n443457"><a id="n443465"><a id="n443478"><a id="n443443"><a id="n443475">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="#1022_40_refs">format!</a></c21><c4>(</c4><c16><a href="../../libstd/option.rs.html#n103652">"failed&nbsp;to&nbsp;run&nbsp;dsymutil:&nbsp;</a></c16><c3>{}</c3><c16><a href="../../libstd/option.rs.html#n103652">"</a></c16><c3>,</c3><c21><a href="#1022_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1068">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1069</ln><a id="1069">&nbsp;</a><a id="n443499"><a id="n443501"><a id="n443500">&nbsp;</a></a></a><c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1070</ln><a id="1070">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1022_40_refs">
</a></c21><br/><ln>&nbsp;1071</ln><a id="1071">&nbsp;</a>&nbsp;<c21><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1072</ln><a id="1072">&nbsp;</a>&nbsp;<c22><a href="#1022_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1022_40_refs">
</a></c22><br/><ln>&nbsp;1073</ln><a id="1073">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1074</ln><a id="1074">&nbsp;</a><a id="n443506">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1075</ln><a id="1075">&nbsp;</a><a id="n443510"><a id="n443509"><a id="n443511">&nbsp;</a></a></a><c30>fn</c30><c30><a href="#1074_1_refs">&nbsp;link_args</a></c30><c4>(</c4><c20><a href="#1075_13_refs">sess</a></c20><c1><a href="#1074_1_refs">:&nbsp;</a></c1><c8><a href="#1074_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1076</ln><a id="1076">&nbsp;</a><a id="n443514"><a id="n443515">&nbsp;</a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1076_13_refs">dylib</a></c20><c1><a href="#1074_1_refs">:&nbsp;</a></c1><c8><a href="#1074_1_refs">bool</a></c8><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1077</ln><a id="1077">&nbsp;</a><a id="n443518"><a id="n443519"><a id="n443520">&nbsp;</a></a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1077_13_refs">tmpdir</a></c20><c1><a href="#1074_1_refs">:&nbsp;</a></c1><c8><a href="#1074_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1078</ln><a id="1078">&nbsp;</a><a id="n443524"><a id="n443523"><a id="n443525">&nbsp;</a></a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1078_13_refs">obj_filename</a></c20><c1><a href="#1074_1_refs">:&nbsp;</a></c1><c8><a href="#1074_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1079</ln><a id="1079">&nbsp;</a><a id="n443533"><a id="n443529"><a id="n443822"><a id="n443532"><a id="n443530"><a id="n443528"><a id="n443535">&nbsp;</a></a></a></a></a></a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1079_13_refs">out_filename</a></c20><c1><a href="#1074_1_refs">:&nbsp;</a></c1><c8><a href="#1074_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#1074_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1074_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c8><a href="#1074_1_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c1><a href="#1074_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1080</ln><a id="1080">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1081</ln><a id="1081">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;default&nbsp;library&nbsp;location,&nbsp;we&nbsp;need&nbsp;this&nbsp;to&nbsp;find&nbsp;the&nbsp;runtime.
</c40><br/><ln>&nbsp;1082</ln><a id="1082">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;location&nbsp;of&nbsp;crates&nbsp;will&nbsp;be&nbsp;determined&nbsp;as&nbsp;needed.
</c40><br/><ln>&nbsp;1083</ln><a id="1083">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1084</ln><a id="1084">&nbsp;</a><a id="n443540"><a id="n443537"><a id="n443541"><a id="n443539"><a id="n443536"><a id="n443538"><a id="n443542">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1074_1_refs">&nbsp;</a></c22><c20><a href="#1084_8_refs">lib_path</a></c20><c13><a href="#1074_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#320">.filesearch</a></c10><c4>()</c4><c10><a href="../../librustc/metadata/filesearch.rs.html#83">.get_target_lib_path</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1085</ln><a id="1085">&nbsp;</a><a id="n443548"><a id="n443549"><a id="n443545"><a id="n443547"><a id="n443551"><a id="n443543"><a id="n443553"><a id="n443552"><a id="n443554"><a id="n443550"><a id="n443546">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1074_1_refs">&nbsp;</a></c22><c20><a href="#1085_8_refs">stage</a></c20><c13><a href="#1074_1_refs">:&nbsp;</a></c13><c8><a href="#1074_1_refs">~str</a></c8><c13><a href="#1074_1_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-L"</a></c12><c5><a href="#1074_1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1084">lib_path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1086</ln><a id="1086">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1087</ln><a id="1087">&nbsp;</a><a id="n443556"><a id="n443565"><a id="n443555"><a id="n443571"><a id="n443570"><a id="n443557">&nbsp;</a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1074_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1087_8_refs">&nbsp;args</a></c20><c13><a href="#1074_1_refs">&nbsp;=&nbsp;</a></c13><c22><a href="#1074_1_refs">vec!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1085">stage</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1088</ln><a id="1088">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1089</ln><a id="1089">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1090</ln><a id="1090">&nbsp;</a><a id="n443572"><a id="n443585"><a id="n443584"><a id="n443583">&nbsp;</a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c10><c4>(</c4><c3>[</c3><c1><a href="../../libstd/vec.rs.html#n56215">
</a></c1><br/><ln>&nbsp;1091</ln><a id="1091">&nbsp;</a><a id="n443575"><a id="n443578"><a id="n443573"><a id="n443574"><a id="n443576"><a id="n443577">&nbsp;</a></a></a></a></a></a><c1><a href="../../libstd/vec.rs.html#n56215">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-o"</a></c12><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56215">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1079">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56215">
</a></c1><br/><ln>&nbsp;1092</ln><a id="1092">&nbsp;</a><a id="n443581"><a id="n443582"><a id="n443580"><a id="n443579">&nbsp;</a></a></a></a><c1><a href="../../libstd/vec.rs.html#n56215">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1078">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1093</ln><a id="1093">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1094</ln><a id="1094">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Stack&nbsp;growth&nbsp;requires&nbsp;statically&nbsp;linking&nbsp;a&nbsp;__morestack&nbsp;function.&nbsp;Note
</c40><br/><ln>&nbsp;1095</ln><a id="1095">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;this&nbsp;is&nbsp;listed&nbsp;*before*&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;even&nbsp;though&nbsp;it&nbsp;may&nbsp;be
</c40><br/><ln>&nbsp;1096</ln><a id="1096">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;in&nbsp;other&nbsp;libraries.&nbsp;The&nbsp;only&nbsp;case&nbsp;that&nbsp;this
</c40><br/><ln>&nbsp;1097</ln><a id="1097">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;wouldn't&nbsp;be&nbsp;pulled&nbsp;in&nbsp;by&nbsp;the&nbsp;object&nbsp;file&nbsp;is&nbsp;if&nbsp;the&nbsp;object&nbsp;file&nbsp;had&nbsp;no
</c40><br/><ln>&nbsp;1098</ln><a id="1098">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;functions.
</c40><br/><ln>&nbsp;1099</ln><a id="1099">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1100</ln><a id="1100">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;building&nbsp;an&nbsp;executable,&nbsp;there&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;function&nbsp;(the
</c40><br/><ln>&nbsp;1101</ln><a id="1101">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;main&nbsp;function),&nbsp;and&nbsp;if&nbsp;we're&nbsp;building&nbsp;a&nbsp;dylib&nbsp;then&nbsp;we&nbsp;don't&nbsp;need&nbsp;it&nbsp;for
</c40><br/><ln>&nbsp;1102</ln><a id="1102">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;later&nbsp;libraries&nbsp;because&nbsp;they're&nbsp;all&nbsp;dylibs&nbsp;(not&nbsp;rlibs).
</c40><br/><ln>&nbsp;1103</ln><a id="1103">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1104</ln><a id="1104">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;I'm&nbsp;honestly&nbsp;not&nbsp;entirely&nbsp;sure&nbsp;why&nbsp;this&nbsp;needs&nbsp;to&nbsp;come&nbsp;first.&nbsp;Apparently
</c40><br/><ln>&nbsp;1105</ln><a id="1105">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;--as-needed&nbsp;flag&nbsp;above&nbsp;sometimes&nbsp;strips&nbsp;out&nbsp;libstd&nbsp;from&nbsp;the&nbsp;command
</c40><br/><ln>&nbsp;1106</ln><a id="1106">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;line,&nbsp;but&nbsp;inserting&nbsp;this&nbsp;farther&nbsp;to&nbsp;the&nbsp;left&nbsp;makes&nbsp;the
</c40><br/><ln>&nbsp;1107</ln><a id="1107">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;"rust_stack_exhausted"&nbsp;symbol&nbsp;an&nbsp;outstanding&nbsp;undefined&nbsp;symbol,&nbsp;which
</c40><br/><ln>&nbsp;1108</ln><a id="1108">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;flags&nbsp;libstd&nbsp;as&nbsp;a&nbsp;required&nbsp;library&nbsp;(or&nbsp;whatever&nbsp;provides&nbsp;the&nbsp;symbol).
</c40><br/><ln>&nbsp;1109</ln><a id="1109">&nbsp;</a><a id="n443590"><a id="n443589"><a id="n443588"><a id="n443586"><a id="n443587">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56958">"-lmorestack"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1110</ln><a id="1110">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1111</ln><a id="1111">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;linking&nbsp;a&nbsp;dynamic&nbsp;library,&nbsp;we&nbsp;put&nbsp;the&nbsp;metadata&nbsp;into&nbsp;a&nbsp;section&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1112</ln><a id="1112">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;executable.&nbsp;This&nbsp;metadata&nbsp;is&nbsp;in&nbsp;a&nbsp;separate&nbsp;object&nbsp;file&nbsp;from&nbsp;the&nbsp;main
</c40><br/><ln>&nbsp;1113</ln><a id="1113">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;object&nbsp;file,&nbsp;so&nbsp;we&nbsp;link&nbsp;that&nbsp;in&nbsp;here.
</c40><br/><ln>&nbsp;1114</ln><a id="1114">&nbsp;</a><a id="n443591"><a id="n443608"><a id="n443607"><a id="n443606">&nbsp;</a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1076">dylib</a></c26><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1115</ln><a id="1115">&nbsp;</a><a id="n443594"><a id="n443596"><a id="n443593"><a id="n443592"><a id="n443597"><a id="n443595"><a id="n443598">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1074_1_refs">&nbsp;</a></c22><c20><a href="#1115_12_refs">metadata</a></c20><c13><a href="#1074_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1078">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.with_extension</a></c10><c4>(</c4><c12><a href="#1074_1_refs">"metadata.o"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1116</ln><a id="1116">&nbsp;</a><a id="n443601"><a id="n443602"><a id="n443605"><a id="n443599"><a id="n443603"><a id="n443600"><a id="n443604">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1115">metadata</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1117</ln><a id="1117">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1118</ln><a id="1118">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1119</ln><a id="1119">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;want&nbsp;to&nbsp;prevent&nbsp;the&nbsp;compiler&nbsp;from&nbsp;accidentally&nbsp;leaking&nbsp;in&nbsp;any&nbsp;system
</c40><br/><ln>&nbsp;1120</ln><a id="1120">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;explicitly&nbsp;ask&nbsp;gcc&nbsp;to&nbsp;not&nbsp;link&nbsp;to&nbsp;any&nbsp;libraries&nbsp;by
</c40><br/><ln>&nbsp;1121</ln><a id="1121">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;default.&nbsp;Note&nbsp;that&nbsp;this&nbsp;does&nbsp;not&nbsp;happen&nbsp;for&nbsp;windows&nbsp;because&nbsp;windows&nbsp;pulls
</c40><br/><ln>&nbsp;1122</ln><a id="1122">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;in&nbsp;some&nbsp;large&nbsp;number&nbsp;of&nbsp;libraries&nbsp;and&nbsp;I&nbsp;couldn't&nbsp;quite&nbsp;figure&nbsp;out&nbsp;which
</c40><br/><ln>&nbsp;1123</ln><a id="1123">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;subset&nbsp;we&nbsp;wanted.
</c40><br/><ln>&nbsp;1124</ln><a id="1124">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1125</ln><a id="1125">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME(#11937)&nbsp;we&nbsp;should&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker&nbsp;directly
</c40><br/><ln>&nbsp;1126</ln><a id="1126">&nbsp;</a><a id="n443610"><a id="n443612"><a id="n443611"><a id="n443619"><a id="n443613"><a id="n443620"><a id="n443621"><a id="n443609">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14689">abi::OsWin32</a></c26><c13><a href="#1074_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1127</ln><a id="1127">&nbsp;</a><a id="n443616"><a id="n443617"><a id="n443618"><a id="n443615"><a id="n443614">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-nodefaultlibs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1128</ln><a id="1128">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1129</ln><a id="1129">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1130</ln><a id="1130">&nbsp;</a><a id="n443622"><a id="n443623"><a id="n443651"><a id="n443626"><a id="n443624"><a id="n443632"><a id="n443652"><a id="n443625">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14691">abi::OsLinux</a></c26><c13><a href="#1074_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1131</ln><a id="1131">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;will&nbsp;use&nbsp;this&nbsp;to&nbsp;omit&nbsp;linking&nbsp;to&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1132</ln><a id="1132">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;don't&nbsp;actually&nbsp;fulfill&nbsp;any&nbsp;relocations,&nbsp;but&nbsp;only&nbsp;for&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1133</ln><a id="1133">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;follow&nbsp;this&nbsp;flag.&nbsp;Thus,&nbsp;use&nbsp;it&nbsp;before&nbsp;specifying&nbsp;libraries&nbsp;to&nbsp;link&nbsp;to.
</c40><br/><ln>&nbsp;1134</ln><a id="1134">&nbsp;</a><a id="n443631"><a id="n443630"><a id="n443627"><a id="n443628"><a id="n443629">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56958">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56958">--as-needed"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1135</ln><a id="1135">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1136</ln><a id="1136">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;support&nbsp;optimization&nbsp;with&nbsp;-O.&nbsp;--gc-sections
</c40><br/><ln>&nbsp;1137</ln><a id="1137">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;removes&nbsp;metadata&nbsp;and&nbsp;potentially&nbsp;other&nbsp;useful&nbsp;things,&nbsp;so&nbsp;don't
</c40><br/><ln>&nbsp;1138</ln><a id="1138">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;include&nbsp;it.&nbsp;GNU&nbsp;ld&nbsp;doesn't&nbsp;need&nbsp;a&nbsp;numeric&nbsp;argument,&nbsp;but&nbsp;other&nbsp;linkers
</c40><br/><ln>&nbsp;1139</ln><a id="1139">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;do.
</c40><br/><ln>&nbsp;1140</ln><a id="1140">&nbsp;</a><a id="n443636"><a id="n443643"><a id="n443633"><a id="n443634"><a id="n443650"><a id="n443635"><a id="n443637">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c26><c1><a href="#1074_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;1141</ln><a id="1141">&nbsp;</a><a id="n443649"><a id="n443640"><a id="n443639"><a id="n443638"><a id="n443642"><a id="n443641">&nbsp;</a></a></a></a></a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1142</ln><a id="1142">&nbsp;</a><a id="n443645"><a id="n443648"><a id="n443647"><a id="n443646"><a id="n443644">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="#1074_1_refs">"-Wl</a></c12><c3>,</c3><c12><a href="#1074_1_refs">-O1"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1143</ln><a id="1143">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1144</ln><a id="1144">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1145</ln><a id="1145">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1146</ln><a id="1146">&nbsp;</a><a id="n443654"><a id="n443669"><a id="n443655"><a id="n443657"><a id="n443656"><a id="n443668"><a id="n443653"><a id="n443670">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14689">abi::OsWin32</a></c26><c13><a href="#1074_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1147</ln><a id="1147">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;we&nbsp;link&nbsp;to&nbsp;the&nbsp;dynamic&nbsp;libgcc,&nbsp;otherwise&nbsp;cross-module
</c40><br/><ln>&nbsp;1148</ln><a id="1148">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;DWARF&nbsp;stack&nbsp;unwinding&nbsp;will&nbsp;not&nbsp;work.
</c40><br/><ln>&nbsp;1149</ln><a id="1149">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;behavior&nbsp;may&nbsp;be&nbsp;overridden&nbsp;by&nbsp;--link-args&nbsp;"-static-libgcc"
</c40><br/><ln>&nbsp;1150</ln><a id="1150">&nbsp;</a><a id="n443659"><a id="n443658"><a id="n443661"><a id="n443660"><a id="n443662">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="#1074_1_refs">"-shared-libgcc"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1151</ln><a id="1151">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1152</ln><a id="1152">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;And&nbsp;here,&nbsp;we&nbsp;see&nbsp;obscure&nbsp;linker&nbsp;flags&nbsp;#45.&nbsp;On&nbsp;windows,&nbsp;it&nbsp;has&nbsp;been
</c40><br/><ln>&nbsp;1153</ln><a id="1153">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;found&nbsp;to&nbsp;be&nbsp;necessary&nbsp;to&nbsp;have&nbsp;this&nbsp;flag&nbsp;to&nbsp;compile&nbsp;liblibc.
</c40><br/><ln>&nbsp;1154</ln><a id="1154">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1155</ln><a id="1155">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;First&nbsp;a&nbsp;bit&nbsp;of&nbsp;background.&nbsp;On&nbsp;Windows,&nbsp;the&nbsp;file&nbsp;format&nbsp;is&nbsp;not&nbsp;ELF,
</c40><br/><ln>&nbsp;1156</ln><a id="1156">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;but&nbsp;COFF&nbsp;(at&nbsp;least&nbsp;according&nbsp;to&nbsp;LLVM).&nbsp;COFF&nbsp;doesn't&nbsp;officially&nbsp;allow
</c40><br/><ln>&nbsp;1157</ln><a id="1157">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;for&nbsp;section&nbsp;names&nbsp;over&nbsp;8&nbsp;characters,&nbsp;apparently.&nbsp;Our&nbsp;metadata
</c40><br/><ln>&nbsp;1158</ln><a id="1158">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;section,&nbsp;".note.rustc",&nbsp;you'll&nbsp;note&nbsp;is&nbsp;over&nbsp;8&nbsp;characters.
</c40><br/><ln>&nbsp;1159</ln><a id="1159">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1160</ln><a id="1160">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;more&nbsp;recent&nbsp;versions&nbsp;of&nbsp;gcc&nbsp;on&nbsp;mingw,&nbsp;apparently&nbsp;the&nbsp;section&nbsp;name
</c40><br/><ln>&nbsp;1161</ln><a id="1161">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;is&nbsp;*not*&nbsp;truncated,&nbsp;but&nbsp;rather&nbsp;stored&nbsp;elsewhere&nbsp;in&nbsp;a&nbsp;separate&nbsp;lookup
</c40><br/><ln>&nbsp;1162</ln><a id="1162">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;table.&nbsp;On&nbsp;older&nbsp;versions&nbsp;of&nbsp;gcc,&nbsp;they&nbsp;apparently&nbsp;always&nbsp;truncated&nbsp;the
</c40><br/><ln>&nbsp;1163</ln><a id="1163">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;section&nbsp;names&nbsp;(at&nbsp;least&nbsp;in&nbsp;some&nbsp;cases).&nbsp;Truncating&nbsp;the&nbsp;section&nbsp;name
</c40><br/><ln>&nbsp;1164</ln><a id="1164">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;actually&nbsp;creates&nbsp;"invalid"&nbsp;objects&nbsp;[1]&nbsp;[2],&nbsp;but&nbsp;only&nbsp;for&nbsp;some
</c40><br/><ln>&nbsp;1165</ln><a id="1165">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;introspection&nbsp;tools,&nbsp;not&nbsp;in&nbsp;terms&nbsp;of&nbsp;whether&nbsp;it&nbsp;can&nbsp;be&nbsp;loaded.
</c40><br/><ln>&nbsp;1166</ln><a id="1166">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1167</ln><a id="1167">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Long&nbsp;story&nbsp;shory,&nbsp;passing&nbsp;this&nbsp;flag&nbsp;forces&nbsp;the&nbsp;linker&nbsp;to&nbsp;*not*
</c40><br/><ln>&nbsp;1168</ln><a id="1168">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;truncate&nbsp;section&nbsp;names&nbsp;(so&nbsp;we&nbsp;can&nbsp;find&nbsp;the&nbsp;metadata&nbsp;section&nbsp;after
</c40><br/><ln>&nbsp;1169</ln><a id="1169">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;it's&nbsp;compiled).&nbsp;The&nbsp;real&nbsp;kicker&nbsp;is&nbsp;that&nbsp;rust&nbsp;compiled&nbsp;just&nbsp;fine&nbsp;on
</c40><br/><ln>&nbsp;1170</ln><a id="1170">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;windows&nbsp;for&nbsp;quite&nbsp;a&nbsp;long&nbsp;time&nbsp;*without*&nbsp;this&nbsp;flag,&nbsp;so&nbsp;I&nbsp;have&nbsp;no&nbsp;idea
</c40><br/><ln>&nbsp;1171</ln><a id="1171">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;why&nbsp;it&nbsp;suddenly&nbsp;started&nbsp;failing&nbsp;for&nbsp;liblibc.&nbsp;Regardless,&nbsp;we
</c40><br/><ln>&nbsp;1172</ln><a id="1172">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;definitely&nbsp;don't&nbsp;want&nbsp;section&nbsp;name&nbsp;truncation,&nbsp;so&nbsp;we're&nbsp;keeping&nbsp;this
</c40><br/><ln>&nbsp;1173</ln><a id="1173">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;flag&nbsp;for&nbsp;windows.
</c40><br/><ln>&nbsp;1174</ln><a id="1174">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1175</ln><a id="1175">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;[1]&nbsp;-&nbsp;https://sourceware.org/bugzilla/show_bug.cgi?id=13130
</c40><br/><ln>&nbsp;1176</ln><a id="1176">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;[2]&nbsp;-&nbsp;https://code.google.com/p/go/issues/detail?id=2139
</c40><br/><ln>&nbsp;1177</ln><a id="1177">&nbsp;</a><a id="n443663"><a id="n443664"><a id="n443667"><a id="n443665"><a id="n443666">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-Wl</a></c12><c3>,</c3><c12><a href="#1074_1_refs">--enable-long-section-names"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1178</ln><a id="1178">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1179</ln><a id="1179">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1180</ln><a id="1180">&nbsp;</a><a id="n443674"><a id="n443683"><a id="n443673"><a id="n443675"><a id="n443681"><a id="n443672"><a id="n443682"><a id="n443671">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14692">abi::OsAndroid</a></c26><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1181</ln><a id="1181">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Many&nbsp;of&nbsp;the&nbsp;symbols&nbsp;defined&nbsp;in&nbsp;compiler-rt&nbsp;are&nbsp;also&nbsp;defined&nbsp;in&nbsp;libgcc.
</c40><br/><ln>&nbsp;1182</ln><a id="1182">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Android&nbsp;linker&nbsp;doesn't&nbsp;like&nbsp;that&nbsp;by&nbsp;default.
</c40><br/><ln>&nbsp;1183</ln><a id="1183">&nbsp;</a><a id="n443678"><a id="n443679"><a id="n443676"><a id="n443680"><a id="n443677">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-Wl</a></c12><c3>,</c3><c12><a href="#1074_1_refs">--allow-multiple-definition"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1184</ln><a id="1184">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1185</ln><a id="1185">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1186</ln><a id="1186">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Take&nbsp;careful&nbsp;note&nbsp;of&nbsp;the&nbsp;ordering&nbsp;of&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker
</c40><br/><ln>&nbsp;1187</ln><a id="1187">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here.&nbsp;Linkers&nbsp;will&nbsp;assume&nbsp;that&nbsp;things&nbsp;on&nbsp;the&nbsp;left&nbsp;depend&nbsp;on&nbsp;things&nbsp;to&nbsp;the
</c40><br/><ln>&nbsp;1188</ln><a id="1188">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;right.&nbsp;Things&nbsp;on&nbsp;the&nbsp;right&nbsp;cannot&nbsp;depend&nbsp;on&nbsp;things&nbsp;on&nbsp;the&nbsp;left.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1189</ln><a id="1189">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;all&nbsp;formally&nbsp;implemented&nbsp;in&nbsp;terms&nbsp;of&nbsp;resolving&nbsp;symbols&nbsp;(libs&nbsp;on&nbsp;the&nbsp;right
</c40><br/><ln>&nbsp;1190</ln><a id="1190">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;resolve&nbsp;unknown&nbsp;symbols&nbsp;of&nbsp;libs&nbsp;on&nbsp;the&nbsp;left,&nbsp;but&nbsp;not&nbsp;vice&nbsp;versa).
</c40><br/><ln>&nbsp;1191</ln><a id="1191">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1192</ln><a id="1192">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;have&nbsp;organized&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker&nbsp;as
</c40><br/><ln>&nbsp;1193</ln><a id="1193">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;such:
</c40><br/><ln>&nbsp;1194</ln><a id="1194">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1195</ln><a id="1195">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;1.&nbsp;The&nbsp;local&nbsp;object&nbsp;that&nbsp;LLVM&nbsp;just&nbsp;generated
</c40><br/><ln>&nbsp;1196</ln><a id="1196">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;2.&nbsp;Upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1197</ln><a id="1197">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;3.&nbsp;Local&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1198</ln><a id="1198">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;4.&nbsp;Upstream&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1199</ln><a id="1199">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1200</ln><a id="1200">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;generally&nbsp;fairly&nbsp;natural,&nbsp;but&nbsp;some&nbsp;may&nbsp;expect&nbsp;2&nbsp;and&nbsp;3&nbsp;to&nbsp;be
</c40><br/><ln>&nbsp;1201</ln><a id="1201">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;swapped.&nbsp;The&nbsp;reason&nbsp;that&nbsp;all&nbsp;native&nbsp;libraries&nbsp;are&nbsp;put&nbsp;last&nbsp;is&nbsp;that&nbsp;it's
</c40><br/><ln>&nbsp;1202</ln><a id="1202">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;recommended&nbsp;for&nbsp;a&nbsp;native&nbsp;library&nbsp;to&nbsp;depend&nbsp;on&nbsp;a&nbsp;symbol&nbsp;from&nbsp;a&nbsp;rust
</c40><br/><ln>&nbsp;1203</ln><a id="1203">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crate.&nbsp;If&nbsp;this&nbsp;is&nbsp;the&nbsp;case&nbsp;then&nbsp;a&nbsp;staticlib&nbsp;crate&nbsp;is&nbsp;recommended,&nbsp;solving
</c40><br/><ln>&nbsp;1204</ln><a id="1204">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;problem.
</c40><br/><ln>&nbsp;1205</ln><a id="1205">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1206</ln><a id="1206">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Additionally,&nbsp;it&nbsp;is&nbsp;occasionally&nbsp;the&nbsp;case&nbsp;that&nbsp;upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1207</ln><a id="1207">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;depend&nbsp;on&nbsp;a&nbsp;local&nbsp;native&nbsp;library.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;libraries&nbsp;such&nbsp;as
</c40><br/><ln>&nbsp;1208</ln><a id="1208">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;lua/glfw/etc&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;library&nbsp;isn't&nbsp;the&nbsp;same&nbsp;across&nbsp;all&nbsp;platforms,
</c40><br/><ln>&nbsp;1209</ln><a id="1209">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;only&nbsp;the&nbsp;consumer&nbsp;crate&nbsp;of&nbsp;a&nbsp;library&nbsp;knows&nbsp;the&nbsp;actual&nbsp;name.&nbsp;This&nbsp;means
</c40><br/><ln>&nbsp;1210</ln><a id="1210">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;downstream&nbsp;crates&nbsp;will&nbsp;provide&nbsp;the&nbsp;#[link]&nbsp;attribute&nbsp;which&nbsp;upstream
</c40><br/><ln>&nbsp;1211</ln><a id="1211">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crates&nbsp;will&nbsp;depend&nbsp;on.&nbsp;Hence&nbsp;local&nbsp;native&nbsp;libraries&nbsp;are&nbsp;after&nbsp;out
</c40><br/><ln>&nbsp;1212</ln><a id="1212">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;upstream&nbsp;rust&nbsp;crates.
</c40><br/><ln>&nbsp;1213</ln><a id="1213">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1214</ln><a id="1214">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;theory&nbsp;this&nbsp;means&nbsp;that&nbsp;a&nbsp;symbol&nbsp;in&nbsp;an&nbsp;upstream&nbsp;native&nbsp;library&nbsp;will&nbsp;be
</c40><br/><ln>&nbsp;1215</ln><a id="1215">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;shadowed&nbsp;by&nbsp;a&nbsp;local&nbsp;native&nbsp;library&nbsp;when&nbsp;it&nbsp;wouldn't&nbsp;have&nbsp;been&nbsp;before,&nbsp;but
</c40><br/><ln>&nbsp;1216</ln><a id="1216">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;this&nbsp;kind&nbsp;of&nbsp;behavior&nbsp;is&nbsp;pretty&nbsp;platform&nbsp;specific&nbsp;and&nbsp;generally&nbsp;not
</c40><br/><ln>&nbsp;1217</ln><a id="1217">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;recommended&nbsp;anyway,&nbsp;so&nbsp;I&nbsp;don't&nbsp;think&nbsp;we're&nbsp;shooting&nbsp;ourself&nbsp;in&nbsp;the&nbsp;foot
</c40><br/><ln>&nbsp;1218</ln><a id="1218">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;much&nbsp;with&nbsp;that.
</c40><br/><ln>&nbsp;1219</ln><a id="1219">&nbsp;</a><a id="n443684"><a id="n443691"><a id="n443686"><a id="n443687"><a id="n443688"><a id="n443685"><a id="n443690"><a id="n443689">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1311">add_upstream_rust_crates</a></c26><c4>(</c4><c5><a href="#1074_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c3>,</c3><c27><a href="#1074_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c3>,</c3><c27><a href="#1074_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1076">dylib</a></c26><c3>,</c3><c27><a href="#1074_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1077">tmpdir</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1220</ln><a id="1220">&nbsp;</a><a id="n443696"><a id="n443693"><a id="n443692"><a id="n443697"><a id="n443695"><a id="n443694">&nbsp;</a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1281">add_local_native_libraries</a></c26><c4>(</c4><c5><a href="#1074_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c3>,</c3><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1221</ln><a id="1221">&nbsp;</a><a id="n443702"><a id="n443699"><a id="n443701"><a id="n443700"><a id="n443698"><a id="n443703">&nbsp;</a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1487">add_upstream_native_libraries</a></c26><c4>(</c4><c5><a href="#1074_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c3>,</c3><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1222</ln><a id="1222">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1223</ln><a id="1223">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#&nbsp;Telling&nbsp;the&nbsp;linker&nbsp;what&nbsp;we're&nbsp;doing
</c40><br/><ln>&nbsp;1224</ln><a id="1224">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1225</ln><a id="1225">&nbsp;</a><a id="n443705"><a id="n443745"><a id="n443746"><a id="n443704">&nbsp;</a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1074_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1076">dylib</a></c26><c13><a href="#1074_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1226</ln><a id="1226">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;mac&nbsp;we&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;to&nbsp;let&nbsp;this&nbsp;library&nbsp;be&nbsp;rpathed
</c40><br/><ln>&nbsp;1227</ln><a id="1227">&nbsp;</a><a id="n443708"><a id="n443709"><a id="n443721"><a id="n443710"><a id="n443707"><a id="n443706"><a id="n443744">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14690">abi::OsMacos</a></c26><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1228</ln><a id="1228">&nbsp;</a><a id="n443712"><a id="n443715"><a id="n443713"><a id="n443714"><a id="n443711">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-dynamiclib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1229</ln><a id="1229">&nbsp;</a><a id="n443716"><a id="n443720"><a id="n443719"><a id="n443717"><a id="n443718">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56958">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n56958">-dylib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1230</ln><a id="1230">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1231</ln><a id="1231">&nbsp;</a><a id="n443737"><a id="n443724"><a id="n443725"><a id="n443723"><a id="n443736"><a id="n443722"><a id="n443726">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c5><a href="#1074_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.no_rpath</a></c24><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1232</ln><a id="1232">&nbsp;</a><a id="n443733"><a id="n443729"><a id="n443734"><a id="n443735"><a id="n443728"><a id="n443727">&nbsp;</a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-Wl</a></c12><c3>,</c3><c12><a href="#1074_1_refs">-install_name</a></c12><c3>,</c3><c12><a href="#1074_1_refs">@rpath/"</a></c12><c5><a href="#1074_1_refs">&nbsp;+
</a></c5><br/><ln>&nbsp;1233</ln><a id="1233">&nbsp;</a><a id="n443731"><a id="n443730"><a id="n443732">&nbsp;</a></a></a><c5><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1079">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.filename_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1234</ln><a id="1234">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1235</ln><a id="1235">&nbsp;</a><a id="n443743"><a id="n443738">&nbsp;</a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1074_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1236</ln><a id="1236">&nbsp;</a><a id="n443741"><a id="n443740"><a id="n443742"><a id="n443739">&nbsp;</a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-shared"</a></c12><c4>)</c4><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1237</ln><a id="1237">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1238</ln><a id="1238">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1239</ln><a id="1239">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1240</ln><a id="1240">&nbsp;</a><a id="n443747"><a id="n443748"><a id="n443751"><a id="n443762"><a id="n443764"><a id="n443763"><a id="n443749"><a id="n443750">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1074_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14693">abi::OsFreebsd</a></c26><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1241</ln><a id="1241">&nbsp;</a><a id="n443759"><a id="n443752"><a id="n443761"><a id="n443760"><a id="n443753"><a id="n443754">&nbsp;</a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c10><c4>(</c4><c3>[</c3><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-L/usr/local/lib"</a></c12><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1242</ln><a id="1242">&nbsp;</a><a id="n443756"><a id="n443755">&nbsp;</a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-L/usr/local/lib/gcc46"</a></c12><c3>,</c3><c1><a href="#1074_1_refs">
</a></c1><br/><ln>&nbsp;1243</ln><a id="1243">&nbsp;</a><a id="n443757"><a id="n443758">&nbsp;</a></a><c1><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#1074_1_refs">~</a></c16><c12><a href="#1074_1_refs">"-L/usr/local/lib/gcc44"</a></c12><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1244</ln><a id="1244">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1245</ln><a id="1245">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1246</ln><a id="1246">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#2397):&nbsp;At&nbsp;some&nbsp;point&nbsp;we&nbsp;want&nbsp;to&nbsp;rpath&nbsp;our&nbsp;guesses&nbsp;as&nbsp;to
</c40><br/><ln>&nbsp;1247</ln><a id="1247">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;where&nbsp;extern&nbsp;libraries&nbsp;might&nbsp;live,&nbsp;based&nbsp;on&nbsp;the
</c40><br/><ln>&nbsp;1248</ln><a id="1248">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;addl_lib_search_paths
</c40><br/><ln>&nbsp;1249</ln><a id="1249">&nbsp;</a><a id="n443765"><a id="n443766"><a id="n443778"><a id="n443780"><a id="n443768"><a id="n443769"><a id="n443779"><a id="n443767">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1074_1_refs">&nbsp;</a></c21><c5><a href="#1074_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.no_rpath</a></c24><c21><a href="#1074_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1250</ln><a id="1250">&nbsp;</a><a id="n443777"><a id="n443773"><a id="n443774"><a id="n443771"><a id="n443776"><a id="n443770"><a id="n443772"><a id="n443775">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#23">rpath::get_rpath_flags</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c3>,</c3><c27><a href="#1074_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1079">out_filename</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1251</ln><a id="1251">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1252</ln><a id="1252">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1253</ln><a id="1253">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;compiler-rt&nbsp;contains&nbsp;implementations&nbsp;of&nbsp;low-level&nbsp;LLVM&nbsp;helpers.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1254</ln><a id="1254">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;from&nbsp;the&nbsp;object&nbsp;file&nbsp;we&nbsp;just&nbsp;created,&nbsp;as&nbsp;well&nbsp;as
</c40><br/><ln>&nbsp;1255</ln><a id="1255">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;any&nbsp;system&nbsp;static&nbsp;libraries&nbsp;that&nbsp;may&nbsp;be&nbsp;expecting&nbsp;gcc&nbsp;instead.&nbsp;Most
</c40><br/><ln>&nbsp;1256</ln><a id="1256">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbols&nbsp;in&nbsp;libgcc&nbsp;also&nbsp;appear&nbsp;in&nbsp;compiler-rt.
</c40><br/><ln>&nbsp;1257</ln><a id="1257">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1258</ln><a id="1258">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;command&nbsp;line,&nbsp;so&nbsp;this&nbsp;library&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve
</c40><br/><ln>&nbsp;1259</ln><a id="1259">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*all*&nbsp;undefined&nbsp;symbols&nbsp;in&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;and&nbsp;this&nbsp;is&nbsp;intentional.
</c40><br/><ln>&nbsp;1260</ln><a id="1260">&nbsp;</a><a id="n443784"><a id="n443782"><a id="n443781"><a id="n443783"><a id="n443785">&nbsp;</a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56958">"-lcompiler-rt"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1261</ln><a id="1261">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1262</ln><a id="1262">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Finally&nbsp;add&nbsp;all&nbsp;the&nbsp;linker&nbsp;arguments&nbsp;provided&nbsp;on&nbsp;the&nbsp;command&nbsp;line&nbsp;along
</c40><br/><ln>&nbsp;1263</ln><a id="1263">&nbsp;</a>&nbsp;<c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;with&nbsp;any&nbsp;#[link_args]&nbsp;attributes&nbsp;found&nbsp;inside&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1264</ln><a id="1264">&nbsp;</a><a id="n443791"><a id="n443792"><a id="n443790"><a id="n443786"><a id="n443788"><a id="n443787"><a id="n443793"><a id="n443789">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56215">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.link_args</a></c24><c10><a href="../../libstd/vec.rs.html#n58208">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1265</ln><a id="1265">&nbsp;</a><a id="n443804"><a id="n443806"><a id="n443803"><a id="n443800"><a id="n443802"><a id="n443799"><a id="n443818"><a id="n443813"><a id="n443796"><a id="n443798"><a id="n443795"><a id="n443815"><a id="n443805"><a id="n443816"><a id="n443814"><a id="n443817"><a id="n443807"><a id="n443801"><a id="n443797"><a id="n443794">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1074_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#1265_8_refs">arg</a></c20><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1075">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#197">.get_used_link_args</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1265">
</a></c22><br/><ln>&nbsp;1266</ln><a id="1266">&nbsp;</a><a id="n443812"><a id="n443808"><a id="n443810"><a id="n443811"><a id="n443809">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1265">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1265">arg</a></c26><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1265">
</a></c22><br/><ln>&nbsp;1267</ln><a id="1267">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1265">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1268</ln><a id="1268">&nbsp;</a><a id="n443821"><a id="n443819"><a id="n443820">&nbsp;</a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#1074_1_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1087">args</a></c26><c3>;</c3><c22><a href="#1074_1_refs">
</a></c22><br/><ln>&nbsp;1269</ln><a id="1269">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1270</ln><a id="1270">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1271</ln><a id="1271">&nbsp;</a>&nbsp;<c40>//&nbsp;#&nbsp;Native&nbsp;library&nbsp;linking
</c40><br/><ln>&nbsp;1272</ln><a id="1272">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1273</ln><a id="1273">&nbsp;</a>&nbsp;<c40>//&nbsp;User-supplied&nbsp;library&nbsp;search&nbsp;paths&nbsp;(-L&nbsp;on&nbsp;the&nbsp;command&nbsp;line).&nbsp;These&nbsp;are
</c40><br/><ln>&nbsp;1274</ln><a id="1274">&nbsp;</a>&nbsp;<c40>//&nbsp;the&nbsp;same&nbsp;paths&nbsp;used&nbsp;to&nbsp;find&nbsp;Rust&nbsp;crates,&nbsp;so&nbsp;some&nbsp;of&nbsp;them&nbsp;may&nbsp;have&nbsp;been
</c40><br/><ln>&nbsp;1275</ln><a id="1275">&nbsp;</a>&nbsp;<c40>//&nbsp;added&nbsp;already&nbsp;by&nbsp;the&nbsp;previous&nbsp;crate&nbsp;linking&nbsp;code.&nbsp;This&nbsp;only&nbsp;allows&nbsp;them
</c40><br/><ln>&nbsp;1276</ln><a id="1276">&nbsp;</a>&nbsp;<c40>//&nbsp;to&nbsp;be&nbsp;found&nbsp;at&nbsp;compile&nbsp;time&nbsp;so&nbsp;it&nbsp;is&nbsp;still&nbsp;entirely&nbsp;up&nbsp;to&nbsp;outside
</c40><br/><ln>&nbsp;1277</ln><a id="1277">&nbsp;</a>&nbsp;<c40>//&nbsp;forces&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;library&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;runtime.
</c40><br/><ln>&nbsp;1278</ln><a id="1278">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1279</ln><a id="1279">&nbsp;</a>&nbsp;<c40>//&nbsp;Also&nbsp;note&nbsp;that&nbsp;the&nbsp;native&nbsp;libraries&nbsp;linked&nbsp;here&nbsp;are&nbsp;only&nbsp;the&nbsp;ones&nbsp;located
</c40><br/><ln>&nbsp;1280</ln><a id="1280">&nbsp;</a>&nbsp;<c40>//&nbsp;in&nbsp;the&nbsp;current&nbsp;crate.&nbsp;Upstream&nbsp;crates&nbsp;with&nbsp;native&nbsp;library&nbsp;dependencies
</c40><br/><ln>&nbsp;1281</ln><a id="1281">&nbsp;</a><a id="n443823">&nbsp;</a><c40>//&nbsp;may&nbsp;have&nbsp;their&nbsp;native&nbsp;library&nbsp;pulled&nbsp;in&nbsp;above.
</c40><br/><ln>&nbsp;1282</ln><a id="1282">&nbsp;</a><a id="n443827"><a id="n443899"><a id="n443826"><a id="n443837"><a id="n443831"><a id="n443836"><a id="n443829"><a id="n443830"><a id="n443834"><a id="n443835">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1281_50_refs">&nbsp;add_local_native_libraries</a></c30><c4>(</c4><c20><a href="#1282_30_refs">args</a></c20><c1><a href="#1281_50_refs">:&nbsp;</a></c1><c8><a href="#1281_50_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c8><a href="#1281_50_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c3>,</c3><c1><a href="#1281_50_refs">&nbsp;</a></c1><c20><a href="#1282_52_refs">sess</a></c20><c1><a href="#1281_50_refs">:&nbsp;</a></c1><c8><a href="#1281_50_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#1281_50_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1281_50_refs">
</a></c22><br/><ln>&nbsp;1283</ln><a id="1283">&nbsp;</a><a id="n443866"><a id="n443865"><a id="n443840"><a id="n443838"><a id="n443845"><a id="n443850"><a id="n443849"><a id="n443861"><a id="n443862"><a id="n443847"><a id="n443842"><a id="n443844"><a id="n443863"><a id="n443846"><a id="n443841"><a id="n443843"><a id="n443839"><a id="n443864"><a id="n443848"><a id="n443851">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1281_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c20><a href="#1283_8_refs">path</a></c20><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1282">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#137">.addl_lib_search_paths</a></c24><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n16968">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/iter.rs.html#n94362">
</a></c22><br/><ln>&nbsp;1284</ln><a id="1284">&nbsp;</a>&nbsp;<c22><a href="../../libstd/iter.rs.html#n94362">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1285</ln><a id="1285">&nbsp;</a><a id="n443854"><a id="n443860"><a id="n443857"><a id="n443859"><a id="n443858"><a id="n443853"><a id="n443856"><a id="n443852"><a id="n443855">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/iter.rs.html#n94362">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n56958">"-L"</a></c12><c5><a href="../../libstd/vec.rs.html#n56958">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1283">path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/iter.rs.html#n94362">
</a></c22><br/><ln>&nbsp;1286</ln><a id="1286">&nbsp;</a>&nbsp;<c22><a href="../../libstd/iter.rs.html#n94362">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n103656">
</a></c20><br/><ln>&nbsp;1287</ln><a id="1287">&nbsp;</a>&nbsp;<c20><a href="../../libstd/option.rs.html#n103656">
</a></c20><br/><ln>&nbsp;1288</ln><a id="1288">&nbsp;</a><a id="n443867"><a id="n443870"><a id="n443872"><a id="n443871"><a id="n443868"><a id="n443869">&nbsp;</a></a></a></a></a></a><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>let</c21><c22><a href="#1281_50_refs">&nbsp;</a></c22><c20><a href="#1288_8_refs">rustpath</a></c20><c13><a href="#1281_50_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/filesearch.rs.html#193">filesearch::rust_path</a></c26><c4>()</c4><c3>;</c3><c22><a href="#1281_50_refs">
</a></c22><br/><ln>&nbsp;1289</ln><a id="1289">&nbsp;</a><a id="n443874"><a id="n443894"><a id="n443881"><a id="n443876"><a id="n443897"><a id="n443895"><a id="n443893"><a id="n443873"><a id="n443896"><a id="n443878"><a id="n443875"><a id="n443880"><a id="n443898"><a id="n443882"><a id="n443883"><a id="n443877"><a id="n443879">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1281_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c20><a href="#1289_8_refs">path</a></c20><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1288">rustpath</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;</a></c10><c3>{</c3><c22><a href="#1289_4_refs">
</a></c22><br/><ln>&nbsp;1290</ln><a id="1290">&nbsp;</a>&nbsp;<c22><a href="#1289_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1291</ln><a id="1291">&nbsp;</a><a id="n443892"><a id="n443890"><a id="n443886"><a id="n443888"><a id="n443885"><a id="n443889"><a id="n443884"><a id="n443887"><a id="n443891">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1289_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c12><a href="#1289_4_refs">"-L"</a></c12><c5><a href="#1289_4_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1289">path</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1289_4_refs">
</a></c22><br/><ln>&nbsp;1292</ln><a id="1292">&nbsp;</a>&nbsp;<c22><a href="#1289_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/slice.rs.html#n54616">
</a></c10><br/><ln>&nbsp;1293</ln><a id="1293">&nbsp;</a>&nbsp;<c10><a href="../../libstd/slice.rs.html#n54616">
</a></c10><br/><ln>&nbsp;1294</ln><a id="1294">&nbsp;</a><a id="n443901"><a id="n443905"><a id="n443914"><a id="n443904"><a id="n443900"><a id="n443915"><a id="n443911"><a id="n443906"><a id="n443913"><a id="n443917"><a id="n443908"><a id="n443909"><a id="n443945"><a id="n443903"><a id="n443947"><a id="n443912"><a id="n443946"><a id="n443916"><a id="n443910"><a id="n443902"><a id="n443907"><a id="n443944">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c10><a href="../../libstd/slice.rs.html#n54616">&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c21>for</c21><c22><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c22><c20><a href="#1294_4_refs">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="#1294_10_refs">&nbsp;l</a></c20><c3>,</c3><c20><a href="#1294_4_refs">&nbsp;</a></c20><c20><a href="#1294_17_refs">kind</a></c20><c4>)</c4><c22><a href="../../libstd/option.rs.html#n103652">&nbsp;in&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#186">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106898">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c22><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c22><c3>{</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1295</ln><a id="1295">&nbsp;</a><a id="n443918"><a id="n443943">&nbsp;</a></a><c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1294_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1294">kind</a></c26><c21><a href="#1294_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1294_4_refs">
</a></c21><br/><ln>&nbsp;1296</ln><a id="1296">&nbsp;</a><a id="n443929"><a id="n443928"><a id="n443919"><a id="n443920">&nbsp;</a></a></a></a><c21><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="#1294_4_refs">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="#1294_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1294_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1297</ln><a id="1297">&nbsp;</a><a id="n443927"><a id="n443921"><a id="n443925"><a id="n443924"><a id="n443926"><a id="n443922"><a id="n443923">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c12><a href="#1294_4_refs">"-l"</a></c12><c5><a href="#1294_4_refs">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1294">l</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1298</ln><a id="1298">&nbsp;</a>&nbsp;<c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1294_4_refs">
</a></c21><br/><ln>&nbsp;1299</ln><a id="1299">&nbsp;</a><a id="n443942"><a id="n443941"><a id="n443930">&nbsp;</a></a></a><c21><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="#1294_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1294_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1300</ln><a id="1300">&nbsp;</a><a id="n443933"><a id="n443935"><a id="n443932"><a id="n443934"><a id="n443931">&nbsp;</a></a></a></a></a><c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c16><a href="#1294_4_refs">~</a></c16><c12><a href="#1294_4_refs">"-framework"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1301</ln><a id="1301">&nbsp;</a><a id="n443937"><a id="n443940"><a id="n443939"><a id="n443938"><a id="n443936">&nbsp;</a></a></a></a></a><c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1282">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1294">l</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1302</ln><a id="1302">&nbsp;</a>&nbsp;<c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1294_4_refs">
</a></c21><br/><ln>&nbsp;1303</ln><a id="1303">&nbsp;</a>&nbsp;<c21><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1294_4_refs">
</a></c22><br/><ln>&nbsp;1304</ln><a id="1304">&nbsp;</a>&nbsp;<c22><a href="#1294_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n103652">
</a></c22><br/><ln>&nbsp;1305</ln><a id="1305">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1306</ln><a id="1306">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1307</ln><a id="1307">&nbsp;</a>&nbsp;<c40>//&nbsp;#&nbsp;Rust&nbsp;Crate&nbsp;linking
</c40><br/><ln>&nbsp;1308</ln><a id="1308">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1309</ln><a id="1309">&nbsp;</a>&nbsp;<c40>//&nbsp;Rust&nbsp;crates&nbsp;are&nbsp;not&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;creating&nbsp;an&nbsp;rlib&nbsp;output.&nbsp;All
</c40><br/><ln>&nbsp;1310</ln><a id="1310">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies&nbsp;will&nbsp;be&nbsp;linked&nbsp;when&nbsp;producing&nbsp;the&nbsp;final&nbsp;output&nbsp;(instead&nbsp;of
</c40><br/><ln>&nbsp;1311</ln><a id="1311">&nbsp;</a><a id="n443948">&nbsp;</a><c40>//&nbsp;the&nbsp;intermediate&nbsp;rlib&nbsp;version)
</c40><br/><ln>&nbsp;1312</ln><a id="1312">&nbsp;</a><a id="n443955"><a id="n443951"><a id="n443959"><a id="n443954"><a id="n443952"><a id="n443956"><a id="n443960"><a id="n443961">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1311_34_refs">&nbsp;add_upstream_rust_crates</a></c30><c4>(</c4><c20><a href="#1312_28_refs">args</a></c20><c1><a href="#1311_34_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;~</a></c8><c8><a href="#1311_34_refs">str</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c3>,</c3><c1><a href="#1311_34_refs">&nbsp;</a></c1><c20><a href="#1312_50_refs">sess</a></c20><c1><a href="#1311_34_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1311_34_refs">
</a></c1><br/><ln>&nbsp;1313</ln><a id="1313">&nbsp;</a><a id="n443964"><a id="n443970"><a id="n444926"><a id="n443969"><a id="n443971"><a id="n443968"><a id="n443965">&nbsp;</a></a></a></a></a></a></a><c1><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1313_28_refs">dylib</a></c20><c1><a href="#1311_34_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">bool</a></c8><c3>,</c3><c1><a href="#1311_34_refs">&nbsp;</a></c1><c20><a href="#1313_41_refs">tmpdir</a></c20><c1><a href="#1311_34_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c1><a href="#1311_34_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1314</ln><a id="1314">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1315</ln><a id="1315">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;As&nbsp;a&nbsp;limitation&nbsp;of&nbsp;the&nbsp;current&nbsp;implementation,&nbsp;we&nbsp;require&nbsp;that&nbsp;everything
</c40><br/><ln>&nbsp;1316</ln><a id="1316">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;must&nbsp;be&nbsp;static&nbsp;or&nbsp;everything&nbsp;must&nbsp;be&nbsp;dynamic.&nbsp;The&nbsp;reasons&nbsp;for&nbsp;this&nbsp;are&nbsp;a
</c40><br/><ln>&nbsp;1317</ln><a id="1317">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;little&nbsp;subtle,&nbsp;but&nbsp;as&nbsp;with&nbsp;staticlibs&nbsp;and&nbsp;rlibs,&nbsp;the&nbsp;goal&nbsp;is&nbsp;to&nbsp;prevent
</c40><br/><ln>&nbsp;1318</ln><a id="1318">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;duplicate&nbsp;copies&nbsp;of&nbsp;the&nbsp;same&nbsp;library&nbsp;showing&nbsp;up.&nbsp;For&nbsp;example,&nbsp;a&nbsp;static
</c40><br/><ln>&nbsp;1319</ln><a id="1319">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;immediate&nbsp;dependency&nbsp;might&nbsp;show&nbsp;up&nbsp;as&nbsp;an&nbsp;upstream&nbsp;dynamic&nbsp;dependency&nbsp;and
</c40><br/><ln>&nbsp;1320</ln><a id="1320">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;currently&nbsp;have&nbsp;no&nbsp;way&nbsp;of&nbsp;knowing&nbsp;that.&nbsp;We&nbsp;know&nbsp;that&nbsp;all&nbsp;dynamic
</c40><br/><ln>&nbsp;1321</ln><a id="1321">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries&nbsp;require&nbsp;dynamic&nbsp;dependencies&nbsp;(see&nbsp;above),&nbsp;so&nbsp;it's&nbsp;satisfactory
</c40><br/><ln>&nbsp;1322</ln><a id="1322">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;include&nbsp;either&nbsp;all&nbsp;static&nbsp;libraries&nbsp;or&nbsp;all&nbsp;dynamic&nbsp;libraries.
</c40><br/><ln>&nbsp;1323</ln><a id="1323">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1324</ln><a id="1324">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;With&nbsp;this&nbsp;limitation,&nbsp;we&nbsp;expose&nbsp;a&nbsp;compiler&nbsp;default&nbsp;linkage&nbsp;type&nbsp;and&nbsp;an
</c40><br/><ln>&nbsp;1325</ln><a id="1325">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;option&nbsp;to&nbsp;reverse&nbsp;that&nbsp;preference.&nbsp;The&nbsp;current&nbsp;behavior&nbsp;looks&nbsp;like:
</c40><br/><ln>&nbsp;1326</ln><a id="1326">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1327</ln><a id="1327">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;a&nbsp;dylib&nbsp;is&nbsp;being&nbsp;created,&nbsp;upstream&nbsp;dependencies&nbsp;must&nbsp;be&nbsp;dylibs
</c40><br/><ln>&nbsp;1328</ln><a id="1328">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;nothing&nbsp;else&nbsp;is&nbsp;specified,&nbsp;static&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1329</ln><a id="1329">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;the&nbsp;-C&nbsp;prefer-dynamic&nbsp;flag&nbsp;is&nbsp;given,&nbsp;dynamic&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1330</ln><a id="1330">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;one&nbsp;form&nbsp;of&nbsp;linking&nbsp;fails,&nbsp;the&nbsp;second&nbsp;is&nbsp;also&nbsp;attempted
</c40><br/><ln>&nbsp;1331</ln><a id="1331">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;both&nbsp;forms&nbsp;fail,&nbsp;then&nbsp;we&nbsp;emit&nbsp;an&nbsp;error&nbsp;message
</c40><br/><ln>&nbsp;1332</ln><a id="1332">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1333</ln><a id="1333">&nbsp;</a><a id="n443978"><a id="n443975"><a id="n443972"><a id="n443980"><a id="n443981"><a id="n443977"><a id="n443979"><a id="n443976"><a id="n443974"><a id="n443973">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1333_8_refs">dynamic</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1394">get_deps</a></c26><c4>(</c4><c5><a href="#1311_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1334</ln><a id="1334">&nbsp;</a><a id="n443989"><a id="n443983"><a id="n443982"><a id="n443990"><a id="n443985"><a id="n443984"><a id="n443986"><a id="n443988"><a id="n443987"><a id="n443991">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1334_8_refs">statik</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1394">get_deps</a></c26><c4>(</c4><c5><a href="#1311_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1335</ln><a id="1335">&nbsp;</a><a id="n443996"><a id="n443993"><a id="n444296"><a id="n443994"><a id="n443998"><a id="n443999"><a id="n444297"><a id="n443992"><a id="n443997"><a id="n443995">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1333">dynamic</a></c26><c3>,</c3><c14><a href="#1311_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1334">statik</a></c26><c3>,</c3><c14><a href="#1311_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#371">.prefer_dynamic</a></c24><c3>,</c3><c14><a href="#1311_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1313">dylib</a></c26><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1336</ln><a id="1336">&nbsp;</a><a id="n444008"><a id="n444001"><a id="n444003"><a id="n444015"><a id="n444002"><a id="n444007"><a id="n444006"><a id="n444004"><a id="n444000"><a id="n444005">&nbsp;</a></a></a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="#1311_34_refs">_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#1336_17_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;false</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1337</ln><a id="1337">&nbsp;</a><a id="n444011"><a id="n444009"><a id="n444014"><a id="n444013"><a id="n444012"><a id="n444010">&nbsp;</a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1312">args</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1313">tmpdir</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1336">deps</a></c26><c4>)</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1338</ln><a id="1338">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1339</ln><a id="1339">&nbsp;</a>&nbsp;<c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1340</ln><a id="1340">&nbsp;</a><a id="n444039"><a id="n444016"><a id="n444032"><a id="n444021"><a id="n444020"><a id="n444022"><a id="n444019"><a id="n444023"><a id="n444017"><a id="n444018">&nbsp;</a></a></a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#1340_20_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;true</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1341</ln><a id="1341">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;you&nbsp;opted&nbsp;in&nbsp;to&nbsp;dynamic&nbsp;linking&nbsp;and&nbsp;we&nbsp;decided&nbsp;to&nbsp;emit&nbsp;a
</c40><br/><ln>&nbsp;1342</ln><a id="1342">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;static&nbsp;output,&nbsp;you&nbsp;should&nbsp;probably&nbsp;be&nbsp;notified&nbsp;of&nbsp;such&nbsp;an&nbsp;event!
</c40><br/><ln>&nbsp;1343</ln><a id="1343">&nbsp;</a><a id="n444025"><a id="n444027"><a id="n444024"><a id="n444026">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#226">.warn</a></c10><c4>(</c4><c12><a href="#1311_34_refs">"dynamic&nbsp;linking&nbsp;was&nbsp;preferred</a></c12><c3>,</c3><c12><a href="#1311_34_refs">&nbsp;but&nbsp;dependencies&nbsp;\
</a></c12><br/><ln>&nbsp;1344</ln><a id="1344">&nbsp;</a>&nbsp;<c12><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;could&nbsp;not&nbsp;all&nbsp;be&nbsp;found&nbsp;in&nbsp;an&nbsp;dylib&nbsp;format."</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1345</ln><a id="1345">&nbsp;</a><a id="n444029"><a id="n444030"><a id="n444031"><a id="n444028">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#226">.warn</a></c13><c4>(</c4><c12><a href="#1311_34_refs">"linking&nbsp;statically&nbsp;instead</a></c12><c3>,</c3><c12><a href="#1311_34_refs">&nbsp;using&nbsp;rlibs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1346</ln><a id="1346">&nbsp;</a><a id="n444036"><a id="n444034"><a id="n444033"><a id="n444038"><a id="n444035"><a id="n444037">&nbsp;</a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1312">args</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1313">tmpdir</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1340">deps</a></c26><c4>)</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1347</ln><a id="1347">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1348</ln><a id="1348">&nbsp;</a>&nbsp;<c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1349</ln><a id="1349">&nbsp;</a><a id="n444046"><a id="n444045"><a id="n444043"><a id="n444042"><a id="n444044"><a id="n444040"><a id="n444049"><a id="n444050"><a id="n444047"><a id="n444041"><a id="n444048">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n103656">Some</a></c20><c4>(</c4><c20><a href="#1349_14_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;_</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1453">add_dynamic_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1312">args</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1349">deps</a></c26><c4>)</c4><c3>,</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1350</ln><a id="1350">&nbsp;</a>&nbsp;<c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1351</ln><a id="1351">&nbsp;</a><a id="n444052"><a id="n444053"><a id="n444051"><a id="n444054"><a id="n444055"><a id="n444069"><a id="n444056"><a id="n444161">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;true</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1352</ln><a id="1352">&nbsp;</a><a id="n444060"><a id="n444058"><a id="n444059"><a id="n444057">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c12><a href="#1311_34_refs">"dylib&nbsp;output&nbsp;requested</a></c12><c3>,</c3><c12><a href="#1311_34_refs">&nbsp;but&nbsp;some&nbsp;depenencies&nbsp;could&nbsp;not&nbsp;\
</a></c12><br/><ln>&nbsp;1353</ln><a id="1353">&nbsp;</a>&nbsp;<c12><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;dylib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1354</ln><a id="1354">&nbsp;</a><a id="n444061"><a id="n444065"><a id="n444064"><a id="n444067"><a id="n444066"><a id="n444063"><a id="n444068"><a id="n444062">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1354_16_refs">deps</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1355</ln><a id="1355">&nbsp;</a><a id="n444077"><a id="n444078"><a id="n444072"><a id="n444080"><a id="n444082"><a id="n444079"><a id="n444159"><a id="n444156"><a id="n444075"><a id="n444157"><a id="n444074"><a id="n444071"><a id="n444160"><a id="n444158"><a id="n444073"><a id="n444070"><a id="n444081"><a id="n444076">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/vec.rs.html#n58343">&nbsp;</a></c10><c4>(</c4><c20><a href="#1355_17_refs">cnum</a></c20><c3>,</c3><c20><a href="#1355_12_refs">&nbsp;</a></c20><c20><a href="#1355_23_refs">path</a></c20><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n58343">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1354">deps</a></c26><c10><a href="../../libstd/vec.rs.html#n57166">.move_iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n58343">&nbsp;</a></c10><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1356</ln><a id="1356">&nbsp;</a><a id="n444087"><a id="n444085"><a id="n444084"><a id="n444086"><a id="n444088"><a id="n444083">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1355">path</a></c26><c10><a href="../../libstd/option.rs.html#n104246">.is_some</a></c10><c4>()</c4><c13><a href="../../libstd/option.rs.html#n103652">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103652">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1357</ln><a id="1357">&nbsp;</a><a id="n444097"><a id="n444089"><a id="n444098"><a id="n444093"><a id="n444094"><a id="n444090"><a id="n444091"><a id="n444096"><a id="n444092"><a id="n444095">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#1357_20_refs">name</a></c20><c13><a href="../../libstd/option.rs.html#n103656">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1355">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1358</ln><a id="1358">&nbsp;</a><a id="n444116"><a id="n444112"><a id="n444117"><a id="n444113"><a id="n444109"><a id="n444105"><a id="n444120"><a id="n444141"><a id="n444145"><a id="n444132"><a id="n444153"><a id="n444124"><a id="n444152"><a id="n444147"><a id="n444104"><a id="n444103"><a id="n444110"><a id="n444142"><a id="n444128"><a id="n444108"><a id="n444130"><a id="n444126"><a id="n444127"><a id="n444149"><a id="n444139"><a id="n444099"><a id="n444143"><a id="n444100"><a id="n444114"><a id="n444129"><a id="n444135"><a id="n444125"><a id="n444140"><a id="n444136"><a id="n444146"><a id="n444138"><a id="n444102"><a id="n444133"><a id="n444118"><a id="n444122"><a id="n444101"><a id="n444137"><a id="n444131"><a id="n444123"><a id="n444119"><a id="n444111"><a id="n444154"><a id="n444144"><a id="n444115"><a id="n444121"><a id="n444155"><a id="n444134">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#238">.note</a></c13><c4>(</c4><c21><a href="../../libstd/option.rs.html#n103656">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164628">"dylib&nbsp;not&nbsp;found:&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164628">"</a></c1><c3>,</c3><c21><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1359</ln><a id="1359">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/vec.rs.html#n58343">
</a></c10><br/><ln>&nbsp;1360</ln><a id="1360">&nbsp;</a>&nbsp;<c10><a href="../../libstd/vec.rs.html#n58343">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1361</ln><a id="1361">&nbsp;</a>&nbsp;<c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1362</ln><a id="1362">&nbsp;</a><a id="n444164"><a id="n444166"><a id="n444253"><a id="n444165"><a id="n444162"><a id="n444295"><a id="n444167"><a id="n444163">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n103652">None</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="#1362_21_refs">pref</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1363</ln><a id="1363">&nbsp;</a><a id="n444169"><a id="n444173"><a id="n444191"><a id="n444172"><a id="n444168"><a id="n444171"><a id="n444178"><a id="n444170"><a id="n444192">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#1363_17_refs">pref</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="#1363_23_refs">name</a></c20><c4>)</c4><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#1311_34_refs">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1362">pref</a></c26><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1364</ln><a id="1364">&nbsp;</a><a id="n444177"><a id="n444175"><a id="n444174"><a id="n444176">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c12><a href="#1311_34_refs">"dynamic&nbsp;linking&nbsp;is&nbsp;preferred</a></c12><c3>,</c3><c12><a href="#1311_34_refs">&nbsp;but&nbsp;dependencies&nbsp;were&nbsp;\
</a></c12><br/><ln>&nbsp;1365</ln><a id="1365">&nbsp;</a>&nbsp;<c12><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1366</ln><a id="1366">&nbsp;</a><a id="n444181"><a id="n444180"><a id="n444179">&nbsp;</a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c3>,</c3><c14><a href="#1311_34_refs">&nbsp;</a></c14><c12><a href="#1311_34_refs">"dylib"</a></c12><c4>)</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1367</ln><a id="1367">&nbsp;</a><a id="n444186"><a id="n444190">&nbsp;</a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1311_34_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1368</ln><a id="1368">&nbsp;</a><a id="n444184"><a id="n444182"><a id="n444183"><a id="n444185">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#211">"dependencies&nbsp;were&nbsp;not&nbsp;all&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;\
</a></c12><br/><ln>&nbsp;1369</ln><a id="1369">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1370</ln><a id="1370">&nbsp;</a><a id="n444189"><a id="n444188"><a id="n444187">&nbsp;</a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c3>,</c3><c14><a href="#1311_34_refs">&nbsp;</a></c14><c12><a href="#1311_34_refs">"rlib"</a></c12><c4>)</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1371</ln><a id="1371">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1372</ln><a id="1372">&nbsp;</a><a id="n444222"><a id="n444249"><a id="n444223"><a id="n444239"><a id="n444234"><a id="n444236"><a id="n444209"><a id="n444219"><a id="n444203"><a id="n444232"><a id="n444244"><a id="n444204"><a id="n444211"><a id="n444225"><a id="n444210"><a id="n444196"><a id="n444240"><a id="n444231"><a id="n444241"><a id="n444220"><a id="n444202"><a id="n444212"><a id="n444233"><a id="n444193"><a id="n444238"><a id="n444208"><a id="n444242"><a id="n444199"><a id="n444207"><a id="n444226"><a id="n444221"><a id="n444215"><a id="n444224"><a id="n444252"><a id="n444214"><a id="n444218"><a id="n444250"><a id="n444205"><a id="n444235"><a id="n444216"><a id="n444213"><a id="n444217"><a id="n444237"><a id="n444246"><a id="n444251"><a id="n444206"><a id="n444243"><a id="n444198">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#238">.note</a></c10><c4>(</c4><c21><a href="#1311_34_refs">format!</a></c21><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1372">"dependencies&nbsp;not&nbsp;found&nbsp;in&nbsp;the&nbsp;`</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#1372">`&nbsp;format"</a></c20><c3>,</c3><c21><a href="#1311_34_refs">
</a></c21><br/><ln>&nbsp;1373</ln><a id="1373">&nbsp;</a><a id="n444227"><a id="n444228"><a id="n444194"><a id="n444229"><a id="n444230"><a id="n444195"><a id="n444197">&nbsp;</a></a></a></a></a></a></a><c21><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#1373_30_refs">name</a></c20><c4>))</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1374</ln><a id="1374">&nbsp;</a><a id="n444293"><a id="n444268"><a id="n444255"><a id="n444262"><a id="n444260"><a id="n444267"><a id="n444256"><a id="n444257"><a id="n444254"><a id="n444266"><a id="n444259"><a id="n444261"><a id="n444290"><a id="n444291"><a id="n444263"><a id="n444258"><a id="n444292"><a id="n444264"><a id="n444269"><a id="n444265"><a id="n444294">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c21><c4>(</c4><c20><a href="#1374_17_refs">cnum</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="#1374_23_refs">path</a></c20><c4>)</c4><c21><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1363">pref</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n57166">.move_iter</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c21><c3>{</c3><c22><a href="#1374_12_refs">
</a></c22><br/><ln>&nbsp;1375</ln><a id="1375">&nbsp;</a><a id="n444275"><a id="n444272"><a id="n444274"><a id="n444271"><a id="n444273"><a id="n444270">&nbsp;</a></a></a></a></a></a><c22><a href="#1374_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1374">path</a></c26><c10><a href="../../libstd/option.rs.html#n104246">.is_some</a></c10><c4>()</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="#1374_12_refs">
</a></c22><br/><ln>&nbsp;1376</ln><a id="1376">&nbsp;</a><a id="n444279"><a id="n444278"><a id="n444280"><a id="n444282"><a id="n444276"><a id="n444277"><a id="n444285"><a id="n444281"><a id="n444284"><a id="n444283">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1374_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1374_12_refs">&nbsp;</a></c22><c20><a href="#1376_20_refs">name</a></c20><c13><a href="#1374_12_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1374">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1374_12_refs">
</a></c22><br/><ln>&nbsp;1377</ln><a id="1377">&nbsp;</a><a id="n444286"><a id="n444288"><a id="n444289"><a id="n444287">&nbsp;</a></a></a></a><c22><a href="#1374_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1312">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#238">.note</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1376">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1374_12_refs">
</a></c22><br/><ln>&nbsp;1378</ln><a id="1378">&nbsp;</a>&nbsp;<c22><a href="#1374_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n103656">
</a></c21><br/><ln>&nbsp;1379</ln><a id="1379">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1380</ln><a id="1380">&nbsp;</a>&nbsp;<c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1381</ln><a id="1381">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1382</ln><a id="1382">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Converts&nbsp;a&nbsp;library&nbsp;file-stem&nbsp;into&nbsp;a&nbsp;cc&nbsp;-l&nbsp;argument
</c40><br/><ln>&nbsp;1383</ln><a id="1383">&nbsp;</a><a id="n444308"><a id="n444302"><a id="n444310"><a id="n444301"><a id="n444298"><a id="n444312"><a id="n444306"><a id="n444307"><a id="n444311"><a id="n444303"><a id="n444333">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1383_4_refs">&nbsp;unlib</a></c30><c4>(</c4><c20><a href="#1383_13_refs">config</a></c20><c13><a href="#1383_4_refs">:&nbsp;</a></c13><c8><a href="#1311_34_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#32">session::Config</a></c8><c3>,</c3><c13><a href="#1383_4_refs">&nbsp;</a></c13><c20><a href="#1383_39_refs">stem</a></c20><c13><a href="#1383_4_refs">:&nbsp;</a></c13><c8><a href="#1383_4_refs">&amp;str</a></c8><c4>)</c4><c13><a href="#1383_4_refs">&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#1383_4_refs">&nbsp;</a></c13><c8><a href="#1383_4_refs">~</a></c8><c8><a href="#1311_34_refs">str</a></c8><c13><a href="#1383_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1383_4_refs">
</a></c22><br/><ln>&nbsp;1384</ln><a id="1384">&nbsp;</a><a id="n444314"><a id="n444332"><a id="n444321"><a id="n444313"><a id="n444315"><a id="n444318"><a id="n444319"><a id="n444317"><a id="n444320"><a id="n444316">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1383_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1383">stem</a></c26><c10><a href="../../libstd/str.rs.html#n66153">.starts_with</a></c10><c4>(</c4><c12><a href="#1311_34_refs">"lib"</a></c12><c4>)</c4><c1><a href="#1311_34_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1383">config</a></c26><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1311_34_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14689">abi::OsWin32</a></c26><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1385</ln><a id="1385">&nbsp;</a><a id="n444322"><a id="n444323"><a id="n444325"><a id="n444324"><a id="n444326"><a id="n444327">&nbsp;</a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1383">stem</a></c26><c10><a href="../../libstd/str.rs.html#n65710">.slice</a></c10><c4>(</c4><c12><a href="#1311_34_refs">3</a></c12><c3>,</c3><c10><a href="../../libstd/str.rs.html#n65710">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1383">stem</a></c26><c10><a href="../../libstd/str.rs.html#n64595">.len</a></c10><c4>())</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1386</ln><a id="1386">&nbsp;</a><a id="n444328"><a id="n444331">&nbsp;</a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1311_34_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1387</ln><a id="1387">&nbsp;</a><a id="n444330"><a id="n444329">&nbsp;</a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1383">stem</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1388</ln><a id="1388">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1383_4_refs">
</a></c22><br/><ln>&nbsp;1389</ln><a id="1389">&nbsp;</a>&nbsp;<c22><a href="#1383_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1390</ln><a id="1390">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1391</ln><a id="1391">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Attempts&nbsp;to&nbsp;find&nbsp;all&nbsp;dependencies&nbsp;with&nbsp;a&nbsp;certain&nbsp;linkage&nbsp;preference,
</c40><br/><ln>&nbsp;1392</ln><a id="1392">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;returning&nbsp;`None`&nbsp;if&nbsp;not&nbsp;all&nbsp;libraries&nbsp;could&nbsp;be&nbsp;found&nbsp;with&nbsp;that
</c40><br/><ln>&nbsp;1393</ln><a id="1393">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;preference.
</c40><br/><ln>&nbsp;1394</ln><a id="1394">&nbsp;</a><a id="n444342"><a id="n444334"><a id="n444338"><a id="n444343"><a id="n444398"><a id="n444337"><a id="n444339">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1394_4_refs">&nbsp;get_deps</a></c30><c4>(</c4><c20><a href="#1394_16_refs">cstore</a></c20><c13><a href="#1394_4_refs">:&nbsp;</a></c13><c8><a href="#1394_4_refs">&amp;</a></c8><c8><a href="../../librustc/metadata/cstore.rs.html#69">cstore::CStore</a></c8><c3>,</c3><c13><a href="#1394_4_refs">&nbsp;&nbsp;</a></c13><c20><a href="#1394_42_refs">preference</a></c20><c13><a href="#1394_4_refs">:&nbsp;</a></c13><c8><a href="../../librustc/metadata/cstore.rs.html#48">cstore::LinkagePreference</a></c8><c4>)</c4><c13><a href="#1394_4_refs">
</a></c13><br/><ln>&nbsp;1395</ln><a id="1395">&nbsp;</a><a id="n444347"><a id="n444345"><a id="n444350"><a id="n444352"><a id="n444348">&nbsp;</a></a></a></a></a><c13><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#1394_4_refs">&nbsp;</a></c13><c8><a href="../../libstd/option.rs.html#n103651">Option&lt;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18297">ast::CrateNum</a></c8><c3>,</c3><c8><a href="../../libstd/vec.rs.html#n55889">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c8><a href="../../libstd/option.rs.html#n103651">&nbsp;&gt;</a></c8><c13><a href="#1394_4_refs">
</a></c13><br/><ln>&nbsp;1396</ln><a id="1396">&nbsp;</a><a id="n444360">&nbsp;</a><c13><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>{</c3><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1397</ln><a id="1397">&nbsp;</a><a id="n444359"><a id="n444356"><a id="n444358"><a id="n444355"><a id="n444354"><a id="n444353"><a id="n444357">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1394_4_refs">&nbsp;</a></c22><c20><a href="#1397_12_refs">crates</a></c20><c16><a href="#1394_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1394">cstore</a></c26><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1394">preference</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1398</ln><a id="1398">&nbsp;</a><a id="n444371"><a id="n444397"><a id="n444370"><a id="n444375"><a id="n444368"><a id="n444364"><a id="n444367"><a id="n444373"><a id="n444374"><a id="n444361"><a id="n444366"><a id="n444365"><a id="n444372"><a id="n444369"><a id="n444362">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1394_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1397">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3215">.all</a></c10><c4>(</c4><c1><a href="#1394_4_refs">|</a></c1><c20><a href="#1394_4_refs">&amp;</a></c20><c4>(</c4><c20><a href="#1394_4_refs">_</a></c20><c3>,</c3><c20><a href="#1394_4_refs">&nbsp;</a></c20><c20><a href="#1398_35_refs">ref&nbsp;p</a></c20><c4>)</c4><c8><a href="#1394_4_refs">|</a></c8><c1><a href="#1394_4_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1398">p</a></c8><c10><a href="../../libstd/option.rs.html#n104246">.is_some</a></c10><c4>())</c4><c21><a href="#1394_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1399</ln><a id="1399">&nbsp;</a><a id="n444385"><a id="n444377"><a id="n444383"><a id="n444391"><a id="n444390"><a id="n444387"><a id="n444381"><a id="n444382"><a id="n444386"><a id="n444376"><a id="n444392"><a id="n444378"><a id="n444393"><a id="n444388"><a id="n444384"><a id="n444389"><a id="n444380">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n103656">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1397">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57166">.move_iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3251">.map</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3251">|</a></c1><c4>(</c4><c20><a href="#1399_42_refs">a</a></c20><c3>,</c3><c20><a href="#1394_4_refs">&nbsp;</a></c20><c20><a href="#1399_45_refs">b</a></c20><c4>)</c4><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3251">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3251">&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1399">a</a></c26><c3>,</c3><c14><a href="#1394_4_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1399">b</a></c26><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()))</c4><c10><a href="c=1 n=244398">.collect</a></c10><c4>())</c4><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1400</ln><a id="1400">&nbsp;</a><a id="n444394"><a id="n444396">&nbsp;</a></a><c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1394_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1394_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1401</ln><a id="1401">&nbsp;</a><a id="n444395">&nbsp;</a><c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n103652">None</a></c26><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1402</ln><a id="1402">&nbsp;</a>&nbsp;<c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1394_4_refs">
</a></c22><br/><ln>&nbsp;1403</ln><a id="1403">&nbsp;</a>&nbsp;<c22><a href="#1394_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1404</ln><a id="1404">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1405</ln><a id="1405">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Adds&nbsp;the&nbsp;static&nbsp;"rlib"&nbsp;versions&nbsp;of&nbsp;all&nbsp;crates&nbsp;to&nbsp;the&nbsp;command&nbsp;line.
</c40><br/><ln>&nbsp;1406</ln><a id="1406">&nbsp;</a><a id="n444410"><a id="n444402"><a id="n444417"><a id="n444767"><a id="n444416"><a id="n444399"><a id="n444403"><a id="n444415"><a id="n444411"><a id="n444412"><a id="n444407"><a id="n444405"><a id="n444406">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1406_4_refs">&nbsp;add_static_crates</a></c30><c4>(</c4><c20><a href="#1406_25_refs">args</a></c20><c1><a href="#1406_4_refs">:&nbsp;</a></c1><c8><a href="#1406_4_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c8><a href="#1406_4_refs">~</a></c8><c8><a href="#1311_34_refs">str</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c3>,</c3><c1><a href="#1406_4_refs">&nbsp;</a></c1><c20><a href="#1406_47_refs">sess</a></c20><c1><a href="#1406_4_refs">:&nbsp;</a></c1><c8><a href="#1406_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1406_4_refs">&nbsp;</a></c1><c20><a href="#1406_63_refs">tmpdir</a></c20><c1><a href="#1406_4_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c3>,</c3><c1><a href="#1406_4_refs">
</a></c1><br/><ln>&nbsp;1407</ln><a id="1407">&nbsp;</a><a id="n444428"><a id="n444425"><a id="n444422"><a id="n444420"><a id="n444427"><a id="n444423"><a id="n444426">&nbsp;</a></a></a></a></a></a></a><c1><a href="#1406_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1407_25_refs">crates</a></c20><c1><a href="#1406_4_refs">:&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18297">ast::CrateNum</a></c8><c3>,</c3><c8><a href="../../libstd/vec.rs.html#n55889">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c4>)</c4><c1><a href="#1406_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1408</ln><a id="1408">&nbsp;</a><a id="n444765"><a id="n444763"><a id="n444766"><a id="n444439"><a id="n444437"><a id="n444429"><a id="n444434"><a id="n444431"><a id="n444438"><a id="n444436"><a id="n444433"><a id="n444764"><a id="n444435"><a id="n444432"><a id="n444430"><a id="n444442"><a id="n444440"><a id="n444441">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c4>(</c4><c20><a href="#1408_13_refs">cnum</a></c20><c3>,</c3><c20><a href="#1408_8_refs">&nbsp;</a></c20><c20><a href="#1408_19_refs">cratepath</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1407">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57166">.move_iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1409</ln><a id="1409">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;performing&nbsp;LTO&nbsp;on&nbsp;an&nbsp;executable&nbsp;output,&nbsp;all&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1410</ln><a id="1410">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;bytecode&nbsp;from&nbsp;the&nbsp;upstream&nbsp;libraries&nbsp;has&nbsp;already&nbsp;been
</c40><br/><ln>&nbsp;1411</ln><a id="1411">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;included&nbsp;in&nbsp;our&nbsp;object&nbsp;file&nbsp;output.&nbsp;We&nbsp;need&nbsp;to&nbsp;modify&nbsp;all&nbsp;of
</c40><br/><ln>&nbsp;1412</ln><a id="1412">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;remove&nbsp;their&nbsp;corresponding&nbsp;object
</c40><br/><ln>&nbsp;1413</ln><a id="1413">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file&nbsp;to&nbsp;make&nbsp;sure&nbsp;we&nbsp;don't&nbsp;pull&nbsp;the&nbsp;same&nbsp;code&nbsp;in&nbsp;twice.
</c40><br/><ln>&nbsp;1414</ln><a id="1414">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1415</ln><a id="1415">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;must&nbsp;continue&nbsp;to&nbsp;link&nbsp;to&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;be&nbsp;sure
</c40><br/><ln>&nbsp;1416</ln><a id="1416">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;pull&nbsp;in&nbsp;native&nbsp;static&nbsp;dependencies.&nbsp;As&nbsp;the&nbsp;final&nbsp;caveat,
</c40><br/><ln>&nbsp;1417</ln><a id="1417">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;on&nbsp;linux&nbsp;it&nbsp;is&nbsp;apparently&nbsp;illegal&nbsp;to&nbsp;link&nbsp;to&nbsp;a&nbsp;blank&nbsp;archive,
</c40><br/><ln>&nbsp;1418</ln><a id="1418">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;if&nbsp;an&nbsp;archive&nbsp;no&nbsp;longer&nbsp;has&nbsp;any&nbsp;object&nbsp;files&nbsp;in&nbsp;it&nbsp;after
</c40><br/><ln>&nbsp;1419</ln><a id="1419">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;remove&nbsp;`lib.o`,&nbsp;then&nbsp;don't&nbsp;link&nbsp;against&nbsp;it&nbsp;at&nbsp;all.
</c40><br/><ln>&nbsp;1420</ln><a id="1420">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1421</ln><a id="1421">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;doing&nbsp;LTO,&nbsp;then&nbsp;our&nbsp;job&nbsp;is&nbsp;simply&nbsp;to&nbsp;just&nbsp;link
</c40><br/><ln>&nbsp;1422</ln><a id="1422">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;against&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;1423</ln><a id="1423">&nbsp;</a><a id="n444752"><a id="n444762"><a id="n444443"><a id="n444444">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#311">.lto</a></c10><c4>()</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1424</ln><a id="1424">&nbsp;</a><a id="n444448"><a id="n444446"><a id="n444451"><a id="n444452"><a id="n444447"><a id="n444453"><a id="n444450"><a id="n444445"><a id="n444454"><a id="n444449">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1424_20_refs">name</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1408">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n68836">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1425</ln><a id="1425">&nbsp;</a><a id="n444500"><a id="n444495"><a id="n444461"><a id="n444455"><a id="n444489"><a id="n444487"><a id="n444510"><a id="n444471"><a id="n444459"><a id="n444466"><a id="n444474"><a id="n444503"><a id="n444480"><a id="n444750"><a id="n444475"><a id="n444499"><a id="n444504"><a id="n444470"><a id="n444467"><a id="n444484"><a id="n444460"><a id="n444462"><a id="n444472"><a id="n444481"><a id="n444486"><a id="n444457"><a id="n444513"><a id="n444458"><a id="n444506"><a id="n444507"><a id="n444497"><a id="n444468"><a id="n444496"><a id="n444505"><a id="n444456"><a id="n444463"><a id="n444485"><a id="n444473"><a id="n444502"><a id="n444488"><a id="n444477"><a id="n444479"><a id="n444492"><a id="n444476"><a id="n444491"><a id="n444478"><a id="n444508"><a id="n444483"><a id="n444469"><a id="n444498"><a id="n444482"><a id="n444501"><a id="n444493"><a id="n444751"><a id="n444514"><a id="n444494"><a id="n444490">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#293">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#1311_34_refs">&nbsp;</a></c13><c21><a href="#1311_34_refs">format!</a></c21><c4>(</c4><c20><a href="#1425_49_refs">"altering&nbsp;</a></c20><c3>{}</c3><c20><a href="#1425_49_refs">.rlib"</a></c20><c3>,</c3><c21><a href="#1311_34_refs">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#1425">name</a></c27><c4>)</c4><c3>,</c3><c13><a href="#1311_34_refs">
</a></c13><br/><ln>&nbsp;1426</ln><a id="1426">&nbsp;</a><a id="n444517"><a id="n444749"><a id="n444748"><a id="n444520"><a id="n444729"><a id="n444515"><a id="n444518"><a id="n444521"><a id="n444519">&nbsp;</a></a></a></a></a></a></a></a></a><c13><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#1311_34_refs">&nbsp;</a></c13><c1><a href="#1311_34_refs">|</a></c1><c4>()</c4><c8><a href="#1311_34_refs">|</a></c8><c1><a href="#1311_34_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1427</ln><a id="1427">&nbsp;</a><a id="n444529"><a id="n444527"><a id="n444524"><a id="n444525"><a id="n444522"><a id="n444523"><a id="n444530"><a id="n444526"><a id="n444528">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1427_24_refs">dst</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1406">tmpdir</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3811">.join</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1408">cratepath</a></c26><c10><a href="../../libstd/path/posix.rs.html#n150048">.filename</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1428</ln><a id="1428">&nbsp;</a><a id="n444533"><a id="n444534"><a id="n444535"><a id="n444532"><a id="n444536"><a id="n444531"><a id="n444649"><a id="n444648">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n135173">fs::copy</a></c26><c4>(</c4><c5><a href="#1311_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1408">cratepath</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c5><a href="#1311_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1427">dst</a></c26><c4>)</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1311_34_refs">
</a></c21><br/><ln>&nbsp;1429</ln><a id="1429">&nbsp;</a><a id="n444539"><a id="n444538"><a id="n444537">&nbsp;</a></a></a><c21><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105112">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105112">..</a></c20><c4>)</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#1311_34_refs">
</a></c21><br/><ln>&nbsp;1430</ln><a id="1430">&nbsp;</a><a id="n444540"><a id="n444541"><a id="n444647"><a id="n444646">&nbsp;</a></a></a></a><c21><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105116">Err</a></c20><c4>(</c4><c20><a href="#1430_28_refs">e</a></c20><c4>)</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1431</ln><a id="1431">&nbsp;</a><a id="n444556"><a id="n444631"><a id="n444577"><a id="n444599"><a id="n444639"><a id="n444568"><a id="n444621"><a id="n444559"><a id="n444542"><a id="n444641"><a id="n444565"><a id="n444583"><a id="n444589"><a id="n444563"><a id="n444579"><a id="n444562"><a id="n444623"><a id="n444573"><a id="n444604"><a id="n444596"><a id="n444603"><a id="n444633"><a id="n444575"><a id="n444567"><a id="n444588"><a id="n444640"><a id="n444590"><a id="n444581"><a id="n444624"><a id="n444586"><a id="n444622"><a id="n444594"><a id="n444551"><a id="n444598"><a id="n444574"><a id="n444601"><a id="n444569"><a id="n444605"><a id="n444634"><a id="n444572"><a id="n444570"><a id="n444626"><a id="n444632"><a id="n444580"><a id="n444593"><a id="n444595"><a id="n444560"><a id="n444582"><a id="n444592"><a id="n444576"><a id="n444597"><a id="n444628"><a id="n444561"><a id="n444606"><a id="n444584"><a id="n444571"><a id="n444602"><a id="n444636"><a id="n444555"><a id="n444600"><a id="n444585"><a id="n444607"><a id="n444608"><a id="n444642"><a id="n444587"><a id="n444629"><a id="n444627"><a id="n444591"><a id="n444625"><a id="n444578"><a id="n444566"><a id="n444564"><a id="n444630">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1431">"failed&nbsp;to&nbsp;copy&nbsp;</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1431">&nbsp;to&nbsp;</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1431">:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1431">"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1432</ln><a id="1432">&nbsp;</a><a id="n444611"><a id="n444552"><a id="n444612"><a id="n444610"><a id="n444545"><a id="n444543"><a id="n444609"><a id="n444544">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1408">cratepath</a></c26><c10><a href="c=1 n=246691">.display</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1433</ln><a id="1433">&nbsp;</a><a id="n444546"><a id="n444553"><a id="n444616"><a id="n444613"><a id="n444548"><a id="n444547"><a id="n444615"><a id="n444614">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1427">dst</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n165026">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1434</ln><a id="1434">&nbsp;</a><a id="n444550"><a id="n444620"><a id="n444619"><a id="n444618"><a id="n444554"><a id="n444549"><a id="n444617">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166625">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1435</ln><a id="1435">&nbsp;</a><a id="n444644"><a id="n444645"><a id="n444643">&nbsp;</a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1436</ln><a id="1436">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1311_34_refs">
</a></c21><br/><ln>&nbsp;1437</ln><a id="1437">&nbsp;</a>&nbsp;<c21><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1438</ln><a id="1438">&nbsp;</a><a id="n444654"><a id="n444655"><a id="n444657"><a id="n444656"><a id="n444650"><a id="n444651"><a id="n444652"><a id="n444653">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1438_24_refs">dst_str</a></c20><c16><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1427">dst</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1439</ln><a id="1439">&nbsp;</a><a id="n444664"><a id="n444659"><a id="n444661"><a id="n444658"><a id="n444660"><a id="n444663"><a id="n444665"><a id="n444662">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1439_24_refs">&nbsp;archive</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/archive.rs.html#87">Archive::open</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1406">sess</a></c26><c3>,</c3><c27><a href="#1311_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1427">dst</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1440</ln><a id="1440">&nbsp;</a><a id="n444707"><a id="n444700"><a id="n444689"><a id="n444697"><a id="n444677"><a id="n444683"><a id="n444690"><a id="n444696"><a id="n444670"><a id="n444721"><a id="n444672"><a id="n444713"><a id="n444687"><a id="n444678"><a id="n444667"><a id="n444685"><a id="n444709"><a id="n444719"><a id="n444706"><a id="n444708"><a id="n444704"><a id="n444701"><a id="n444691"><a id="n444711"><a id="n444699"><a id="n444720"><a id="n444710"><a id="n444682"><a id="n444668"><a id="n444666"><a id="n444716"><a id="n444705"><a id="n444714"><a id="n444692"><a id="n444722"><a id="n444694"><a id="n444712"><a id="n444698"><a id="n444671"><a id="n444679"><a id="n444702"><a id="n444680"><a id="n444669"><a id="n444688"><a id="n444681"><a id="n444693"><a id="n444703"><a id="n444675"><a id="n444686"><a id="n444684"><a id="n444676"><a id="n444695">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1439">archive</a></c26><c13><a href="../../librustc/back/archive.rs.html#122">.remove_file</a></c13><c4>(</c4><c21><a href="../../librustc/back/archive.rs.html#122">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164654">"</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164654">.o"</a></c8><c3>,</c3><c21><a href="../../librustc/back/archive.rs.html#122">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n165026">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1441</ln><a id="1441">&nbsp;</a><a id="n444723"><a id="n444727"><a id="n444724"><a id="n444726"><a id="n444728"><a id="n444725">&nbsp;</a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1311_34_refs">&nbsp;</a></c22><c20><a href="#1441_24_refs">files</a></c20><c13><a href="#1311_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1439">archive</a></c26><c10><a href="../../librustc/back/archive.rs.html#132">.files</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1442</ln><a id="1442">&nbsp;</a><a id="n444733"><a id="n444735"><a id="n444734"><a id="n444738"><a id="n444730"><a id="n444736"><a id="n444737"><a id="n444747"><a id="n444731"><a id="n444739"><a id="n444741"><a id="n444746"><a id="n444740">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1441">files</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3215">.any</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3215">|</a></c1><c20><a href="#1442_41_refs">s</a></c20><c8><a href="#1311_34_refs">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3215">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1442">s</a></c26><c10><a href="../../libstd/str.rs.html#n66185">.ends_with</a></c10><c4>(</c4><c12><a href="#1311_34_refs">".o"</a></c12><c4>))</c4><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1443</ln><a id="1443">&nbsp;</a><a id="n444744"><a id="n444743"><a id="n444742"><a id="n444745">&nbsp;</a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1438">dst_str</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1444</ln><a id="1444">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1445</ln><a id="1445">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1446</ln><a id="1446">&nbsp;</a><a id="n444761"><a id="n444760">&nbsp;</a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1311_34_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1311_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1447</ln><a id="1447">&nbsp;</a><a id="n444753"><a id="n444758"><a id="n444755"><a id="n444756"><a id="n444754"><a id="n444759"><a id="n444757">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1408">cratepath</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3809">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1448</ln><a id="1448">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1449</ln><a id="1449">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n103656">
</a></c20><br/><ln>&nbsp;1450</ln><a id="1450">&nbsp;</a>&nbsp;<c20><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1451</ln><a id="1451">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1452</ln><a id="1452">&nbsp;</a>&nbsp;<c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Same&nbsp;thing&nbsp;as&nbsp;above,&nbsp;but&nbsp;for&nbsp;dynamic&nbsp;crates&nbsp;instead&nbsp;of&nbsp;static&nbsp;crates.
</c40><br/><ln>&nbsp;1453</ln><a id="1453">&nbsp;</a><a id="n444772"><a id="n444779"><a id="n444774"><a id="n444775"><a id="n444925"><a id="n444771"><a id="n444781"><a id="n444768"><a id="n444776"><a id="n444780">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#1311_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1453_4_refs">&nbsp;add_dynamic_crates</a></c30><c4>(</c4><c20><a href="#1453_26_refs">args</a></c20><c1><a href="#1453_4_refs">:&nbsp;</a></c1><c8><a href="#1311_34_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c8><a href="#1311_34_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c3>,</c3><c1><a href="#1453_4_refs">&nbsp;</a></c1><c20><a href="#1453_48_refs">sess</a></c20><c1><a href="#1453_4_refs">:&nbsp;</a></c1><c8><a href="#1453_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1453_4_refs">
</a></c1><br/><ln>&nbsp;1454</ln><a id="1454">&nbsp;</a><a id="n444784"><a id="n444787"><a id="n444790"><a id="n444869"><a id="n444789"><a id="n444786"><a id="n444791">&nbsp;</a></a></a></a></a></a></a><c1><a href="#1453_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1454_26_refs">crates</a></c20><c1><a href="#1453_4_refs">:&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18297">ast::CrateNum</a></c8><c3>,</c3><c8><a href="#1311_34_refs">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n149386">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n55889">&gt;</a></c8><c1><a href="#1453_4_refs">&nbsp;</a></c1><c4>)</c4><c1><a href="#1453_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1453_4_refs">
</a></c22><br/><ln>&nbsp;1455</ln><a id="1455">&nbsp;</a>&nbsp;<c22><a href="#1453_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;performing&nbsp;LTO,&nbsp;then&nbsp;it&nbsp;should&nbsp;have&nbsp;been&nbsp;previously&nbsp;required
</c40><br/><ln>&nbsp;1456</ln><a id="1456">&nbsp;</a>&nbsp;<c22><a href="#1453_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;all&nbsp;upstream&nbsp;rust&nbsp;dependencies&nbsp;were&nbsp;available&nbsp;in&nbsp;an&nbsp;rlib&nbsp;format.
</c40><br/><ln>&nbsp;1457</ln><a id="1457">&nbsp;</a><a id="n444793"><a id="n444792"><a id="n444794">&nbsp;</a></a></a><c22><a href="#1453_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#1453_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1453">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#311">.lto</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1453_4_refs">
</a></c22><br/><ln>&nbsp;1458</ln><a id="1458">&nbsp;</a>&nbsp;<c22><a href="#1453_4_refs">
</a></c22><br/><ln>&nbsp;1459</ln><a id="1459">&nbsp;</a><a id="n444871"><a id="n444881"><a id="n444880"><a id="n444874"><a id="n444922"><a id="n444875"><a id="n444923"><a id="n444924"><a id="n444877"><a id="n444878"><a id="n444872"><a id="n444870"><a id="n444876"><a id="n444873"><a id="n444882"><a id="n444921"><a id="n444920"><a id="n444879">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1453_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c4>(</c4><c20><a href="#1311_34_refs">_</a></c20><c3>,</c3><c20><a href="#1311_34_refs">&nbsp;</a></c20><c20><a href="#1459_16_refs">cratepath</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1454">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57166">.move_iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1460</ln><a id="1460">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Just&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;about&nbsp;where&nbsp;the&nbsp;library&nbsp;lives&nbsp;and
</c40><br/><ln>&nbsp;1461</ln><a id="1461">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;what&nbsp;its&nbsp;name&nbsp;is
</c40><br/><ln>&nbsp;1462</ln><a id="1462">&nbsp;</a><a id="n444887"><a id="n444886"><a id="n444888"><a id="n444885"><a id="n444889"><a id="n444884"><a id="n444883">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#1462_16_refs">dir</a></c20><c16><a href="../../libstd/option.rs.html#n103656">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1459">cratepath</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3810">.dirname_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1463</ln><a id="1463">&nbsp;</a><a id="n444896"><a id="n444890"><a id="n444900"><a id="n444893"><a id="n444901"><a id="n444897"><a id="n444892"><a id="n444898"><a id="n444894"><a id="n444899"><a id="n444891"><a id="n444895">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1311_34_refs">&nbsp;</a></c13><c5><a href="#1311_34_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1462">dir</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3319">.is_empty</a></c10><c4>()</c4><c13><a href="#1311_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1311_34_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1453">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c12><a href="#1311_34_refs">"-L"</a></c12><c5><a href="#1311_34_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1462">dir</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1311_34_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1464</ln><a id="1464">&nbsp;</a><a id="n444907"><a id="n444908"><a id="n444911"><a id="n444903"><a id="n444902"><a id="n444906"><a id="n444909"><a id="n444913"><a id="n444904"><a id="n444910"><a id="n444912"><a id="n444905">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;</a></c22><c20><a href="#1464_16_refs">libarg</a></c20><c13><a href="../../libstd/vec.rs.html#n58343">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1383">unlib</a></c26><c4>(</c4><c5><a href="#1311_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1453">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n58343">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1459">cratepath</a></c26><c10><a href="c=1 n=246696">.filestem_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n104388">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1465</ln><a id="1465">&nbsp;</a><a id="n444917"><a id="n444915"><a id="n444916"><a id="n444919"><a id="n444914"><a id="n444918">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1453">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c12><a href="#1311_34_refs">"-l"</a></c12><c5><a href="#1311_34_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1464">libarg</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1466</ln><a id="1466">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n103656">
</a></c20><br/><ln>&nbsp;1467</ln><a id="1467">&nbsp;</a>&nbsp;<c20><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c22><a href="#1311_34_refs">
</a></c22><br/><ln>&nbsp;1468</ln><a id="1468">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1469</ln><a id="1469">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1470</ln><a id="1470">&nbsp;</a>&nbsp;<c40>//&nbsp;Link&nbsp;in&nbsp;all&nbsp;of&nbsp;our&nbsp;upstream&nbsp;crates'&nbsp;native&nbsp;dependencies.&nbsp;Remember&nbsp;that
</c40><br/><ln>&nbsp;1471</ln><a id="1471">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;these&nbsp;upstream&nbsp;native&nbsp;depenencies&nbsp;are&nbsp;all&nbsp;non-static
</c40><br/><ln>&nbsp;1472</ln><a id="1472">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies.&nbsp;We've&nbsp;got&nbsp;two&nbsp;cases&nbsp;then:
</c40><br/><ln>&nbsp;1473</ln><a id="1473">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1474</ln><a id="1474">&nbsp;</a>&nbsp;<c40>//&nbsp;1.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;an&nbsp;rlib.&nbsp;In&nbsp;this&nbsp;case&nbsp;we&nbsp;*must*&nbsp;link&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;1475</ln><a id="1475">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;native&nbsp;dependency&nbsp;because&nbsp;the&nbsp;rlib&nbsp;is&nbsp;just&nbsp;an&nbsp;archive.
</c40><br/><ln>&nbsp;1476</ln><a id="1476">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1477</ln><a id="1477">&nbsp;</a>&nbsp;<c40>//&nbsp;2.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;a&nbsp;dylib.&nbsp;In&nbsp;order&nbsp;to&nbsp;use&nbsp;the&nbsp;dylib,&nbsp;we&nbsp;have&nbsp;to
</c40><br/><ln>&nbsp;1478</ln><a id="1478">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;the&nbsp;dependency&nbsp;present&nbsp;on&nbsp;the&nbsp;system&nbsp;somewhere.&nbsp;Thus,&nbsp;we&nbsp;don't
</c40><br/><ln>&nbsp;1479</ln><a id="1479">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;gain&nbsp;a&nbsp;whole&nbsp;lot&nbsp;from&nbsp;not&nbsp;linking&nbsp;in&nbsp;the&nbsp;dynamic&nbsp;dependency&nbsp;to&nbsp;this
</c40><br/><ln>&nbsp;1480</ln><a id="1480">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;crate&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1481</ln><a id="1481">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1482</ln><a id="1482">&nbsp;</a>&nbsp;<c40>//&nbsp;The&nbsp;use&nbsp;case&nbsp;for&nbsp;this&nbsp;is&nbsp;a&nbsp;little&nbsp;subtle.&nbsp;In&nbsp;theory&nbsp;the&nbsp;native
</c40><br/><ln>&nbsp;1483</ln><a id="1483">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies&nbsp;of&nbsp;a&nbsp;crate&nbsp;a&nbsp;purely&nbsp;an&nbsp;implementation&nbsp;detail&nbsp;of&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1484</ln><a id="1484">&nbsp;</a>&nbsp;<c40>//&nbsp;itself,&nbsp;but&nbsp;the&nbsp;problem&nbsp;arises&nbsp;with&nbsp;generic&nbsp;and&nbsp;inlined&nbsp;functions.&nbsp;If&nbsp;a
</c40><br/><ln>&nbsp;1485</ln><a id="1485">&nbsp;</a>&nbsp;<c40>//&nbsp;generic&nbsp;function&nbsp;calls&nbsp;a&nbsp;native&nbsp;function,&nbsp;then&nbsp;the&nbsp;generic&nbsp;function&nbsp;must
</c40><br/><ln>&nbsp;1486</ln><a id="1486">&nbsp;</a>&nbsp;<c40>//&nbsp;be&nbsp;instantiated&nbsp;in&nbsp;the&nbsp;target&nbsp;crate,&nbsp;meaning&nbsp;that&nbsp;the&nbsp;native&nbsp;symbol&nbsp;must
</c40><br/><ln>&nbsp;1487</ln><a id="1487">&nbsp;</a><a id="n444927">&nbsp;</a><c40>//&nbsp;also&nbsp;be&nbsp;resolved&nbsp;in&nbsp;the&nbsp;target&nbsp;crate.
</c40><br/><ln>&nbsp;1488</ln><a id="1488">&nbsp;</a><a id="n444933"><a id="n444939"><a id="n444931"><a id="n444934"><a id="n444935"><a id="n444930"><a id="n444940"><a id="n445019"><a id="n444938"><a id="n444941">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#1487_41_refs">&nbsp;add_upstream_native_libraries</a></c30><c4>(</c4><c20><a href="#1488_33_refs">args</a></c20><c1><a href="#1487_41_refs">:&nbsp;</a></c1><c8><a href="#1487_41_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n55889">Vec&lt;~str&gt;</a></c8><c3>,</c3><c1><a href="#1487_41_refs">&nbsp;</a></c1><c20><a href="#1488_55_refs">sess</a></c20><c1><a href="#1487_41_refs">:&nbsp;</a></c1><c8><a href="#1487_41_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#1487_41_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1487_41_refs">
</a></c22><br/><ln>&nbsp;1489</ln><a id="1489">&nbsp;</a><a id="n444946"><a id="n444945"><a id="n444942"><a id="n444944"><a id="n444948"><a id="n444947"><a id="n444943">&nbsp;</a></a></a></a></a></a></a><c22><a href="#1487_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1487_41_refs">&nbsp;</a></c22><c20><a href="#1489_8_refs">cstore</a></c20><c13><a href="#1487_41_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#1487_41_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1488">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>;</c3><c22><a href="#1487_41_refs">
</a></c22><br/><ln>&nbsp;1490</ln><a id="1490">&nbsp;</a><a id="n444952"><a id="n445016"><a id="n445017"><a id="n445015"><a id="n444955"><a id="n444966"><a id="n444957"><a id="n444956"><a id="n444951"><a id="n444954"><a id="n444949"><a id="n445018">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#1487_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1489">cstore</a></c26><c13><a href="../../librustc/metadata/cstore.rs.html#111">.iter_crate_data</a></c13><c4>(</c4><c1><a href="../../librustc/metadata/cstore.rs.html#111">|</a></c1><c20><a href="#1490_28_refs">cnum</a></c20><c3>,</c3><c1><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c1><c20><a href="../../librustc/metadata/cstore.rs.html#111">_</a></c20><c8><a href="../../librustc/metadata/cstore.rs.html#111">|</a></c8><c1><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1491</ln><a id="1491">&nbsp;</a><a id="n444964"><a id="n444959"><a id="n444960"><a id="n444963"><a id="n444965"><a id="n444962"><a id="n444961"><a id="n444958">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c22><c20><a href="#1491_12_refs">libs</a></c20><c16><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/metadata/csearch.rs.html#240">csearch::get_native_libraries</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1489">cstore</a></c26><c3>,</c3><c27><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1490">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1492</ln><a id="1492">&nbsp;</a><a id="n444967"><a id="n444979"><a id="n444969"><a id="n444975"><a id="n444972"><a id="n444980"><a id="n445011"><a id="n444978"><a id="n444973"><a id="n444974"><a id="n444968"><a id="n444971"><a id="n445012"><a id="n444970"><a id="n444976"><a id="n444977"><a id="n445013"><a id="n445014"><a id="n444981">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="#1492_8_refs">&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#111">&amp;</a></c20><c4>(</c4><c20><a href="#1492_14_refs">kind</a></c20><c3>,</c3><c20><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c20><c20><a href="#1492_20_refs">ref&nbsp;lib</a></c20><c4>)</c4><c21><a href="#1492_8_refs">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1491">libs</a></c26><c10><a href="../../libstd/vec.rs.html#n57258">.iter</a></c10><c4>()</c4><c21><a href="#1492_8_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1493</ln><a id="1493">&nbsp;</a><a id="n445010"><a id="n444982">&nbsp;</a></a><c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1492">kind</a></c26><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c21><br/><ln>&nbsp;1494</ln><a id="1494">&nbsp;</a><a id="n444985"><a id="n444984"><a id="n444987"><a id="n444986"><a id="n444988"><a id="n444983"><a id="n444989">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1488">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c12><a href="../../librustc/metadata/cstore.rs.html#111">"-l"</a></c12><c5><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1492">lib</a></c26><c4>)</c4><c3>,</c3><c21><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c21><br/><ln>&nbsp;1495</ln><a id="1495">&nbsp;</a><a id="n445002"><a id="n445001"><a id="n444990">&nbsp;</a></a></a><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1496</ln><a id="1496">&nbsp;</a><a id="n444993"><a id="n444992"><a id="n444994"><a id="n444991"><a id="n444995">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1488">args</a></c26><c13><a href="../../libstd/vec.rs.html#n56958">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n56958">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56958">"-framework"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1497</ln><a id="1497">&nbsp;</a><a id="n445000"><a id="n444999"><a id="n444997"><a id="n444998"><a id="n444996">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1488">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56958">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1492">lib</a></c26><c10><a href="../../libstd/str.rs.html#n66548">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1498</ln><a id="1498">&nbsp;</a>&nbsp;<c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c21><br/><ln>&nbsp;1499</ln><a id="1499">&nbsp;</a><a id="n445008"><a id="n445003"><a id="n445009">&nbsp;</a></a></a><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1500</ln><a id="1500">&nbsp;</a><a id="n445007"><a id="n445006"><a id="n445004"><a id="n445005">&nbsp;</a></a></a></a><c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1488">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#244">.bug</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#244">"statics&nbsp;shouldn't&nbsp;be&nbsp;propagated"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c22><br/><ln>&nbsp;1501</ln><a id="1501">&nbsp;</a>&nbsp;<c22><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/metadata/cstore.rs.html#111">
</a></c21><br/><ln>&nbsp;1502</ln><a id="1502">&nbsp;</a>&nbsp;<c21><a href="../../librustc/metadata/cstore.rs.html#111">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/option.rs.html#n103656">
</a></c22><br/><ln>&nbsp;1503</ln><a id="1503">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n103656">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1492_8_refs">
</a></c21><br/><ln>&nbsp;1504</ln><a id="1504">&nbsp;</a>&nbsp;<c21><a href="#1492_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#1487_41_refs">
</a></c22><br/><ln>&nbsp;1505</ln><a id="1505">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="515_1_refs"><a href="#515"><c40>librustc/back/link.rs:515:1-515:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;find_crate_id(attrs:&nbsp;&amp;[ast::Attribute],&nbsp;out_filestem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;CrateId&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#534"><c40>534:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;find_crate_id(krate.attrs.as_slice(),&nbsp;out_filestem),
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#669"><c40>669:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;input.filestem());
<br/></a><a href="../../librustc/driver/driver.rs.html#572"><c40>572:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),
<br/></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#320"><c40>320:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(attrs.as_slice(),&nbsp;t_outputs.out_filestem);
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#505"><c40>505:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;outputs.out_filestem);
<br/></a><br/><br/><a id="1074_1_refs"><a href="#1074"><c40>librustc/back/link.rs:1074:1-1074:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;link_args(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1029"><c40>1029:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;cc_args.push_all_move(link_args(sess,&nbsp;dylib,&nbsp;tmpdir.path(),
<br/></a><br/><br/><a id="645_4_refs"><a href="#645"><c40>librustc/back/link.rs:645:4-645:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;push(n:&nbsp;&amp;mut&nbsp;~str,&nbsp;s:&nbsp;&amp;str)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sani&nbsp;=&nbsp;sanitize(s);
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#652"><c40>652:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(&amp;mut&nbsp;n,&nbsp;token::get_name(e.name()).get().as_slice())
<br/></a><a href="../../librustc/back/link.rs.html#660"><c40>660:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
<br/></a><a href="../../librustc/back/link.rs.html#656"><c40>656:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
<br/></a><br/><br/><a id="531_1_refs"><a href="#531"><c40>librustc/back/link.rs:531:1-531:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;build_link_meta(krate:&nbsp;&amp;ast::Crate,&nbsp;out_filestem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;LinkMeta&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../librustc/middle/trans/base.rs.html#2284"><c40>2284:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;link_meta&nbsp;=&nbsp;link::build_link_meta(&amp;krate,&nbsp;output.out_filestem);
<br/></a><br/><br/><a id="1394_4_refs"><a href="#1394"><c40>librustc/back/link.rs:1394:4-1394:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;get_deps(cstore:&nbsp;&amp;cstore::CStore,&nbsp;&nbsp;preference:&nbsp;cstore::LinkagePreference)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Option&lt;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;&nbsp;&gt;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1333"><c40>1333:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;dynamic&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireDynamic);
<br/></a><a href="../../librustc/back/link.rs.html#1334"><c40>1334:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;statik&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireStatic);
<br/></a><br/><br/><a id="427_4_refs"><a href="#427"><c40>librustc/back/link.rs:427:4-427:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;fn&nbsp;populate_llvm_passes(fpm:&nbsp;lib::llvm::PassManagerRef,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpm:&nbsp;lib::llvm::PassManagerRef,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#201"><c40>201:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;populate_llvm_passes(fpm,&nbsp;mpm,&nbsp;llmod,&nbsp;opt_level);
<br/></a><br/><br/><a id="1311_34_refs"><a href="#1311"><c40>librustc/back/link.rs:1311:34-1311:34&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;the&nbsp;intermediate&nbsp;rlib&nbsp;version)
<br/>fn&nbsp;add_upstream_rust_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1219"><c40>1219:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_upstream_rust_crates(&amp;mut&nbsp;args,&nbsp;sess,&nbsp;dylib,&nbsp;tmpdir);
<br/></a><br/><br/><a id="885_73_refs"><a href="#885"><c40>librustc/back/link.rs:885:73-885:73&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
<br/>fn&nbsp;link_rlib&lt;'a&gt;(sess:&nbsp;&amp;'a&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#993"><c40>993:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;a&nbsp;=&nbsp;link_rlib(sess,&nbsp;None,&nbsp;obj_filename,&nbsp;out_filename);
<br/></a><a href="../../librustc/back/link.rs.html#864"><c40>864:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_rlib(sess,&nbsp;Some(trans),&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><br/><br/><a id="540_1_refs"><a href="#540"><c40>librustc/back/link.rs:540:1-540:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;truncated_hash_result(symbol_hasher:&nbsp;&amp;mut&nbsp;Sha256)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#560"><c40>560:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;truncated_hash_result(symbol_hasher);
<br/></a><a href="../../librustc/back/link.rs.html#529"><c40>529:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;truncated_hash_result(&amp;mut&nbsp;s).slice_to(8).to_owned()
<br/></a><br/><br/><a id="740_1_refs"><a href="#740"><c40>librustc/back/link.rs:740:1-740:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_ar_prog(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/archive.rs.html"><c40>librustc/back/archive.rs:<br/></c40></a><a href="../../librustc/back/archive.rs.html#41"><c40>41:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ar&nbsp;=&nbsp;get_ar_prog(sess);
<br/></a><br/><br/><a id="68_1_refs"><a href="#68"><c40>librustc/back/link.rs:68:1-68:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;WriteOutputFile(
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#311"><c40>311:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,&nbsp;llmod,&nbsp;path,
<br/></a><a href="../../librustc/back/link.rs.html#293"><c40>293:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,&nbsp;llmod,&nbsp;&amp;path,
<br/></a><a href="../../librustc/back/link.rs.html#321"><c40>321:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,
<br/></a><br/><br/><a id="1406_4_refs"><a href="#1406"><c40>librustc/back/link.rs:1406:4-1406:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;add_static_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,&nbsp;tmpdir:&nbsp;&amp;Path,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crates:&nbsp;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1337"><c40>1337:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
<br/></a><a href="../../librustc/back/link.rs.html#1346"><c40>1346:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
<br/></a><br/><br/><a id="47_47_refs"><a href="#47"><c40>librustc/back/link.rs:47:47-47:47&nbsp;-enum-&nbsp;definition:<br/></c40><pr>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#128"><c40>128:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_types:&nbsp;&amp;[OutputType],
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/back/link.rs.html#47"></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#1129"><c40>1129:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></a><a href="../../librustc/driver/driver.rs.html#1137"><c40>1137:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;temp_path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></a><a href="../../librustc/driver/session.rs.html"><c40>librustc/driver/session.rs:<br/></c40></a><a href="../../librustc/driver/session.rs.html#133"><c40>133:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;output_types:&nbsp;Vec&lt;back::link::OutputType&gt;&nbsp;,
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/></a><c40>..10more..<br/></c40><br/><br/><a id="625_1_refs"><a href="#625"><c40>librustc/back/link.rs:625:1-625:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle&lt;PI:&nbsp;Iterator&lt;PathElem&gt;&gt;(mut&nbsp;path:&nbsp;PI,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#712"><c40>712:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(ast_map::Values(path.iter()),&nbsp;Some(hash.as_slice()),&nbsp;None)
<br/></a><a href="../../librustc/back/link.rs.html#677"><c40>677:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path,&nbsp;Some(hash),&nbsp;Some(vers.as_slice()))
<br/></a><a href="../../librustc/middle/trans/foreign.rs.html"><c40>librustc/middle/trans/foreign.rs:<br/></c40></a><a href="../../librustc/middle/trans/foreign.rs.html#530"><c40>530:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::mangle(path.chain(abi.move_iter()),&nbsp;None,&nbsp;None)
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#716"><c40>716:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path.chain(Some(gensym_name(flav)).move_iter()),&nbsp;None,&nbsp;None)
<br/></a><br/><br/><a id="1383_4_refs"><a href="#1383"><c40>librustc/back/link.rs:1383:4-1383:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;unlib(config:&nbsp;&amp;session::Config,&nbsp;stem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;stem.starts_with("lib")&nbsp;&amp;&amp;&nbsp;config.os&nbsp;!=&nbsp;abi::OsWin32&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1464"><c40>1464:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libarg&nbsp;=&nbsp;unlib(&amp;sess.targ_cfg,&nbsp;cratepath.filestem_str().unwrap());
<br/></a><br/><br/><a id="1487_41_refs"><a href="#1487"><c40>librustc/back/link.rs:1487:41-1487:41&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;also&nbsp;be&nbsp;resolved&nbsp;in&nbsp;the&nbsp;target&nbsp;crate.
<br/>fn&nbsp;add_upstream_native_libraries(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1221"><c40>1221:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_upstream_native_libraries(&amp;mut&nbsp;args,&nbsp;sess);
<br/></a><br/><br/><a id="336_4_refs"><a href="#336"><c40>librustc/back/link.rs:336:4-336:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;run_assembler(sess:&nbsp;&amp;Session,&nbsp;outputs:&nbsp;&amp;OutputFilenames)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;super::get_cc_prog(sess);
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#439"><c40>439:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_assembler(sess,&nbsp;outputs);
<br/></a><br/><br/><a id="667_1_refs"><a href="#667"><c40>librustc/back/link.rs:667:1-667:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;exported_name(path:&nbsp;PathElems,&nbsp;hash:&nbsp;&amp;str,&nbsp;vers:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#702"><c40>702:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;exported_name(path,&nbsp;hash,&nbsp;ccx.link_meta.crateid.version_or_default())
<br/></a><br/><br/><a id="1281_50_refs"><a href="#1281"><c40>librustc/back/link.rs:1281:50-1281:50&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;may&nbsp;have&nbsp;their&nbsp;native&nbsp;library&nbsp;pulled&nbsp;in&nbsp;above.
<br/>fn&nbsp;add_local_native_libraries(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1220"><c40>1220:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_local_native_libraries(&amp;mut&nbsp;args,&nbsp;sess);
<br/></a><br/><br/><a id="768_1_refs"><a href="#768"><c40>librustc/back/link.rs:768:1-768:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;remove(sess:&nbsp;&amp;Session,&nbsp;path:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#940"><c40>940:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;metadata);
<br/></a><a href="../../librustc/back/link.rs.html#796"><c40>796:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;obj_filename.with_extension("metadata.o"));
<br/></a><a href="../../librustc/back/link.rs.html#960"><c40>960:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;bc_deflated);
<br/></a><a href="../../librustc/back/link.rs.html#794"><c40>794:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;obj_filename);
<br/></a><a href="../../librustc/back/link.rs.html#963"><c40>963:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;bc);
<br/></a><br/><br/><a id="581_75_refs"><a href="#581"><c40>librustc/back/link.rs:581:75-581:75&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;gas&nbsp;accepts&nbsp;the&nbsp;following&nbsp;characters&nbsp;in&nbsp;symbols:&nbsp;a-z,&nbsp;A-Z,&nbsp;0-9,&nbsp;.,&nbsp;_,&nbsp;$
<br/>pub&nbsp;fn&nbsp;sanitize(s:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#646"><c40>646:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sani&nbsp;=&nbsp;sanitize(s);
<br/></a><br/><br/><a id="1022_40_refs"><a href="#1022"><c40>librustc/back/link.rs:1022:40-1022:40&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
<br/>fn&nbsp;link_natively(sess:&nbsp;&amp;Session,&nbsp;dylib:&nbsp;bool,&nbsp;obj_filename:&nbsp;&amp;Path,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#870"><c40>870:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;false,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><a href="../../librustc/back/link.rs.html#873"><c40>873:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;true,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><br/><br/><a id="548_54_refs"><a href="#548"><c40>librustc/back/link.rs:548:54-548:54&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;This&nbsp;calculates&nbsp;STH&nbsp;for&nbsp;a&nbsp;symbol,&nbsp;as&nbsp;defined&nbsp;above
<br/>fn&nbsp;symbol_hash(tcx:&nbsp;&amp;ty::ctxt,&nbsp;symbol_hasher:&nbsp;&amp;mut&nbsp;Sha256,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#573"><c40>573:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;symbol_hash(ccx.tcx(),&nbsp;&amp;mut&nbsp;*symbol_hasher,&nbsp;t,&nbsp;&amp;ccx.link_meta);
<br/></a><br/><br/><a id="679_1_refs"><a href="#679"><c40>librustc/back/link.rs:679:1-679:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_exported_name(ccx:&nbsp;&amp;CrateContext,&nbsp;path:&nbsp;PathElems,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../librustc/middle/trans/base.rs.html#1802"><c40>1802:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_exported_name(ccx,&nbsp;path,&nbsp;ty,&nbsp;id)
<br/></a><a href="../../librustc/middle/trans/monomorphize.rs.html"><c40>librustc/middle/trans/monomorphize.rs:<br/></c40></a><a href="../../librustc/middle/trans/monomorphize.rs.html#181"><c40>181:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_exported_name(ccx,&nbsp;path,&nbsp;mono_ty,&nbsp;fn_id.node)
<br/></a><br/><br/><a id="252_12_refs"><a href="#252"><c40>librustc/back/link.rs:252:12-252:12&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;with_codegen(tm:&nbsp;TargetMachineRef,&nbsp;llmod:&nbsp;ModuleRef,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f:&nbsp;|PassManagerRef|)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#318"><c40>318:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;trans.metadata_module,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#310"><c40>310:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#292"><c40>292:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#275"><c40>275:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><br/><br/><a id="366_4_refs"><a href="#366"><c40>librustc/back/link.rs:366:4-366:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;fn&nbsp;configure_llvm(sess:&nbsp;&amp;Session)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;sync::one::{Once,&nbsp;ONCE_INIT};
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#133"><c40>133:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure_llvm(sess);
<br/></a><br/><br/><a id="113_4_refs"><a href="#113"><c40>librustc/back/link.rs:113:4-113:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;target_feature&lt;'a&gt;(sess:&nbsp;&amp;'a&nbsp;Session)&nbsp;-&gt;&nbsp;&amp;'a&nbsp;str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;sess.targ_cfg.os&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#170"><c40>170:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_feature(sess).with_c_str(|features|&nbsp;{
<br/></a><br/><br/><a id="779_59_refs"><a href="#779"><c40>librustc/back/link.rs:779:59-779:59&nbsp;-fn-&nbsp;definition:<br/></c40><pr>///&nbsp;of&nbsp;the&nbsp;requested&nbsp;outputs&nbsp;for&nbsp;this&nbsp;compilation&nbsp;session.
<br/>pub&nbsp;fn&nbsp;link_binary(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#460"><c40>460:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::link_binary(sess,
<br/></a><br/><br/><a id="1453_4_refs"><a href="#1453"><c40>librustc/back/link.rs:1453:4-1453:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;add_dynamic_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crates:&nbsp;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;&nbsp;)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1349"><c40>1349:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Some(deps),&nbsp;_,&nbsp;_,&nbsp;_)&nbsp;=&gt;&nbsp;add_dynamic_crates(args,&nbsp;sess,&nbsp;deps),
<br/></a><br/><br/><a id="55_1_refs"><a href="#55"><c40>librustc/back/link.rs:55:1-55:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;llvm_err(sess:&nbsp;&amp;Session,&nbsp;msg:&nbsp;~str)&nbsp;-&gt;&nbsp;!&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/lto.rs.html"><c40>librustc/back/lto.rs:<br/></c40></a><a href="../../librustc/back/lto.rs.html#69"><c40>69:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::llvm_err(sess,&nbsp;format!("failed&nbsp;to&nbsp;load&nbsp;bc&nbsp;of&nbsp;`{}`",&nbsp;name));
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#81"><c40>81:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llvm_err(sess,&nbsp;~"could&nbsp;not&nbsp;write&nbsp;output");
<br/></a><br/><br/><a id="991_19_refs"><a href="#991"><c40>librustc/back/link.rs:991:19-991:19&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;metadata&nbsp;file).
<br/>fn&nbsp;link_staticlib(sess:&nbsp;&amp;Session,&nbsp;obj_filename:&nbsp;&amp;Path,&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#867"><c40>867:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_staticlib(sess,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><br/><br/><a id="749_1_refs"><a href="#749"><c40>librustc/back/link.rs:749:1-749:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_system_tool(sess:&nbsp;&amp;Session,&nbsp;tool:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#738"><c40>738:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;get_system_tool(sess,&nbsp;"cc")
<br/></a><a href="../../librustc/back/link.rs.html#747"><c40>747:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;get_system_tool(sess,&nbsp;"ar")
<br/></a><br/><br/><a id="801_1_refs"><a href="#801"><c40>librustc/back/link.rs:801:1-801:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;is_writeable(p:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#852"><c40>852:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_is_writeable&nbsp;=&nbsp;is_writeable(&amp;out_filename);
<br/></a><a href="../../librustc/back/link.rs.html#851"><c40>851:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;obj_is_writeable&nbsp;=&nbsp;is_writeable(&amp;obj_filename);
<br/></a><br/><br/><a id="704_1_refs"><a href="#704"><c40>librustc/back/link.rs:704:1-704:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_internal_name_by_type_and_seq(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/glue.rs.html"><c40>librustc/middle/trans/glue.rs:<br/></c40></a><a href="../../librustc/middle/trans/glue.rs.html#409"><c40>409:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;name&nbsp;=&nbsp;mangle_internal_name_by_type_and_seq(ccx,&nbsp;t,&nbsp;"tydesc");
<br/></a><a href="../../librustc/middle/trans/glue.rs.html#436"><c40>436:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fn_nm&nbsp;=&nbsp;mangle_internal_name_by_type_and_seq(ccx,&nbsp;t,&nbsp;~"glue_"&nbsp;+&nbsp;name);
<br/></a><br/><br/><a id="565_1_refs"><a href="#565"><c40>librustc/back/link.rs:565:1-565:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_symbol_hash(ccx:&nbsp;&amp;CrateContext,&nbsp;t:&nbsp;ty::t)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#711"><c40>711:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
<br/></a><a href="../../librustc/back/link.rs.html#682"><c40>682:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
<br/></a><br/><br/><a id="126_4_refs"><a href="#126"><c40>librustc/back/link.rs:126:4-126:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;run_passes(sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans:&nbsp;&amp;CrateTranslation,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#447"><c40>447:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_passes(sess,
<br/></a><a href="../../librustc/driver/driver.rs.html#437"><c40>437:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_passes(sess,&nbsp;trans,&nbsp;[output_type],&nbsp;outputs));
<br/></a><br/><br/><a id="832_1_refs"><a href="#832"><c40>librustc/back/link.rs:832:1-832:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;link_binary_output(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#786"><c40>786:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_file&nbsp;=&nbsp;link_binary_output(sess,&nbsp;trans,&nbsp;crate_type,&nbsp;outputs,&nbsp;id);
<br/></a><br/><br/><a id="714_1_refs"><a href="#714"><c40>librustc/back/link.rs:714:1-714:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_internal_name_by_path_and_seq(path:&nbsp;PathElems,&nbsp;flav:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#447"><c40>447:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"as_closure")
<br/></a><a href="../../librustc/middle/trans/reflect.rs.html"><c40>librustc/middle/trans/reflect.rs:<br/></c40></a><a href="../../librustc/middle/trans/reflect.rs.html#281"><c40>281:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sym&nbsp;=&nbsp;mangle_internal_name_by_path_and_seq(
<br/></a><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#389"><c40>389:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"closure")
<br/></a><br/><br/><a id="522_1_refs"><a href="#522"><c40>librustc/back/link.rs:522:1-522:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;crate_id_hash(crate_id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/metadata/creader.rs.html"><c40>librustc/metadata/creader.rs:<br/></c40></a><a href="../../librustc/metadata/creader.rs.html#288"><c40>288:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id_hash&nbsp;=&nbsp;link::crate_id_hash(crate_id);
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#720"><c40>720:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;format!("{}-{}-{}",&nbsp;id.name,&nbsp;crate_id_hash(id),&nbsp;id.version_or_default())
<br/></a><br/><br/><a id="718_1_refs"><a href="#718"><c40>librustc/back/link.rs:718:1-718:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;output_lib_filename(id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#811"><c40>811:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libname&nbsp;=&nbsp;output_lib_filename(id);
<br/></a><br/><br/><a id="722_1_refs"><a href="#722"><c40>librustc/back/link.rs:722:1-722:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_cc_prog(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1027"><c40>1027:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc_prog&nbsp;=&nbsp;get_cc_prog(sess);
<br/></a><a href="../../librustc/back/link.rs.html#337"><c40>337:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;super::get_cc_prog(sess);
<br/></a><br/><br/><a id="808_1_refs"><a href="#808"><c40>librustc/back/link.rs:808:1-808:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;filename_for_input(sess:&nbsp;&amp;Session,&nbsp;crate_type:&nbsp;session::CrateType,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#513"><c40>513:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;link::filename_for_input(sess,&nbsp;*output,&nbsp;&amp;id,&nbsp;&amp;file);
<br/></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#332"><c40>332:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fname&nbsp;=&nbsp;link::filename_for_input(&amp;sess,&nbsp;style,&nbsp;&amp;id,
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#843"><c40>843:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename_for_input(sess,&nbsp;crate_type,&nbsp;id,&nbsp;&amp;out_filename)
<br/></a><br/></div></maintext></div></body>