<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/link.rs.html">link.rs</a></c0><br/><br/><c40>&nbsp;&nbsp;&nbsp;&nbsp;git&nbsp;branch:&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;master&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c7553ea&nbsp;auto&nbsp;merge&nbsp;of&nbsp;#13609&nbsp;:&nbsp;richo/rust/str-type-vim,&nbsp;r=alexcrichton<br/></c40><c40>&nbsp;&nbsp;&nbsp;&nbsp;modified:&nbsp;&nbsp;&nbsp;&nbsp;Sat&nbsp;Apr&nbsp;19&nbsp;11:22:39&nbsp;2014<br/></c40></fileblock></div><ln>&nbsp;&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a>&nbsp;<c40>//&nbsp;Copyright&nbsp;2012-2014&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a>&nbsp;<c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a>&nbsp;<c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a>&nbsp;<c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a>&nbsp;<c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a>&nbsp;<c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a>&nbsp;<c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a>&nbsp;<c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::archive::</c0><c3>{</c3><c0>Archive</c0><c3>,</c3><c0>&nbsp;METADATA_FILENAME</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::rpath</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;back::svh::Svh</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::driver::</c0><c3>{</c3><c0>CrateTranslation</c0><c3>,</c3><c0>&nbsp;OutputFilenames</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session::</c0><c3>{</c3><c0>NoDebugInfo</c0><c3>,</c3><c0>&nbsp;Session</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;driver::session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::llvm</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib::llvm::ModuleRef</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;lib</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::common::LinkMeta</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;metadata::</c0><c3>{</c3><c0>encoder</c0><c3>,</c3><c0>&nbsp;cstore</c0><c3>,</c3><c0>&nbsp;filesearch</c0><c3>,</c3><c0>&nbsp;csearch</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::trans::context::CrateContext</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::trans::common::gensym_name</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::common::time</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::ppaux</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;util::sha2::</c0><c3>{</c3><c0>Digest</c0><c3>,</c3><c0>&nbsp;Sha256</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::c_str::</c0><c3>{</c3><c0>ToCStr</c0><c3>,</c3><c0>&nbsp;CString</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::char</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io::</c0><c3>{</c3><c0>fs</c0><c3>,</c3><c0>&nbsp;TempDir</c0><c3>,</c3><c0>&nbsp;Process</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::io</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::os::consts::</c0><c3>{</c3><c0>macos</c0><c3>,</c3><c0>&nbsp;freebsd</c0><c3>,</c3><c0>&nbsp;linux</c0><c3>,</c3><c0>&nbsp;android</c0><c3>,</c3><c0>&nbsp;win32</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::ptr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;std::strbuf::StrBuf</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;flate</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;serialize::hex::ToHex</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::abi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast_map::</c0><c3>{</c3><c0>PathElem</c0><c3>,</c3><c0>&nbsp;PathElems</c0><c3>,</c3><c0>&nbsp;PathName</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::ast_map</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::attr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::attr::AttrMetaMethods</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::crateid::CrateId</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a>&nbsp;<c21>use</c21><c0>&nbsp;syntax::parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n440235"><a id="n439948"><a id="n439852"><a id="n439873"><a id="n439839"><a id="n439877"><a id="n440030"><a id="n440132"><a id="n440219"><a id="n440061"><a id="n440275"><a id="n440321"><a id="n440220"><a id="n440053"><a id="n439741"><a id="n439830"><a id="n439999"><a id="n439931"><a id="n439985"><a id="n439923"><a id="n439998"><a id="n440036"><a id="n440168"><a id="n439735"><a id="n440014"><a id="n440328"><a id="n440204"><a id="n439960"><a id="n440212"><a id="n440010"><a id="n440142"><a id="n440123"><a id="n440115"><a id="n440309"><a id="n439832"><a id="n439822"><a id="n440237"><a id="n440119"><a id="n439754"><a id="n440098"><a id="n439749"><a id="n440012"><a id="n440051"><a id="n440211"><a id="n439968"><a id="n440004"><a id="n440166"><a id="n440156"><a id="n440126"><a id="n440184"><a id="n439824"><a id="n440317"><a id="n439864"><a id="n440118"><a id="n439958"><a id="n439900"><a id="n439927"><a id="n440121"><a id="n440274"><a id="n440294"><a id="n440043"><a id="n440225"><a id="n440084"><a id="n440006"><a id="n440002"><a id="n440278"><a id="n440330"><a id="n439751"><a id="n440254"><a id="n440304"><a id="n440205"><a id="n440326"><a id="n440322"><a id="n439762"><a id="n440286"><a id="n440213"><a id="n440172"><a id="n440253"><a id="n440227"><a id="n439964"><a id="n439800"><a id="n439905"><a id="n439788"><a id="n439786"><a id="n440073"><a id="n439825"><a id="n439928"><a id="n439812"><a id="n439744"><a id="n440199"><a id="n440109"><a id="n440283"><a id="n439980"><a id="n439861"><a id="n440248"><a id="n440263"><a id="n439935"><a id="n440020"><a id="n440155"><a id="n439867"><a id="n440276"><a id="n439755"><a id="n439945"><a id="n439757"><a id="n440164"><a id="n440241"><a id="n440069"><a id="n440152"><a id="n439855"><a id="n439820"><a id="n440188"><a id="n439810"><a id="n439802"><a id="n439887"><a id="n439738"><a id="n439984"><a id="n439988"><a id="n439978"><a id="n440085"><a id="n440095"><a id="n440247"><a id="n440042"><a id="n440089"><a id="n440210"><a id="n439957"><a id="n439946"><a id="n440202"><a id="n440302"><a id="n439860"><a id="n439952"><a id="n440093"><a id="n440240"><a id="n440146"><a id="n439954"><a id="n439748"><a id="n440320"><a id="n439816"><a id="n439994"><a id="n440195"><a id="n439868"><a id="n439921"><a id="n440252"><a id="n440288"><a id="n440148"><a id="n439956"><a id="n439901"><a id="n439736"><a id="n439909"><a id="n439940"><a id="n440207"><a id="n439758"><a id="n440316"><a id="n440296"><a id="n440290"><a id="n439937"><a id="n440140"><a id="n440244"><a id="n440039"><a id="n439992"><a id="n439780"><a id="n440056"><a id="n440113"><a id="n440267"><a id="n439775"><a id="n440319"><a id="n439907"><a id="n440310"><a id="n440105"><a id="n439745"><a id="n440257"><a id="n440262"><a id="n439778"><a id="n439826"><a id="n439886"><a id="n440232"><a id="n439784"><a id="n440208"><a id="n440059"><a id="n439728"><a id="n439846"><a id="n439875"><a id="n440231"><a id="n440107"><a id="n440103"><a id="n440299"><a id="n440271"><a id="n439871"><a id="n440287"><a id="n440134"><a id="n439840"><a id="n440229"><a id="n440150"><a id="n440033"><a id="n440190"><a id="n440221"><a id="n439764"><a id="n439782"><a id="n440038"><a id="n440259"><a id="n439790"><a id="n440099"><a id="n440186"><a id="n440013"><a id="n439971"><a id="n439929"><a id="n439966"><a id="n440332"><a id="n440144"><a id="n440300"><a id="n440243"><a id="n440128"><a id="n440022"><a id="n440070"><a id="n440067"><a id="n440071"><a id="n440236"><a id="n439848"><a id="n439869"><a id="n439766"><a id="n440194"><a id="n440215"><a id="n440081"><a id="n440160"><a id="n440158"><a id="n439953"><a id="n440279"><a id="n440138"><a id="n440313"><a id="n440049"><a id="n439834"><a id="n440282"><a id="n439777"><a id="n439962"><a id="n440216"><a id="n440270"><a id="n440091"><a id="n440217"><a id="n440249"><a id="n440075"><a id="n439734"><a id="n439853"><a id="n439792"><a id="n440122"><a id="n439838"><a id="n439806"><a id="n440057"><a id="n440197"><a id="n440192"><a id="n439814"><a id="n440110"><a id="n440182"><a id="n440174"><a id="n440272"><a id="n439903"><a id="n439951"><a id="n440037"><a id="n439982"><a id="n439818"><a id="n440239"><a id="n440224"><a id="n440251"><a id="n440180"><a id="n439866"><a id="n440065"><a id="n440087"><a id="n439949"><a id="n439836"><a id="n440000"><a id="n439844"><a id="n439895"><a id="n439743"><a id="n439769"><a id="n440124"><a id="n439974"><a id="n440266"><a id="n440024"><a id="n439804"><a id="n440245"><a id="n439746"><a id="n440308"><a id="n439850"><a id="n439761"><a id="n439915"><a id="n439986"><a id="n439970"><a id="n440311"><a id="n440055"><a id="n440116"><a id="n439883"><a id="n439911"><a id="n440025"><a id="n440170"><a id="n439889"><a id="n439863"><a id="n439783"><a id="n439879"><a id="n439899"><a id="n439919"><a id="n439858"><a id="n440307"><a id="n440079"><a id="n439933"><a id="n440018"><a id="n440031"><a id="n440228"><a id="n439891"><a id="n439797"><a id="n439897"><a id="n439913"><a id="n439914"><a id="n440260"><a id="n440291"><a id="n440176"><a id="n440034"><a id="n440045"><a id="n440047"><a id="n439996"><a id="n440292"><a id="n439811"><a id="n439828"><a id="n440141"><a id="n439794"><a id="n439885"><a id="n440298"><a id="n439893"><a id="n440268"><a id="n439742"><a id="n440169"><a id="n439990"><a id="n439976"><a id="n439779"><a id="n439752"><a id="n439881"><a id="n440162"><a id="n439771"><a id="n440265"><a id="n440295"><a id="n440154"><a id="n440303"><a id="n439796"><a id="n440041"><a id="n440324"><a id="n439808"><a id="n440284"><a id="n440127"><a id="n440130"><a id="n439943"><a id="n439939"><a id="n439798"><a id="n439972"><a id="n439842"><a id="n440101"><a id="n440223"><a id="n439763"><a id="n440280"><a id="n440097"><a id="n439774"><a id="n440178"><a id="n440028"><a id="n440233"><a id="n439760"><a id="n439772"><a id="n440136"><a id="n440306"><a id="n440063"><a id="n440008"><a id="n440183"><a id="n439917"><a id="n439872"><a id="n439851"><a id="n440083"><a id="n439925"><a id="n440196"><a id="n440016"><a id="n440077">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../librustc/back/link.rs.html#50">Clone</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libstd/cmp.rs.html#n73372">Eq</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#48">Ord</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#48">TotalOrd</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#48">TotalEq</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a>&nbsp;<c21>pub</c21><c34><a href="#line48_col47_refs">&nbsp;</a></c34><c34>enum</c34><c34><a href="#line48_col47_refs">&nbsp;OutputType&nbsp;</a></c34><c3>{</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n439874"><a id="n440129"><a id="n440273"><a id="n440218"><a id="n440157"><a id="n439729"><a id="n440185"><a id="n439916"><a id="n440001"><a id="n439841"><a id="n439973"><a id="n439888"><a id="n440269"><a id="n439785"><a id="n440044"><a id="n440143"><a id="n439813"><a id="n440323"><a id="n439987"><a id="n440086"><a id="n440015"><a id="n439827"><a id="n440100"><a id="n440171"><a id="n439959"><a id="n439747"><a id="n439870"><a id="n440040"><a id="n440072"><a id="n440125"><a id="n439799"><a id="n439955"><a id="n440058"><a id="n439902"><a id="n439781"><a id="n440214"><a id="n439930">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#line48_col47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeBitcode</a></c20><c3>,</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n440159"><a id="n439918"><a id="n439801"><a id="n439969"><a id="n439876"><a id="n439730"><a id="n439815"><a id="n440131"><a id="n440054"><a id="n440222"><a id="n439961"><a id="n440046"><a id="n440003"><a id="n440088"><a id="n439890"><a id="n440145"><a id="n440226"><a id="n440102"><a id="n439932"><a id="n440187"><a id="n440060"><a id="n439795"><a id="n439989"><a id="n439829"><a id="n439787"><a id="n439750"><a id="n440017"><a id="n439843"><a id="n439975"><a id="n440281"><a id="n440074"><a id="n439884"><a id="n440277"><a id="n439904"><a id="n440173"><a id="n440139"><a id="n440325">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#line48_col47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeAssembly</a></c20><c3>,</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n440285"><a id="n440175"><a id="n439898"><a id="n440068"><a id="n440327"><a id="n440104"><a id="n439817"><a id="n440090"><a id="n439983"><a id="n440048"><a id="n439892"><a id="n439731"><a id="n440189"><a id="n440230"><a id="n439977"><a id="n440019"><a id="n439991"><a id="n440076"><a id="n439906"><a id="n439963"><a id="n440289"><a id="n440161"><a id="n440234"><a id="n439809"><a id="n440147"><a id="n440005"><a id="n439831"><a id="n439878"><a id="n439920"><a id="n439803"><a id="n439934"><a id="n440062"><a id="n439845"><a id="n439789"><a id="n440133"><a id="n439753"><a id="n440153">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#line48_col47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeLlvmAssembly</a></c20><c3>,</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n440177"><a id="n439894"><a id="n440078"><a id="n439823"><a id="n439833"><a id="n439732"><a id="n439993"><a id="n439997"><a id="n440092"><a id="n440293"><a id="n440329"><a id="n439965"><a id="n440297"><a id="n439819"><a id="n440167"><a id="n440135"><a id="n439756"><a id="n440149"><a id="n439922"><a id="n440191"><a id="n439908"><a id="n439936"><a id="n440242"><a id="n439791"><a id="n439912"><a id="n439847"><a id="n440021"><a id="n440163"><a id="n440007"><a id="n440050"><a id="n440082"><a id="n440238"><a id="n440064"><a id="n439805"><a id="n439979"><a id="n440106"><a id="n439880">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#line48_col47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c20><c3>,</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n440096"><a id="n439793"><a id="n439882"><a id="n439733"><a id="n440108"><a id="n439837"><a id="n440052"><a id="n439910"><a id="n440066"><a id="n440023"><a id="n440331"><a id="n439807"><a id="n439926"><a id="n440250"><a id="n440011"><a id="n439967"><a id="n440009"><a id="n439981"><a id="n440080"><a id="n439938"><a id="n440151"><a id="n440137"><a id="n439924"><a id="n440301"><a id="n439896"><a id="n439759"><a id="n439821"><a id="n440193"><a id="n440305"><a id="n439849"><a id="n440181"><a id="n440179"><a id="n440246"><a id="n440094"><a id="n440165"><a id="n439835"><a id="n439995">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c34><a href="#line48_col47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#54">OutputTypeExe</a></c20><c3>,</c3><c34><a href="#line48_col47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n440333">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n440341"><a id="n440343"><a id="n440340"><a id="n440344"><a id="n440345"><a id="n440338"><a id="n440335"><a id="n440336">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#line56_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line56_col1_refs">&nbsp;llvm_err</a></c30><c4>(</c4><c20><a href="#line57_col16_refs">sess</a></c20><c1><a href="#line56_col1_refs">:&nbsp;</a></c1><c8><a href="#line56_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line56_col1_refs">&nbsp;</a></c1><c20><a href="#line57_col32_refs">msg</a></c20><c1><a href="#line56_col1_refs">:&nbsp;</a></c1><c8><a href="#line56_col1_refs">~str</a></c8><c4>)</c4><c1><a href="#line56_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line56_col1_refs">&nbsp;</a></c1><c8><a href="#line56_col1_refs">!</a></c8><c1><a href="#line56_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n440347"><a id="n440346">&nbsp;</a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#line56_col1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n440349"><a id="n440351"><a id="n440353"><a id="n440350"><a id="n440348"><a id="n440352">&nbsp;</a></a></a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line56_col1_refs">&nbsp;</a></c22><c20><a href="#line59_col12_refs">cstr</a></c20><c13><a href="#line56_col1_refs">&nbsp;=&nbsp;</a></c13><c26><nop>llvm::LLVMRustGetLastError</nop></c26><c4>()</c4><c3>;</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n440354"><a id="n440358"><a id="n440357"><a id="n440355"><a id="n440356"><a id="n440359">&nbsp;</a></a></a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line56_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#59">cstr</a></c26><c5><a href="#line56_col1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/ptr.rs.html#n69683">ptr::null</a></c26><c4>()</c4><c21><a href="#line56_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n440362"><a id="n440361"><a id="n440360"><a id="n440363">&nbsp;</a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#57">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#57">msg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n440364"><a id="n440365">&nbsp;</a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line56_col1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#line56_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n440366"><a id="n440372"><a id="n440373"><a id="n440368"><a id="n440370"><a id="n440367"><a id="n440369"><a id="n440371">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line56_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#64">err</a></c20><c16><a href="#line56_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/c_str.rs.html#n125680">CString::new</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#59">cstr</a></c26><c3>,</c3><c27><a href="#line56_col1_refs">&nbsp;</a></c27><c12><a href="#line56_col1_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n440378"><a id="n440374"><a id="n440379"><a id="n440376"><a id="n440381"><a id="n440377"><a id="n440380"><a id="n440375">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line56_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#65">err</a></c20><c16><a href="#line56_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/str.rs.html#n60792">str::from_utf8_lossy</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#63">err</a></c26><c10><a href="../../libstd/c_str.rs.html#n125817">.as_bytes</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n440388"><a id="n440385"><a id="n440384"><a id="n440389"><a id="n440382"><a id="n440390"><a id="n440386"><a id="n440383"><a id="n440387">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#57">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#57">msg</a></c26><c5><a href="../../librustc/driver/session.rs.html#207">&nbsp;+&nbsp;</a></c5><c12><a href="../../librustc/driver/session.rs.html#207">":&nbsp;"</a></c12><c5><a href="../../librustc/driver/session.rs.html#207">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#64">err</a></c26><c10><a href="../../libstd/str.rs.html#n61569">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a>&nbsp;<c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a>&nbsp;<c22><a href="#line56_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line56_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n440391">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a>&nbsp;<c21>pub</c21><c1><a href="#line69_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line69_col1_refs">&nbsp;WriteOutputFile</a></c30><c4>(</c4><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n440393"><a id="n440394"><a id="n440396">&nbsp;</a></a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#82">sess</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="#line69_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n440398"><a id="n440400">&nbsp;</a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#80">target</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#259">lib::llvm::TargetMachineRef</a></c8><c3>,</c3><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n440404"><a id="n440402">&nbsp;</a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#80">pm</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n440408"><a id="n440406">&nbsp;</a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#80">m</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n440413"><a id="n440411"><a id="n440410">&nbsp;</a></a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#78">output</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="#line69_col1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="#line69_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n440415"><a id="n440419"><a id="n440418"><a id="n440417">&nbsp;</a></a></a></a><c1><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#80">file_type</a></c20><c1><a href="#line69_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#180">lib::llvm::FileType</a></c8><c4>)</c4><c1><a href="#line69_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line69_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n440421"><a id="n440420">&nbsp;</a></a><c22><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#line69_col1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#line69_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n440422"><a id="n440430"><a id="n440423"><a id="n440428"><a id="n440426"><a id="n440431"><a id="n440429"><a id="n440427"><a id="n440424">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#75">output</a></c26><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c20><a href="../../librustc/back/link.rs.html#80">output</a></c20><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c3>{</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n440437"><a id="n440433"><a id="n440435"><a id="n440436"><a id="n440432"><a id="n440434">&nbsp;</a></a></a></a></a></a><c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c21>let</c21><c22><nop>&nbsp;</nop></c22><c20><a href="../../librustc/back/link.rs.html#81">result</a></c20><c13><nop>&nbsp;=&nbsp;</nop></c13><c26><nop>llvm::LLVMRustWriteOutputFile</nop></c26><c4>(</c4><c27><nop>
</nop></c27><br/><ln>&nbsp;&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n440439"><a id="n440438"><a id="n440441"><a id="n440440"><a id="n440442">&nbsp;</a></a></a></a></a><c27><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#72">target</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#73">pm</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#74">m</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#78">output</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#76">file_type</a></c26><c4>)</c4><c3>;</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n440445"><a id="n440443"><a id="n440446"><a id="n440444">&nbsp;</a></a></a></a><c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c21>if</c21><c21><nop>&nbsp;</nop></c21><c5><nop>!</nop></c5><c26><a href="../../librustc/back/link.rs.html#79">result</a></c26><c21><nop>&nbsp;</nop></c21><c3>{</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n440448"><a id="n440451"><a id="n440447"><a id="n440449"><a id="n440450"><a id="n440452">&nbsp;</a></a></a></a></a></a><c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c26><a href="../../librustc/back/link.rs.html#56">llvm_err</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#71">sess</a></c26><c3>,</c3><c13><a href="#line69_col1_refs">&nbsp;</a></c13><c12><a href="../../libstd/str.rs.html#n64748">"could&nbsp;not&nbsp;write&nbsp;output"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a>&nbsp;<c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c3>}</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a>&nbsp;<c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c3>}</c3><c4>)</c4><c22><a href="#line69_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a>&nbsp;<c22><a href="#line69_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line69_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n440453">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a>&nbsp;<c21>pub</c21><c38>&nbsp;</c38><c21>mod</c21><c38>&nbsp;write&nbsp;</c38><c3>{</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::lto</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>WriteOutputFile</c38><c3>,</c3><c38>&nbsp;OutputType</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeAssembly</c38><c3>,</c3><c38>&nbsp;OutputTypeBitcode</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeExe</c38><c3>,</c3><c38>&nbsp;OutputTypeLlvmAssembly</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeObject</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::driver::</c38><c3>{</c3><c38>CrateTranslation</c38><c3>,</c3><c38>&nbsp;OutputFilenames</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session::</c38><c3>{</c3><c38>NoDebugInfo</c38><c3>,</c3><c38>&nbsp;Session</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::llvm</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::</c38><c3>{</c3><c38>ModuleRef</c38><c3>,</c3><c38>&nbsp;TargetMachineRef</c38><c3>,</c3><c38>&nbsp;PassManagerRef</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;100</ln><a id="100">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;101</ln><a id="101">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;util::common::time</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;102</ln><a id="102">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;syntax::abi</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;103</ln><a id="103">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;104</ln><a id="104">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::c_str::ToCStr</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;105</ln><a id="105">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::io::Process</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;106</ln><a id="106">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;libc::</c38><c3>{</c3><c38>c_uint</c38><c3>,</c3><c38>&nbsp;c_int</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;107</ln><a id="107">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::str</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;108</ln><a id="108">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;109</ln><a id="109">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;On&nbsp;android,&nbsp;we&nbsp;by&nbsp;default&nbsp;compile&nbsp;for&nbsp;armv7&nbsp;processors.&nbsp;This&nbsp;enables
</c40><br/><ln>&nbsp;&nbsp;110</ln><a id="110">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;things&nbsp;like&nbsp;double&nbsp;word&nbsp;CAS&nbsp;instructions&nbsp;(rather&nbsp;than&nbsp;emulating&nbsp;them)
</c40><br/><ln>&nbsp;&nbsp;111</ln><a id="111">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;which&nbsp;are&nbsp;*far*&nbsp;more&nbsp;efficient.&nbsp;This&nbsp;is&nbsp;obviously&nbsp;undesirable&nbsp;in&nbsp;some
</c40><br/><ln>&nbsp;&nbsp;112</ln><a id="112">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;cases,&nbsp;so&nbsp;if&nbsp;any&nbsp;sort&nbsp;of&nbsp;target&nbsp;feature&nbsp;is&nbsp;specified&nbsp;we&nbsp;don't&nbsp;append&nbsp;v7
</c40><br/><ln>&nbsp;&nbsp;113</ln><a id="113">&nbsp;</a>&nbsp;<c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;to&nbsp;the&nbsp;feature&nbsp;list.
</c40><br/><ln>&nbsp;&nbsp;114</ln><a id="114">&nbsp;</a><a id="n440495"><a id="n440490"><a id="n440494"><a id="n440488"><a id="n440500"><a id="n440497"><a id="n440492">&nbsp;</a></a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#171">&nbsp;target_feature</a></c30><c5><a href="../../librustc/back/link.rs.html#171">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#line114_col26_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#171">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#171">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#171">&amp;'a&nbsp;str</a></c8><c1><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;115</ln><a id="115">&nbsp;</a><a id="n440501"><a id="n440504"><a id="n440502"><a id="n440503">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#114">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#171">
</a></c21><br/><ln>&nbsp;&nbsp;116</ln><a id="116">&nbsp;</a><a id="n440506"><a id="n440505"><a id="n440507">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14736">abi::OsAndroid</a></c20><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;117</ln><a id="117">&nbsp;</a><a id="n440514"><a id="n440511"><a id="n440512"><a id="n440513"><a id="n440510"><a id="n440515"><a id="n440508"><a id="n440509">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#171">""</a></c12><c5><a href="../../librustc/back/link.rs.html#171">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#114">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.target_feature</a></c24><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;118</ln><a id="118">&nbsp;</a><a id="n440516">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="../../librustc/back/link.rs.html#171">"+v7"</a></c12><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;119</ln><a id="119">&nbsp;</a><a id="n440517"><a id="n440518">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;120</ln><a id="120">&nbsp;</a><a id="n440523"><a id="n440522"><a id="n440519"><a id="n440521"><a id="n440520">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#114">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>()</c4><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;121</ln><a id="121">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;122</ln><a id="122">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#171">
</a></c21><br/><ln>&nbsp;&nbsp;123</ln><a id="123">&nbsp;</a><a id="n440528"><a id="n440525"><a id="n440524"><a id="n440529"><a id="n440526"><a id="n440527">&nbsp;</a></a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#171">_</a></c20><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#171">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#114">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#171">
</a></c21><br/><ln>&nbsp;&nbsp;124</ln><a id="124">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#171">
</a></c22><br/><ln>&nbsp;&nbsp;125</ln><a id="125">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#171">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;126</ln><a id="126">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;127</ln><a id="127">&nbsp;</a><a id="n440533"><a id="n440532"><a id="n440530"><a id="n440535">&nbsp;</a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line127_col4_refs">&nbsp;run_passes</a></c30><c4>(</c4><c20><a href="#line127_col22_refs">sess</a></c20><c1><a href="#line127_col4_refs">:&nbsp;</a></c1><c8><a href="#line127_col4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;128</ln><a id="128">&nbsp;</a><a id="n440538"><a id="n440537"><a id="n440540">&nbsp;</a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line128_col22_refs">trans</a></c20><c1><a href="#line127_col4_refs">:&nbsp;</a></c1><c8><a href="#line127_col4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;129</ln><a id="129">&nbsp;</a><a id="n440546"><a id="n440543"><a id="n440544"><a id="n440542">&nbsp;</a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#266">output_types</a></c20><c1><a href="#line127_col4_refs">:&nbsp;</a></c1><c8><a href="#line127_col4_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../librustc/back/link.rs.html#48">OutputType</a></c8><c3>],</c3><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;130</ln><a id="130">&nbsp;</a><a id="n440549"><a id="n440551"><a id="n440548"><a id="n440553"><a id="n440552">&nbsp;</a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line130_col22_refs">output</a></c20><c1><a href="#line127_col4_refs">:&nbsp;</a></c1><c8><a href="#line127_col4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1135">OutputFilenames</a></c8><c4>)</c4><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;131</ln><a id="131">&nbsp;</a><a id="n440556"><a id="n440554"><a id="n440555"><a id="n440559"><a id="n440557"><a id="n440558">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="#line131_col12_refs">llmod</a></c20><c16><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#409">.module</a></c24><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;132</ln><a id="132">&nbsp;</a><a id="n440564"><a id="n440565"><a id="n440563"><a id="n440561"><a id="n440562"><a id="n440560">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#332">llcx</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#408">.context</a></c24><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;133</ln><a id="133">&nbsp;</a><a id="n440567"><a id="n440566">&nbsp;</a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;134</ln><a id="134">&nbsp;</a><a id="n440571"><a id="n440570"><a id="n440568"><a id="n440569">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#367">configure_llvm</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;135</ln><a id="135">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;136</ln><a id="136">&nbsp;</a><a id="n440572"><a id="n440578"><a id="n440576"><a id="n440574"><a id="n440573"><a id="n440575"><a id="n440577">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.save_temps</a></c24><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;137</ln><a id="137">&nbsp;</a><a id="n440579"><a id="n440582"><a id="n440588"><a id="n440585"><a id="n440590"><a id="n440586"><a id="n440589"><a id="n440580"><a id="n440587"><a id="n440583"><a id="n440581">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1162">.with_extension</a></c10><c4>(</c4><c12><nop>"no-opt.bc"</nop></c12><c4>)</c4><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c20><a href="../../librustc/back/link.rs.html#138">buf</a></c20><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c3>{</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;138</ln><a id="138">&nbsp;</a><a id="n440593"><a id="n440595"><a id="n440592"><a id="n440591"><a id="n440594">&nbsp;</a></a></a></a></a><c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c26><nop>llvm::LLVMWriteBitcodeToFile</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c13><nop>&nbsp;</nop></c13><c26><a href="../../librustc/back/link.rs.html#137">buf</a></c26><c4>)</c4><c3>;</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;139</ln><a id="139">&nbsp;</a>&nbsp;<c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c3>}</c3><c4>)</c4><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;140</ln><a id="140">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;141</ln><a id="141">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;142</ln><a id="142">&nbsp;</a><a id="n440599"><a id="n440597"><a id="n440603"><a id="n440596"><a id="n440601"><a id="n440598"><a id="n440602"><a id="n440600">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="#line142_col16_refs">opt_level</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#line127_col4_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;143</ln><a id="143">&nbsp;</a><a id="n440604"><a id="n440605">&nbsp;</a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#112">session::No</a></c20><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelNone</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;144</ln><a id="144">&nbsp;</a><a id="n440607"><a id="n440606">&nbsp;</a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#113">session::Less</a></c20><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelLess</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;145</ln><a id="145">&nbsp;</a><a id="n440609"><a id="n440608">&nbsp;</a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#114">session::Default</a></c20><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelDefault</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;146</ln><a id="146">&nbsp;</a><a id="n440611"><a id="n440610">&nbsp;</a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#115">session::Aggressive</a></c20><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#207">lib::llvm::CodeGenLevelAggressive</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;147</ln><a id="147">&nbsp;</a>&nbsp;<c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;148</ln><a id="148">&nbsp;</a><a id="n440617"><a id="n440612"><a id="n440615"><a id="n440619"><a id="n440616"><a id="n440613"><a id="n440618"><a id="n440614">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#178">use_softfp</a></c20><c16><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.soft_float</a></c24><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;149</ln><a id="149">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;150</ln><a id="150">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11906:&nbsp;Omitting&nbsp;frame&nbsp;pointers&nbsp;breaks&nbsp;retrieving&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;parameter.
</c40><br/><ln>&nbsp;&nbsp;151</ln><a id="151">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11954:&nbsp;mac64&nbsp;unwinding&nbsp;may&nbsp;not&nbsp;work&nbsp;with&nbsp;fp&nbsp;elim
</c40><br/><ln>&nbsp;&nbsp;152</ln><a id="152">&nbsp;</a><a id="n440628"><a id="n440620"><a id="n440622"><a id="n440624"><a id="n440623"><a id="n440621"><a id="n440626"><a id="n440627"><a id="n440629"><a id="n440630"><a id="n440625">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#179">no_fp_elim</a></c20><c16><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c16><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.debuginfo</a></c24><c5><a href="#line127_col4_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#120">NoDebugInfo</a></c26><c4>)</c4><c1><a href="#line127_col4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;153</ln><a id="153">&nbsp;</a><a id="n440636"><a id="n440635"><a id="n440637"><a id="n440632"><a id="n440631"><a id="n440634"><a id="n440633">&nbsp;</a></a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#line127_col4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c26><c1><a href="#line127_col4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;154</ln><a id="154">&nbsp;</a><a id="n440641"><a id="n440642"><a id="n440639"><a id="n440638"><a id="n440640">&nbsp;</a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#35">.arch</a></c24><c5><a href="#line127_col4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n15620">abi::X86_64</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;155</ln><a id="155">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;156</ln><a id="156">&nbsp;</a><a id="n440649"><a id="n440651"><a id="n440652"><a id="n440650"><a id="n440644"><a id="n440643"><a id="n440645"><a id="n440646"><a id="n440647"><a id="n440648">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#175">reloc_model</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#line127_col4_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.relocation_model</a></c24><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>()</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;157</ln><a id="157">&nbsp;</a><a id="n440655"><a id="n440654"><a id="n440653">&nbsp;</a></a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line127_col4_refs">"pic"</a></c20><c12><a href="#line127_col4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#214">lib::llvm::RelocPIC</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;158</ln><a id="158">&nbsp;</a><a id="n440657"><a id="n440656"><a id="n440658">&nbsp;</a></a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line127_col4_refs">"</a></c20><c36>static</c36><c36><a href="#line127_col4_refs">"&nbsp;</a></c36><c36>=&gt;</c36><c5><a href="#line127_col4_refs">&nbsp;</a></c5><c5><a href="../../librustc/lib/llvm.rs.html#213">lib::llvm::RelocStatic</a></c5><c5>,</c5><c5><a href="#line127_col4_refs">
</a></c5><br/><ln>&nbsp;&nbsp;159</ln><a id="159">&nbsp;</a><a id="n440661"><a id="n440660"><a id="n440659">&nbsp;</a></a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line127_col4_refs">"default"</a></c20><c12><a href="#line127_col4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#212">lib::llvm::RelocDefault</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;160</ln><a id="160">&nbsp;</a><a id="n440662"><a id="n440664"><a id="n440663">&nbsp;</a></a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line127_col4_refs">"dynamic-no-pic"</a></c20><c12><a href="#line127_col4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#215">lib::llvm::RelocDynamicNoPic</a></c26><c3>,</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;161</ln><a id="161">&nbsp;</a><a id="n440666"><a id="n440665"><a id="n440667">&nbsp;</a></a></a><c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line127_col4_refs">_</a></c20><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;162</ln><a id="162">&nbsp;</a><a id="n440698"><a id="n440688"><a id="n440685"><a id="n440696"><a id="n440718"><a id="n440697"><a id="n440722"><a id="n440706"><a id="n440702"><a id="n440717"><a id="n440715"><a id="n440680"><a id="n440671"><a id="n440672"><a id="n440727"><a id="n440669"><a id="n440682"><a id="n440720"><a id="n440723"><a id="n440690"><a id="n440699"><a id="n440691"><a id="n440707"><a id="n440670"><a id="n440689"><a id="n440692"><a id="n440719"><a id="n440694"><a id="n440709"><a id="n440693"><a id="n440708"><a id="n440695"><a id="n440700"><a id="n440704"><a id="n440681"><a id="n440721"><a id="n440716"><a id="n440678"><a id="n440684"><a id="n440705"><a id="n440683"><a id="n440703"><a id="n440714"><a id="n440668"><a id="n440701">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c27><a href="../../librustc/back/link.rs.html#162">"</a></c27><c3>{}</c3><c27><a href="../../librustc/back/link.rs.html#162">&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;relocation&nbsp;mode"</a></c27><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">
</a></c21><br/><ln>&nbsp;&nbsp;163</ln><a id="163">&nbsp;</a><a id="n440711"><a id="n440677"><a id="n440713"><a id="n440710"><a id="n440679"><a id="n440712"><a id="n440675"><a id="n440674"><a id="n440673"><a id="n440676">&nbsp;</a></a></a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c5><a href="../../librustc/driver/session.rs.html#373">.relocation_model</a></c5><c4>))</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;164</ln><a id="164">&nbsp;</a><a id="n440730"><a id="n440729"><a id="n440728">&nbsp;</a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;165</ln><a id="165">&nbsp;</a><a id="n440732"><a id="n440731">&nbsp;</a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;166</ln><a id="166">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line127_col4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;167</ln><a id="167">&nbsp;</a>&nbsp;<c21><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;168</ln><a id="168">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;169</ln><a id="169">&nbsp;</a><a id="n440734"><a id="n440736"><a id="n440737"><a id="n440748"><a id="n440744"><a id="n440742"><a id="n440733"><a id="n440749"><a id="n440735"><a id="n440741"><a id="n440740"><a id="n440745"><a id="n440746"><a id="n440738"><a id="n440747"><a id="n440739">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="#line169_col16_refs">tm</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#17">.target_triple</a></c24><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/link.rs.html#173">t</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;170</ln><a id="170">&nbsp;</a><a id="n440750"><a id="n440757"><a id="n440752"><a id="n440762"><a id="n440753"><a id="n440751"><a id="n440759"><a id="n440754"><a id="n440761"><a id="n440755"><a id="n440760"><a id="n440758">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.target_cpu</a></c24><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/link.rs.html#173">cpu</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;171</ln><a id="171">&nbsp;</a><a id="n440773"><a id="n440774"><a id="n440772"><a id="n440766"><a id="n440767"><a id="n440769"><a id="n440765"><a id="n440763"><a id="n440764"><a id="n440771"><a id="n440770">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#114">target_feature</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c4>)</c4><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/link.rs.html#173">features</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;172</ln><a id="172">&nbsp;</a><a id="n440775"><a id="n440776">&nbsp;</a></a><c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustCreateTargetMachine</nop></c26><c4>(</c4><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;173</ln><a id="173">&nbsp;</a><a id="n440779"><a id="n440777"><a id="n440778">&nbsp;</a></a></a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#169">t</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#170">cpu</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#171">features</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;174</ln><a id="174">&nbsp;</a><a id="n440780">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#220">lib::llvm::CodeModelDefault</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;175</ln><a id="175">&nbsp;</a><a id="n440781">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#156">reloc_model</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;176</ln><a id="176">&nbsp;</a><a id="n440782">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#142">opt_level</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;177</ln><a id="177">&nbsp;</a><a id="n440783">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="../../libstd/c_str.rs.html#n126080">true</a></c12><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;178</ln><a id="178">&nbsp;</a><a id="n440784">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#148">use_softfp</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;179</ln><a id="179">&nbsp;</a><a id="n440785">&nbsp;</a><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#152">no_fp_elim</a></c26><c27><a href="../../libstd/c_str.rs.html#n126080">
</a></c27><br/><ln>&nbsp;&nbsp;180</ln><a id="180">&nbsp;</a>&nbsp;<c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;181</ln><a id="181">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;182</ln><a id="182">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/c_str.rs.html#n126080">
</a></c22><br/><ln>&nbsp;&nbsp;183</ln><a id="183">&nbsp;</a>&nbsp;<c22><a href="../../libstd/c_str.rs.html#n126080">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;184</ln><a id="184">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;185</ln><a id="185">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;two&nbsp;optimizing&nbsp;pass&nbsp;managers.&nbsp;These&nbsp;mirror&nbsp;what&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;186</ln><a id="186">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;does,&nbsp;and&nbsp;are&nbsp;by&nbsp;populated&nbsp;by&nbsp;LLVM's&nbsp;default&nbsp;PassManagerBuilder.
</c40><br/><ln>&nbsp;&nbsp;187</ln><a id="187">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Each&nbsp;manager&nbsp;has&nbsp;a&nbsp;different&nbsp;set&nbsp;of&nbsp;passes,&nbsp;but&nbsp;they&nbsp;also&nbsp;share
</c40><br/><ln>&nbsp;&nbsp;188</ln><a id="188">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;some&nbsp;common&nbsp;passes.
</c40><br/><ln>&nbsp;&nbsp;189</ln><a id="189">&nbsp;</a><a id="n440791"><a id="n440788"><a id="n440787"><a id="n440789"><a id="n440786"><a id="n440792"><a id="n440790">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="#line189_col16_refs">fpm</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c26><nop>llvm::LLVMCreateFunctionPassManagerForModule</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;190</ln><a id="190">&nbsp;</a><a id="n440795"><a id="n440793"><a id="n440796"><a id="n440798"><a id="n440794"><a id="n440797">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="#line190_col16_refs">mpm</a></c20><c16><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c16><c26><nop>llvm::LLVMCreatePassManager</nop></c26><c4>()</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;191</ln><a id="191">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;192</ln><a id="192">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;verifying&nbsp;or&nbsp;linting,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;function&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;193</ln><a id="193">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;194</ln><a id="194">&nbsp;</a><a id="n440800"><a id="n440812"><a id="n440808"><a id="n440803"><a id="n440806"><a id="n440801"><a id="n440809"><a id="n440799"><a id="n440802"><a id="n440811"><a id="n440810"><a id="n440805">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#197">addpass</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c1><a href="#line127_col4_refs">|</a></c1><c20><a href="../../librustc/back/link.rs.html#195">pass</a></c20><c1><a href="#line127_col4_refs">:&nbsp;</a></c1><c8><a href="#line127_col4_refs">&amp;str</a></c8><c1><a href="#line127_col4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;195</ln><a id="195">&nbsp;</a><a id="n440820"><a id="n440823"><a id="n440815"><a id="n440818"><a id="n440813"><a id="n440814"><a id="n440819"><a id="n440822"><a id="n440824"><a id="n440821"><a id="n440817">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#194">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n126080">|</a></c1><c20><a href="../../librustc/back/link.rs.html#195">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n126080">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c1><c8><a href="../../libstd/c_str.rs.html#n126080">llvm</a></c8><c26><nop>::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">fpm</a></c26><c3>,</c3><c27><a href="../../libstd/c_str.rs.html#n126080">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#195">s</a></c26><c4>))</c4><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;196</ln><a id="196">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;197</ln><a id="197">&nbsp;</a><a id="n440836"><a id="n440829"><a id="n440835"><a id="n440825"><a id="n440834"><a id="n440826"><a id="n440827"><a id="n440830"><a id="n440828">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c5><a href="#line127_col4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.no_verify</a></c10><c4>()</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">&nbsp;assert!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#194">addpass</a></c26><c4>(</c4><c12><a href="#line127_col4_refs">"verify"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;198</ln><a id="198">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;199</ln><a id="199">&nbsp;</a><a id="n440915"><a id="n440910"><a id="n440914"><a id="n440912"><a id="n440909"><a id="n440911"><a id="n440908"><a id="n440913">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c5><a href="#line127_col4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.no_prepopulate_passes</a></c24><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;200</ln><a id="200">&nbsp;</a><a id="n440920"><a id="n440917"><a id="n440918"><a id="n440919"><a id="n440921"><a id="n440916">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAnalysisPasses</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#189">fpm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;201</ln><a id="201">&nbsp;</a><a id="n440927"><a id="n440926"><a id="n440923"><a id="n440925"><a id="n440922"><a id="n440924">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAnalysisPasses</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#190">mpm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;202</ln><a id="202">&nbsp;</a><a id="n440928"><a id="n440931"><a id="n440930"><a id="n440929"><a id="n440932"><a id="n440933"><a id="n440934">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#428">populate_llvm_passes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">fpm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#190">mpm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#142">opt_level</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;203</ln><a id="203">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;204</ln><a id="204">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;205</ln><a id="205">&nbsp;</a><a id="n440950"><a id="n440937"><a id="n440939"><a id="n440953"><a id="n440936"><a id="n440938"><a id="n440940"><a id="n440935"><a id="n440942"><a id="n440943"><a id="n440944"><a id="n440954"><a id="n440948"><a id="n440949"><a id="n440951"><a id="n440945"><a id="n440952"><a id="n440947"><a id="n440941"><a id="n440946">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c20><a href="#line205_col16_refs">pass</a></c20><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.passes</a></c24><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;206</ln><a id="206">&nbsp;</a><a id="n440964"><a id="n440957"><a id="n440956"><a id="n440960"><a id="n440959"><a id="n440961"><a id="n440962"><a id="n440963"><a id="n440955">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#205">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n126080">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/back/link.rs.html#205">|</a></c1><c20><a href="../../librustc/back/link.rs.html#207">s</a></c20><c8><a href="../../librustc/back/link.rs.html#205">|</a></c8><c1><a href="../../librustc/back/link.rs.html#205">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;207</ln><a id="207">&nbsp;</a><a id="n440969"><a id="n440971"><a id="n440970"><a id="n440965"><a id="n440968"><a id="n440966"><a id="n440967">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#205">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#205">!</a></c5><c26><nop>llvm::LLVMRustAddPass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#190">mpm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#205">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#206">s</a></c26><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#205">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;208</ln><a id="208">&nbsp;</a><a id="n440984"><a id="n441003"><a id="n440979"><a id="n441023"><a id="n440977"><a id="n440996"><a id="n441016"><a id="n440998"><a id="n441014"><a id="n441018"><a id="n440997"><a id="n441006"><a id="n441022"><a id="n441020"><a id="n441012"><a id="n440986"><a id="n441021"><a id="n440994"><a id="n441017"><a id="n441008"><a id="n441013"><a id="n440973"><a id="n441024"><a id="n441009"><a id="n440992"><a id="n440982"><a id="n441027"><a id="n441005"><a id="n441001"><a id="n441004"><a id="n441007"><a id="n441015"><a id="n440987"><a id="n440990"><a id="n440999"><a id="n440974"><a id="n440995"><a id="n441032"><a id="n441028"><a id="n440993"><a id="n440972"><a id="n441002"><a id="n440978"><a id="n440981"><a id="n440985"><a id="n441000"><a id="n441019"><a id="n440983"><a id="n441026"><a id="n441010"><a id="n440980"><a id="n440991"><a id="n441025"><a id="n440976"><a id="n441011"><a id="n440975">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#228">.warn</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#228">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/mod.rs.html#n164199">"unknown&nbsp;pass&nbsp;</a></c8><c3>{},</c3><c8><a href="../../libstd/fmt/mod.rs.html#n164199">&nbsp;ignoring"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#228">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#208">*</a></c20><c26><a href="../../librustc/back/link.rs.html#205">pass</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;209</ln><a id="209">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;210</ln><a id="210">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#205">
</a></c22><br/><ln>&nbsp;&nbsp;211</ln><a id="211">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;&nbsp;212</ln><a id="212">&nbsp;</a>&nbsp;<c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;&nbsp;213</ln><a id="213">&nbsp;</a>&nbsp;<c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Finally,&nbsp;run&nbsp;the&nbsp;actual&nbsp;optimization&nbsp;passes
</c40><br/><ln>&nbsp;&nbsp;214</ln><a id="214">&nbsp;</a><a id="n441036"><a id="n441042"><a id="n441043"><a id="n441040"><a id="n441035"><a id="n441033"><a id="n441034"><a id="n441038"><a id="n441037"><a id="n441044"><a id="n441039">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c12><a href="#line127_col4_refs">"llvm&nbsp;function&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c1><a href="#line127_col4_refs">|</a></c1><c4>()</c4><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;215</ln><a id="215">&nbsp;</a><a id="n441048"><a id="n441045"><a id="n441046"><a id="n441049"><a id="n441050"><a id="n441047">&nbsp;</a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><nop>llvm</nop></c8><c26><nop>::LLVMRustRunFunctionPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">fpm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;216</ln><a id="216">&nbsp;</a><a id="n441052"><a id="n441051"><a id="n441062"><a id="n441058"><a id="n441061"><a id="n441054"><a id="n441056"><a id="n441053"><a id="n441057"><a id="n441060"><a id="n441055">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c12><a href="#line127_col4_refs">"llvm&nbsp;module&nbsp;passes"</a></c12><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c1><a href="#line127_col4_refs">|</a></c1><c4>()</c4><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;217</ln><a id="217">&nbsp;</a><a id="n441066"><a id="n441067"><a id="n441063"><a id="n441068"><a id="n441065"><a id="n441064">&nbsp;</a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><nop>llvm</nop></c8><c26><nop>::LLVMRunPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#190">mpm</a></c26><c3>,</c3><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;218</ln><a id="218">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;219</ln><a id="219">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Deallocate&nbsp;managers&nbsp;that&nbsp;we're&nbsp;now&nbsp;done&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;220</ln><a id="220">&nbsp;</a><a id="n441070"><a id="n441071"><a id="n441072"><a id="n441069">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#189">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;221</ln><a id="221">&nbsp;</a><a id="n441073"><a id="n441076"><a id="n441074"><a id="n441075">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#190">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;222</ln><a id="222">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;223</ln><a id="223">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Emit&nbsp;the&nbsp;bytecode&nbsp;if&nbsp;we're&nbsp;either&nbsp;saving&nbsp;our&nbsp;temporaries&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;224</ln><a id="224">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;emitting&nbsp;an&nbsp;rlib.&nbsp;Whenever&nbsp;an&nbsp;rlib&nbsp;is&nbsp;created,&nbsp;the&nbsp;bytecode&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;225</ln><a id="225">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;inserted&nbsp;into&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;LTO&nbsp;against&nbsp;it.
</c40><br/><ln>&nbsp;&nbsp;226</ln><a id="226">&nbsp;</a><a id="n441080"><a id="n441081"><a id="n441078"><a id="n441077"><a id="n441079"><a id="n441082"><a id="n441083">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.save_temps</a></c24><c1><a href="#line127_col4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;227</ln><a id="227">&nbsp;</a><a id="n441091"><a id="n441090"><a id="n441089"><a id="n441084"><a id="n441087"><a id="n441086"><a id="n441088"><a id="n441085">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#195">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n56470">.contains</a></c10><c4>(</c4><c5><a href="#line127_col4_refs">&amp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#174">session::CrateTypeRlib</a></c26><c4>)</c4><c1><a href="#line127_col4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;228</ln><a id="228">&nbsp;</a><a id="n441094"><a id="n441095"><a id="n441097"><a id="n441092"><a id="n441098"><a id="n441096"><a id="n441093">&nbsp;</a></a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#135">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n56470">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56470">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#54">OutputTypeExe</a></c26><c4>))</c4><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;229</ln><a id="229">&nbsp;</a><a id="n441106"><a id="n441100"><a id="n441105"><a id="n441099"><a id="n441101"><a id="n441103"><a id="n441107"><a id="n441108"><a id="n441102"><a id="n441110"><a id="n441109">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeBitcode</a></c26><c4>)</c4><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c20><a href="../../librustc/back/link.rs.html#230">buf</a></c20><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c3>{</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;230</ln><a id="230">&nbsp;</a><a id="n441111"><a id="n441113"><a id="n441115"><a id="n441112"><a id="n441114">&nbsp;</a></a></a></a></a><c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c26><nop>llvm::LLVMWriteBitcodeToFile</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#229">buf</a></c26><c4>)</c4><c3>;</c3><c22><nop>
</nop></c22><br/><ln>&nbsp;&nbsp;231</ln><a id="231">&nbsp;</a>&nbsp;<c22><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</nop></c22><c3>}</c3><c4>)</c4><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;232</ln><a id="232">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;233</ln><a id="233">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;234</ln><a id="234">&nbsp;</a><a id="n441120"><a id="n441116"><a id="n441118"><a id="n441117"><a id="n441119">&nbsp;</a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#313">.lto</a></c10><c4>()</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;235</ln><a id="235">&nbsp;</a><a id="n441131"><a id="n441123"><a id="n441125"><a id="n441128"><a id="n441124"><a id="n441121"><a id="n441132"><a id="n441126"><a id="n441122"><a id="n441130"><a id="n441127">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c12><a href="#line127_col4_refs">"all&nbsp;lto&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c1><a href="#line127_col4_refs">|</a></c1><c4>()</c4><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;236</ln><a id="236">&nbsp;</a><a id="n441140"><a id="n441136"><a id="n441138"><a id="n441134"><a id="n441139"><a id="n441133"><a id="n441137"><a id="n441142"><a id="n441141"><a id="n441135">&nbsp;</a></a></a></a></a></a></a></a></a></a><c1><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../librustc/back/lto.rs.html#20">lto</a></c8><c26><a href="../../librustc/back/lto.rs.html#20">::run</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#413">.reachable</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;237</ln><a id="237">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;238</ln><a id="238">&nbsp;</a><a id="n441147"><a id="n441146"><a id="n441145"><a id="n441148"><a id="n441143"><a id="n441144">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.save_temps</a></c24><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;239</ln><a id="239">&nbsp;</a><a id="n441155"><a id="n441157"><a id="n441150"><a id="n441153"><a id="n441159"><a id="n441158"><a id="n441152"><a id="n441156"><a id="n441149"><a id="n441151"><a id="n441160">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1162">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/driver/driver.rs.html#1162">"lto.bc"</a></c12><c4>)</c4><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><a href="#line127_col4_refs">|</a></c1><c20><a href="../../librustc/back/link.rs.html#240">buf</a></c20><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;240</ln><a id="240">&nbsp;</a><a id="n441164"><a id="n441163"><a id="n441162"><a id="n441165"><a id="n441161">&nbsp;</a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMWriteBitcodeToFile</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#239">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;241</ln><a id="241">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;242</ln><a id="242">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;243</ln><a id="243">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;244</ln><a id="244">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;245</ln><a id="245">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;A&nbsp;codegen-specific&nbsp;pass&nbsp;manager&nbsp;is&nbsp;used&nbsp;to&nbsp;generate&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;246</ln><a id="246">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;files&nbsp;for&nbsp;an&nbsp;LLVM&nbsp;module.
</c40><br/><ln>&nbsp;&nbsp;247</ln><a id="247">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;248</ln><a id="248">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Apparently&nbsp;each&nbsp;of&nbsp;these&nbsp;pass&nbsp;managers&nbsp;is&nbsp;a&nbsp;one-shot&nbsp;kind&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;249</ln><a id="249">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;thing,&nbsp;so&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;one&nbsp;for&nbsp;each&nbsp;type&nbsp;of&nbsp;output.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;250</ln><a id="250">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;pass&nbsp;manager&nbsp;passed&nbsp;to&nbsp;the&nbsp;closure&nbsp;should&nbsp;be&nbsp;ensured&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;251</ln><a id="251">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;escape&nbsp;the&nbsp;closure&nbsp;itself,&nbsp;and&nbsp;the&nbsp;manager&nbsp;should&nbsp;only&nbsp;be
</c40><br/><ln>&nbsp;&nbsp;252</ln><a id="252">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;once.
</c40><br/><ln>&nbsp;&nbsp;253</ln><a id="253">&nbsp;</a><a id="n441171"><a id="n441166"><a id="n441167"><a id="n441173"><a id="n441169"><a id="n441175">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#line253_col12_refs">&nbsp;with_codegen</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#257">tm</a></c20><c1><a href="#line253_col12_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#259">TargetMachineRef</a></c8><c3>,</c3><c1><a href="#line253_col12_refs">&nbsp;</a></c1><c20><a href="#line253_col50_refs">llmod</a></c20><c1><a href="#line253_col12_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="#line253_col12_refs">
</a></c1><br/><ln>&nbsp;&nbsp;254</ln><a id="254">&nbsp;</a><a id="n441185"><a id="n441179"><a id="n441177"><a id="n441183"><a id="n441184"><a id="n441182">&nbsp;</a></a></a></a></a></a><c1><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#259">f</a></c20><c1><a href="#line253_col12_refs">:&nbsp;</a></c1><c8><a href="#line253_col12_refs">|</a></c8><c8><a href="../../librustc/lib/llvm.rs.html#245">PassManagerRef</a></c8><c8><a href="#line253_col12_refs">|</a></c8><c4>)</c4><c1><a href="#line253_col12_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;255</ln><a id="255">&nbsp;</a><a id="n441187"><a id="n441186">&nbsp;</a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#line253_col12_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;256</ln><a id="256">&nbsp;</a><a id="n441189"><a id="n441188"><a id="n441191"><a id="n441192"><a id="n441193"><a id="n441190">&nbsp;</a></a></a></a></a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line253_col12_refs">&nbsp;</a></c22><c20><a href="#line256_col24_refs">cpm</a></c20><c13><a href="#line253_col12_refs">&nbsp;=&nbsp;</a></c13><c26><nop>llvm::LLVMCreatePassManager</nop></c26><c4>()</c4><c3>;</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;257</ln><a id="257">&nbsp;</a><a id="n441194"><a id="n441196"><a id="n441199"><a id="n441195"><a id="n441197"><a id="n441198">&nbsp;</a></a></a></a></a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAnalysisPasses</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#253">tm</a></c26><c3>,</c3><c27><a href="#line253_col12_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#256">cpm</a></c26><c3>,</c3><c27><a href="#line253_col12_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#253">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;258</ln><a id="258">&nbsp;</a><a id="n441203"><a id="n441204"><a id="n441200"><a id="n441201"><a id="n441202">&nbsp;</a></a></a></a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddLibraryInfo</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#256">cpm</a></c26><c3>,</c3><c27><a href="#line253_col12_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#253">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;259</ln><a id="259">&nbsp;</a><a id="n441206"><a id="n441205"><a id="n441208"><a id="n441207">&nbsp;</a></a></a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#254">f</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#256">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;260</ln><a id="260">&nbsp;</a><a id="n441210"><a id="n441211"><a id="n441212"><a id="n441209">&nbsp;</a></a></a></a><c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#256">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;261</ln><a id="261">&nbsp;</a>&nbsp;<c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line253_col12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;262</ln><a id="262">&nbsp;</a>&nbsp;<c22><a href="#line253_col12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;263</ln><a id="263">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;264</ln><a id="264">&nbsp;</a><a id="n441217"><a id="n441214"><a id="n441213"><a id="n441215"><a id="n441216">&nbsp;</a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line264_col16_refs">&nbsp;object_file</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;265</ln><a id="265">&nbsp;</a><a id="n441222"><a id="n441219"><a id="n441221"><a id="n441218"><a id="n441220">&nbsp;</a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line265_col16_refs">&nbsp;needs_metadata</a></c20><c13><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#line127_col4_refs">false</a></c12><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;266</ln><a id="266">&nbsp;</a><a id="n441238"><a id="n441225"><a id="n441233"><a id="n441234"><a id="n441237"><a id="n441226"><a id="n441230"><a id="n441229"><a id="n441236"><a id="n441235"><a id="n441231"><a id="n441223"><a id="n441224"><a id="n441232"><a id="n441228"><a id="n441239"><a id="n441227">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c20><c20><a href="#line266_col16_refs">output_type</a></c20><c20><a href="../../librustc/back/link.rs.html#266">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#129">output_types</a></c26><c10><a href="../../libstd/slice.rs.html#n48682">.iter</a></c10><c4>()</c4><c20><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c20><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;267</ln><a id="267">&nbsp;</a><a id="n441246"><a id="n441244"><a id="n441240"><a id="n441241"><a id="n441243"><a id="n441245"><a id="n441247"><a id="n441242">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c22><c20><a href="#line267_col20_refs">path</a></c20><c16><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1143">.path</a></c10><c4>(</c4><c5><a href="../../librustc/driver/driver.rs.html#1143">*</a></c5><c26><a href="../../librustc/back/link.rs.html#266">output_type</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;268</ln><a id="268">&nbsp;</a><a id="n441249"><a id="n441248"><a id="n441250">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#266">*</a></c5><c26><a href="../../librustc/back/link.rs.html#266">output_type</a></c26><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;269</ln><a id="269">&nbsp;</a><a id="n441251"><a id="n441252"><a id="n441253">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeBitcode</a></c20><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;270</ln><a id="270">&nbsp;</a><a id="n441261"><a id="n441259"><a id="n441255"><a id="n441262"><a id="n441258"><a id="n441256"><a id="n441260"><a id="n441263"><a id="n441254">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#267">path</a></c26><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><a href="../../librustc/back/link.rs.html#266">|</a></c1><c20><a href="../../librustc/back/link.rs.html#271">buf</a></c20><c8><a href="../../librustc/back/link.rs.html#266">|</a></c8><c1><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;271</ln><a id="271">&nbsp;</a><a id="n441268"><a id="n441265"><a id="n441264"><a id="n441266"><a id="n441267">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMWriteBitcodeToFile</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#270">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;272</ln><a id="272">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;273</ln><a id="273">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;274</ln><a id="274">&nbsp;</a><a id="n441270"><a id="n441271"><a id="n441269">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeLlvmAssembly</a></c20><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;275</ln><a id="275">&nbsp;</a><a id="n441278"><a id="n441273"><a id="n441279"><a id="n441280"><a id="n441274"><a id="n441277"><a id="n441272"><a id="n441281"><a id="n441276">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#267">path</a></c26><c10><nop>.with_c_str</nop></c10><c4>(</c4><c1><a href="../../librustc/back/link.rs.html#266">|</a></c1><c20><a href="../../librustc/back/link.rs.html#277">output</a></c20><c8><a href="../../librustc/back/link.rs.html#266">|</a></c8><c1><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;276</ln><a id="276">&nbsp;</a><a id="n441285"><a id="n441289"><a id="n441286"><a id="n441290"><a id="n441288"><a id="n441282"><a id="n441284"><a id="n441292"><a id="n441293"><a id="n441283"><a id="n441291">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c1><a href="../../librustc/back/link.rs.html#266">|</a></c1><c20><a href="../../librustc/back/link.rs.html#277">cpm</a></c20><c8><a href="../../librustc/back/link.rs.html#266">|</a></c8><c1><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;277</ln><a id="277">&nbsp;</a><a id="n441296"><a id="n441294"><a id="n441295"><a id="n441299"><a id="n441298"><a id="n441297">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustPrintModule</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#276">cpm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#275">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;278</ln><a id="278">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;279</ln><a id="279">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;280</ln><a id="280">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;281</ln><a id="281">&nbsp;</a><a id="n441301"><a id="n441302"><a id="n441300">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeAssembly</a></c20><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;282</ln><a id="282">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;using&nbsp;the&nbsp;LLVM&nbsp;assembler,&nbsp;this&nbsp;function
</c40><br/><ln>&nbsp;&nbsp;283</ln><a id="283">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;could&nbsp;be&nbsp;invoked&nbsp;specially&nbsp;with&nbsp;output_type_assembly,
</c40><br/><ln>&nbsp;&nbsp;284</ln><a id="284">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;in&nbsp;this&nbsp;case&nbsp;we&nbsp;still&nbsp;want&nbsp;the&nbsp;metadata&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;285</ln><a id="285">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;286</ln><a id="286">&nbsp;</a><a id="n441306"><a id="n441305"><a id="n441304"><a id="n441307"><a id="n441303">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#287">ty</a></c20><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#51">OutputTypeAssembly</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;287</ln><a id="287">&nbsp;</a><a id="n441312"><a id="n441317"><a id="n441316"><a id="n441308"><a id="n441315"><a id="n441311"><a id="n441318"><a id="n441309"><a id="n441313"><a id="n441310"><a id="n441314"><a id="n441319">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#294">path</a></c20><c16><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c16><c21><a href="../../librustc/back/link.rs.html#266">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#135">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n56470">.contains</a></c10><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#266">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#286">ty</a></c26><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;288</ln><a id="288">&nbsp;</a><a id="n441320">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#267">path</a></c26><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;289</ln><a id="289">&nbsp;</a><a id="n441322"><a id="n441321">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;290</ln><a id="290">&nbsp;</a><a id="n441324"><a id="n441323"><a id="n441326"><a id="n441325">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#265">needs_metadata</a></c26><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#266">true</a></c12><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;291</ln><a id="291">&nbsp;</a><a id="n441328"><a id="n441329"><a id="n441327">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#51">OutputTypeAssembly</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;292</ln><a id="292">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;293</ln><a id="293">&nbsp;</a><a id="n441340"><a id="n441338"><a id="n441337"><a id="n441342"><a id="n441334"><a id="n441331"><a id="n441335"><a id="n441332"><a id="n441333"><a id="n441341"><a id="n441330"><a id="n441339">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c13><c1><a href="../../librustc/back/link.rs.html#266">|</a></c1><c20><a href="../../librustc/back/link.rs.html#294">cpm</a></c20><c8><a href="../../librustc/back/link.rs.html#266">|</a></c8><c1><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;294</ln><a id="294">&nbsp;</a><a id="n441350"><a id="n441347"><a id="n441346"><a id="n441348"><a id="n441343"><a id="n441349"><a id="n441344"><a id="n441351"><a id="n441345">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#69">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#293">cpm</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#266">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#287">path</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#266">
</a></c27><br/><ln>&nbsp;&nbsp;295</ln><a id="295">&nbsp;</a><a id="n441352">&nbsp;</a><c27><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#182">lib::llvm::AssemblyFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;296</ln><a id="296">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;297</ln><a id="297">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;298</ln><a id="298">&nbsp;</a><a id="n441355"><a id="n441354"><a id="n441353">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c20><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;299</ln><a id="299">&nbsp;</a><a id="n441359"><a id="n441357"><a id="n441361"><a id="n441358"><a id="n441360"><a id="n441356">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#264">object_file</a></c26><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#267">path</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;300</ln><a id="300">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;301</ln><a id="301">&nbsp;</a><a id="n441362"><a id="n441364"><a id="n441363">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#54">OutputTypeExe</a></c20><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#266">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;302</ln><a id="302">&nbsp;</a><a id="n441369"><a id="n441370"><a id="n441371"><a id="n441367"><a id="n441368"><a id="n441366"><a id="n441365"><a id="n441372">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#264">object_file</a></c26><c13><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;303</ln><a id="303">&nbsp;</a><a id="n441373"><a id="n441375"><a id="n441376"><a id="n441374">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#265">needs_metadata</a></c26><c5><a href="../../librustc/back/link.rs.html#266">&nbsp;=&nbsp;</a></c5><c12><a href="../../librustc/back/link.rs.html#266">true</a></c12><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;304</ln><a id="304">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#266">
</a></c21><br/><ln>&nbsp;&nbsp;305</ln><a id="305">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#266">
</a></c22><br/><ln>&nbsp;&nbsp;306</ln><a id="306">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../librustc/back/link.rs.html#266">
</a></c20><br/><ln>&nbsp;&nbsp;307</ln><a id="307">&nbsp;</a>&nbsp;<c20><a href="../../librustc/back/link.rs.html#266">
</a></c20><br/><ln>&nbsp;&nbsp;308</ln><a id="308">&nbsp;</a><a id="n441381"><a id="n441390"><a id="n441387"><a id="n441380"><a id="n441388"><a id="n441382"><a id="n441378"><a id="n441384"><a id="n441386"><a id="n441392"><a id="n441391"><a id="n441389"><a id="n441383"><a id="n441379"><a id="n441377">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c20><a href="../../librustc/back/link.rs.html#266">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c12><a href="#line127_col4_refs">"codegen&nbsp;passes"</a></c12><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c1><a href="#line127_col4_refs">|</a></c1><c4>()</c4><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;309</ln><a id="309">&nbsp;</a><a id="n441394"><a id="n441395"><a id="n441393">&nbsp;</a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#264">object_file</a></c26><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#line127_col4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;310</ln><a id="310">&nbsp;</a><a id="n441396"><a id="n441397"><a id="n441399"><a id="n441398">&nbsp;</a></a></a></a><c13><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#312">ref&nbsp;path</a></c20><c4>)</c4><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;311</ln><a id="311">&nbsp;</a><a id="n441409"><a id="n441404"><a id="n441410"><a id="n441403"><a id="n441411"><a id="n441401"><a id="n441407"><a id="n441412"><a id="n441405"><a id="n441408"><a id="n441400"><a id="n441402">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c1><a href="#line127_col4_refs">|</a></c1><c20><a href="../../librustc/back/link.rs.html#312">cpm</a></c20><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;312</ln><a id="312">&nbsp;</a><a id="n441418"><a id="n441417"><a id="n441413"><a id="n441420"><a id="n441415"><a id="n441414"><a id="n441419"><a id="n441416">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#69">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#311">cpm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#310">path</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;313</ln><a id="313">&nbsp;</a><a id="n441421">&nbsp;</a><c27><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#183">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;314</ln><a id="314">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;315</ln><a id="315">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#line127_col4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;316</ln><a id="316">&nbsp;</a><a id="n441422"><a id="n441423"><a id="n441424">&nbsp;</a></a></a><c13><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#line127_col4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;317</ln><a id="317">&nbsp;</a>&nbsp;<c13><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;318</ln><a id="318">&nbsp;</a><a id="n441425"><a id="n441426"><a id="n441427">&nbsp;</a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#265">needs_metadata</a></c26><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;319</ln><a id="319">&nbsp;</a><a id="n441433"><a id="n441436"><a id="n441438"><a id="n441431"><a id="n441437"><a id="n441428"><a id="n441440"><a id="n441430"><a id="n441432"><a id="n441439"><a id="n441429"><a id="n441435">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c3>,</c3><c27><a href="#line127_col4_refs">&nbsp;</a></c27><c1><a href="#line127_col4_refs">|</a></c1><c20><a href="../../librustc/back/link.rs.html#322">cpm</a></c20><c8><a href="#line127_col4_refs">|</a></c8><c1><a href="#line127_col4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;320</ln><a id="320">&nbsp;</a><a id="n441446"><a id="n441447"><a id="n441443"><a id="n441441"><a id="n441448"><a id="n441445"><a id="n441442"><a id="n441444">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#323">out</a></c20><c16><a href="#line127_col4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#130">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>)</c4><c10><nop>
</nop></c10><br/><ln>&nbsp;&nbsp;321</ln><a id="321">&nbsp;</a><a id="n441449">&nbsp;</a><c10><nop>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.with_extension</nop></c10><c4>(</c4><c12><a href="#line127_col4_refs">"metadata.o"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;322</ln><a id="322">&nbsp;</a><a id="n441451"><a id="n441450"><a id="n441455"><a id="n441454"><a id="n441452"><a id="n441453">&nbsp;</a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#69">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#319">cpm</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;323</ln><a id="323">&nbsp;</a><a id="n441456"><a id="n441457"><a id="n441459"><a id="n441458">&nbsp;</a></a></a></a><c13><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c3>,</c3><c13><a href="#line127_col4_refs">&nbsp;</a></c13><c5><a href="#line127_col4_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#320">out</a></c26><c3>,</c3><c13><a href="#line127_col4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;324</ln><a id="324">&nbsp;</a><a id="n441460">&nbsp;</a><c13><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#183">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;325</ln><a id="325">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;326</ln><a id="326">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;327</ln><a id="327">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;328</ln><a id="328">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;329</ln><a id="329">&nbsp;</a><a id="n441464"><a id="n441462"><a id="n441463"><a id="n441461">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustDisposeTargetMachine</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#169">tm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;330</ln><a id="330">&nbsp;</a><a id="n441466"><a id="n441469"><a id="n441465"><a id="n441467"><a id="n441468">&nbsp;</a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposeModule</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#128">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#410">.metadata_module</a></c24><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;331</ln><a id="331">&nbsp;</a><a id="n441473"><a id="n441470"><a id="n441471"><a id="n441472">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMDisposeModule</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;332</ln><a id="332">&nbsp;</a><a id="n441475"><a id="n441474"><a id="n441476"><a id="n441477">&nbsp;</a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMContextDispose</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#132">llcx</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;333</ln><a id="333">&nbsp;</a><a id="n441479"><a id="n441480"><a id="n441483"><a id="n441484"><a id="n441478"><a id="n441482"><a id="n441481">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#127">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#302">.time_llvm_passes</a></c10><c4>()</c4><c21><a href="#line127_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c26><nop>llvm::LLVMRustPrintPassTimings</nop></c26><c4>()</c4><c3>;</c3><c22><a href="#line127_col4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;334</ln><a id="334">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line127_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;335</ln><a id="335">&nbsp;</a>&nbsp;<c22><a href="#line127_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;336</ln><a id="336">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;337</ln><a id="337">&nbsp;</a><a id="n441493"><a id="n441490"><a id="n441488"><a id="n441495"><a id="n441487"><a id="n441496"><a id="n441485"><a id="n441497"><a id="n441492">&nbsp;</a></a></a></a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/driver/driver.rs.html#439">&nbsp;run_assembler</a></c30><c4>(</c4><c20><a href="#line337_col25_refs">sess</a></c20><c1><a href="../../librustc/driver/driver.rs.html#439">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#439">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c1><c20><a href="#line337_col41_refs">outputs</a></c20><c1><a href="../../librustc/driver/driver.rs.html#439">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#439">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1135">OutputFilenames</a></c8><c4>)</c4><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;338</ln><a id="338">&nbsp;</a><a id="n441504"><a id="n441499"><a id="n441498"><a id="n441503"><a id="n441501"><a id="n441502"><a id="n441500">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c20><a href="#line338_col12_refs">cc</a></c20><c13><a href="../../librustc/driver/driver.rs.html#439">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#729">super::get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;339</ln><a id="339">&nbsp;</a><a id="n441511"><a id="n441506"><a id="n441508"><a id="n441509"><a id="n441507"><a id="n441505"><a id="n441510">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#346">assembly</a></c20><c13><a href="../../librustc/driver/driver.rs.html#439">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#337">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#51">OutputTypeAssembly</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;340</ln><a id="340">&nbsp;</a><a id="n441515"><a id="n441517"><a id="n441513"><a id="n441514"><a id="n441516"><a id="n441518"><a id="n441512">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#345">object</a></c20><c13><a href="../../librustc/driver/driver.rs.html#439">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#337">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1143">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;341</ln><a id="341">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;342</ln><a id="342">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;343</ln><a id="343">&nbsp;</a><a id="n441523"><a id="n441520"><a id="n441522"><a id="n441519"><a id="n441521">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c20><a href="#line343_col12_refs">args</a></c20><c13><a href="../../librustc/driver/driver.rs.html#439">&nbsp;=&nbsp;</a></c13><c3>[</c3><c1><a href="../../librustc/driver/driver.rs.html#439">
</a></c1><br/><ln>&nbsp;&nbsp;344</ln><a id="344">&nbsp;</a><a id="n441524"><a id="n441525">&nbsp;</a></a><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="../../libstd/str.rs.html#n64748">"-c"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#439">
</a></c1><br/><ln>&nbsp;&nbsp;345</ln><a id="345">&nbsp;</a><a id="n441530"><a id="n441528"><a id="n441527"><a id="n441529"><a id="n441526"><a id="n441531">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="../../librustc/driver/driver.rs.html#439">"-o"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#340">object</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#439">
</a></c1><br/><ln>&nbsp;&nbsp;346</ln><a id="346">&nbsp;</a><a id="n441532"><a id="n441535"><a id="n441534"><a id="n441533">&nbsp;</a></a></a></a><c1><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#339">assembly</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>];</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;347</ln><a id="347">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;348</ln><a id="348">&nbsp;</a><a id="n441601"><a id="n441585"><a id="n441592"><a id="n441642"><a id="n441581"><a id="n441633"><a id="n441610"><a id="n441640"><a id="n441600"><a id="n441594"><a id="n441621"><a id="n441609"><a id="n441644"><a id="n441586"><a id="n441582"><a id="n441578"><a id="n441614"><a id="n441595"><a id="n441603"><a id="n441583"><a id="n441641"><a id="n441625"><a id="n441591"><a id="n441634"><a id="n441626"><a id="n441611"><a id="n441613"><a id="n441643"><a id="n441593"><a id="n441615"><a id="n441639"><a id="n441602"><a id="n441597"><a id="n441596"><a id="n441573"><a id="n441588"><a id="n441604"><a id="n441616"><a id="n441624"><a id="n441580"><a id="n441617"><a id="n441628"><a id="n441575"><a id="n441608"><a id="n441618"><a id="n441587"><a id="n441632"><a id="n441574"><a id="n441629"><a id="n441579"><a id="n441659"><a id="n441605"><a id="n441638"><a id="n441599"><a id="n441623"><a id="n441630"><a id="n441577"><a id="n441627"><a id="n441598"><a id="n441620"><a id="n441619"><a id="n441612"><a id="n441584"><a id="n441636"><a id="n441631"><a id="n441607"><a id="n441637"><a id="n441635"><a id="n441576"><a id="n441606"><a id="n441622">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c16><a href="../../libstd/fmt/rt.rs.html#n163993">"</a></c16><c3>{}</c3><c16><a href="../../libstd/fmt/rt.rs.html#n163993">&nbsp;'</a></c16><c3>{}</c3><c16><a href="../../libstd/fmt/rt.rs.html#n163993">'"</a></c16><c3>,</c3><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c27><a href="../../librustc/back/link.rs.html#348">cc</a></c27><c3>,</c3><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#343">args</a></c26><c5><a href="../../libstd/str.rs.html#n57198">.connect</a></c5><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n166021">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;349</ln><a id="349">&nbsp;</a><a id="n441661"><a id="n441660"><a id="n441663"><a id="n441662"><a id="n441664">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n140228">Process::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#338">cc</a></c26><c3>,</c3><c27><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#343">args</a></c26><c4>)</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/driver/driver.rs.html#439">
</a></c21><br/><ln>&nbsp;&nbsp;350</ln><a id="350">&nbsp;</a><a id="n441668"><a id="n441665"><a id="n441666"><a id="n441667">&nbsp;</a></a></a></a><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="#line350_col15_refs">prog</a></c20><c4>)</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;351</ln><a id="351">&nbsp;</a><a id="n441674"><a id="n441673"><a id="n441669"><a id="n441670"><a id="n441672"><a id="n441671">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c5><a href="../../librustc/driver/driver.rs.html#439">!</a></c5><c26><a href="../../librustc/back/link.rs.html#350">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n140137">.success</a></c10><c4>()</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;352</ln><a id="352">&nbsp;</a><a id="n441687"><a id="n441707"><a id="n441720"><a id="n441742"><a id="n441711"><a id="n441724"><a id="n441691"><a id="n441719"><a id="n441677"><a id="n441689"><a id="n441681"><a id="n441716"><a id="n441713"><a id="n441753"><a id="n441749"><a id="n441728"><a id="n441747"><a id="n441717"><a id="n441692"><a id="n441675"><a id="n441729"><a id="n441705"><a id="n441736"><a id="n441715"><a id="n441737"><a id="n441723"><a id="n441699"><a id="n441722"><a id="n441680"><a id="n441732"><a id="n441704"><a id="n441734"><a id="n441710"><a id="n441684"><a id="n441735"><a id="n441703"><a id="n441696"><a id="n441725"><a id="n441698"><a id="n441731"><a id="n441701"><a id="n441708"><a id="n441688"><a id="n441721"><a id="n441738"><a id="n441683"><a id="n441693"><a id="n441678"><a id="n441709"><a id="n441726"><a id="n441743"><a id="n441740"><a id="n441686"><a id="n441741"><a id="n441714"><a id="n441690"><a id="n441679"><a id="n441697"><a id="n441685"><a id="n441745"><a id="n441733"><a id="n441739"><a id="n441706"><a id="n441727"><a id="n441702"><a id="n441730"><a id="n441682"><a id="n441744"><a id="n441746"><a id="n441718"><a id="n441676"><a id="n441712"><a id="n441700"><a id="n441748">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c21><a href="../../librustc/driver/driver.rs.html#439">format!</a></c21><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#352">"linking&nbsp;with&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#352">`&nbsp;failed:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#352">"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166021">cc</a></c26><c3>,</c3><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#350">prog</a></c26><c5><a href="../../librustc/back/link.rs.html#352">.status</a></c5><c4>))</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;353</ln><a id="353">&nbsp;</a><a id="n441790"><a id="n441811"><a id="n441754"><a id="n441765"><a id="n441806"><a id="n441816"><a id="n441784"><a id="n441801"><a id="n441799"><a id="n441770"><a id="n441797"><a id="n441768"><a id="n441777"><a id="n441756"><a id="n441786"><a id="n441822"><a id="n441810"><a id="n441817"><a id="n441824"><a id="n441833"><a id="n441773"><a id="n441778"><a id="n441796"><a id="n441761"><a id="n441795"><a id="n441800"><a id="n441829"><a id="n441762"><a id="n441766"><a id="n441789"><a id="n441776"><a id="n441813"><a id="n441758"><a id="n441792"><a id="n441812"><a id="n441827"><a id="n441825"><a id="n441818"><a id="n441791"><a id="n441781"><a id="n441759"><a id="n441808"><a id="n441793"><a id="n441771"><a id="n441823"><a id="n441763"><a id="n441828"><a id="n441788"><a id="n441780"><a id="n441803"><a id="n441826"><a id="n441772"><a id="n441769"><a id="n441819"><a id="n441782"><a id="n441757"><a id="n441804"><a id="n441779"><a id="n441807"><a id="n441767"><a id="n441805"><a id="n441787"><a id="n441798"><a id="n441809"><a id="n441760"><a id="n441814"><a id="n441785"><a id="n441802"><a id="n441783"><a id="n441821"><a id="n441764"><a id="n441820"><a id="n441815"><a id="n441755"><a id="n441794">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#240">.note</a></c10><c4>(</c4><c21><a href="../../librustc/driver/driver.rs.html#439">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164008">"</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164008">&nbsp;arguments:&nbsp;'</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164008">'"</a></c1><c3>,</c3><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#353">cc</a></c26><c3>,</c3><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#343">args</a></c26><c20><a href="../../librustc/back/link.rs.html#353">.connect</a></c20><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#353">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;354</ln><a id="354">&nbsp;</a><a id="n441837"><a id="n441836"><a id="n441839"><a id="n441835"><a id="n441838"><a id="n441834"><a id="n441840">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line354_col24_refs">&nbsp;note</a></c20><c13><a href="../../librustc/driver/driver.rs.html#439">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#350">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.error</a></c24><c10><a href="../../libstd/vec.rs.html#n54750">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;355</ln><a id="355">&nbsp;</a><a id="n441841"><a id="n441844"><a id="n441846"><a id="n441842"><a id="n441843"><a id="n441845">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#354">note</a></c26><c10><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#350">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.output</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;356</ln><a id="356">&nbsp;</a><a id="n441847"><a id="n441855"><a id="n441848"><a id="n441850"><a id="n441851"><a id="n441852"><a id="n441854"><a id="n441853"><a id="n441849">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#240">.note</a></c10><c4>(</c4><c26><a href="../../libstd/str.rs.html#n56915">str::from_utf8</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#354">note</a></c26><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;357</ln><a id="357">&nbsp;</a><a id="n441858"><a id="n441857"><a id="n441856">&nbsp;</a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;358</ln><a id="358">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;359</ln><a id="359">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="../../librustc/driver/driver.rs.html#439">
</a></c21><br/><ln>&nbsp;&nbsp;360</ln><a id="360">&nbsp;</a><a id="n441860"><a id="n441862"><a id="n441859"><a id="n441861">&nbsp;</a></a></a></a><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#361">e</a></c20><c4>)</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;361</ln><a id="361">&nbsp;</a><a id="n441934"><a id="n441919"><a id="n441866"><a id="n441865"><a id="n441864"><a id="n441868"><a id="n441905"><a id="n441908"><a id="n441873"><a id="n441872"><a id="n441922"><a id="n441890"><a id="n441921"><a id="n441879"><a id="n441912"><a id="n441889"><a id="n441886"><a id="n441887"><a id="n441913"><a id="n441898"><a id="n441917"><a id="n441867"><a id="n441877"><a id="n441907"><a id="n441936"><a id="n441904"><a id="n441906"><a id="n441888"><a id="n441929"><a id="n441874"><a id="n441897"><a id="n441923"><a id="n441893"><a id="n441878"><a id="n441911"><a id="n441892"><a id="n441875"><a id="n441933"><a id="n441863"><a id="n441871"><a id="n441918"><a id="n441925"><a id="n441932"><a id="n441920"><a id="n441870"><a id="n441903"><a id="n441916"><a id="n441894"><a id="n441924"><a id="n441869"><a id="n441899"><a id="n441901"><a id="n441900"><a id="n441931"><a id="n441884"><a id="n441910"><a id="n441880"><a id="n441928"><a id="n441902"><a id="n441940"><a id="n441876"><a id="n441915"><a id="n441914"><a id="n441930"><a id="n441926"><a id="n441883"><a id="n441896"><a id="n441895"><a id="n441935"><a id="n441885"><a id="n441891"><a id="n441927"><a id="n441909">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n164052">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164052">`:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164052">"</a></c12><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#338">cc</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#361">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;362</ln><a id="362">&nbsp;</a><a id="n441942"><a id="n441943"><a id="n441941">&nbsp;</a></a></a><c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#337">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;363</ln><a id="363">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/driver/driver.rs.html#439">
</a></c21><br/><ln>&nbsp;&nbsp;364</ln><a id="364">&nbsp;</a>&nbsp;<c21><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/driver/driver.rs.html#439">
</a></c22><br/><ln>&nbsp;&nbsp;365</ln><a id="365">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#439">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;366</ln><a id="366">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;367</ln><a id="367">&nbsp;</a><a id="n441947"><a id="n441949"><a id="n441946"><a id="n441950"><a id="n441951"><a id="n441944">&nbsp;</a></a></a></a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#134">&nbsp;configure_llvm</a></c30><c4>(</c4><c20><a href="#line367_col29_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#134">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#134">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;368</ln><a id="368">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>use</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;sync::one::</a></c22><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">Once</a></c22><c3>,</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;ONCE_INIT</a></c22><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;369</ln><a id="369">&nbsp;</a><a id="n441955"><a id="n441959"><a id="n441956"><a id="n441957">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="../../librustc/back/link.rs.html#398">&nbsp;mut&nbsp;INIT:&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6457">Once</a></c36><c36><a href="../../librustc/back/link.rs.html#398">&nbsp;=&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6467">ONCE_INIT</a></c36><c36>;</c36><c36><a href="../../librustc/back/link.rs.html#134">
</a></c36><br/><ln>&nbsp;&nbsp;370</ln><a id="370">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;371</ln><a id="371">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Copy&nbsp;what&nbsp;clang&nbsp;does&nbsp;by&nbsp;turning&nbsp;on&nbsp;loop&nbsp;vectorization&nbsp;at&nbsp;O2&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;372</ln><a id="372">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;slp&nbsp;vectorization&nbsp;at&nbsp;O3
</c40><br/><ln>&nbsp;&nbsp;373</ln><a id="373">&nbsp;</a><a id="n441967"><a id="n441961"><a id="n441962"><a id="n441966"><a id="n441969"><a id="n441964"><a id="n441963"><a id="n441968"><a id="n441965"><a id="n441960">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#388">vectorize_loop</a></c20><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#134">!</a></c5><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.no_vectorize_loops</a></c24><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;374</ln><a id="374">&nbsp;</a><a id="n441974"><a id="n441973"><a id="n441970"><a id="n441975"><a id="n441976"><a id="n441971"><a id="n441972">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c5><a href="../../librustc/back/link.rs.html#134">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#114">session::Default</a></c26><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;375</ln><a id="375">&nbsp;</a><a id="n441980"><a id="n441977"><a id="n441979"><a id="n441981"><a id="n441978">&nbsp;</a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c5><a href="../../librustc/back/link.rs.html#134">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#115">session::Aggressive</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;376</ln><a id="376">&nbsp;</a><a id="n441987"><a id="n441991"><a id="n441988"><a id="n441986"><a id="n441989"><a id="n441990"><a id="n441983"><a id="n441985"><a id="n441984"><a id="n441982">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#389">vectorize_slp</a></c20><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#134">!</a></c5><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.no_vectorize_slp</a></c24><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;377</ln><a id="377">&nbsp;</a><a id="n441995"><a id="n441992"><a id="n441996"><a id="n441994"><a id="n441993">&nbsp;</a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c5><a href="../../librustc/back/link.rs.html#134">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#115">session::Aggressive</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;378</ln><a id="378">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;379</ln><a id="379">&nbsp;</a><a id="n441999"><a id="n441998"><a id="n442001"><a id="n442002"><a id="n441997"><a id="n442000">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c21>mut</c21><c20><a href="../../librustc/back/link.rs.html#385">&nbsp;llvm_c_strs</a></c20><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n54239">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;380</ln><a id="380">&nbsp;</a><a id="n442006"><a id="n442008"><a id="n442005"><a id="n442007"><a id="n442003"><a id="n442004">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line380_col12_refs">&nbsp;llvm_args</a></c20><c16><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n54239">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;381</ln><a id="381">&nbsp;</a><a id="n442010"><a id="n442011"><a id="n442009">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>{</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;382</ln><a id="382">&nbsp;</a><a id="n442024"><a id="n442021"><a id="n442023"><a id="n442012"><a id="n442025"><a id="n442014"><a id="n442015"><a id="n442022"><a id="n442016"><a id="n442018"><a id="n442019"><a id="n442013">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c20><a href="#line382_col16_refs">add</a></c20><c16><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c16><c1><a href="../../librustc/back/link.rs.html#134">|</a></c1><c20><a href="../../librustc/back/link.rs.html#383">arg</a></c20><c1><a href="../../librustc/back/link.rs.html#134">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#134">&amp;str</a></c8><c1><a href="../../librustc/back/link.rs.html#134">|&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;383</ln><a id="383">&nbsp;</a><a id="n442029"><a id="n442031"><a id="n442030"><a id="n442026"><a id="n442027"><a id="n442028">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c20><a href="#line383_col20_refs">s</a></c20><c16><a href="../../librustc/back/link.rs.html#134">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#382">arg</a></c26><c10><a href="../../libstd/c_str.rs.html#n126060">.to_c_str</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;384</ln><a id="384">&nbsp;</a><a id="n442036"><a id="n442040"><a id="n442037"><a id="n442043"><a id="n442032"><a id="n442034"><a id="n442033"><a id="n442035"><a id="n442042"><a id="n442039"><a id="n442041">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#380">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#383">s</a></c26><c10><a href="../../libstd/c_str.rs.html#n125716">.with_ref</a></c10><c4>(</c4><c1><a href="../../libstd/vec.rs.html#n55328">|</a></c1><c20><a href="../../librustc/back/link.rs.html#384">p</a></c20><c8><a href="../../libstd/vec.rs.html#n55328">|</a></c8><c1><a href="../../libstd/vec.rs.html#n55328">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#384">p</a></c8><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;385</ln><a id="385">&nbsp;</a><a id="n442046"><a id="n442047"><a id="n442045"><a id="n442044">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#379">llvm_c_strs</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#383">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;386</ln><a id="386">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;387</ln><a id="387">&nbsp;</a><a id="n442049"><a id="n442050"><a id="n442051"><a id="n442048">&nbsp;</a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#134">"rustc"</a></c12><c4>)</c4><c3>;</c3><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c40>//&nbsp;fake&nbsp;program&nbsp;name
</c40><br/><ln>&nbsp;&nbsp;388</ln><a id="388">&nbsp;</a><a id="n442054"><a id="n442059"><a id="n442057"><a id="n442055"><a id="n442058"><a id="n442052"><a id="n442056"><a id="n442053">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#373">vectorize_loop</a></c26><c21><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#134">"-vectorize-loops"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;389</ln><a id="389">&nbsp;</a><a id="n442064"><a id="n442060"><a id="n442067"><a id="n442062"><a id="n442065"><a id="n442066"><a id="n442063"><a id="n442061">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#376">vectorize_slp</a></c26><c21><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#134">"-vectorize-slp"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;390</ln><a id="390">&nbsp;</a><a id="n442073"><a id="n442075"><a id="n442076"><a id="n442071"><a id="n442069"><a id="n442072"><a id="n442070"><a id="n442074"><a id="n442068">&nbsp;</a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#302">.time_llvm_passes</a></c10><c4>()</c4><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#134">"-time-passes"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;391</ln><a id="391">&nbsp;</a><a id="n442078"><a id="n442085"><a id="n442080"><a id="n442082"><a id="n442079"><a id="n442083"><a id="n442084"><a id="n442081"><a id="n442077">&nbsp;</a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#310">.print_llvm_passes</a></c10><c4>()</c4><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#134">"-debug-pass=Structure"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;392</ln><a id="392">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#134">
</a></c13><br/><ln>&nbsp;&nbsp;393</ln><a id="393">&nbsp;</a><a id="n442096"><a id="n442093"><a id="n442103"><a id="n442099"><a id="n442100"><a id="n442095"><a id="n442089"><a id="n442101"><a id="n442088"><a id="n442086"><a id="n442104"><a id="n442094"><a id="n442102"><a id="n442097"><a id="n442087"><a id="n442098"><a id="n442090"><a id="n442091"><a id="n442092">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#393">&nbsp;</a></c26><c20><a href="../../librustc/back/link.rs.html#394">arg</a></c20><c26><a href="../../librustc/back/link.rs.html#393">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#367">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.llvm_args</a></c24><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#393">&nbsp;</a></c26><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#393">
</a></c22><br/><ln>&nbsp;&nbsp;394</ln><a id="394">&nbsp;</a><a id="n442105"><a id="n442106"><a id="n442109"><a id="n442108"><a id="n442107">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#393">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#382">add</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#393">*</a></c5><c26><a href="../../librustc/back/link.rs.html#393">arg</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#393">
</a></c22><br/><ln>&nbsp;&nbsp;395</ln><a id="395">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#393">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#393">
</a></c26><br/><ln>&nbsp;&nbsp;396</ln><a id="396">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#393">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;397</ln><a id="397">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;398</ln><a id="398">&nbsp;</a><a id="n442114"><a id="n442110"><a id="n442116"><a id="n442111"><a id="n442115"><a id="n442117"><a id="n442113"><a id="n442112">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#369">INIT</a></c26><c10><a href="../../libsync/one.rs.html#n6477">.doit</a></c10><c4>(</c4><c1><a href="../../libsync/one.rs.html#n6477">||&nbsp;</a></c1><c3>{</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;399</ln><a id="399">&nbsp;</a><a id="n442118"><a id="n442119"><a id="n442120">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializePasses</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;400</ln><a id="400">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;401</ln><a id="401">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Only&nbsp;initialize&nbsp;the&nbsp;platforms&nbsp;supported&nbsp;by&nbsp;Rust&nbsp;here,&nbsp;because
</c40><br/><ln>&nbsp;&nbsp;402</ln><a id="402">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;using&nbsp;--llvm-root&nbsp;will&nbsp;have&nbsp;multiple&nbsp;platforms&nbsp;that&nbsp;rustllvm
</c40><br/><ln>&nbsp;&nbsp;403</ln><a id="403">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;doesn't&nbsp;actually&nbsp;link&nbsp;to&nbsp;and&nbsp;it's&nbsp;pointless&nbsp;to&nbsp;put&nbsp;target&nbsp;info
</c40><br/><ln>&nbsp;&nbsp;404</ln><a id="404">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;registry&nbsp;that&nbsp;Rust&nbsp;cannot&nbsp;generate&nbsp;machine&nbsp;code&nbsp;for.
</c40><br/><ln>&nbsp;&nbsp;405</ln><a id="405">&nbsp;</a><a id="n442121"><a id="n442122"><a id="n442123">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeX86TargetInfo</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;406</ln><a id="406">&nbsp;</a><a id="n442125"><a id="n442126"><a id="n442124">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeX86Target</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;407</ln><a id="407">&nbsp;</a><a id="n442129"><a id="n442127"><a id="n442128">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeX86TargetMC</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;408</ln><a id="408">&nbsp;</a><a id="n442131"><a id="n442130"><a id="n442132">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeX86AsmPrinter</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;409</ln><a id="409">&nbsp;</a><a id="n442135"><a id="n442133"><a id="n442134">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeX86AsmParser</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;410</ln><a id="410">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;411</ln><a id="411">&nbsp;</a><a id="n442137"><a id="n442136"><a id="n442138">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeARMTargetInfo</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;412</ln><a id="412">&nbsp;</a><a id="n442141"><a id="n442139"><a id="n442140">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeARMTarget</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;413</ln><a id="413">&nbsp;</a><a id="n442144"><a id="n442143"><a id="n442142">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeARMTargetMC</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;414</ln><a id="414">&nbsp;</a><a id="n442146"><a id="n442145"><a id="n442147">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeARMAsmPrinter</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;415</ln><a id="415">&nbsp;</a><a id="n442150"><a id="n442149"><a id="n442148">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeARMAsmParser</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;416</ln><a id="416">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;417</ln><a id="417">&nbsp;</a><a id="n442152"><a id="n442153"><a id="n442151">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeMipsTargetInfo</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;418</ln><a id="418">&nbsp;</a><a id="n442156"><a id="n442154"><a id="n442155">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeMipsTarget</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;419</ln><a id="419">&nbsp;</a><a id="n442159"><a id="n442158"><a id="n442157">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeMipsTargetMC</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;420</ln><a id="420">&nbsp;</a><a id="n442161"><a id="n442162"><a id="n442160">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeMipsAsmPrinter</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;421</ln><a id="421">&nbsp;</a><a id="n442165"><a id="n442164"><a id="n442163">&nbsp;</a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMInitializeMipsAsmParser</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;422</ln><a id="422">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;423</ln><a id="423">&nbsp;</a><a id="n442167"><a id="n442166"><a id="n442169"><a id="n442171"><a id="n442168"><a id="n442172"><a id="n442170">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustSetLLVMOptions</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#380">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n55089">.len</a></c10><c4>()</c4><c21><a href="../../libsync/one.rs.html#n6477">&nbsp;as&nbsp;</a></c21><c8><a href="../../liblibc/lib.rs.html#n653">c_int</a></c8><c3>,</c3><c13><a href="../../libsync/one.rs.html#n6477">
</a></c13><br/><ln>&nbsp;&nbsp;424</ln><a id="424">&nbsp;</a><a id="n442174"><a id="n442175">&nbsp;</a></a><c13><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#380">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n56240">.as_ptr</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6477">
</a></c22><br/><ln>&nbsp;&nbsp;425</ln><a id="425">&nbsp;</a>&nbsp;<c22><a href="../../libsync/one.rs.html#n6477">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#134">
</a></c22><br/><ln>&nbsp;&nbsp;426</ln><a id="426">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#134">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;427</ln><a id="427">&nbsp;</a>&nbsp;<c38>
</c38><br/><ln>&nbsp;&nbsp;428</ln><a id="428">&nbsp;</a><a id="n442180"><a id="n442176"><a id="n442178">&nbsp;</a></a></a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#202">&nbsp;populate_llvm_passes</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#458">fpm</a></c20><c1><a href="../../librustc/back/link.rs.html#202">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;429</ln><a id="429">&nbsp;</a><a id="n442182"><a id="n442184">&nbsp;</a></a><c1><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#459">mpm</a></c20><c1><a href="../../librustc/back/link.rs.html#202">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#245">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;430</ln><a id="430">&nbsp;</a><a id="n442188"><a id="n442186">&nbsp;</a></a><c1><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#455">llmod</a></c20><c1><a href="../../librustc/back/link.rs.html#202">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#229">ModuleRef</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;431</ln><a id="431">&nbsp;</a><a id="n442190"><a id="n442193"><a id="n442194"><a id="n442192">&nbsp;</a></a></a></a><c1><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line431_col35_refs">opt</a></c20><c1><a href="../../librustc/back/link.rs.html#202">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#202">lib::llvm::CodeGenOptLevel</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;432</ln><a id="432">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;PassManagerBuilder&nbsp;for&nbsp;LLVM.&nbsp;We&nbsp;configure&nbsp;it&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;433</ln><a id="433">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;reasonable&nbsp;defaults&nbsp;and&nbsp;prepare&nbsp;it&nbsp;to&nbsp;actually&nbsp;populate&nbsp;the&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;434</ln><a id="434">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;435</ln><a id="435">&nbsp;</a><a id="n442195"><a id="n442197"><a id="n442199"><a id="n442198"><a id="n442200"><a id="n442196">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c22><c20><a href="#line435_col12_refs">builder</a></c20><c16><a href="../../librustc/back/link.rs.html#202">&nbsp;=&nbsp;</a></c16><c26><nop>llvm::LLVMPassManagerBuilderCreate</nop></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;436</ln><a id="436">&nbsp;</a><a id="n442202"><a id="n442201"><a id="n442203">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#431">opt</a></c26><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c3>{</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;437</ln><a id="437">&nbsp;</a><a id="n442205"><a id="n442204"><a id="n442206">&nbsp;</a></a></a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelNone</a></c20><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;438</ln><a id="438">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Don't&nbsp;add&nbsp;lifetime&nbsp;intrinsics&nbsp;at&nbsp;O0
</c40><br/><ln>&nbsp;&nbsp;439</ln><a id="439">&nbsp;</a><a id="n442208"><a id="n442210"><a id="n442207"><a id="n442209"><a id="n442211">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAlwaysInlinePass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#202">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;440</ln><a id="440">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;441</ln><a id="441">&nbsp;</a><a id="n442213"><a id="n442214"><a id="n442212">&nbsp;</a></a></a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelLess</a></c20><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;442</ln><a id="442">&nbsp;</a><a id="n442219"><a id="n442217"><a id="n442218"><a id="n442215"><a id="n442216">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddAlwaysInlinePass</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c27><c12><a href="../../librustc/back/link.rs.html#202">true</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;443</ln><a id="443">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;444</ln><a id="444">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;numeric&nbsp;values&nbsp;copied&nbsp;from&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;445</ln><a id="445">&nbsp;</a><a id="n442220"><a id="n442222"><a id="n442221">&nbsp;</a></a></a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelDefault</a></c20><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;446</ln><a id="446">&nbsp;</a><a id="n442224"><a id="n442223"><a id="n442225"><a id="n442226">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;447</ln><a id="447">&nbsp;</a><a id="n442227">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#202">225</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;448</ln><a id="448">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;449</ln><a id="449">&nbsp;</a><a id="n442230"><a id="n442228"><a id="n442229">&nbsp;</a></a></a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/lib/llvm.rs.html#207">lib::llvm::CodeGenLevelAggressive</a></c20><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;450</ln><a id="450">&nbsp;</a><a id="n442234"><a id="n442233"><a id="n442232"><a id="n442231">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;451</ln><a id="451">&nbsp;</a><a id="n442235">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="../../librustc/back/link.rs.html#202">275</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;452</ln><a id="452">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#202">
</a></c13><br/><ln>&nbsp;&nbsp;453</ln><a id="453">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;454</ln><a id="454">&nbsp;</a><a id="n442240"><a id="n442242"><a id="n442237"><a id="n442238"><a id="n442241"><a id="n442236"><a id="n442239">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderSetOptLevel</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#431">opt</a></c26><c21><a href="../../librustc/back/link.rs.html#202">&nbsp;as&nbsp;</a></c21><c8><a href="../../liblibc/lib.rs.html#n656">c_uint</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;455</ln><a id="455">&nbsp;</a><a id="n442244"><a id="n442247"><a id="n442245"><a id="n442248"><a id="n442246">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMRustAddBuilderLibraryInfo</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#430">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;456</ln><a id="456">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;457</ln><a id="457">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Use&nbsp;the&nbsp;builder&nbsp;to&nbsp;populate&nbsp;the&nbsp;function/module&nbsp;pass&nbsp;managers.
</c40><br/><ln>&nbsp;&nbsp;458</ln><a id="458">&nbsp;</a><a id="n442253"><a id="n442249"><a id="n442250"><a id="n442252"><a id="n442251">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderPopulateFunctionPassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#428">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;459</ln><a id="459">&nbsp;</a><a id="n442255"><a id="n442258"><a id="n442256"><a id="n442257"><a id="n442254">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderPopulateModulePassManager</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#202">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#429">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;460</ln><a id="460">&nbsp;</a><a id="n442259"><a id="n442262"><a id="n442260"><a id="n442261">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><nop>llvm::LLVMPassManagerBuilderDispose</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#435">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#202">
</a></c22><br/><ln>&nbsp;&nbsp;461</ln><a id="461">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;462</ln><a id="462">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;463</ln><a id="463">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;464</ln><a id="464">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;465</ln><a id="465">&nbsp;</a>&nbsp;<c41>/*
</c41><br/><ln>&nbsp;&nbsp;466</ln><a id="466">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;Name&nbsp;mangling&nbsp;and&nbsp;its&nbsp;relationship&nbsp;to&nbsp;metadata.&nbsp;This&nbsp;is&nbsp;complex.&nbsp;Read
</c41><br/><ln>&nbsp;&nbsp;467</ln><a id="467">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;carefully.
</c41><br/><ln>&nbsp;&nbsp;468</ln><a id="468">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;469</ln><a id="469">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;The&nbsp;semantic&nbsp;model&nbsp;of&nbsp;Rust&nbsp;linkage&nbsp;is,&nbsp;broadly,&nbsp;that&nbsp;"there's&nbsp;no&nbsp;global
</c41><br/><ln>&nbsp;&nbsp;470</ln><a id="470">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;namespace"&nbsp;between&nbsp;crates.&nbsp;Our&nbsp;aim&nbsp;is&nbsp;to&nbsp;preserve&nbsp;the&nbsp;illusion&nbsp;of&nbsp;this
</c41><br/><ln>&nbsp;&nbsp;471</ln><a id="471">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;model&nbsp;despite&nbsp;the&nbsp;fact&nbsp;that&nbsp;it's&nbsp;not&nbsp;*quite*&nbsp;possible&nbsp;to&nbsp;implement&nbsp;on
</c41><br/><ln>&nbsp;&nbsp;472</ln><a id="472">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;modern&nbsp;linkers.&nbsp;We&nbsp;initially&nbsp;didn't&nbsp;use&nbsp;system&nbsp;linkers&nbsp;at&nbsp;all,&nbsp;but&nbsp;have
</c41><br/><ln>&nbsp;&nbsp;473</ln><a id="473">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;been&nbsp;convinced&nbsp;of&nbsp;their&nbsp;utility.
</c41><br/><ln>&nbsp;&nbsp;474</ln><a id="474">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;475</ln><a id="475">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;issues&nbsp;to&nbsp;handle:
</c41><br/><ln>&nbsp;&nbsp;476</ln><a id="476">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;477</ln><a id="477">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Linkers&nbsp;operate&nbsp;on&nbsp;a&nbsp;flat&nbsp;namespace,&nbsp;so&nbsp;we&nbsp;have&nbsp;to&nbsp;flatten&nbsp;names.
</c41><br/><ln>&nbsp;&nbsp;478</ln><a id="478">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;do&nbsp;this&nbsp;using&nbsp;the&nbsp;C++&nbsp;namespace-mangling&nbsp;technique.&nbsp;Foo::bar
</c41><br/><ln>&nbsp;&nbsp;479</ln><a id="479">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;and&nbsp;such.
</c41><br/><ln>&nbsp;&nbsp;480</ln><a id="480">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;481</ln><a id="481">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;but&nbsp;different&nbsp;types&nbsp;need&nbsp;to&nbsp;get&nbsp;different
</c41><br/><ln>&nbsp;&nbsp;482</ln><a id="482">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;linkage-names.&nbsp;We&nbsp;do&nbsp;this&nbsp;by&nbsp;hashing&nbsp;a&nbsp;string-encoding&nbsp;of&nbsp;the&nbsp;type&nbsp;into
</c41><br/><ln>&nbsp;&nbsp;483</ln><a id="483">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;fixed-size&nbsp;(currently&nbsp;16-byte&nbsp;hex)&nbsp;cryptographic&nbsp;hash&nbsp;function&nbsp;(CHF:
</c41><br/><ln>&nbsp;&nbsp;484</ln><a id="484">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;use&nbsp;SHA256)&nbsp;to&nbsp;"prevent&nbsp;collisions".&nbsp;This&nbsp;is&nbsp;not&nbsp;airtight&nbsp;but&nbsp;16&nbsp;hex
</c41><br/><ln>&nbsp;&nbsp;485</ln><a id="485">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;digits&nbsp;on&nbsp;uniform&nbsp;probability&nbsp;means&nbsp;you're&nbsp;going&nbsp;to&nbsp;need&nbsp;2**32&nbsp;same-name
</c41><br/><ln>&nbsp;&nbsp;486</ln><a id="486">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;in&nbsp;the&nbsp;same&nbsp;process&nbsp;before&nbsp;you're&nbsp;even&nbsp;hitting&nbsp;birthday-paradox
</c41><br/><ln>&nbsp;&nbsp;487</ln><a id="487">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;collision&nbsp;probability.
</c41><br/><ln>&nbsp;&nbsp;488</ln><a id="488">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;489</ln><a id="489">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;in&nbsp;different&nbsp;crates&nbsp;but&nbsp;with&nbsp;same&nbsp;names&nbsp;"within"&nbsp;the&nbsp;crate&nbsp;need
</c41><br/><ln>&nbsp;&nbsp;490</ln><a id="490">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;different&nbsp;linkage-names.
</c41><br/><ln>&nbsp;&nbsp;491</ln><a id="491">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;492</ln><a id="492">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;The&nbsp;hash&nbsp;shown&nbsp;in&nbsp;the&nbsp;filename&nbsp;needs&nbsp;to&nbsp;be&nbsp;predictable&nbsp;and&nbsp;stable&nbsp;for
</c41><br/><ln>&nbsp;&nbsp;493</ln><a id="493">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;build&nbsp;tooling&nbsp;integration.&nbsp;It&nbsp;also&nbsp;needs&nbsp;to&nbsp;be&nbsp;using&nbsp;a&nbsp;hash&nbsp;function
</c41><br/><ln>&nbsp;&nbsp;494</ln><a id="494">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;is&nbsp;easy&nbsp;to&nbsp;use&nbsp;from&nbsp;Python,&nbsp;make,&nbsp;etc.
</c41><br/><ln>&nbsp;&nbsp;495</ln><a id="495">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;496</ln><a id="496">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;So&nbsp;here&nbsp;is&nbsp;what&nbsp;we&nbsp;do:
</c41><br/><ln>&nbsp;&nbsp;497</ln><a id="497">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;498</ln><a id="498">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Consider&nbsp;the&nbsp;package&nbsp;id;&nbsp;every&nbsp;crate&nbsp;has&nbsp;one&nbsp;(specified&nbsp;with&nbsp;crate_id
</c41><br/><ln>&nbsp;&nbsp;499</ln><a id="499">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;attribute).&nbsp;&nbsp;If&nbsp;a&nbsp;package&nbsp;id&nbsp;isn't&nbsp;provided&nbsp;explicitly,&nbsp;we&nbsp;infer&nbsp;a
</c41><br/><ln>&nbsp;&nbsp;500</ln><a id="500">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;versionless&nbsp;one&nbsp;from&nbsp;the&nbsp;output&nbsp;name.&nbsp;The&nbsp;version&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;0.0
</c41><br/><ln>&nbsp;&nbsp;501</ln><a id="501">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;this&nbsp;case.&nbsp;CNAME&nbsp;and&nbsp;CVERS&nbsp;are&nbsp;taken&nbsp;from&nbsp;this&nbsp;package&nbsp;id.&nbsp;For
</c41><br/><ln>&nbsp;&nbsp;502</ln><a id="502">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;example,&nbsp;github.com/mozilla/CNAME#CVERS.
</c41><br/><ln>&nbsp;&nbsp;503</ln><a id="503">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;504</ln><a id="504">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH&nbsp;as&nbsp;SHA256(crateid).
</c41><br/><ln>&nbsp;&nbsp;505</ln><a id="505">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;506</ln><a id="506">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH8&nbsp;as&nbsp;the&nbsp;first&nbsp;8&nbsp;characters&nbsp;of&nbsp;CMH.
</c41><br/><ln>&nbsp;&nbsp;507</ln><a id="507">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;508</ln><a id="508">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Compile&nbsp;our&nbsp;crate&nbsp;to&nbsp;lib&nbsp;CNAME-CMH8-CVERS.so
</c41><br/><ln>&nbsp;&nbsp;509</ln><a id="509">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;510</ln><a id="510">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;STH(sym)&nbsp;as&nbsp;SHA256(CMH,&nbsp;type_str(sym))
</c41><br/><ln>&nbsp;&nbsp;511</ln><a id="511">&nbsp;</a>&nbsp;<c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;512</ln><a id="512">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Suffix&nbsp;a&nbsp;mangled&nbsp;sym&nbsp;with&nbsp;::STH@CVERS,&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;unique&nbsp;in&nbsp;the
</c41><br/><ln>&nbsp;&nbsp;513</ln><a id="513">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;name,&nbsp;non-name&nbsp;metadata,&nbsp;and&nbsp;type&nbsp;sense,&nbsp;and&nbsp;versioned&nbsp;in&nbsp;the&nbsp;way
</c41><br/><ln>&nbsp;&nbsp;514</ln><a id="514">&nbsp;</a>&nbsp;<c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;system&nbsp;linkers&nbsp;understand.
</c41><br/><ln>&nbsp;&nbsp;515</ln><a id="515">&nbsp;</a>&nbsp;<c42>&nbsp;*/
</c42><br/><ln>&nbsp;&nbsp;516</ln><a id="516">&nbsp;</a><a id="n442263">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;517</ln><a id="517">&nbsp;</a><a id="n442274"><a id="n442269"><a id="n442277"><a id="n442266"><a id="n442267"><a id="n442265"><a id="n442271"><a id="n442272"><a id="n442275">&nbsp;</a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#line516_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line516_col1_refs">&nbsp;find_crate_id</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#518">attrs</a></c20><c1><a href="#line516_col1_refs">:&nbsp;</a></c1><c8><a href="#line516_col1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#n71080">ast::Attribute</a></c8><c3>],</c3><c1><a href="#line516_col1_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#519">out_filestem</a></c20><c1><a href="#line516_col1_refs">:&nbsp;</a></c1><c8><a href="#line516_col1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#line516_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line516_col1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c1><a href="#line516_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line516_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;518</ln><a id="518">&nbsp;</a><a id="n442279"><a id="n442281"><a id="n442278"><a id="n442280">&nbsp;</a></a></a></a><c22><a href="#line516_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/attr.rs.html#n3309">attr::find_crateid</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#517">attrs</a></c26><c4>)</c4><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line516_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;519</ln><a id="519">&nbsp;</a><a id="n442282"><a id="n442286"><a id="n442285"><a id="n442284"><a id="n442283">&nbsp;</a></a></a></a></a><c21><a href="#line516_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c26><a href="../../libstd/from_str.rs.html#n74392">from_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#517">out_filestem</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c3>,</c3><c21><a href="#line516_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;520</ln><a id="520">&nbsp;</a><a id="n442289"><a id="n442288"><a id="n442287">&nbsp;</a></a></a><c21><a href="#line516_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#520">s</a></c20><c4>)</c4><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line516_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#520">s</a></c26><c3>,</c3><c21><a href="#line516_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;521</ln><a id="521">&nbsp;</a>&nbsp;<c21><a href="#line516_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line516_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;522</ln><a id="522">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;523</ln><a id="523">&nbsp;</a><a id="n442290">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;524</ln><a id="524">&nbsp;</a><a id="n442296"><a id="n442292"><a id="n442297"><a id="n442299"><a id="n442295"><a id="n442293">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#line523_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line523_col1_refs">&nbsp;crate_id_hash</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#529">crate_id</a></c20><c1><a href="#line523_col1_refs">:&nbsp;</a></c1><c8><a href="#line523_col1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c4>)</c4><c1><a href="#line523_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line523_col1_refs">&nbsp;</a></c1><c8><a href="#line523_col1_refs">~str</a></c8><c1><a href="#line523_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line523_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;525</ln><a id="525">&nbsp;</a>&nbsp;<c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;calculates&nbsp;CMH&nbsp;as&nbsp;defined&nbsp;above.&nbsp;Note&nbsp;that&nbsp;we&nbsp;don't&nbsp;use&nbsp;the&nbsp;path&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;526</ln><a id="526">&nbsp;</a>&nbsp;<c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;crate&nbsp;id&nbsp;in&nbsp;the&nbsp;hash&nbsp;because&nbsp;lookups&nbsp;are&nbsp;only&nbsp;done&nbsp;by&nbsp;(name/vers),
</c40><br/><ln>&nbsp;&nbsp;527</ln><a id="527">&nbsp;</a>&nbsp;<c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;by&nbsp;path.
</c40><br/><ln>&nbsp;&nbsp;528</ln><a id="528">&nbsp;</a><a id="n442305"><a id="n442302"><a id="n442301"><a id="n442300"><a id="n442303"><a id="n442304">&nbsp;</a></a></a></a></a></a><c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line523_col1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line528_col8_refs">&nbsp;s</a></c20><c13><a href="#line523_col1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/sha2.rs.html#479">Sha256::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#line523_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;529</ln><a id="529">&nbsp;</a><a id="n442307"><a id="n442309"><a id="n442308"><a id="n442310"><a id="n442306">&nbsp;</a></a></a></a></a><c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#528">s</a></c26><c13><nop>.input_str</nop></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#524">crate_id</a></c26><c10><a href="../../libsyntax/crateid.rs.html#n139575">.short_name_with_version</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line523_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;530</ln><a id="530">&nbsp;</a><a id="n442313"><a id="n442315"><a id="n442317"><a id="n442316"><a id="n442314"><a id="n442312"><a id="n442311">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line523_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#541">truncated_hash_result</a></c26><c4>(</c4><c5><a href="../../libstd/str.rs.html#n64031">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#528">s</a></c26><c4>)</c4><c10><a href="../../libstd/str.rs.html#n64031">.slice_to</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64031">8</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c22><a href="#line523_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;531</ln><a id="531">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;532</ln><a id="532">&nbsp;</a><a id="n442318">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;533</ln><a id="533">&nbsp;</a><a id="n442320"><a id="n442331"><a id="n442321"><a id="n442323"><a id="n442328"><a id="n442329"><a id="n442325"><a id="n442326">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;build_link_meta</a></c30><c4>(</c4><c20><a href="#line533_col23_refs">krate</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#2122">:&nbsp;</a></c1><c8><a href="../../librustc/middle/trans/base.rs.html#2122">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n26875">ast::Crate</a></c8><c3>,</c3><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#535">out_filestem</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#2122">:&nbsp;</a></c1><c8><a href="../../librustc/middle/trans/base.rs.html#2122">&amp;str</a></c8><c4>)</c4><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c8><a href="../../librustc/metadata/common.rs.html#202">LinkMeta</a></c8><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/trans/base.rs.html#2122">
</a></c22><br/><ln>&nbsp;&nbsp;534</ln><a id="534">&nbsp;</a><a id="n442333"><a id="n442334"><a id="n442335"><a id="n442336"><a id="n442332">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c22><c20><a href="#line534_col8_refs">r</a></c20><c13><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;=&nbsp;</a></c13><c1><a href="../../librustc/metadata/common.rs.html#202">LinkMeta&nbsp;</a></c1><c3>{</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;535</ln><a id="535">&nbsp;</a><a id="n442340"><a id="n442339"><a id="n442342"><a id="n442337"><a id="n442341"><a id="n442338">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#516">find_crate_id</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#533">krate</a></c26><c24><a href="../../libsyntax/ast.rs.html#n26875">.attrs</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/metadata/common.rs.html#202">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#533">out_filestem</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;536</ln><a id="536">&nbsp;</a><a id="n442343"><a id="n442344"><a id="n442345">&nbsp;</a></a></a><c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crate_hash:&nbsp;</a></c1><c26><a href="../../librustc/back/svh.rs.html#70">Svh::calculate</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#533">krate</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#202">
</a></c1><br/><ln>&nbsp;&nbsp;537</ln><a id="537">&nbsp;</a>&nbsp;<c1><a href="../../librustc/metadata/common.rs.html#202">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>};</c3><c22><a href="../../librustc/middle/trans/base.rs.html#2122">
</a></c22><br/><ln>&nbsp;&nbsp;538</ln><a id="538">&nbsp;</a><a id="n442403"><a id="n442399"><a id="n442382"><a id="n442386"><a id="n442394"><a id="n442424"><a id="n442411"><a id="n442384"><a id="n442385"><a id="n442415"><a id="n442398"><a id="n442406"><a id="n442410"><a id="n442416"><a id="n442425"><a id="n442390"><a id="n442407"><a id="n442388"><a id="n442395"><a id="n442389"><a id="n442414"><a id="n442387"><a id="n442396"><a id="n442404"><a id="n442423"><a id="n442413"><a id="n442412"><a id="n442402"><a id="n442422"><a id="n442400"><a id="n442405"><a id="n442381"><a id="n442408"><a id="n442421"><a id="n442401"><a id="n442440"><a id="n442420"><a id="n442409"><a id="n442393"><a id="n442397"><a id="n442380"><a id="n442417"><a id="n442418"><a id="n442419"><a id="n442383">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;&nbsp;&nbsp;&nbsp;info!</a></c22><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#538">"</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#538">"</a></c20><c3>,</c3><c22><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c22><c5><a href="../../libstd/fmt/mod.rs.html#n166021">r</a></c5><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#2122">
</a></c22><br/><ln>&nbsp;&nbsp;539</ln><a id="539">&nbsp;</a><a id="n442443"><a id="n442441"><a id="n442442">&nbsp;</a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="../../librustc/middle/trans/base.rs.html#2122">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#534">r</a></c26><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#2122">
</a></c22><br/><ln>&nbsp;&nbsp;540</ln><a id="540">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;541</ln><a id="541">&nbsp;</a><a id="n442444">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;542</ln><a id="542">&nbsp;</a><a id="n442449"><a id="n442447"><a id="n442453"><a id="n442450"><a id="n442446"><a id="n442451">&nbsp;</a></a></a></a></a></a><c30>fn</c30><c30><a href="#line541_col1_refs">&nbsp;truncated_hash_result</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#543">symbol_hasher</a></c20><c1><a href="#line541_col1_refs">:&nbsp;</a></c1><c8><a href="#line541_col1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#472">Sha256</a></c8><c4>)</c4><c1><a href="#line541_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line541_col1_refs">&nbsp;</a></c1><c8><a href="#line541_col1_refs">~str</a></c8><c1><a href="#line541_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line541_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;543</ln><a id="543">&nbsp;</a><a id="n442459"><a id="n442458"><a id="n442456"><a id="n442454"><a id="n442455"><a id="n442457">&nbsp;</a></a></a></a></a></a><c22><a href="#line541_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line541_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#545">output</a></c20><c16><a href="#line541_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#542">symbol_hasher</a></c26><c10><nop>.result_bytes</nop></c10><c4>()</c4><c3>;</c3><c22><a href="#line541_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;544</ln><a id="544">&nbsp;</a>&nbsp;<c22><a href="#line541_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;64&nbsp;bits&nbsp;should&nbsp;be&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;545</ln><a id="545">&nbsp;</a><a id="n442460"><a id="n442463"><a id="n442461"><a id="n442462">&nbsp;</a></a></a></a><c22><a href="#line541_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#543">output</a></c26><c10><a href="../../libstd/vec.rs.html#n56201">.slice_to</a></c10><c4>(</c4><c12><a href="../../libserialize/hex.rs.html#n27322">8</a></c12><c4>)</c4><c10><a href="../../libserialize/hex.rs.html#n27322">.to_hex</a></c10><c4>()</c4><c22><a href="#line541_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;546</ln><a id="546">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;547</ln><a id="547">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;548</ln><a id="548">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;549</ln><a id="549">&nbsp;</a><a id="n442464">&nbsp;</a><c40>//&nbsp;This&nbsp;calculates&nbsp;STH&nbsp;for&nbsp;a&nbsp;symbol,&nbsp;as&nbsp;defined&nbsp;above
</c40><br/><ln>&nbsp;&nbsp;550</ln><a id="550">&nbsp;</a><a id="n442466"><a id="n442467"><a id="n442469">&nbsp;</a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#577">&nbsp;symbol_hash</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#563">tcx</a></c20><c1><a href="../../librustc/back/link.rs.html#577">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#577">&amp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#251">ty::ctxt</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#577">
</a></c1><br/><ln>&nbsp;&nbsp;551</ln><a id="551">&nbsp;</a><a id="n442471"><a id="n442474"><a id="n442472">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line551_col15_refs">symbol_hasher</a></c20><c1><a href="../../librustc/back/link.rs.html#577">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#577">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#472">Sha256</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#577">
</a></c1><br/><ln>&nbsp;&nbsp;552</ln><a id="552">&nbsp;</a><a id="n442478"><a id="n442476">&nbsp;</a></a><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#563">t</a></c20><c1><a href="../../librustc/back/link.rs.html#577">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#392">ty::t</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#577">
</a></c1><br/><ln>&nbsp;&nbsp;553</ln><a id="553">&nbsp;</a><a id="n442481"><a id="n442483"><a id="n442480">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line553_col15_refs">link_meta</a></c20><c1><a href="../../librustc/back/link.rs.html#577">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#577">&amp;</a></c8><c8><a href="../../librustc/metadata/common.rs.html#202">LinkMeta</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#577">
</a></c1><br/><ln>&nbsp;&nbsp;554</ln><a id="554">&nbsp;</a><a id="n442487"><a id="n442484"><a id="n442485">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#577">~str</a></c8><c1><a href="../../librustc/back/link.rs.html#577">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;555</ln><a id="555">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;NB:&nbsp;do&nbsp;*not*&nbsp;use&nbsp;abbrevs&nbsp;here&nbsp;as&nbsp;we&nbsp;want&nbsp;the&nbsp;symbol&nbsp;names
</c40><br/><ln>&nbsp;&nbsp;556</ln><a id="556">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;one&nbsp;another&nbsp;in&nbsp;the&nbsp;crate.
</c40><br/><ln>&nbsp;&nbsp;557</ln><a id="557">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;558</ln><a id="558">&nbsp;</a><a id="n442489"><a id="n442490"><a id="n442488">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c13><a href="../../librustc/util/sha2.rs.html#504">.reset</a></c13><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;559</ln><a id="559">&nbsp;</a><a id="n442496"><a id="n442492"><a id="n442494"><a id="n442493"><a id="n442491"><a id="n442495">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c13><nop>.input_str</nop></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#553">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#204">.crateid</a></c24><c24><a href="../../libsyntax/crateid.rs.html#n138853">.name</a></c24><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;560</ln><a id="560">&nbsp;</a><a id="n442500"><a id="n442497"><a id="n442498"><a id="n442499">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c10><nop>.input_str</nop></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#577">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;561</ln><a id="561">&nbsp;</a><a id="n442501"><a id="n442503"><a id="n442504"><a id="n442505"><a id="n442506"><a id="n442502">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c10><nop>.input_str</nop></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#553">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#205">.crate_hash</a></c24><c10><a href="../../librustc/back/svh.rs.html#66">.as_str</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;562</ln><a id="562">&nbsp;</a><a id="n442507"><a id="n442509"><a id="n442510"><a id="n442508">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c10><nop>.input_str</nop></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#577">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;563</ln><a id="563">&nbsp;</a><a id="n442512"><a id="n442513"><a id="n442511"><a id="n442515"><a id="n442517"><a id="n442514"><a id="n442516">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c13><nop>.input_str</nop></c13><c4>(</c4><c26><a href="../../librustc/metadata/encoder.rs.html#1848">encoder::encoded_ty</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#550">tcx</a></c26><c3>,</c3><c27><nop>&nbsp;</nop></c27><c26><a href="../../librustc/back/link.rs.html#552">t</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;564</ln><a id="564">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Prefix&nbsp;with&nbsp;'h'&nbsp;so&nbsp;that&nbsp;it&nbsp;never&nbsp;blends&nbsp;into&nbsp;adjacent&nbsp;digits
</c40><br/><ln>&nbsp;&nbsp;565</ln><a id="565">&nbsp;</a><a id="n442521"><a id="n442519"><a id="n442523"><a id="n442524"><a id="n442518"><a id="n442522"><a id="n442520">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line565_col8_refs">&nbsp;hash</a></c20><c13><a href="../../librustc/back/link.rs.html#577">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/strbuf.rs.html#n66663">StrBuf::from_str</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#577">"h"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;566</ln><a id="566">&nbsp;</a><a id="n442526"><a id="n442530"><a id="n442527"><a id="n442525"><a id="n442528"><a id="n442529">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#565">hash</a></c26><c13><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#541">truncated_hash_result</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#551">symbol_hasher</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;567</ln><a id="567">&nbsp;</a><a id="n442531"><a id="n442532">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#577">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#565">hash</a></c26><c10><a href="../../libstd/strbuf.rs.html#n67318">.into_owned</a></c10><c4>()</c4><c22><a href="../../librustc/back/link.rs.html#577">
</a></c22><br/><ln>&nbsp;&nbsp;568</ln><a id="568">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;569</ln><a id="569">&nbsp;</a><a id="n442533">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;570</ln><a id="570">&nbsp;</a><a id="n442536"><a id="n442543"><a id="n442542"><a id="n442535"><a id="n442538"><a id="n442546"><a id="n442544"><a id="n442540">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#line569_col1_refs">&nbsp;get_symbol_hash</a></c30><c4>(</c4><c20><a href="#line570_col19_refs">ccx</a></c20><c1><a href="#line569_col1_refs">:&nbsp;</a></c1><c8><a href="#line569_col1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="#line569_col1_refs">&nbsp;</a></c1><c20><a href="#line570_col39_refs">t</a></c20><c1><a href="#line569_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#392">ty::t</a></c8><c4>)</c4><c1><a href="#line569_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line569_col1_refs">&nbsp;</a></c1><c8><a href="#line569_col1_refs">~str</a></c8><c1><a href="#line569_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;571</ln><a id="571">&nbsp;</a><a id="n442547"><a id="n442554"><a id="n442548"><a id="n442552"><a id="n442549"><a id="n442550"><a id="n442551"><a id="n442553">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#570">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#96">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n13880">.find</a></c10><c4>(</c4><c5><a href="../../libcollections/hashmap.rs.html#n13880">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#570">t</a></c26><c4>)</c4><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line569_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;572</ln><a id="572">&nbsp;</a><a id="n442555"><a id="n442556"><a id="n442559"><a id="n442557"><a id="n442558">&nbsp;</a></a></a></a></a><c21><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#572">h</a></c20><c4>)</c4><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c1><a href="#line569_col1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#572">h</a></c26><c10><a href="../../libstd/to_str.rs.html#n96912">.to_str</a></c10><c4>()</c4><c3>,</c3><c21><a href="#line569_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;573</ln><a id="573">&nbsp;</a><a id="n442562"><a id="n442560"><a id="n442561">&nbsp;</a></a></a><c21><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line569_col1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line569_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;574</ln><a id="574">&nbsp;</a>&nbsp;<c21><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;575</ln><a id="575">&nbsp;</a>&nbsp;<c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;576</ln><a id="576">&nbsp;</a><a id="n442565"><a id="n442564"><a id="n442566"><a id="n442563"><a id="n442568"><a id="n442567"><a id="n442569">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line569_col1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="../../librustc/back/link.rs.html#577">&nbsp;symbol_hasher</a></c20><c13><a href="#line569_col1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#570">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#95">.symbol_hasher</a></c24><c10><a href="../../libstd/cell.rs.html#n106166">.borrow_mut</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;577</ln><a id="577">&nbsp;</a><a id="n442582"><a id="n442577"><a id="n442578"><a id="n442576"><a id="n442575"><a id="n442580"><a id="n442581"><a id="n442570"><a id="n442572"><a id="n442571"><a id="n442574"><a id="n442583"><a id="n442579"><a id="n442573"><a id="n442584">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line569_col1_refs">&nbsp;</a></c22><c20><a href="#line577_col8_refs">hash</a></c20><c16><a href="#line569_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#549">symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#570">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#220">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#line569_col1_refs">&nbsp;</a></c27><c5><a href="#line569_col1_refs">&amp;mut&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#576">symbol_hasher</a></c26><c3>,</c3><c27><a href="#line569_col1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#570">t</a></c26><c3>,</c3><c27><a href="#line569_col1_refs">&nbsp;</a></c27><c5><a href="#line569_col1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#570">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#48">.link_meta</a></c24><c4>)</c4><c3>;</c3><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;578</ln><a id="578">&nbsp;</a><a id="n442591"><a id="n442585"><a id="n442589"><a id="n442586"><a id="n442592"><a id="n442590"><a id="n442588"><a id="n442587">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#570">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#96">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n106166">.borrow_mut</a></c10><c4>()</c4><c10><nop>.insert</nop></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#570">t</a></c26><c3>,</c3><c10><nop>&nbsp;</nop></c10><c26><a href="../../librustc/back/link.rs.html#577">hash</a></c26><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;579</ln><a id="579">&nbsp;</a><a id="n442593">&nbsp;</a><c22><a href="#line569_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#577">hash</a></c26><c22><a href="#line569_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;580</ln><a id="580">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;581</ln><a id="581">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;582</ln><a id="582">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;583</ln><a id="583">&nbsp;</a>&nbsp;<c40>//&nbsp;Name&nbsp;sanitation.&nbsp;LLVM&nbsp;will&nbsp;happily&nbsp;accept&nbsp;identifiers&nbsp;with&nbsp;weird&nbsp;names,&nbsp;but
</c40><br/><ln>&nbsp;&nbsp;584</ln><a id="584">&nbsp;</a>&nbsp;<c40>//&nbsp;gas&nbsp;doesn't!
</c40><br/><ln>&nbsp;&nbsp;585</ln><a id="585">&nbsp;</a><a id="n442594">&nbsp;</a><c40>//&nbsp;gas&nbsp;accepts&nbsp;the&nbsp;following&nbsp;characters&nbsp;in&nbsp;symbols:&nbsp;a-z,&nbsp;A-Z,&nbsp;0-9,&nbsp;.,&nbsp;_,&nbsp;$
</c40><br/><ln>&nbsp;&nbsp;586</ln><a id="586">&nbsp;</a><a id="n442600"><a id="n442601"><a id="n442596"><a id="n442603"><a id="n442599"><a id="n442597">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#651">&nbsp;sanitize</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#588">s</a></c20><c1><a href="../../librustc/back/link.rs.html#651">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#651">&amp;str</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#651">~str</a></c8><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;587</ln><a id="587">&nbsp;</a><a id="n442604"><a id="n442607"><a id="n442605"><a id="n442608"><a id="n442609"><a id="n442606">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line587_col8_refs">&nbsp;result</a></c20><c16><a href="../../librustc/back/link.rs.html#651">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/strbuf.rs.html#n66621">StrBuf::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;588</ln><a id="588">&nbsp;</a><a id="n442626"><a id="n442624"><a id="n442615"><a id="n442612"><a id="n442619"><a id="n442616"><a id="n442623"><a id="n442614"><a id="n442621"><a id="n442618"><a id="n442613"><a id="n442610"><a id="n442625"><a id="n442611"><a id="n442617"><a id="n442620"><a id="n442622">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c1><c20><a href="#line588_col8_refs">c</a></c20><c1><a href="../../librustc/back/link.rs.html#588">&nbsp;in&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#586">s</a></c26><c10><a href="../../libstd/str.rs.html#n63451">.chars</a></c10><c4>()</c4><c1><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;589</ln><a id="589">&nbsp;</a><a id="n442627"><a id="n442628">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#588">c</a></c26><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;590</ln><a id="590">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Escape&nbsp;these&nbsp;with&nbsp;$&nbsp;sequences
</c40><br/><ln>&nbsp;&nbsp;591</ln><a id="591">&nbsp;</a><a id="n442630"><a id="n442629"><a id="n442632"><a id="n442631"><a id="n442633">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'@'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$SP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;592</ln><a id="592">&nbsp;</a><a id="n442636"><a id="n442637"><a id="n442634"><a id="n442635"><a id="n442638">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'~'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$UP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;593</ln><a id="593">&nbsp;</a><a id="n442641"><a id="n442640"><a id="n442643"><a id="n442639"><a id="n442642">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'*'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;594</ln><a id="594">&nbsp;</a><a id="n442644"><a id="n442648"><a id="n442645"><a id="n442646"><a id="n442647">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'&amp;'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$BP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;595</ln><a id="595">&nbsp;</a><a id="n442652"><a id="n442651"><a id="n442650"><a id="n442649"><a id="n442653">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'&lt;'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$LT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;596</ln><a id="596">&nbsp;</a><a id="n442654"><a id="n442657"><a id="n442658"><a id="n442655"><a id="n442656">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'&gt;'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#588">"$GT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;597</ln><a id="597">&nbsp;</a><a id="n442661"><a id="n442660"><a id="n442659"><a id="n442662"><a id="n442663">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$LP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;598</ln><a id="598">&nbsp;</a><a id="n442668"><a id="n442667"><a id="n442666"><a id="n442664"><a id="n442665">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c4>)</c4><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#588">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;599</ln><a id="599">&nbsp;</a><a id="n442671"><a id="n442669"><a id="n442670"><a id="n442672"><a id="n442673">&nbsp;</a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#588">'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66810">"$C$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;600</ln><a id="600">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;601</ln><a id="601">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;'.'&nbsp;doesn't&nbsp;occur&nbsp;in&nbsp;types&nbsp;and&nbsp;functions,&nbsp;so&nbsp;reuse&nbsp;it
</c40><br/><ln>&nbsp;&nbsp;602</ln><a id="602">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;for&nbsp;':'&nbsp;and&nbsp;'-'
</c40><br/><ln>&nbsp;&nbsp;603</ln><a id="603">&nbsp;</a><a id="n442678"><a id="n442675"><a id="n442677"><a id="n442680"><a id="n442676"><a id="n442679"><a id="n442674">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'-'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">':'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66922">'.'</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;604</ln><a id="604">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;605</ln><a id="605">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;These&nbsp;are&nbsp;legal&nbsp;symbols
</c40><br/><ln>&nbsp;&nbsp;606</ln><a id="606">&nbsp;</a><a id="n442683"><a id="n442681"><a id="n442682">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#588">'a'&nbsp;..</a></c12><c20><a href="../../librustc/back/link.rs.html#588">&nbsp;'z'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">
</a></c12><br/><ln>&nbsp;&nbsp;607</ln><a id="607">&nbsp;</a><a id="n442685"><a id="n442686"><a id="n442684">&nbsp;</a></a></a><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#588">'A'&nbsp;..</a></c12><c20><a href="../../librustc/back/link.rs.html#588">&nbsp;'Z'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">
</a></c12><br/><ln>&nbsp;&nbsp;608</ln><a id="608">&nbsp;</a><a id="n442687"><a id="n442689"><a id="n442688">&nbsp;</a></a></a><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#588">'0'&nbsp;..</a></c12><c20><a href="../../librustc/back/link.rs.html#588">&nbsp;'9'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">
</a></c12><br/><ln>&nbsp;&nbsp;609</ln><a id="609">&nbsp;</a><a id="n442691"><a id="n442694"><a id="n442693"><a id="n442695"><a id="n442696"><a id="n442698"><a id="n442697"><a id="n442692"><a id="n442690">&nbsp;</a></a></a></a></a></a></a></a></a><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'_'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'.'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">'$'</a></c20><c12><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#588">c</a></c26><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;610</ln><a id="610">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;611</ln><a id="611">&nbsp;</a><a id="n442700"><a id="n442699"><a id="n442701">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#588">_</a></c20><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;612</ln><a id="612">&nbsp;</a><a id="n442704"><a id="n442705"><a id="n442707"><a id="n442706"><a id="n442703"><a id="n442702">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line612_col20_refs">&nbsp;tstr</a></c20><c13><a href="../../librustc/back/link.rs.html#588">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/strbuf.rs.html#n66621">StrBuf::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;613</ln><a id="613">&nbsp;</a><a id="n442716"><a id="n442711"><a id="n442710"><a id="n442714"><a id="n442712"><a id="n442718"><a id="n442709"><a id="n442720"><a id="n442719"><a id="n442715"><a id="n442717"><a id="n442708">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/char.rs.html#n14827">char::escape_unicode</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#588">c</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c13><c1><a href="../../librustc/back/link.rs.html#588">|</a></c1><c20><a href="../../librustc/back/link.rs.html#613">c</a></c20><c8><a href="../../librustc/back/link.rs.html#588">|</a></c8><c1><a href="../../librustc/back/link.rs.html#588">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#612">tstr</a></c26><c22><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#613">c</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;614</ln><a id="614">&nbsp;</a><a id="n442721"><a id="n442722"><a id="n442724"><a id="n442723">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/strbuf.rs.html#n66922">'$'</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;615</ln><a id="615">&nbsp;</a><a id="n442731"><a id="n442730"><a id="n442725"><a id="n442727"><a id="n442728"><a id="n442726"><a id="n442729">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#612">tstr</a></c26><c10><a href="../../libstd/strbuf.rs.html#n67300">.as_slice</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64013">.slice_from</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#588">1</a></c12><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;616</ln><a id="616">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#588">
</a></c21><br/><ln>&nbsp;&nbsp;617</ln><a id="617">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#588">
</a></c22><br/><ln>&nbsp;&nbsp;618</ln><a id="618">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="../../librustc/back/link.rs.html#588">
</a></c1><br/><ln>&nbsp;&nbsp;619</ln><a id="619">&nbsp;</a>&nbsp;<c1><a href="../../librustc/back/link.rs.html#588">
</a></c1><br/><ln>&nbsp;&nbsp;620</ln><a id="620">&nbsp;</a>&nbsp;<c1><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c40>//&nbsp;Underscore-qualify&nbsp;anything&nbsp;that&nbsp;didn't&nbsp;start&nbsp;as&nbsp;an&nbsp;ident.
</c40><br/><ln>&nbsp;&nbsp;621</ln><a id="621">&nbsp;</a><a id="n442733"><a id="n442736"><a id="n442734"><a id="n442732"><a id="n442735"><a id="n442737">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#588">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c22><c20><a href="#line621_col8_refs">result</a></c20><c13><a href="../../librustc/back/link.rs.html#651">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#587">result</a></c26><c10><a href="../../libstd/strbuf.rs.html#n67318">.into_owned</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;622</ln><a id="622">&nbsp;</a><a id="n442742"><a id="n442739"><a id="n442741"><a id="n442740"><a id="n442743"><a id="n442745"><a id="n442744"><a id="n442738">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#621">result</a></c26><c10><a href="../../libstd/str.rs.html#n62823">.len</a></c10><c4>()</c4><c5><a href="../../librustc/back/link.rs.html#651">&nbsp;&gt;&nbsp;</a></c5><c12><a href="../../librustc/back/link.rs.html#651">0u</a></c12><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;623</ln><a id="623">&nbsp;</a><a id="n442751"><a id="n442750"><a id="n442749"><a id="n442748"><a id="n442746"><a id="n442747"><a id="n442752">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#621">result</a></c26><c3>[</c3><c12><a href="../../librustc/back/link.rs.html#651">0</a></c12><c3>]</c3><c5><a href="../../librustc/back/link.rs.html#651">&nbsp;!=&nbsp;</a></c5><c12><a href="../../librustc/back/link.rs.html#651">'_'</a></c12><c21><a href="../../librustc/back/link.rs.html#651">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/back/link.rs.html#651">u8</a></c8><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;624</ln><a id="624">&nbsp;</a><a id="n442761"><a id="n442754"><a id="n442763"><a id="n442759"><a id="n442760"><a id="n442756"><a id="n442757"><a id="n442758"><a id="n442755">&nbsp;</a></a></a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="../../librustc/back/link.rs.html#651">!&nbsp;</a></c5><c26><a href="../../libstd/char.rs.html#n14136">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#621">result</a></c26><c3>[</c3><c12><a href="../../librustc/back/link.rs.html#651">0</a></c12><c3>]</c3><c21><a href="../../librustc/back/link.rs.html#651">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/back/link.rs.html#651">char</a></c8><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;625</ln><a id="625">&nbsp;</a><a id="n442766"><a id="n442768"><a id="n442764"><a id="n442765"><a id="n442769"><a id="n442767">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c1><c12><a href="../../librustc/back/link.rs.html#651">"_"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c5><a href="../../librustc/back/link.rs.html#651">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#621">result</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;626</ln><a id="626">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;627</ln><a id="627">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;628</ln><a id="628">&nbsp;</a><a id="n442772"><a id="n442771"><a id="n442770">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#651">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="../../librustc/back/link.rs.html#651">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#621">result</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#651">
</a></c22><br/><ln>&nbsp;&nbsp;629</ln><a id="629">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;630</ln><a id="630">&nbsp;</a><a id="n442773">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;631</ln><a id="631">&nbsp;</a><a id="n442797"><a id="n442775"><a id="n442777"><a id="n442796">&nbsp;</a></a></a></a><c21>pub</c21><c1><a href="#line630_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line630_col1_refs">&nbsp;mangle</a></c30><c5><a href="#line630_col1_refs">&lt;PI:&nbsp;</a></c5><c5><a href="../../libstd/iter.rs.html#n89124">Iterator&lt;</a></c5><c5><a href="../../libsyntax/ast_map.rs.html#n82420">PathElem</a></c5><c5><a href="../../libstd/iter.rs.html#n89124">&gt;</a></c5><c5><a href="#line630_col1_refs">&gt;</a></c5><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#656">mut&nbsp;path</a></c20><c1><a href="#line630_col1_refs">:&nbsp;</a></c1><c8><nop>PI</nop></c8><c3>,</c3><c1><a href="#line630_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;632</ln><a id="632">&nbsp;</a><a id="n442782"><a id="n442784"><a id="n442779"><a id="n442781">&nbsp;</a></a></a></a><c1><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#660">hash</a></c20><c1><a href="#line630_col1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n102618">Option&lt;&amp;</a></c8><c8><a href="#line630_col1_refs">str</a></c8><c8><a href="../../libstd/option.rs.html#n102618">&gt;</a></c8><c3>,</c3><c1><a href="#line630_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;633</ln><a id="633">&nbsp;</a><a id="n442789"><a id="n442791"><a id="n442793"><a id="n442788"><a id="n442786"><a id="n442799"><a id="n442792">&nbsp;</a></a></a></a></a></a></a><c1><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#664">vers</a></c20><c1><a href="#line630_col1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n102618">Option&lt;</a></c8><c8><a href="#line630_col1_refs">&amp;str</a></c8><c8><a href="../../libstd/option.rs.html#n102618">&gt;</a></c8><c4>)</c4><c1><a href="#line630_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line630_col1_refs">&nbsp;</a></c1><c8><a href="#line630_col1_refs">~str</a></c8><c1><a href="#line630_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;634</ln><a id="634">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Follow&nbsp;C++&nbsp;namespace-mangling&nbsp;style,&nbsp;see
</c40><br/><ln>&nbsp;&nbsp;635</ln><a id="635">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;http://en.wikipedia.org/wiki/Name_mangling&nbsp;for&nbsp;more&nbsp;info.
</c40><br/><ln>&nbsp;&nbsp;636</ln><a id="636">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;637</ln><a id="637">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;on&nbsp;OSX&nbsp;you&nbsp;can&nbsp;actually&nbsp;have&nbsp;arbitrary&nbsp;symbols&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;638</ln><a id="638">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;function&nbsp;names&nbsp;(at&nbsp;least&nbsp;when&nbsp;given&nbsp;to&nbsp;LLVM),&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;possible
</c40><br/><ln>&nbsp;&nbsp;639</ln><a id="639">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;when&nbsp;using&nbsp;unix's&nbsp;linker.&nbsp;Perhaps&nbsp;one&nbsp;day&nbsp;when&nbsp;we&nbsp;just&nbsp;use&nbsp;a&nbsp;linker&nbsp;from&nbsp;LLVM
</c40><br/><ln>&nbsp;&nbsp;640</ln><a id="640">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;won't&nbsp;need&nbsp;to&nbsp;do&nbsp;this&nbsp;name&nbsp;mangling.&nbsp;The&nbsp;problem&nbsp;with&nbsp;name&nbsp;mangling&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;641</ln><a id="641">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;it&nbsp;seriously&nbsp;limits&nbsp;the&nbsp;available&nbsp;characters.&nbsp;For&nbsp;example&nbsp;we&nbsp;can't
</c40><br/><ln>&nbsp;&nbsp;642</ln><a id="642">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;have&nbsp;things&nbsp;like&nbsp;&amp;T&nbsp;or&nbsp;~[T]&nbsp;in&nbsp;symbol&nbsp;names&nbsp;when&nbsp;one&nbsp;would&nbsp;theoretically
</c40><br/><ln>&nbsp;&nbsp;643</ln><a id="643">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;want&nbsp;them&nbsp;for&nbsp;things&nbsp;like&nbsp;impls&nbsp;of&nbsp;traits&nbsp;on&nbsp;that&nbsp;type.
</c40><br/><ln>&nbsp;&nbsp;644</ln><a id="644">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;645</ln><a id="645">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;To&nbsp;be&nbsp;able&nbsp;to&nbsp;work&nbsp;on&nbsp;all&nbsp;platforms&nbsp;and&nbsp;get&nbsp;*some*&nbsp;reasonable&nbsp;output,&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;646</ln><a id="646">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;use&nbsp;C++&nbsp;name-mangling.
</c40><br/><ln>&nbsp;&nbsp;647</ln><a id="647">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;648</ln><a id="648">&nbsp;</a><a id="n442802"><a id="n442806"><a id="n442804"><a id="n442800"><a id="n442805"><a id="n442801"><a id="n442803">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line630_col1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line648_col8_refs">&nbsp;n</a></c20><c16><a href="#line630_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/strbuf.rs.html#n66663">StrBuf::from_str</a></c26><c4>(</c4><c12><a href="#line630_col1_refs">"_ZN"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line630_col1_refs">&nbsp;</a></c22><c40>//&nbsp;_Z&nbsp;==&nbsp;Begin&nbsp;name-sequence,&nbsp;N&nbsp;==&nbsp;nested
</c40><br/><ln>&nbsp;&nbsp;649</ln><a id="649">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;650</ln><a id="650">&nbsp;</a><a id="n442816"><a id="n442815"><a id="n442810"><a id="n442819"><a id="n442813"><a id="n442808"><a id="n442807"><a id="n442818"><a id="n442811"><a id="n442820">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#line650_col4_refs">&nbsp;push</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#652">n</a></c20><c13><a href="#line650_col4_refs">:&nbsp;</a></c13><c8><a href="#line630_col1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/strbuf.rs.html#n66288">StrBuf</a></c8><c3>,</c3><c13><a href="#line650_col4_refs">&nbsp;</a></c13><c20><a href="../../librustc/back/link.rs.html#651">s</a></c20><c13><a href="#line650_col4_refs">:&nbsp;</a></c13><c8><a href="#line630_col1_refs">&amp;str</a></c8><c4>)</c4><c13><a href="#line650_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line650_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;651</ln><a id="651">&nbsp;</a><a id="n442825"><a id="n442826"><a id="n442822"><a id="n442827"><a id="n442821"><a id="n442823"><a id="n442824">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line650_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line650_col4_refs">&nbsp;</a></c22><c20><a href="#line651_col12_refs">sani</a></c20><c13><a href="#line630_col1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#585">sanitize</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#650">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line650_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;652</ln><a id="652">&nbsp;</a><a id="n442896"><a id="n442892"><a id="n442889"><a id="n442878"><a id="n442883"><a id="n442850"><a id="n442887"><a id="n442855"><a id="n442891"><a id="n442882"><a id="n442894"><a id="n442861"><a id="n442884"><a id="n442842"><a id="n442851"><a id="n442895"><a id="n442874"><a id="n442880"><a id="n442864"><a id="n442888"><a id="n442867"><a id="n442831"><a id="n442862"><a id="n442856"><a id="n442873"><a id="n442863"><a id="n442876"><a id="n442860"><a id="n442846"><a id="n442853"><a id="n442832"><a id="n442829"><a id="n442858"><a id="n442849"><a id="n442854"><a id="n442885"><a id="n442881"><a id="n442866"><a id="n442834"><a id="n442857"><a id="n442859"><a id="n442844"><a id="n442872"><a id="n442841"><a id="n442870"><a id="n442890"><a id="n442833"><a id="n442879"><a id="n442852"><a id="n442865"><a id="n442900"><a id="n442830"><a id="n442886"><a id="n442837"><a id="n442838"><a id="n442845"><a id="n442869"><a id="n442877"><a id="n442828"><a id="n442893"><a id="n442843"><a id="n442875"><a id="n442835"><a id="n442836"><a id="n442839"><a id="n442840"><a id="n442868"><a id="n442871">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line650_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#650">n</a></c26><c13><a href="../../libstd/strbuf.rs.html#n66810">.push_str</a></c13><c4>(</c4><c21><a href="#line630_col1_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n164050">"</a></c26><c3>{}{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164050">"</a></c26><c3>,</c3><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#651">sani</a></c26><c20><a href="../../librustc/back/link.rs.html#652">.len</a></c20><c4>()</c4><c3>,</c3><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#652">sani</a></c20><c4>))</c4><c3>;</c3><c22><a href="#line650_col4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;653</ln><a id="653">&nbsp;</a>&nbsp;<c22><a href="#line650_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;654</ln><a id="654">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;655</ln><a id="655">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;First,&nbsp;connect&nbsp;each&nbsp;component&nbsp;with&nbsp;&lt;len,&nbsp;name&gt;&nbsp;pairs.
</c40><br/><ln>&nbsp;&nbsp;656</ln><a id="656">&nbsp;</a><a id="n442914"><a id="n442915"><a id="n442912"><a id="n442906"><a id="n442907"><a id="n442908"><a id="n442911"><a id="n442916"><a id="n442905"><a id="n442913"><a id="n442901"><a id="n442909"><a id="n442902"><a id="n442903"><a id="n442904"><a id="n442910">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#656">&nbsp;</a></c26><c20><a href="../../librustc/back/link.rs.html#657">e</a></c20><c26><a href="../../librustc/back/link.rs.html#656">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#631">path</a></c26><c26><a href="../../librustc/back/link.rs.html#656">&nbsp;</a></c26><c3>{</c3><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;657</ln><a id="657">&nbsp;</a><a id="n442917"><a id="n442922"><a id="n442918"><a id="n442920"><a id="n442925"><a id="n442921"><a id="n442926"><a id="n442924"><a id="n442923"><a id="n442919">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#650">push</a></c26><c4>(</c4><c5><a href="#line630_col1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#648">n</a></c26><c3>,</c3><c27><a href="#line630_col1_refs">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/token.rs.html#n132419">token::get_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#656">e</a></c26><c10><a href="../../libsyntax/ast_map.rs.html#n82572">.name</a></c10><c4>())</c4><c10><a href="../../libsyntax/parse/token.rs.html#n132179">.get</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n62742">.as_slice</a></c10><c4>())</c4><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;658</ln><a id="658">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#656">
</a></c26><br/><ln>&nbsp;&nbsp;659</ln><a id="659">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#656">
</a></c26><br/><ln>&nbsp;&nbsp;660</ln><a id="660">&nbsp;</a><a id="n442927"><a id="n442928"><a id="n442929">&nbsp;</a></a></a><c26><a href="../../librustc/back/link.rs.html#656">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c21>match</c21><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#632">hash</a></c26><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;661</ln><a id="661">&nbsp;</a><a id="n442930"><a id="n442931"><a id="n442932"><a id="n442936"><a id="n442933"><a id="n442934"><a id="n442935">&nbsp;</a></a></a></a></a></a></a><c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#661">s</a></c20><c4>)</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#650">push</a></c26><c4>(</c4><c5><a href="#line630_col1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#648">n</a></c26><c3>,</c3><c27><a href="#line630_col1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#661">s</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;662</ln><a id="662">&nbsp;</a><a id="n442938"><a id="n442939"><a id="n442937">&nbsp;</a></a></a><c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;663</ln><a id="663">&nbsp;</a>&nbsp;<c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;664</ln><a id="664">&nbsp;</a><a id="n442942"><a id="n442940"><a id="n442941">&nbsp;</a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#633">vers</a></c26><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;665</ln><a id="665">&nbsp;</a><a id="n442943"><a id="n442949"><a id="n442946"><a id="n442945"><a id="n442944"><a id="n442947"><a id="n442948">&nbsp;</a></a></a></a></a></a></a><c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#665">s</a></c20><c4>)</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#650">push</a></c26><c4>(</c4><c5><a href="#line630_col1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#648">n</a></c26><c3>,</c3><c27><a href="#line630_col1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#665">s</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;666</ln><a id="666">&nbsp;</a><a id="n442951"><a id="n442952"><a id="n442950">&nbsp;</a></a></a><c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line630_col1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line630_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;667</ln><a id="667">&nbsp;</a>&nbsp;<c21><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;668</ln><a id="668">&nbsp;</a>&nbsp;<c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;669</ln><a id="669">&nbsp;</a><a id="n442955"><a id="n442956"><a id="n442953"><a id="n442954">&nbsp;</a></a></a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#648">n</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c12><a href="#line630_col1_refs">'E'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line630_col1_refs">&nbsp;</a></c22><c40>//&nbsp;End&nbsp;name-sequence.
</c40><br/><ln>&nbsp;&nbsp;670</ln><a id="670">&nbsp;</a><a id="n442957"><a id="n442958">&nbsp;</a></a><c22><a href="#line630_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#648">n</a></c26><c10><a href="../../libstd/strbuf.rs.html#n67318">.into_owned</a></c10><c4>()</c4><c22><a href="#line630_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;671</ln><a id="671">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;672</ln><a id="672">&nbsp;</a><a id="n442959">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;673</ln><a id="673">&nbsp;</a><a id="n442961"><a id="n442971"><a id="n442973"><a id="n442970"><a id="n442965"><a id="n442968"><a id="n442975"><a id="n442963"><a id="n442966"><a id="n442974"><a id="n442977">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line672_col1_refs">&nbsp;exported_name</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#682">path</a></c20><c1><a href="#line672_col1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n82846">PathElems</a></c8><c3>,</c3><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#682">hash</a></c20><c1><a href="#line672_col1_refs">:&nbsp;</a></c1><c8><a href="#line672_col1_refs">&amp;str</a></c8><c3>,</c3><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c20><a href="#line673_col50_refs">vers</a></c20><c1><a href="#line672_col1_refs">:&nbsp;</a></c1><c8><a href="#line672_col1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c8><a href="#line672_col1_refs">~str</a></c8><c1><a href="#line672_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;674</ln><a id="674">&nbsp;</a>&nbsp;<c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;version&nbsp;will&nbsp;get&nbsp;mangled&nbsp;to&nbsp;have&nbsp;a&nbsp;leading&nbsp;'_',&nbsp;but&nbsp;it&nbsp;makes&nbsp;more
</c40><br/><ln>&nbsp;&nbsp;675</ln><a id="675">&nbsp;</a>&nbsp;<c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;sense&nbsp;to&nbsp;lead&nbsp;with&nbsp;a&nbsp;'v'&nbsp;b/c&nbsp;this&nbsp;is&nbsp;a&nbsp;version...
</c40><br/><ln>&nbsp;&nbsp;676</ln><a id="676">&nbsp;</a><a id="n442989"><a id="n442979"><a id="n442993"><a id="n442992"><a id="n442985"><a id="n442988"><a id="n442984"><a id="n442980"><a id="n442981"><a id="n442982"><a id="n442978"><a id="n442994"><a id="n442990"><a id="n442983"><a id="n442991"><a id="n442986"><a id="n442987">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line672_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#682">vers</a></c20><c13><a href="#line672_col1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#line672_col1_refs">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#673">vers</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c5><a href="#line672_col1_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#line672_col1_refs">0</a></c12><c1><a href="#line672_col1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#line672_col1_refs">!</a></c5><c26><a href="../../libstd/char.rs.html#n14136">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">vers</a></c26><c10><a href="../../libstd/str.rs.html#n65400">.char_at</a></c10><c4>(</c4><c12><a href="#line672_col1_refs">0</a></c12><c4>))</c4><c21><a href="#line672_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;677</ln><a id="677">&nbsp;</a><a id="n442997"><a id="n442996"><a id="n442995">&nbsp;</a></a></a><c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#line672_col1_refs">"v"</a></c12><c5><a href="#line672_col1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#673">vers</a></c26><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;678</ln><a id="678">&nbsp;</a><a id="n442998"><a id="n442999">&nbsp;</a></a><c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line672_col1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#line672_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;679</ln><a id="679">&nbsp;</a><a id="n443000"><a id="n443001">&nbsp;</a></a><c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#673">vers</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;680</ln><a id="680">&nbsp;</a>&nbsp;<c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;681</ln><a id="681">&nbsp;</a>&nbsp;<c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;682</ln><a id="682">&nbsp;</a><a id="n443010"><a id="n443009"><a id="n443005"><a id="n443004"><a id="n443008"><a id="n443003"><a id="n443006"><a id="n443011"><a id="n443002"><a id="n443007">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line672_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#630">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">path</a></c26><c3>,</c3><c27><a href="#line672_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">hash</a></c26><c4>)</c4><c3>,</c3><c27><a href="#line672_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#676">vers</a></c26><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>()))</c4><c22><a href="#line672_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;683</ln><a id="683">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;684</ln><a id="684">&nbsp;</a><a id="n443012">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;685</ln><a id="685">&nbsp;</a><a id="n443015"><a id="n443021"><a id="n443017"><a id="n443019"><a id="n443014">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;mangle_exported_name</a></c30><c4>(</c4><c20><a href="#line685_col28_refs">ccx</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#1802">:&nbsp;</a></c1><c8><a href="../../librustc/middle/trans/base.rs.html#1802">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#707">path</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#1802">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n82846">PathElems</a></c8><c3>,</c3><c1><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c1><br/><ln>&nbsp;&nbsp;686</ln><a id="686">&nbsp;</a><a id="n443029"><a id="n443033"><a id="n443031"><a id="n443025"><a id="n443023"><a id="n443030"><a id="n443027">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#687">t</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#1802">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#392">ty::t</a></c8><c3>,</c3><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#697">id</a></c20><c1><a href="../../librustc/middle/trans/base.rs.html#1802">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#n18344">ast::NodeId</a></c8><c4>)</c4><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c8><a href="../../librustc/middle/trans/base.rs.html#1802">~str</a></c8><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;687</ln><a id="687">&nbsp;</a><a id="n443037"><a id="n443034"><a id="n443035"><a id="n443042"><a id="n443040"><a id="n443036"><a id="n443043"><a id="n443041"><a id="n443039"><a id="n443038">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line687_col8_refs">&nbsp;hash</a></c20><c16><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/strbuf.rs.html#n66677">StrBuf::from_owned_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#569">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#685">ccx</a></c26><c3>,</c3><c27><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#686">t</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;688</ln><a id="688">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;689</ln><a id="689">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Paths&nbsp;can&nbsp;be&nbsp;completely&nbsp;identical&nbsp;for&nbsp;different&nbsp;nodes,
</c40><br/><ln>&nbsp;&nbsp;690</ln><a id="690">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;e.g.&nbsp;`fn&nbsp;foo()&nbsp;{&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;}`,&nbsp;so&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;691</ln><a id="691">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;generate&nbsp;unique&nbsp;characters&nbsp;from&nbsp;the&nbsp;node&nbsp;id.&nbsp;For&nbsp;now
</c40><br/><ln>&nbsp;&nbsp;692</ln><a id="692">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;hopefully&nbsp;3&nbsp;characters&nbsp;is&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;693</ln><a id="693">&nbsp;</a><a id="n443045"><a id="n443046"><a id="n443044"><a id="n443048">&nbsp;</a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="#line693_col4_refs">&nbsp;EXTRA_CHARS:&nbsp;&amp;'static&nbsp;str&nbsp;=
</a></c36><br/><ln>&nbsp;&nbsp;694</ln><a id="694">&nbsp;</a><a id="n443050">&nbsp;</a><c13><a href="#line693_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#line693_col4_refs">"abcdefghijklmnopqrstuvwxyz\
</a></c12><br/><ln>&nbsp;&nbsp;695</ln><a id="695">&nbsp;</a>&nbsp;<c12><a href="#line693_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABCDEFGHIJKLMNOPQRSTUVWXYZ\
</a></c12><br/><ln>&nbsp;&nbsp;696</ln><a id="696">&nbsp;</a>&nbsp;<c12><a href="#line693_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0123456789"</a></c12><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;697</ln><a id="697">&nbsp;</a><a id="n443056"><a id="n443051"><a id="n443053"><a id="n443054"><a id="n443052"><a id="n443057"><a id="n443055">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="#line697_col8_refs">id</a></c20><c16><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#686">id</a></c26><c21><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/middle/trans/base.rs.html#1802">uint</a></c8><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;698</ln><a id="698">&nbsp;</a><a id="n443061"><a id="n443066"><a id="n443059"><a id="n443060"><a id="n443065"><a id="n443062"><a id="n443064"><a id="n443063">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#703">extra1</a></c20><c16><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#697">id</a></c26><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;699</ln><a id="699">&nbsp;</a><a id="n443068"><a id="n443074"><a id="n443072"><a id="n443069"><a id="n443067"><a id="n443071"><a id="n443073"><a id="n443070">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="#line699_col8_refs">id</a></c20><c13><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#697">id</a></c26><c5><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;700</ln><a id="700">&nbsp;</a><a id="n443078"><a id="n443082"><a id="n443081"><a id="n443080"><a id="n443076"><a id="n443075"><a id="n443079"><a id="n443077">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#704">extra2</a></c20><c13><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#699">id</a></c26><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;701</ln><a id="701">&nbsp;</a><a id="n443085"><a id="n443084"><a id="n443089"><a id="n443087"><a id="n443088"><a id="n443086"><a id="n443083"><a id="n443090">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#702">id</a></c20><c13><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#699">id</a></c26><c5><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;702</ln><a id="702">&nbsp;</a><a id="n443098"><a id="n443096"><a id="n443094"><a id="n443093"><a id="n443097"><a id="n443092"><a id="n443095"><a id="n443091">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#705">extra3</a></c20><c13><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#701">id</a></c26><c1><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;703</ln><a id="703">&nbsp;</a><a id="n443105"><a id="n443099"><a id="n443103"><a id="n443100"><a id="n443102"><a id="n443101"><a id="n443104"><a id="n443106">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#687">hash</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#698">extra1</a></c26><c3>]</c3><c21><a href="../../libstd/strbuf.rs.html#n66922">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/strbuf.rs.html#n66922">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;704</ln><a id="704">&nbsp;</a><a id="n443111"><a id="n443110"><a id="n443108"><a id="n443114"><a id="n443109"><a id="n443112"><a id="n443113"><a id="n443115">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#687">hash</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#700">extra2</a></c26><c3>]</c3><c21><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;as&nbsp;</a></c21><c8><a href="../../librustc/middle/trans/base.rs.html#1802">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;705</ln><a id="705">&nbsp;</a><a id="n443117"><a id="n443118"><a id="n443119"><a id="n443124"><a id="n443123"><a id="n443122"><a id="n443121"><a id="n443120">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#687">hash</a></c26><c10><a href="../../libstd/strbuf.rs.html#n66922">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#693">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#702">extra3</a></c26><c3>]</c3><c21><a href="../../libstd/strbuf.rs.html#n66922">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/strbuf.rs.html#n66922">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;706</ln><a id="706">&nbsp;</a>&nbsp;<c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;707</ln><a id="707">&nbsp;</a><a id="n443128"><a id="n443126"><a id="n443127">&nbsp;</a></a></a><c22><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#672">exported_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#685">path</a></c26><c3>,</c3><c27><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c27><br/><ln>&nbsp;&nbsp;708</ln><a id="708">&nbsp;</a><a id="n443130"><a id="n443129">&nbsp;</a></a><c27><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#687">hash</a></c26><c10><a href="../../libstd/strbuf.rs.html#n67300">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c27><br/><ln>&nbsp;&nbsp;709</ln><a id="709">&nbsp;</a><a id="n443133"><a id="n443131"><a id="n443134"><a id="n443132">&nbsp;</a></a></a></a><c27><a href="../../librustc/middle/trans/base.rs.html#1802">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#685">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#48">.link_meta</a></c24><c24><a href="../../librustc/metadata/common.rs.html#204">.crateid</a></c24><c10><a href="../../libsyntax/crateid.rs.html#n139555">.version_or_default</a></c10><c4>())</c4><c22><a href="../../librustc/middle/trans/base.rs.html#1802">
</a></c22><br/><ln>&nbsp;&nbsp;710</ln><a id="710">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;711</ln><a id="711">&nbsp;</a><a id="n443135">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;712</ln><a id="712">&nbsp;</a><a id="n443137"><a id="n443140"><a id="n443138">&nbsp;</a></a></a><c21>pub</c21><c1><a href="#line711_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line711_col1_refs">&nbsp;mangle_internal_name_by_type_and_seq</a></c30><c4>(</c4><c20><a href="#line712_col44_refs">ccx</a></c20><c1><a href="#line711_col1_refs">:&nbsp;</a></c1><c8><a href="#line711_col1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#36">CrateContext</a></c8><c3>,</c3><c1><a href="#line711_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;713</ln><a id="713">&nbsp;</a><a id="n443142"><a id="n443144">&nbsp;</a></a><c1><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line713_col44_refs">t</a></c20><c1><a href="#line711_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#392">ty::t</a></c8><c3>,</c3><c1><a href="#line711_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;714</ln><a id="714">&nbsp;</a><a id="n443146"><a id="n443151"><a id="n443153"><a id="n443149"><a id="n443147"><a id="n443150">&nbsp;</a></a></a></a></a></a><c1><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#717">name</a></c20><c1><a href="#line711_col1_refs">:&nbsp;</a></c1><c8><a href="#line711_col1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#line711_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line711_col1_refs">&nbsp;</a></c1><c8><a href="#line711_col1_refs">~str</a></c8><c1><a href="#line711_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line711_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;715</ln><a id="715">&nbsp;</a><a id="n443154"><a id="n443158"><a id="n443157"><a id="n443156"><a id="n443155"><a id="n443160"><a id="n443161"><a id="n443162"><a id="n443159">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line711_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#716">s</a></c20><c16><a href="#line711_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/ppaux.rs.html#228">ppaux::ty_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#712">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#220">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#line711_col1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#713">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line711_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;716</ln><a id="716">&nbsp;</a><a id="n443165"><a id="n443163"><a id="n443166"><a id="n443164"><a id="n443168"><a id="n443167"><a id="n443172"><a id="n443170"><a id="n443169"><a id="n443171">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line711_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#719">path</a></c20><c16><a href="#line711_col1_refs">&nbsp;=&nbsp;</a></c16><c3>[</c3><c26><a href="../../libsyntax/ast_map.rs.html#n82425">PathName</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#n132464">token::intern</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#715">s</a></c26><c4>))</c4><c3>,</c3><c1><a href="#line711_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;717</ln><a id="717">&nbsp;</a><a id="n443175"><a id="n443173"><a id="n443174">&nbsp;</a></a></a><c1><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#714">name</a></c26><c4>)</c4><c3>];</c3><c22><a href="#line711_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;718</ln><a id="718">&nbsp;</a><a id="n443183"><a id="n443179"><a id="n443177"><a id="n443182"><a id="n443178"><a id="n443180"><a id="n443176"><a id="n443181">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line711_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#719">hash</a></c20><c13><a href="#line711_col1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#569">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#712">ccx</a></c26><c3>,</c3><c27><a href="#line711_col1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#713">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line711_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;719</ln><a id="719">&nbsp;</a><a id="n443184"><a id="n443188"><a id="n443187"><a id="n443193"><a id="n443186"><a id="n443189"><a id="n443185"><a id="n443191"><a id="n443192"><a id="n443190"><a id="n443194">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line711_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#630">mangle</a></c26><c4>(</c4><c26><nop>ast_map::Values</nop></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#716">path</a></c26><c10><a href="../../libstd/slice.rs.html#n48682">.iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#line711_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#718">hash</a></c26><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>())</c4><c3>,</c3><c27><a href="#line711_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c4>)</c4><c22><a href="#line711_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;720</ln><a id="720">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;721</ln><a id="721">&nbsp;</a><a id="n443195">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;722</ln><a id="722">&nbsp;</a><a id="n443199"><a id="n443201"><a id="n443205"><a id="n443202"><a id="n443204"><a id="n443206"><a id="n443208"><a id="n443197">&nbsp;</a></a></a></a></a></a></a></a><c21>pub</c21><c1><a href="#line721_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line721_col1_refs">&nbsp;mangle_internal_name_by_path_and_seq</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#723">path</a></c20><c1><a href="#line721_col1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n82846">PathElems</a></c8><c3>,</c3><c1><a href="#line721_col1_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#723">flav</a></c20><c1><a href="#line721_col1_refs">:&nbsp;</a></c1><c8><a href="#line721_col1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#line721_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line721_col1_refs">&nbsp;</a></c1><c8><a href="#line721_col1_refs">~str</a></c8><c1><a href="#line721_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line721_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;723</ln><a id="723">&nbsp;</a><a id="n443213"><a id="n443220"><a id="n443215"><a id="n443218"><a id="n443209"><a id="n443217"><a id="n443212"><a id="n443211"><a id="n443216"><a id="n443210"><a id="n443219"><a id="n443214">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line721_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#630">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#722">path</a></c26><c10><nop>.chain</nop></c10><c4>(</c4><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#722">flav</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n103582">.move_iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#line721_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c3>,</c3><c27><a href="#line721_col1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c4>)</c4><c22><a href="#line721_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;724</ln><a id="724">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;725</ln><a id="725">&nbsp;</a><a id="n443221">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;726</ln><a id="726">&nbsp;</a><a id="n443228"><a id="n443224"><a id="n443223"><a id="n443227"><a id="n443230"><a id="n443226">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#818">&nbsp;output_lib_filename</a></c30><c4>(</c4><c20><a href="#line726_col27_refs">id</a></c20><c1><a href="../../librustc/back/link.rs.html#818">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#818">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#818">~str</a></c8><c1><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#818">
</a></c22><br/><ln>&nbsp;&nbsp;727</ln><a id="727">&nbsp;</a><a id="n443259"><a id="n443310"><a id="n443233"><a id="n443270"><a id="n443256"><a id="n443267"><a id="n443279"><a id="n443258"><a id="n443283"><a id="n443246"><a id="n443297"><a id="n443268"><a id="n443282"><a id="n443308"><a id="n443273"><a id="n443299"><a id="n443248"><a id="n443311"><a id="n443239"><a id="n443277"><a id="n443312"><a id="n443305"><a id="n443236"><a id="n443232"><a id="n443287"><a id="n443244"><a id="n443251"><a id="n443313"><a id="n443289"><a id="n443293"><a id="n443314"><a id="n443252"><a id="n443281"><a id="n443257"><a id="n443317"><a id="n443296"><a id="n443263"><a id="n443291"><a id="n443327"><a id="n443272"><a id="n443294"><a id="n443290"><a id="n443288"><a id="n443261"><a id="n443285"><a id="n443316"><a id="n443266"><a id="n443264"><a id="n443234"><a id="n443269"><a id="n443237"><a id="n443321"><a id="n443240"><a id="n443276"><a id="n443307"><a id="n443249"><a id="n443278"><a id="n443241"><a id="n443292"><a id="n443243"><a id="n443315"><a id="n443255"><a id="n443238"><a id="n443231"><a id="n443286"><a id="n443245"><a id="n443318"><a id="n443303"><a id="n443242"><a id="n443260"><a id="n443265"><a id="n443300"><a id="n443235"><a id="n443309"><a id="n443301"><a id="n443284"><a id="n443280"><a id="n443274"><a id="n443295"><a id="n443322"><a id="n443304"><a id="n443323"><a id="n443262"><a id="n443319"><a id="n443320"><a id="n443302"><a id="n443271"><a id="n443306"><a id="n443275"><a id="n443250"><a id="n443247"><a id="n443298">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#818">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="../../librustc/back/link.rs.html#818">format!</a></c21><c4>(</c4><c8><a href="../../librustc/back/link.rs.html#727">"</a></c8><c3>{}</c3><c8><a href="../../librustc/back/link.rs.html#727">-</a></c8><c3>{}</c3><c8><a href="../../librustc/back/link.rs.html#727">-</a></c8><c3>{}</c3><c8><a href="../../librustc/back/link.rs.html#727">"</a></c8><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#726">id</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n164422">.name</a></c27><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#523">crate_id_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#726">id</a></c26><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#818">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#726">id</a></c26><c10><a href="../../libsyntax/crateid.rs.html#n139555">.version_or_default</a></c10><c4>())</c4><c21><a href="../../librustc/back/link.rs.html#818">
</a></c21><br/><ln>&nbsp;&nbsp;728</ln><a id="728">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;729</ln><a id="729">&nbsp;</a><a id="n443328">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;730</ln><a id="730">&nbsp;</a><a id="n443331"><a id="n443335"><a id="n443330"><a id="n443337"><a id="n443333"><a id="n443334">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="#line729_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line729_col1_refs">&nbsp;get_cc_prog</a></c30><c4>(</c4><c20><a href="#line730_col19_refs">sess</a></c20><c1><a href="#line729_col1_refs">:&nbsp;</a></c1><c8><a href="#line729_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="#line729_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line729_col1_refs">&nbsp;</a></c1><c8><a href="#line729_col1_refs">~str</a></c8><c1><a href="#line729_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;731</ln><a id="731">&nbsp;</a><a id="n443340"><a id="n443341"><a id="n443342"><a id="n443343"><a id="n443339"><a id="n443338">&nbsp;</a></a></a></a></a></a><c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#730">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.linker</a></c24><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;732</ln><a id="732">&nbsp;</a><a id="n443345"><a id="n443348"><a id="n443344"><a id="n443347"><a id="n443346">&nbsp;</a></a></a></a></a><c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#732">ref&nbsp;linker</a></c20><c4>)</c4><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c1><a href="#line729_col1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#732">linker</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;733</ln><a id="733">&nbsp;</a><a id="n443351"><a id="n443350"><a id="n443349">&nbsp;</a></a></a><c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;734</ln><a id="734">&nbsp;</a>&nbsp;<c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;735</ln><a id="735">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;736</ln><a id="736">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;the&nbsp;future,&nbsp;FreeBSD&nbsp;will&nbsp;use&nbsp;clang&nbsp;as&nbsp;default&nbsp;compiler.
</c40><br/><ln>&nbsp;&nbsp;737</ln><a id="737">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;would&nbsp;be&nbsp;flexible&nbsp;to&nbsp;use&nbsp;cc&nbsp;(system's&nbsp;default&nbsp;C&nbsp;compiler)
</c40><br/><ln>&nbsp;&nbsp;738</ln><a id="738">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;instead&nbsp;of&nbsp;hard-coded&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;739</ln><a id="739">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;win32,&nbsp;there&nbsp;is&nbsp;no&nbsp;cc&nbsp;command,&nbsp;so&nbsp;we&nbsp;add&nbsp;a&nbsp;condition&nbsp;to&nbsp;make&nbsp;it&nbsp;use&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;740</ln><a id="740">&nbsp;</a><a id="n443353"><a id="n443352"><a id="n443354"><a id="n443356"><a id="n443355">&nbsp;</a></a></a></a></a><c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#730">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;741</ln><a id="741">&nbsp;</a><a id="n443358"><a id="n443360"><a id="n443357"><a id="n443359">&nbsp;</a></a></a></a><c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libsyntax/abi.rs.html#n14733">abi::OsWin32</a></c20><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c1><a href="#line729_col1_refs">return&nbsp;</a></c1><c12><a href="#line729_col1_refs">"gcc"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;742</ln><a id="742">&nbsp;</a><a id="n443362"><a id="n443361"><a id="n443363">&nbsp;</a></a></a><c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#line729_col1_refs">_</a></c20><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line729_col1_refs">&nbsp;</a></c13><c3>{},</c3><c13><a href="#line729_col1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;743</ln><a id="743">&nbsp;</a>&nbsp;<c13><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;744</ln><a id="744">&nbsp;</a>&nbsp;<c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;745</ln><a id="745">&nbsp;</a><a id="n443364"><a id="n443366"><a id="n443365"><a id="n443367">&nbsp;</a></a></a></a><c22><a href="#line729_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#756">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#730">sess</a></c26><c3>,</c3><c27><a href="#line729_col1_refs">&nbsp;</a></c27><c12><a href="#line729_col1_refs">"cc"</a></c12><c4>)</c4><c22><a href="#line729_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;746</ln><a id="746">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;747</ln><a id="747">&nbsp;</a><a id="n443368">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;748</ln><a id="748">&nbsp;</a><a id="n443373"><a id="n443377"><a id="n443374"><a id="n443375"><a id="n443370"><a id="n443371">&nbsp;</a></a></a></a></a></a><c21>pub</c21><c1><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/back/archive.rs.html#41">&nbsp;get_ar_prog</a></c30><c4>(</c4><c20><a href="#line748_col19_refs">sess</a></c20><c1><a href="../../librustc/back/archive.rs.html#41">:&nbsp;</a></c1><c8><a href="../../librustc/back/archive.rs.html#41">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c1><c8><a href="../../librustc/back/archive.rs.html#41">~str</a></c8><c1><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/archive.rs.html#41">
</a></c22><br/><ln>&nbsp;&nbsp;749</ln><a id="749">&nbsp;</a><a id="n443382"><a id="n443380"><a id="n443379"><a id="n443381"><a id="n443383"><a id="n443378">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/archive.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#748">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.ar</a></c24><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c3>{</c3><c13><a href="../../librustc/back/archive.rs.html#41">
</a></c13><br/><ln>&nbsp;&nbsp;750</ln><a id="750">&nbsp;</a><a id="n443387"><a id="n443388"><a id="n443385"><a id="n443384"><a id="n443386">&nbsp;</a></a></a></a></a><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#750">ref&nbsp;ar</a></c20><c4>)</c4><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c1><a href="../../librustc/back/archive.rs.html#41">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#750">ar</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/archive.rs.html#41">
</a></c13><br/><ln>&nbsp;&nbsp;751</ln><a id="751">&nbsp;</a><a id="n443389"><a id="n443391"><a id="n443390">&nbsp;</a></a></a><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c13><c3>{}</c3><c13><a href="../../librustc/back/archive.rs.html#41">
</a></c13><br/><ln>&nbsp;&nbsp;752</ln><a id="752">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/archive.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../librustc/back/archive.rs.html#41">
</a></c22><br/><ln>&nbsp;&nbsp;753</ln><a id="753">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/archive.rs.html#41">
</a></c22><br/><ln>&nbsp;&nbsp;754</ln><a id="754">&nbsp;</a><a id="n443393"><a id="n443394"><a id="n443392"><a id="n443395">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/archive.rs.html#41">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#756">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#748">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/archive.rs.html#41">&nbsp;</a></c27><c12><a href="../../librustc/back/archive.rs.html#41">"ar"</a></c12><c4>)</c4><c22><a href="../../librustc/back/archive.rs.html#41">
</a></c22><br/><ln>&nbsp;&nbsp;755</ln><a id="755">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;756</ln><a id="756">&nbsp;</a><a id="n443396">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;757</ln><a id="757">&nbsp;</a><a id="n443404"><a id="n443401"><a id="n443403"><a id="n443408"><a id="n443407"><a id="n443410"><a id="n443406"><a id="n443398"><a id="n443399">&nbsp;</a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#line756_col1_refs">&nbsp;get_system_tool</a></c30><c4>(</c4><c20><a href="#line757_col19_refs">sess</a></c20><c1><a href="#line756_col1_refs">:&nbsp;</a></c1><c8><a href="#line756_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line756_col1_refs">&nbsp;</a></c1><c20><a href="#line757_col35_refs">tool</a></c20><c1><a href="#line756_col1_refs">:&nbsp;</a></c1><c8><a href="#line756_col1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#line756_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line756_col1_refs">&nbsp;</a></c1><c8><a href="#line756_col1_refs">~str</a></c8><c1><a href="#line756_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;758</ln><a id="758">&nbsp;</a><a id="n443412"><a id="n443414"><a id="n443413"><a id="n443411">&nbsp;</a></a></a></a><c22><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;759</ln><a id="759">&nbsp;</a><a id="n443415"><a id="n443420"><a id="n443417"><a id="n443418"><a id="n443419"><a id="n443416">&nbsp;</a></a></a></a></a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14736">abi::OsAndroid</a></c20><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.android_cross_path</a></c24><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;760</ln><a id="760">&nbsp;</a><a id="n443421"><a id="n443422"><a id="n443424"><a id="n443423">&nbsp;</a></a></a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#765">ref&nbsp;path</a></c20><c4>)</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;761</ln><a id="761">&nbsp;</a><a id="n443428"><a id="n443426"><a id="n443429"><a id="n443425"><a id="n443430"><a id="n443427">&nbsp;</a></a></a></a></a></a><c22><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line756_col1_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#765">tool_str</a></c20><c13><a href="#line756_col1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#line756_col1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">tool</a></c26><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;762</ln><a id="762">&nbsp;</a><a id="n443433"><a id="n443431"><a id="n443432">&nbsp;</a></a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line756_col1_refs">"cc"</a></c20><c12><a href="#line756_col1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c12><a href="#line756_col1_refs">"gcc"</a></c12><c3>,</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;763</ln><a id="763">&nbsp;</a><a id="n443434"><a id="n443435">&nbsp;</a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line756_col1_refs">_</a></c20><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">tool</a></c26><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;764</ln><a id="764">&nbsp;</a>&nbsp;<c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;765</ln><a id="765">&nbsp;</a><a id="n443437"><a id="n443466"><a id="n443470"><a id="n443496"><a id="n443491"><a id="n443461"><a id="n443436"><a id="n443501"><a id="n443478"><a id="n443488"><a id="n443502"><a id="n443504"><a id="n443495"><a id="n443451"><a id="n443508"><a id="n443471"><a id="n443482"><a id="n443483"><a id="n443500"><a id="n443462"><a id="n443479"><a id="n443489"><a id="n443442"><a id="n443484"><a id="n443477"><a id="n443443"><a id="n443490"><a id="n443445"><a id="n443457"><a id="n443448"><a id="n443438"><a id="n443475"><a id="n443476"><a id="n443503"><a id="n443465"><a id="n443494"><a id="n443454"><a id="n443444"><a id="n443487"><a id="n443499"><a id="n443447"><a id="n443450"><a id="n443441"><a id="n443464"><a id="n443460"><a id="n443469"><a id="n443440"><a id="n443467"><a id="n443459"><a id="n443480"><a id="n443456"><a id="n443449"><a id="n443472"><a id="n443492"><a id="n443498"><a id="n443485"><a id="n443463"><a id="n443468"><a id="n443493"><a id="n443497"><a id="n443439"><a id="n443473"><a id="n443486"><a id="n443481"><a id="n443474"><a id="n443455"><a id="n443458"><a id="n443446">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="#line756_col1_refs">format!</a></c21><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n164008">"</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164008">/bin/arm-linux-androideabi-</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n164008">"</a></c22><c3>,</c3><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#765">*</a></c5><c26><a href="../../librustc/back/link.rs.html#760">path</a></c26><c3>,</c3><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n164422">tool_str</a></c26><c4>)</c4><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;766</ln><a id="766">&nbsp;</a>&nbsp;<c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;767</ln><a id="767">&nbsp;</a><a id="n443510"><a id="n443509"><a id="n443511">&nbsp;</a></a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;768</ln><a id="768">&nbsp;</a><a id="n443518"><a id="n443530"><a id="n443543"><a id="n443523"><a id="n443562"><a id="n443570"><a id="n443534"><a id="n443533"><a id="n443540"><a id="n443520"><a id="n443561"><a id="n443549"><a id="n443544"><a id="n443546"><a id="n443551"><a id="n443539"><a id="n443542"><a id="n443560"><a id="n443566"><a id="n443559"><a id="n443541"><a id="n443565"><a id="n443548"><a id="n443513"><a id="n443552"><a id="n443564"><a id="n443535"><a id="n443545"><a id="n443531"><a id="n443528"><a id="n443550"><a id="n443536"><a id="n443525"><a id="n443529"><a id="n443515"><a id="n443532"><a id="n443557"><a id="n443538"><a id="n443512"><a id="n443558"><a id="n443521"><a id="n443514"><a id="n443522"><a id="n443547"><a id="n443563"><a id="n443537"><a id="n443524">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#757">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#207">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164024">"need&nbsp;Android&nbsp;NDK&nbsp;path&nbsp;for&nbsp;the&nbsp;'</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164024">'&nbsp;tool&nbsp;\
</a></c8><br/><ln>&nbsp;&nbsp;769</ln><a id="769">&nbsp;</a><a id="n443517"><a id="n443519"><a id="n443554"><a id="n443553"><a id="n443555"><a id="n443556"><a id="n443516">&nbsp;</a></a></a></a></a></a></a><c8><a href="../../libstd/fmt/rt.rs.html#n164024">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c8><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164024">-C&nbsp;android-cross-path</a></c8><c4>)</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164024">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#207">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#769">tool</a></c5><c4>))</c4><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;770</ln><a id="770">&nbsp;</a>&nbsp;<c22><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;771</ln><a id="771">&nbsp;</a>&nbsp;<c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>},</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;772</ln><a id="772">&nbsp;</a><a id="n443571"><a id="n443572"><a id="n443573">&nbsp;</a></a></a><c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line756_col1_refs">_</a></c20><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line756_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">tool</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c21><a href="#line756_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;773</ln><a id="773">&nbsp;</a>&nbsp;<c21><a href="#line756_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line756_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;774</ln><a id="774">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;775</ln><a id="775">&nbsp;</a><a id="n443574">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;776</ln><a id="776">&nbsp;</a><a id="n443579"><a id="n443585"><a id="n443584"><a id="n443586"><a id="n443581"><a id="n443576"><a id="n443582"><a id="n443577">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#line775_col1_refs">&nbsp;remove</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#780">sess</a></c20><c1><a href="#line775_col1_refs">:&nbsp;</a></c1><c8><a href="#line775_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line775_col1_refs">&nbsp;</a></c1><c20><a href="#line776_col26_refs">path</a></c20><c1><a href="#line775_col1_refs">:&nbsp;</a></c1><c8><a href="#line775_col1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="#line775_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line775_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;777</ln><a id="777">&nbsp;</a><a id="n443587"><a id="n443588"><a id="n443589"><a id="n443590">&nbsp;</a></a></a></a><c22><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n134154">fs::unlink</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#776">path</a></c26><c4>)</c4><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line775_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;778</ln><a id="778">&nbsp;</a><a id="n443592"><a id="n443593"><a id="n443591">&nbsp;</a></a></a><c21><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n104077">..</a></c20><c4>)</c4><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line775_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;779</ln><a id="779">&nbsp;</a><a id="n443597"><a id="n443596"><a id="n443595"><a id="n443594">&nbsp;</a></a></a></a><c21><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#780">e</a></c20><c4>)</c4><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line775_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line775_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;780</ln><a id="780">&nbsp;</a><a id="n443649"><a id="n443612"><a id="n443613"><a id="n443664"><a id="n443641"><a id="n443640"><a id="n443619"><a id="n443643"><a id="n443635"><a id="n443668"><a id="n443600"><a id="n443633"><a id="n443662"><a id="n443638"><a id="n443676"><a id="n443624"><a id="n443670"><a id="n443647"><a id="n443634"><a id="n443667"><a id="n443599"><a id="n443654"><a id="n443669"><a id="n443653"><a id="n443628"><a id="n443614"><a id="n443648"><a id="n443598"><a id="n443672"><a id="n443608"><a id="n443602"><a id="n443610"><a id="n443663"><a id="n443637"><a id="n443603"><a id="n443606"><a id="n443656"><a id="n443666"><a id="n443665"><a id="n443621"><a id="n443626"><a id="n443615"><a id="n443645"><a id="n443651"><a id="n443639"><a id="n443661"><a id="n443609"><a id="n443616"><a id="n443658"><a id="n443650"><a id="n443671"><a id="n443644"><a id="n443659"><a id="n443631"><a id="n443630"><a id="n443660"><a id="n443652"><a id="n443601"><a id="n443629"><a id="n443632"><a id="n443620"><a id="n443625"><a id="n443627"><a id="n443655"><a id="n443646"><a id="n443611"><a id="n443607"><a id="n443623"><a id="n443604"><a id="n443605"><a id="n443622"><a id="n443657"><a id="n443642"><a id="n443636">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#776">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n163993">"failed&nbsp;to&nbsp;remove&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n163993">:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n163993">"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#776">path</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n164422">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#779">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line775_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;781</ln><a id="781">&nbsp;</a>&nbsp;<c22><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line775_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;782</ln><a id="782">&nbsp;</a>&nbsp;<c21><a href="#line775_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line775_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;783</ln><a id="783">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;784</ln><a id="784">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;785</ln><a id="785">&nbsp;</a>&nbsp;<c42>///&nbsp;Perform&nbsp;the&nbsp;linkage&nbsp;portion&nbsp;of&nbsp;the&nbsp;compilation&nbsp;phase.&nbsp;This&nbsp;will&nbsp;generate&nbsp;all
</c42><br/><ln>&nbsp;&nbsp;786</ln><a id="786">&nbsp;</a><a id="n443677">&nbsp;</a><c42>///&nbsp;of&nbsp;the&nbsp;requested&nbsp;outputs&nbsp;for&nbsp;this&nbsp;compilation&nbsp;session.
</c42><br/><ln>&nbsp;&nbsp;787</ln><a id="787">&nbsp;</a><a id="n443680"><a id="n443682"><a id="n443679">&nbsp;</a></a></a><c21>pub</c21><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c1><c30>fn</c30><c30><a href="../../librustc/driver/driver.rs.html#460">&nbsp;link_binary</a></c30><c4>(</c4><c20><a href="#line787_col19_refs">sess</a></c20><c1><a href="../../librustc/driver/driver.rs.html#460">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#460">
</a></c1><br/><ln>&nbsp;&nbsp;788</ln><a id="788">&nbsp;</a><a id="n443684"><a id="n443685"><a id="n443687">&nbsp;</a></a></a><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#793">trans</a></c20><c1><a href="../../librustc/driver/driver.rs.html#460">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#460">
</a></c1><br/><ln>&nbsp;&nbsp;789</ln><a id="789">&nbsp;</a><a id="n443690"><a id="n443692"><a id="n443689">&nbsp;</a></a></a><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line789_col19_refs">outputs</a></c20><c1><a href="../../librustc/driver/driver.rs.html#460">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1135">OutputFilenames</a></c8><c3>,</c3><c1><a href="../../librustc/driver/driver.rs.html#460">
</a></c1><br/><ln>&nbsp;&nbsp;790</ln><a id="790">&nbsp;</a><a id="n443697"><a id="n443695"><a id="n443700"><a id="n443698"><a id="n443702"><a id="n443694">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#793">id</a></c20><c1><a href="../../librustc/driver/driver.rs.html#460">:&nbsp;</a></c1><c8><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c4>)</c4><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c1><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;791</ln><a id="791">&nbsp;</a><a id="n443707"><a id="n443708"><a id="n443703"><a id="n443706"><a id="n443704"><a id="n443705">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line791_col8_refs">&nbsp;out_filenames</a></c20><c16><a href="../../librustc/driver/driver.rs.html#460">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n54239">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;792</ln><a id="792">&nbsp;</a><a id="n443717"><a id="n443721"><a id="n443715"><a id="n443711"><a id="n443716"><a id="n443728"><a id="n443726"><a id="n443723"><a id="n443719"><a id="n443714"><a id="n443720"><a id="n443718"><a id="n443722"><a id="n443710"><a id="n443724"><a id="n443713"><a id="n443727"><a id="n443709"><a id="n443725"><a id="n443712">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n102620">&amp;</a></c20><c20><a href="../../librustc/back/link.rs.html#793">crate_type</a></c20><c13><a href="../../libstd/option.rs.html#n102620">&nbsp;in&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#195">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c13><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#792">
</a></c22><br/><ln>&nbsp;&nbsp;793</ln><a id="793">&nbsp;</a><a id="n443729"><a id="n443735"><a id="n443738"><a id="n443739"><a id="n443737"><a id="n443736"><a id="n443731"><a id="n443733"><a id="n443730"><a id="n443734"><a id="n443732">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#792">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#792">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#794">out_file</a></c20><c16><a href="../../librustc/back/link.rs.html#792">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#839">link_binary_output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#792">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#788">trans</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#792">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#792">crate_type</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#792">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#789">outputs</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#792">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#790">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#792">
</a></c22><br/><ln>&nbsp;&nbsp;794</ln><a id="794">&nbsp;</a><a id="n443741"><a id="n443740"><a id="n443743"><a id="n443742">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#792">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#791">out_filenames</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#793">out_file</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#792">
</a></c22><br/><ln>&nbsp;&nbsp;795</ln><a id="795">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#792">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../libstd/option.rs.html#n102620">
</a></c13><br/><ln>&nbsp;&nbsp;796</ln><a id="796">&nbsp;</a>&nbsp;<c13><a href="../../libstd/option.rs.html#n102620">
</a></c13><br/><ln>&nbsp;&nbsp;797</ln><a id="797">&nbsp;</a>&nbsp;<c13><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c40>//&nbsp;Remove&nbsp;the&nbsp;temporary&nbsp;object&nbsp;file&nbsp;and&nbsp;metadata&nbsp;if&nbsp;we&nbsp;aren't&nbsp;saving&nbsp;temps
</c40><br/><ln>&nbsp;&nbsp;798</ln><a id="798">&nbsp;</a><a id="n443748"><a id="n443751"><a id="n443744"><a id="n443745"><a id="n443750"><a id="n443749"><a id="n443746"><a id="n443747">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c21><c5><a href="../../librustc/driver/driver.rs.html#460">!</a></c5><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.save_temps</a></c24><c21><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;799</ln><a id="799">&nbsp;</a><a id="n443756"><a id="n443758"><a id="n443754"><a id="n443752"><a id="n443755"><a id="n443757"><a id="n443753">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c22><c20><a href="#line799_col12_refs">obj_filename</a></c20><c16><a href="../../librustc/driver/driver.rs.html#460">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#789">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;800</ln><a id="800">&nbsp;</a><a id="n443759"><a id="n443766"><a id="n443762"><a id="n443763"><a id="n443764"><a id="n443768"><a id="n443767"><a id="n443761"><a id="n443765"><a id="n443760">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c21><c5><a href="../../librustc/driver/driver.rs.html#460">!</a></c5><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#135">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n56470">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56470">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>)</c4><c21><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;801</ln><a id="801">&nbsp;</a><a id="n443772"><a id="n443774"><a id="n443770"><a id="n443769"><a id="n443771"><a id="n443773">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#775">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c3>,</c3><c13><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c13><c5><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#799">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;802</ln><a id="802">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;803</ln><a id="803">&nbsp;</a><a id="n443778"><a id="n443776"><a id="n443775"><a id="n443780"><a id="n443779"><a id="n443777"><a id="n443782"><a id="n443781">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#775">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#787">sess</a></c26><c3>,</c3><c13><a href="../../librustc/driver/driver.rs.html#460">&nbsp;</a></c13><c5><a href="../../librustc/driver/driver.rs.html#460">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#799">obj_filename</a></c26><c10><nop>.with_extension</nop></c10><c4>(</c4><c12><nop>"metadata.o"</nop></c12><c4>))</c4><c3>;</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;804</ln><a id="804">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;805</ln><a id="805">&nbsp;</a>&nbsp;<c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;806</ln><a id="806">&nbsp;</a><a id="n443783">&nbsp;</a><c22><a href="../../librustc/driver/driver.rs.html#460">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#791">out_filenames</a></c26><c22><a href="../../librustc/driver/driver.rs.html#460">
</a></c22><br/><ln>&nbsp;&nbsp;807</ln><a id="807">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;808</ln><a id="808">&nbsp;</a><a id="n443784">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;809</ln><a id="809">&nbsp;</a><a id="n443790"><a id="n443792"><a id="n443786"><a id="n443789"><a id="n443787">&nbsp;</a></a></a></a></a><c30>fn</c30><c30><a href="#line808_col1_refs">&nbsp;is_writeable</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#810">p</a></c20><c1><a href="#line808_col1_refs">:&nbsp;</a></c1><c8><a href="#line808_col1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="#line808_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line808_col1_refs">&nbsp;</a></c1><c8><a href="#line808_col1_refs">bool</a></c8><c1><a href="#line808_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line808_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;810</ln><a id="810">&nbsp;</a><a id="n443795"><a id="n443794"><a id="n443793">&nbsp;</a></a></a><c22><a href="#line808_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#809">p</a></c26><c10><a href="../../libstd/io/fs.rs.html#n135144">.stat</a></c10><c4>()</c4><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line808_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;811</ln><a id="811">&nbsp;</a><a id="n443797"><a id="n443796">&nbsp;</a></a><c21><a href="#line808_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n104081">..</a></c20><c4>)</c4><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c12><a href="#line808_col1_refs">true</a></c12><c3>,</c3><c21><a href="#line808_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;812</ln><a id="812">&nbsp;</a><a id="n443804"><a id="n443802"><a id="n443803"><a id="n443798"><a id="n443800"><a id="n443805"><a id="n443799"><a id="n443801">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="#line808_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#812">m</a></c20><c4>)</c4><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line808_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#812">m</a></c26><c24><a href="../../libstd/io/mod.rs.html#n148120">.perm</a></c24><c5><a href="#line808_col1_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n148359">io::UserWrite</a></c26><c5><a href="#line808_col1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n148359">io::UserWrite</a></c26><c21><a href="#line808_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;813</ln><a id="813">&nbsp;</a>&nbsp;<c21><a href="#line808_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line808_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;814</ln><a id="814">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;815</ln><a id="815">&nbsp;</a><a id="n443806">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;816</ln><a id="816">&nbsp;</a><a id="n443815"><a id="n443808"><a id="n443809"><a id="n443811"><a id="n443813">&nbsp;</a></a></a></a></a><c21>pub</c21><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#line815_col1_refs">&nbsp;filename_for_input</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#824">sess</a></c20><c1><a href="#line815_col1_refs">:&nbsp;</a></c1><c8><a href="#line815_col1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#819">crate_type</a></c20><c1><a href="#line815_col1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#170">session::CrateType</a></c8><c3>,</c3><c1><a href="#line815_col1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;817</ln><a id="817">&nbsp;</a><a id="n443826"><a id="n443828"><a id="n443825"><a id="n443820"><a id="n443818"><a id="n443822"><a id="n443817"><a id="n443823">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#818">id</a></c20><c1><a href="#line815_col1_refs">:&nbsp;</a></c1><c8><a href="#line815_col1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c3>,</c3><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c20><a href="#line817_col40_refs">out_filename</a></c20><c1><a href="#line815_col1_refs">:&nbsp;</a></c1><c8><a href="#line815_col1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c1><a href="#line815_col1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;818</ln><a id="818">&nbsp;</a><a id="n443834"><a id="n443835"><a id="n443832"><a id="n443829"><a id="n443833"><a id="n443831"><a id="n443830">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line815_col1_refs">&nbsp;</a></c22><c20><a href="#line818_col8_refs">libname</a></c20><c16><a href="#line815_col1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#725">output_lib_filename</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#817">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;819</ln><a id="819">&nbsp;</a><a id="n443836"><a id="n443837">&nbsp;</a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#816">crate_type</a></c26><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;820</ln><a id="820">&nbsp;</a><a id="n443840"><a id="n443838"><a id="n443839">&nbsp;</a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#174">session::CrateTypeRlib</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;821</ln><a id="821">&nbsp;</a><a id="n443858"><a id="n443886"><a id="n443880"><a id="n443867"><a id="n443854"><a id="n443888"><a id="n443857"><a id="n443893"><a id="n443862"><a id="n443853"><a id="n443866"><a id="n443871"><a id="n443876"><a id="n443895"><a id="n443865"><a id="n443873"><a id="n443841"><a id="n443891"><a id="n443843"><a id="n443847"><a id="n443874"><a id="n443848"><a id="n443849"><a id="n443850"><a id="n443863"><a id="n443882"><a id="n443894"><a id="n443845"><a id="n443870"><a id="n443864"><a id="n443868"><a id="n443844"><a id="n443884"><a id="n443861"><a id="n443872"><a id="n443899"><a id="n443842"><a id="n443890"><a id="n443851"><a id="n443885"><a id="n443892"><a id="n443852"><a id="n443879"><a id="n443877"><a id="n443859"><a id="n443846"><a id="n443887"><a id="n443881"><a id="n443869"><a id="n443860"><a id="n443889"><a id="n443875"><a id="n443883"><a id="n443878">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#817">out_filename</a></c26><c10><nop>.with_filename</nop></c10><c4>(</c4><c21><nop>format!</nop></c21><c4>(</c4><c8><a href="../../librustc/back/link.rs.html#821">"lib</a></c8><c3>{}</c3><c8><a href="../../librustc/back/link.rs.html#821">.rlib"</a></c8><c3>,</c3><c21><nop>&nbsp;</nop></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166021">libname</a></c26><c4>))</c4><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;822</ln><a id="822">&nbsp;</a>&nbsp;<c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;823</ln><a id="823">&nbsp;</a><a id="n443901"><a id="n443900"><a id="n443902">&nbsp;</a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeDylib</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;824</ln><a id="824">&nbsp;</a><a id="n443903"><a id="n443912"><a id="n443908"><a id="n443904"><a id="n443910"><a id="n443907"><a id="n443906"><a id="n443909"><a id="n443911"><a id="n443905">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line815_col1_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#831">prefix</a></c20><c3>,</c3><c20><a href="#line815_col1_refs">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#831">suffix</a></c20><c4>)</c4><c16><a href="#line815_col1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#line815_col1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#816">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;825</ln><a id="825">&nbsp;</a><a id="n443914"><a id="n443913"><a id="n443916"><a id="n443915">&nbsp;</a></a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14733">abi::OsWin32</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n129448">win32::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#line815_col1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n129454">win32::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;826</ln><a id="826">&nbsp;</a><a id="n443918"><a id="n443917"><a id="n443919"><a id="n443920">&nbsp;</a></a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n129300">macos::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#line815_col1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n129306">macos::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;827</ln><a id="827">&nbsp;</a><a id="n443924"><a id="n443921"><a id="n443922"><a id="n443923">&nbsp;</a></a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14735">abi::OsLinux</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n129374">linux::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#line815_col1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n129380">linux::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;828</ln><a id="828">&nbsp;</a><a id="n443927"><a id="n443926"><a id="n443928"><a id="n443925">&nbsp;</a></a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14736">abi::OsAndroid</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n129411">android::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#line815_col1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n129417">android::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;829</ln><a id="829">&nbsp;</a><a id="n443930"><a id="n443932"><a id="n443929"><a id="n443931">&nbsp;</a></a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14737">abi::OsFreebsd</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n129337">freebsd::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#line815_col1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n129343">freebsd::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;830</ln><a id="830">&nbsp;</a>&nbsp;<c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;831</ln><a id="831">&nbsp;</a><a id="n443935"><a id="n443957"><a id="n443979"><a id="n444005"><a id="n443992"><a id="n443985"><a id="n444014"><a id="n443975"><a id="n443963"><a id="n443938"><a id="n444002"><a id="n443955"><a id="n443960"><a id="n443988"><a id="n443958"><a id="n443936"><a id="n444012"><a id="n443983"><a id="n443948"><a id="n443974"><a id="n443973"><a id="n443995"><a id="n443949"><a id="n443939"><a id="n443947"><a id="n443964"><a id="n444001"><a id="n443976"><a id="n443980"><a id="n444011"><a id="n443952"><a id="n444013"><a id="n443991"><a id="n443968"><a id="n443994"><a id="n443969"><a id="n444000"><a id="n444016"><a id="n444008"><a id="n443944"><a id="n443997"><a id="n443950"><a id="n443951"><a id="n443970"><a id="n443978"><a id="n443959"><a id="n444010"><a id="n443946"><a id="n444015"><a id="n443945"><a id="n443977"><a id="n443934"><a id="n443996"><a id="n443961"><a id="n443999"><a id="n443986"><a id="n443933"><a id="n443956"><a id="n443942"><a id="n443993"><a id="n444006"><a id="n443967"><a id="n444004"><a id="n443940"><a id="n443981"><a id="n443984"><a id="n443962"><a id="n444021"><a id="n444009"><a id="n444017"><a id="n444003"><a id="n443982"><a id="n443972"><a id="n443943"><a id="n443937"><a id="n443998"><a id="n443965"><a id="n444007"><a id="n443966"><a id="n443987"><a id="n443990"><a id="n443971"><a id="n443941"><a id="n443989">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#817">out_filename</a></c26><c10><nop>.with_filename</nop></c10><c4>(</c4><c21><nop>format!</nop></c21><c4>(</c4><c26><a href="../../libstd/option.rs.html#n102619">"</a></c26><c3>{}{}{}</c3><c26><a href="../../libstd/option.rs.html#n102619">"</a></c26><c3>,</c3><c21><nop>&nbsp;</nop></c21><c26><a href="../../libstd/fmt/mod.rs.html#n164422">prefix</a></c26><c3>,</c3><c21><nop>&nbsp;</nop></c21><c26><a href="../../librustc/back/link.rs.html#831">libname</a></c26><c3>,</c3><c21><nop>&nbsp;</nop></c21><c5><a href="../../librustc/back/link.rs.html#831">suffix</a></c5><c4>))</c4><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;832</ln><a id="832">&nbsp;</a>&nbsp;<c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;833</ln><a id="833">&nbsp;</a><a id="n444024"><a id="n444023"><a id="n444022">&nbsp;</a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#175">session::CrateTypeStaticlib</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;834</ln><a id="834">&nbsp;</a><a id="n444075"><a id="n444047"><a id="n444034"><a id="n444037"><a id="n444043"><a id="n444042"><a id="n444066"><a id="n444033"><a id="n444065"><a id="n444071"><a id="n444032"><a id="n444038"><a id="n444049"><a id="n444077"><a id="n444046"><a id="n444064"><a id="n444068"><a id="n444070"><a id="n444045"><a id="n444072"><a id="n444058"><a id="n444056"><a id="n444069"><a id="n444050"><a id="n444025"><a id="n444074"><a id="n444027"><a id="n444028"><a id="n444051"><a id="n444036"><a id="n444079"><a id="n444078"><a id="n444060"><a id="n444029"><a id="n444063"><a id="n444059"><a id="n444041"><a id="n444057"><a id="n444053"><a id="n444073"><a id="n444052"><a id="n444054"><a id="n444035"><a id="n444083"><a id="n444076"><a id="n444031"><a id="n444030"><a id="n444026"><a id="n444055"><a id="n444061"><a id="n444048"><a id="n444062"><a id="n444044"><a id="n444067">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#817">out_filename</a></c26><c10><nop>.with_filename</nop></c10><c4>(</c4><c21><nop>format!</nop></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n163993">"lib</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n163993">.a"</a></c26><c3>,</c3><c21><nop>&nbsp;</nop></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166021">libname</a></c26><c4>))</c4><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;835</ln><a id="835">&nbsp;</a>&nbsp;<c22><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;836</ln><a id="836">&nbsp;</a><a id="n444085"><a id="n444084"><a id="n444086">&nbsp;</a></a></a><c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeExecutable</a></c20><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line815_col1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#817">out_filename</a></c26><c10><a href="../../libstd/path/posix.rs.html#n148581">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#line815_col1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;837</ln><a id="837">&nbsp;</a>&nbsp;<c21><a href="#line815_col1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line815_col1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;838</ln><a id="838">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;839</ln><a id="839">&nbsp;</a><a id="n444087">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;840</ln><a id="840">&nbsp;</a><a id="n444090"><a id="n444092"><a id="n444089">&nbsp;</a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#793">&nbsp;link_binary_output</a></c30><c4>(</c4><c20><a href="#line840_col22_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#793">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#793">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#793">
</a></c1><br/><ln>&nbsp;&nbsp;841</ln><a id="841">&nbsp;</a><a id="n444097"><a id="n444095"><a id="n444094">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#871">trans</a></c20><c1><a href="../../librustc/back/link.rs.html#793">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#793">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#793">
</a></c1><br/><ln>&nbsp;&nbsp;842</ln><a id="842">&nbsp;</a><a id="n444099"><a id="n444101">&nbsp;</a></a><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line842_col22_refs">crate_type</a></c20><c1><a href="../../librustc/back/link.rs.html#793">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#170">session::CrateType</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#793">
</a></c1><br/><ln>&nbsp;&nbsp;843</ln><a id="843">&nbsp;</a><a id="n444104"><a id="n444106"><a id="n444103">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line843_col22_refs">outputs</a></c20><c1><a href="../../librustc/back/link.rs.html#793">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#793">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1135">OutputFilenames</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#793">
</a></c1><br/><ln>&nbsp;&nbsp;844</ln><a id="844">&nbsp;</a><a id="n444112"><a id="n444111"><a id="n444114"><a id="n444109"><a id="n444108">&nbsp;</a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#850">id</a></c20><c1><a href="../../librustc/back/link.rs.html#793">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#793">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n138853">CrateId</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c1><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;845</ln><a id="845">&nbsp;</a><a id="n444120"><a id="n444116"><a id="n444118"><a id="n444119"><a id="n444117"><a id="n444115"><a id="n444121">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c22><c20><a href="#line845_col8_refs">obj_filename</a></c20><c13><a href="../../librustc/back/link.rs.html#793">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#843">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1151">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;846</ln><a id="846">&nbsp;</a><a id="n444126"><a id="n444127"><a id="n444123"><a id="n444128"><a id="n444125"><a id="n444122"><a id="n444124">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c22><c20><a href="#line846_col8_refs">out_filename</a></c20><c13><a href="../../librustc/back/link.rs.html#793">&nbsp;=&nbsp;</a></c13><c21><a href="../../librustc/back/link.rs.html#793">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#843">outputs</a></c26><c24><a href="../../librustc/driver/driver.rs.html#1139">.single_output_file</a></c24><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;847</ln><a id="847">&nbsp;</a><a id="n444129"><a id="n444131"><a id="n444130"><a id="n444132">&nbsp;</a></a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#847">ref&nbsp;file</a></c20><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#847">file</a></c26><c10><a href="../../libstd/path/posix.rs.html#n148581">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;848</ln><a id="848">&nbsp;</a><a id="n444134"><a id="n444133"><a id="n444135">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;849</ln><a id="849">&nbsp;</a><a id="n444141"><a id="n444136"><a id="n444140"><a id="n444138"><a id="n444139"><a id="n444137"><a id="n444142">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#850">out_filename</a></c20><c16><a href="../../librustc/back/link.rs.html#793">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#843">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1143">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#54">OutputTypeExe</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;850</ln><a id="850">&nbsp;</a><a id="n444148"><a id="n444143"><a id="n444146"><a id="n444145"><a id="n444144"><a id="n444149"><a id="n444147">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#815">filename_for_input</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#842">crate_type</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#844">id</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#849">out_filename</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;851</ln><a id="851">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;852</ln><a id="852">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;853</ln><a id="853">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;854</ln><a id="854">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;output&nbsp;and&nbsp;obj_filename&nbsp;are&nbsp;both&nbsp;writeable.
</c40><br/><ln>&nbsp;&nbsp;855</ln><a id="855">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Mac,&nbsp;FreeBSD,&nbsp;and&nbsp;Windows&nbsp;system&nbsp;linkers&nbsp;check&nbsp;this&nbsp;already&nbsp;--
</c40><br/><ln>&nbsp;&nbsp;856</ln><a id="856">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;however,&nbsp;the&nbsp;Linux&nbsp;linker&nbsp;will&nbsp;happily&nbsp;overwrite&nbsp;a&nbsp;read-only&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;857</ln><a id="857">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;should&nbsp;be&nbsp;consistent.
</c40><br/><ln>&nbsp;&nbsp;858</ln><a id="858">&nbsp;</a><a id="n444152"><a id="n444154"><a id="n444150"><a id="n444157"><a id="n444153"><a id="n444156"><a id="n444151"><a id="n444155">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#864">obj_is_writeable</a></c20><c16><a href="../../librustc/back/link.rs.html#793">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#808">is_writeable</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;859</ln><a id="859">&nbsp;</a><a id="n444158"><a id="n444163"><a id="n444164"><a id="n444159"><a id="n444162"><a id="n444165"><a id="n444161"><a id="n444160">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#860">out_is_writeable</a></c20><c16><a href="../../librustc/back/link.rs.html#793">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#808">is_writeable</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;860</ln><a id="860">&nbsp;</a><a id="n444170"><a id="n444166"><a id="n444168"><a id="n444167"><a id="n444169">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#793">!</a></c5><c26><a href="../../librustc/back/link.rs.html#859">out_is_writeable</a></c26><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;861</ln><a id="861">&nbsp;</a><a id="n444171"><a id="n444172"><a id="n444221"><a id="n444175"><a id="n444197"><a id="n444173"><a id="n444220"><a id="n444211"><a id="n444227"><a id="n444224"><a id="n444198"><a id="n444179"><a id="n444204"><a id="n444209"><a id="n444205"><a id="n444185"><a id="n444202"><a id="n444174"><a id="n444226"><a id="n444186"><a id="n444192"><a id="n444207"><a id="n444200"><a id="n444182"><a id="n444231"><a id="n444210"><a id="n444222"><a id="n444189"><a id="n444213"><a id="n444195"><a id="n444184"><a id="n444203"><a id="n444183"><a id="n444208"><a id="n444225"><a id="n444194"><a id="n444193"><a id="n444201"><a id="n444218"><a id="n444181"><a id="n444219"><a id="n444223"><a id="n444190"><a id="n444199"><a id="n444206"><a id="n444191"><a id="n444212"><a id="n444196">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#207">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164008">"output&nbsp;file&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164008">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c1><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#207">
</a></c21><br/><ln>&nbsp;&nbsp;862</ln><a id="862">&nbsp;</a><a id="n444214"><a id="n444176"><a id="n444180"><a id="n444178"><a id="n444177"><a id="n444215"><a id="n444216"><a id="n444217">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#207">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c26><a href="../../librustc/back/link.rs.html#862">.display</a></c26><c4>()))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;863</ln><a id="863">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;864</ln><a id="864">&nbsp;</a><a id="n444234"><a id="n444235"><a id="n444232"><a id="n444233">&nbsp;</a></a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#793">!</a></c5><c26><a href="../../librustc/back/link.rs.html#858">obj_is_writeable</a></c26><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;865</ln><a id="865">&nbsp;</a><a id="n444271"><a id="n444251"><a id="n444247"><a id="n444264"><a id="n444278"><a id="n444244"><a id="n444250"><a id="n444291"><a id="n444238"><a id="n444262"><a id="n444260"><a id="n444287"><a id="n444267"><a id="n444240"><a id="n444268"><a id="n444272"><a id="n444249"><a id="n444266"><a id="n444277"><a id="n444286"><a id="n444237"><a id="n444275"><a id="n444248"><a id="n444258"><a id="n444255"><a id="n444273"><a id="n444269"><a id="n444256"><a id="n444296"><a id="n444292"><a id="n444290"><a id="n444261"><a id="n444236"><a id="n444274"><a id="n444257"><a id="n444288"><a id="n444289"><a id="n444270"><a id="n444259"><a id="n444265"><a id="n444246"><a id="n444283"><a id="n444285"><a id="n444276"><a id="n444239"><a id="n444284"><a id="n444263"><a id="n444254">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#207">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n164024">"object&nbsp;file&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n164024">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c12><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#207">
</a></c21><br/><ln>&nbsp;&nbsp;866</ln><a id="866">&nbsp;</a><a id="n444282"><a id="n444280"><a id="n444245"><a id="n444241"><a id="n444242"><a id="n444243"><a id="n444279"><a id="n444281">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#207">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n164422">.display</a></c26><c4>()))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;867</ln><a id="867">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;868</ln><a id="868">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;869</ln><a id="869">&nbsp;</a><a id="n444299"><a id="n444297"><a id="n444298">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#842">crate_type</a></c26><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;870</ln><a id="870">&nbsp;</a><a id="n444302"><a id="n444300"><a id="n444301">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#174">session::CrateTypeRlib</a></c20><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;871</ln><a id="871">&nbsp;</a><a id="n444303"><a id="n444309"><a id="n444311"><a id="n444304"><a id="n444313"><a id="n444305"><a id="n444307"><a id="n444312"><a id="n444308"><a id="n444306"><a id="n444310">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#892">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#841">trans</a></c26><c4>)</c4><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;872</ln><a id="872">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;873</ln><a id="873">&nbsp;</a><a id="n444316"><a id="n444314"><a id="n444315">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#175">session::CrateTypeStaticlib</a></c20><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;874</ln><a id="874">&nbsp;</a><a id="n444318"><a id="n444317"><a id="n444321"><a id="n444323"><a id="n444322"><a id="n444319"><a id="n444320"><a id="n444324">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#998">link_staticlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;875</ln><a id="875">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;876</ln><a id="876">&nbsp;</a><a id="n444325"><a id="n444327"><a id="n444326">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeExecutable</a></c20><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;877</ln><a id="877">&nbsp;</a><a id="n444335"><a id="n444328"><a id="n444329"><a id="n444330"><a id="n444331"><a id="n444334"><a id="n444333"><a id="n444336"><a id="n444332">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1029">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c12><a href="../../librustc/back/link.rs.html#793">false</a></c12><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;878</ln><a id="878">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;879</ln><a id="879">&nbsp;</a><a id="n444337"><a id="n444338"><a id="n444339">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeDylib</a></c20><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;880</ln><a id="880">&nbsp;</a><a id="n444342"><a id="n444340"><a id="n444346"><a id="n444343"><a id="n444348"><a id="n444347"><a id="n444345"><a id="n444344"><a id="n444341">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1029">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#840">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c12><a href="../../librustc/back/link.rs.html#793">true</a></c12><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#845">obj_filename</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#793">&nbsp;</a></c27><c5><a href="../../librustc/back/link.rs.html#793">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;881</ln><a id="881">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#793">
</a></c21><br/><ln>&nbsp;&nbsp;882</ln><a id="882">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;883</ln><a id="883">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;884</ln><a id="884">&nbsp;</a><a id="n444349">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#793">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#846">out_filename</a></c26><c22><a href="../../librustc/back/link.rs.html#793">
</a></c22><br/><ln>&nbsp;&nbsp;885</ln><a id="885">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;886</ln><a id="886">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;887</ln><a id="887">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;an&nbsp;'rlib'
</c40><br/><ln>&nbsp;&nbsp;888</ln><a id="888">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;889</ln><a id="889">&nbsp;</a>&nbsp;<c40>//&nbsp;An&nbsp;rlib&nbsp;in&nbsp;its&nbsp;current&nbsp;incarnation&nbsp;is&nbsp;essentially&nbsp;a&nbsp;renamed&nbsp;.a&nbsp;file.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;890</ln><a id="890">&nbsp;</a>&nbsp;<c40>//&nbsp;rlib&nbsp;primarily&nbsp;contains&nbsp;the&nbsp;object&nbsp;file&nbsp;of&nbsp;the&nbsp;crate,&nbsp;but&nbsp;it&nbsp;also&nbsp;contains
</c40><br/><ln>&nbsp;&nbsp;891</ln><a id="891">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;from&nbsp;native&nbsp;libraries.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;unzipping
</c40><br/><ln>&nbsp;&nbsp;892</ln><a id="892">&nbsp;</a><a id="n444350">&nbsp;</a><c40>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;893</ln><a id="893">&nbsp;</a><a id="n444352"><a id="n444356"><a id="n444354">&nbsp;</a></a></a><c30>fn</c30><c30><a href="#line892_col73_refs">&nbsp;link_rlib</a></c30><c5><a href="#line892_col73_refs">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#line893_col17_refs">sess</a></c20><c1><a href="#line892_col73_refs">:&nbsp;</a></c1><c8><a href="#line892_col73_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line892_col73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;894</ln><a id="894">&nbsp;</a><a id="n444363"><a id="n444361"><a id="n444360"><a id="n444358">&nbsp;</a></a></a></a><c1><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#929">trans</a></c20><c1><a href="#line892_col73_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n102618">Option&lt;</a></c8><c8><a href="#line892_col73_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#406">CrateTranslation</a></c8><c8><a href="../../libstd/option.rs.html#n102618">&gt;</a></c8><c3>,</c3><c1><a href="#line892_col73_refs">&nbsp;</a></c1><c40>//&nbsp;None&nbsp;==&nbsp;no&nbsp;metadata/bytecode
</c40><br/><ln>&nbsp;&nbsp;895</ln><a id="895">&nbsp;</a><a id="n444368"><a id="n444366"><a id="n444365">&nbsp;</a></a></a><c1><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line895_col17_refs">obj_filename</a></c20><c1><a href="#line892_col73_refs">:&nbsp;</a></c1><c8><a href="#line892_col73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="#line892_col73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;896</ln><a id="896">&nbsp;</a><a id="n444374"><a id="n444370"><a id="n444371"><a id="n444378"><a id="n444373">&nbsp;</a></a></a></a></a><c1><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#897">out_filename</a></c20><c1><a href="#line892_col73_refs">:&nbsp;</a></c1><c8><a href="#line892_col73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="#line892_col73_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line892_col73_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/archive.rs.html#29">Archive&lt;'a&gt;</a></c8><c1><a href="#line892_col73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;897</ln><a id="897">&nbsp;</a><a id="n444383"><a id="n444379"><a id="n444382"><a id="n444384"><a id="n444380"><a id="n444381"><a id="n444385"><a id="n444387"><a id="n444386">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line897_col8_refs">&nbsp;a</a></c20><c16><a href="#line892_col73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/archive.rs.html#80">Archive::create</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c3>,</c3><c27><a href="#line892_col73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#896">out_filename</a></c26><c3>,</c3><c27><a href="#line892_col73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#895">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;898</ln><a id="898">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;899</ln><a id="899">&nbsp;</a><a id="n444399"><a id="n444402"><a id="n444398"><a id="n444397"><a id="n444405"><a id="n444391"><a id="n444400"><a id="n444404"><a id="n444389"><a id="n444401"><a id="n444392"><a id="n444396"><a id="n444403"><a id="n444410"><a id="n444395"><a id="n444409"><a id="n444388"><a id="n444393"><a id="n444394"><a id="n444408"><a id="n444390"><a id="n444407"><a id="n444406">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c5><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c5><c20><a href="../../libstd/option.rs.html#n102619">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="../../librustc/back/link.rs.html#902">&nbsp;l</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#900">kind</a></c20><c4>)</c4><c5><a href="../../librustc/back/link.rs.html#899">&nbsp;in&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#186">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c5><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c5><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#899">
</a></c22><br/><ln>&nbsp;&nbsp;900</ln><a id="900">&nbsp;</a><a id="n444412"><a id="n444411">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#899">kind</a></c26><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#899">
</a></c21><br/><ln>&nbsp;&nbsp;901</ln><a id="901">&nbsp;</a><a id="n444413"><a id="n444414"><a id="n444415">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#899">
</a></c22><br/><ln>&nbsp;&nbsp;902</ln><a id="902">&nbsp;</a><a id="n444418"><a id="n444420"><a id="n444416"><a id="n444419"><a id="n444421"><a id="n444417">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#897">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#899">l</a></c26><c10><a href="../../libstd/str.rs.html#n62771">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/result.rs.html#n105323">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#899">
</a></c22><br/><ln>&nbsp;&nbsp;903</ln><a id="903">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#899">
</a></c21><br/><ln>&nbsp;&nbsp;904</ln><a id="904">&nbsp;</a><a id="n444425"><a id="n444422"><a id="n444424"><a id="n444423">&nbsp;</a></a></a></a><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#899">&nbsp;</a></c21><c3>{}</c3><c21><a href="../../librustc/back/link.rs.html#899">
</a></c21><br/><ln>&nbsp;&nbsp;905</ln><a id="905">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#899">
</a></c22><br/><ln>&nbsp;&nbsp;906</ln><a id="906">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c5><a href="../../librustc/back/link.rs.html#899">
</a></c5><br/><ln>&nbsp;&nbsp;907</ln><a id="907">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">
</a></c5><br/><ln>&nbsp;&nbsp;908</ln><a id="908">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;Note&nbsp;that&nbsp;it&nbsp;is&nbsp;important&nbsp;that&nbsp;we&nbsp;add&nbsp;all&nbsp;of&nbsp;our&nbsp;non-object&nbsp;"magical
</c40><br/><ln>&nbsp;&nbsp;909</ln><a id="909">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;files"&nbsp;*after*&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;in&nbsp;the&nbsp;archive.&nbsp;The&nbsp;reason&nbsp;for
</c40><br/><ln>&nbsp;&nbsp;910</ln><a id="910">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;this&nbsp;is&nbsp;as&nbsp;follows:
</c40><br/><ln>&nbsp;&nbsp;911</ln><a id="911">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//
</c40><br/><ln>&nbsp;&nbsp;912</ln><a id="912">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;*&nbsp;When&nbsp;performing&nbsp;LTO,&nbsp;this&nbsp;archive&nbsp;will&nbsp;be&nbsp;modified&nbsp;to&nbsp;remove
</c40><br/><ln>&nbsp;&nbsp;913</ln><a id="913">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;obj_filename&nbsp;from&nbsp;above.&nbsp;The&nbsp;reason&nbsp;for&nbsp;this&nbsp;is&nbsp;described&nbsp;below.
</c40><br/><ln>&nbsp;&nbsp;914</ln><a id="914">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//
</c40><br/><ln>&nbsp;&nbsp;915</ln><a id="915">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;*&nbsp;When&nbsp;the&nbsp;system&nbsp;linker&nbsp;looks&nbsp;at&nbsp;an&nbsp;archive,&nbsp;it&nbsp;will&nbsp;attempt&nbsp;to
</c40><br/><ln>&nbsp;&nbsp;916</ln><a id="916">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;determine&nbsp;the&nbsp;architecture&nbsp;of&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;see&nbsp;whether&nbsp;its
</c40><br/><ln>&nbsp;&nbsp;917</ln><a id="917">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;linkable.
</c40><br/><ln>&nbsp;&nbsp;918</ln><a id="918">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//
</c40><br/><ln>&nbsp;&nbsp;919</ln><a id="919">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;for&nbsp;this&nbsp;detection&nbsp;is:&nbsp;iterate&nbsp;over&nbsp;the&nbsp;files&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;920</ln><a id="920">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;archive.&nbsp;Skip&nbsp;magical&nbsp;SYMDEF&nbsp;names.&nbsp;Interpret&nbsp;the&nbsp;first&nbsp;file&nbsp;as&nbsp;an
</c40><br/><ln>&nbsp;&nbsp;921</ln><a id="921">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;object&nbsp;file.&nbsp;Read&nbsp;architecture&nbsp;from&nbsp;the&nbsp;object&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;922</ln><a id="922">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//
</c40><br/><ln>&nbsp;&nbsp;923</ln><a id="923">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;*&nbsp;As&nbsp;one&nbsp;can&nbsp;probably&nbsp;see,&nbsp;if&nbsp;"metadata"&nbsp;and&nbsp;"foo.bc"&nbsp;were&nbsp;placed
</c40><br/><ln>&nbsp;&nbsp;924</ln><a id="924">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;before&nbsp;all&nbsp;of&nbsp;the&nbsp;objects,&nbsp;then&nbsp;the&nbsp;architecture&nbsp;of&nbsp;this&nbsp;archive&nbsp;would
</c40><br/><ln>&nbsp;&nbsp;925</ln><a id="925">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;&nbsp;&nbsp;not&nbsp;be&nbsp;correctly&nbsp;inferred&nbsp;once&nbsp;'foo.o'&nbsp;is&nbsp;removed.
</c40><br/><ln>&nbsp;&nbsp;926</ln><a id="926">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//
</c40><br/><ln>&nbsp;&nbsp;927</ln><a id="927">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;Basically,&nbsp;all&nbsp;this&nbsp;means&nbsp;is&nbsp;that&nbsp;this&nbsp;code&nbsp;should&nbsp;not&nbsp;move&nbsp;above&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;928</ln><a id="928">&nbsp;</a>&nbsp;<c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c40>//&nbsp;code&nbsp;above.
</c40><br/><ln>&nbsp;&nbsp;929</ln><a id="929">&nbsp;</a><a id="n444426"><a id="n444427"><a id="n444428">&nbsp;</a></a></a><c5><a href="../../librustc/back/link.rs.html#899">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c21>match</c21><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#894">trans</a></c26><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;930</ln><a id="930">&nbsp;</a><a id="n444432"><a id="n444429"><a id="n444431"><a id="n444430">&nbsp;</a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#937">trans</a></c20><c4>)</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;931</ln><a id="931">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Instead&nbsp;of&nbsp;putting&nbsp;the&nbsp;metadata&nbsp;in&nbsp;an&nbsp;object&nbsp;file&nbsp;section,&nbsp;rlibs
</c40><br/><ln>&nbsp;&nbsp;932</ln><a id="932">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;contain&nbsp;the&nbsp;metadata&nbsp;in&nbsp;a&nbsp;separate&nbsp;file.&nbsp;We&nbsp;use&nbsp;a&nbsp;temp&nbsp;directory
</c40><br/><ln>&nbsp;&nbsp;933</ln><a id="933">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here&nbsp;so&nbsp;concurrent&nbsp;builds&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;don't&nbsp;try&nbsp;to&nbsp;use
</c40><br/><ln>&nbsp;&nbsp;934</ln><a id="934">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;same&nbsp;filename&nbsp;for&nbsp;metadata&nbsp;(stomping&nbsp;over&nbsp;one&nbsp;another)
</c40><br/><ln>&nbsp;&nbsp;935</ln><a id="935">&nbsp;</a><a id="n444439"><a id="n444435"><a id="n444441"><a id="n444433"><a id="n444434"><a id="n444438"><a id="n444440"><a id="n444436"><a id="n444437">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#936">tmpdir</a></c20><c16><a href="#line892_col73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/io/tempfile.rs.html#n133151">TempDir::new</a></c26><c4>(</c4><c12><a href="#line892_col73_refs">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n103330">.expect</a></c10><c4>(</c4><c12><a href="#line892_col73_refs">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;936</ln><a id="936">&nbsp;</a><a id="n444445"><a id="n444447"><a id="n444446"><a id="n444443"><a id="n444442"><a id="n444448"><a id="n444449"><a id="n444444">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c20><a href="#line936_col16_refs">metadata</a></c20><c13><a href="#line892_col73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#935">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n133183">.path</a></c10><c4>()</c4><c10><nop>.join</nop></c10><c4>(</c4><c26><a href="../../librustc/back/archive.rs.html#27">METADATA_FILENAME</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;937</ln><a id="937">&nbsp;</a><a id="n444458"><a id="n444459"><a id="n444451"><a id="n444452"><a id="n444454"><a id="n444453"><a id="n444457"><a id="n444455"><a id="n444450"><a id="n444456">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c26><a href="../../libstd/io/fs.rs.html#n134075">fs::File::create</a></c26><c4>(</c4><c5><a href="../../libstd/io/result.rs.html#n132707">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#936">metadata</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n132707">.write</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#930">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#412">.metadata</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">
</a></c10><br/><ln>&nbsp;&nbsp;938</ln><a id="938">&nbsp;</a>&nbsp;<c10><a href="../../libstd/vec.rs.html#n56605">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.as_slice</a></c10><c4>())</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#line892_col73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;939</ln><a id="939">&nbsp;</a><a id="n444462"><a id="n444461"><a id="n444460">&nbsp;</a></a></a><c13><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n104077">..</a></c20><c4>)</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#line892_col73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;940</ln><a id="940">&nbsp;</a><a id="n444464"><a id="n444465"><a id="n444463"><a id="n444466">&nbsp;</a></a></a></a><c13><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#942">e</a></c20><c4>)</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;941</ln><a id="941">&nbsp;</a><a id="n444467"><a id="n444503"><a id="n444523"><a id="n444481"><a id="n444518"><a id="n444541"><a id="n444484"><a id="n444515"><a id="n444500"><a id="n444501"><a id="n444483"><a id="n444497"><a id="n444505"><a id="n444538"><a id="n444471"><a id="n444498"><a id="n444489"><a id="n444482"><a id="n444490"><a id="n444491"><a id="n444493"><a id="n444494"><a id="n444533"><a id="n444534"><a id="n444514"><a id="n444469"><a id="n444519"><a id="n444477"><a id="n444485"><a id="n444502"><a id="n444495"><a id="n444520"><a id="n444522"><a id="n444470"><a id="n444545"><a id="n444532"><a id="n444468"><a id="n444504"><a id="n444537"><a id="n444488"><a id="n444499"><a id="n444496"><a id="n444510"><a id="n444506"><a id="n444512"><a id="n444516"><a id="n444521"><a id="n444517"><a id="n444507"><a id="n444536"><a id="n444539"><a id="n444480"><a id="n444509"><a id="n444540"><a id="n444492"><a id="n444508"><a id="n444513"><a id="n444511"><a id="n444535">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c21><a href="#line892_col73_refs">format!</a></c21><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#941">"failed&nbsp;to&nbsp;write&nbsp;</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#941">:&nbsp;</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#941">"</a></c20><c3>,</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;942</ln><a id="942">&nbsp;</a><a id="n444472"><a id="n444526"><a id="n444524"><a id="n444529"><a id="n444473"><a id="n444478"><a id="n444475"><a id="n444530"><a id="n444479"><a id="n444527"><a id="n444531"><a id="n444528"><a id="n444476"><a id="n444525"><a id="n444474">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#936">metadata</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n166021">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#940">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;943</ln><a id="943">&nbsp;</a><a id="n444546"><a id="n444547"><a id="n444548">&nbsp;</a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;944</ln><a id="944">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#line892_col73_refs">
</a></c13><br/><ln>&nbsp;&nbsp;945</ln><a id="945">&nbsp;</a>&nbsp;<c13><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;946</ln><a id="946">&nbsp;</a><a id="n444554"><a id="n444549"><a id="n444553"><a id="n444552"><a id="n444551"><a id="n444550">&nbsp;</a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#897">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#116">.add_file</a></c10><c4>(</c4><c5><a href="#line892_col73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#936">metadata</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#116">&nbsp;</a></c10><c12><a href="#line892_col73_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;947</ln><a id="947">&nbsp;</a><a id="n444555"><a id="n444558"><a id="n444559"><a id="n444557"><a id="n444560"><a id="n444556">&nbsp;</a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#775">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c3>,</c3><c27><a href="#line892_col73_refs">&nbsp;</a></c27><c5><a href="#line892_col73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#936">metadata</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;948</ln><a id="948">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;949</ln><a id="949">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;LTO&nbsp;purposes,&nbsp;the&nbsp;bytecode&nbsp;of&nbsp;this&nbsp;library&nbsp;is&nbsp;also&nbsp;inserted
</c40><br/><ln>&nbsp;&nbsp;950</ln><a id="950">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;951</ln><a id="951">&nbsp;</a><a id="n444565"><a id="n444564"><a id="n444561"><a id="n444567"><a id="n444566"><a id="n444562"><a id="n444563">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c20><a href="#line951_col16_refs">bc</a></c20><c16><a href="#line892_col73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#895">obj_filename</a></c26><c10><nop>.with_extension</nop></c10><c4>(</c4><c12><nop>"bc"</nop></c12><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;952</ln><a id="952">&nbsp;</a><a id="n444572"><a id="n444573"><a id="n444569"><a id="n444568"><a id="n444571"><a id="n444570"><a id="n444574">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c20><a href="#line952_col16_refs">bc_deflated</a></c20><c13><a href="#line892_col73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#895">obj_filename</a></c26><c10><nop>.with_extension</nop></c10><c4>(</c4><c12><nop>"bc.deflate"</nop></c12><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;953</ln><a id="953">&nbsp;</a><a id="n444583"><a id="n444587"><a id="n444580"><a id="n444577"><a id="n444575"><a id="n444579"><a id="n444588"><a id="n444585"><a id="n444576"><a id="n444590"><a id="n444589"><a id="n444578"><a id="n444582"><a id="n444581"><a id="n444586">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n134059">fs::File::open</a></c26><c4>(</c4><c5><a href="../../libstd/result.rs.html#n105167">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#951">bc</a></c26><c4>)</c4><c10><nop>.read_to_end</nop></c10><c4>()</c4><c10><a href="../../libstd/result.rs.html#n105167">.and_then</a></c10><c4>(</c4><c1><a href="#line892_col73_refs">|</a></c1><c20><a href="../../librustc/back/link.rs.html#955">data</a></c20><c8><a href="#line892_col73_refs">|</a></c8><c1><a href="#line892_col73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;954</ln><a id="954">&nbsp;</a><a id="n444594"><a id="n444595"><a id="n444591"><a id="n444592"><a id="n444593">&nbsp;</a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/io/fs.rs.html#n134075">fs::File::create</a></c26><c4>(</c4><c5><a href="#line892_col73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#952">bc_deflated</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n132707">
</a></c10><br/><ln>&nbsp;&nbsp;955</ln><a id="955">&nbsp;</a><a id="n444597"><a id="n444599"><a id="n444600"><a id="n444601"><a id="n444598"><a id="n444596">&nbsp;</a></a></a></a></a></a><c10><a href="../../libstd/io/result.rs.html#n132707">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.write</a></c10><c4>(</c4><c21><a href="#line892_col73_refs">match&nbsp;</a></c21><c26><a href="../../libflate/lib.rs.html#n145">flate::deflate_bytes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#953">data</a></c26><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;956</ln><a id="956">&nbsp;</a><a id="n444604"><a id="n444603"><a id="n444602">&nbsp;</a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#956">compressed</a></c20><c4>)</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#956">compressed</a></c26><c3>,</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;957</ln><a id="957">&nbsp;</a><a id="n444607"><a id="n444608"><a id="n444605"><a id="n444606">&nbsp;</a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#207">.fatal</a></c10><c4>(</c4><c12><a href="#line892_col73_refs">"failed&nbsp;to&nbsp;compress&nbsp;bytecode"</a></c12><c4>)</c4><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;958</ln><a id="958">&nbsp;</a>&nbsp;<c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c10><a href="../../libstd/c_vec.rs.html#n126903">.as_slice</a></c10><c4>())</c4><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;959</ln><a id="959">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;960</ln><a id="960">&nbsp;</a><a id="n444609"><a id="n444612"><a id="n444613"><a id="n444611"><a id="n444610">&nbsp;</a></a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(())</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;961</ln><a id="961">&nbsp;</a><a id="n444615"><a id="n444614"><a id="n444616"><a id="n444617">&nbsp;</a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#962">e</a></c20><c4>)</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;962</ln><a id="962">&nbsp;</a><a id="n444628"><a id="n444630"><a id="n444647"><a id="n444666"><a id="n444639"><a id="n444674"><a id="n444657"><a id="n444619"><a id="n444636"><a id="n444631"><a id="n444618"><a id="n444662"><a id="n444648"><a id="n444623"><a id="n444650"><a id="n444627"><a id="n444655"><a id="n444656"><a id="n444664"><a id="n444620"><a id="n444667"><a id="n444645"><a id="n444638"><a id="n444644"><a id="n444625"><a id="n444661"><a id="n444643"><a id="n444640"><a id="n444653"><a id="n444659"><a id="n444651"><a id="n444637"><a id="n444635"><a id="n444670"><a id="n444665"><a id="n444646"><a id="n444622"><a id="n444621"><a id="n444652"><a id="n444629"><a id="n444660"><a id="n444632"><a id="n444669"><a id="n444654"><a id="n444663"><a id="n444642"><a id="n444641"><a id="n444649"><a id="n444624"><a id="n444626"><a id="n444658"><a id="n444668">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/mod.rs.html#n164199">"failed&nbsp;to&nbsp;write&nbsp;compressed&nbsp;bytecode:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/mod.rs.html#n164199">"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n166021">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;963</ln><a id="963">&nbsp;</a><a id="n444676"><a id="n444675">&nbsp;</a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;964</ln><a id="964">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;965</ln><a id="965">&nbsp;</a>&nbsp;<c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;966</ln><a id="966">&nbsp;</a><a id="n444681"><a id="n444678"><a id="n444677"><a id="n444679"><a id="n444680"><a id="n444682">&nbsp;</a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#897">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#116">.add_file</a></c13><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#116">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#952">bc_deflated</a></c26><c3>,</c3><c13><a href="../../librustc/back/archive.rs.html#116">&nbsp;</a></c13><c12><a href="../../librustc/back/archive.rs.html#116">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;967</ln><a id="967">&nbsp;</a><a id="n444687"><a id="n444683"><a id="n444685"><a id="n444684"><a id="n444686"><a id="n444688">&nbsp;</a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#775">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c3>,</c3><c27><a href="#line892_col73_refs">&nbsp;</a></c27><c5><a href="#line892_col73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#952">bc_deflated</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;968</ln><a id="968">&nbsp;</a><a id="n444691"><a id="n444692"><a id="n444696"><a id="n444690"><a id="n444695"><a id="n444694"><a id="n444689"><a id="n444693">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c5><a href="#line892_col73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.save_temps</a></c24><c1><a href="#line892_col73_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;969</ln><a id="969">&nbsp;</a><a id="n444699"><a id="n444704"><a id="n444698"><a id="n444701"><a id="n444703"><a id="n444697"><a id="n444702"><a id="n444700">&nbsp;</a></a></a></a></a></a></a></a><c1><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#line892_col73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#135">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n56470">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56470">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeBitcode</a></c26><c4>)</c4><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;970</ln><a id="970">&nbsp;</a><a id="n444707"><a id="n444708"><a id="n444706"><a id="n444710"><a id="n444709"><a id="n444705">&nbsp;</a></a></a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#775">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c3>,</c3><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c5><a href="#line892_col73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#951">bc</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;971</ln><a id="971">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;972</ln><a id="972">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;973</ln><a id="973">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;After&nbsp;adding&nbsp;all&nbsp;files&nbsp;to&nbsp;the&nbsp;archive,&nbsp;we&nbsp;need&nbsp;to&nbsp;update&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;974</ln><a id="974">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbol&nbsp;table&nbsp;of&nbsp;the&nbsp;archive.&nbsp;This&nbsp;currently&nbsp;dies&nbsp;on&nbsp;OSX&nbsp;(see
</c40><br/><ln>&nbsp;&nbsp;975</ln><a id="975">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#11162),&nbsp;and&nbsp;isn't&nbsp;necessary&nbsp;there&nbsp;anyway
</c40><br/><ln>&nbsp;&nbsp;976</ln><a id="976">&nbsp;</a><a id="n444714"><a id="n444711"><a id="n444712"><a id="n444713">&nbsp;</a></a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#893">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;977</ln><a id="977">&nbsp;</a><a id="n444715"><a id="n444717"><a id="n444716">&nbsp;</a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c20><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;978</ln><a id="978">&nbsp;</a><a id="n444720"><a id="n444722"><a id="n444719"><a id="n444718"><a id="n444721"><a id="n444723">&nbsp;</a></a></a></a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#line892_col73_refs">_</a></c20><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#897">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#127">.update_symbols</a></c13><c4>()</c4><c3>;</c3><c22><a href="#line892_col73_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;979</ln><a id="979">&nbsp;</a>&nbsp;<c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;980</ln><a id="980">&nbsp;</a>&nbsp;<c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;981</ln><a id="981">&nbsp;</a>&nbsp;<c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;982</ln><a id="982">&nbsp;</a><a id="n444726"><a id="n444725"><a id="n444724">&nbsp;</a></a></a><c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line892_col73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line892_col73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;983</ln><a id="983">&nbsp;</a>&nbsp;<c21><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;984</ln><a id="984">&nbsp;</a><a id="n444728"><a id="n444729"><a id="n444727">&nbsp;</a></a></a><c22><a href="#line892_col73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#line892_col73_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#897">a</a></c26><c3>;</c3><c22><a href="#line892_col73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;985</ln><a id="985">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;986</ln><a id="986">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;&nbsp;987</ln><a id="987">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;a&nbsp;static&nbsp;archive
</c40><br/><ln>&nbsp;&nbsp;988</ln><a id="988">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;989</ln><a id="989">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;is&nbsp;essentially&nbsp;the&nbsp;same&nbsp;thing&nbsp;as&nbsp;an&nbsp;rlib,&nbsp;but&nbsp;it&nbsp;also&nbsp;involves&nbsp;adding
</c40><br/><ln>&nbsp;&nbsp;990</ln><a id="990">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;upstream&nbsp;crates'&nbsp;objects&nbsp;into&nbsp;the&nbsp;archive.&nbsp;This&nbsp;will&nbsp;slurp&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;991</ln><a id="991">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries&nbsp;of&nbsp;upstream&nbsp;dependencies&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;&nbsp;992</ln><a id="992">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;993</ln><a id="993">&nbsp;</a>&nbsp;<c40>//&nbsp;Additionally,&nbsp;there's&nbsp;no&nbsp;way&nbsp;for&nbsp;us&nbsp;to&nbsp;link&nbsp;dynamic&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;warn
</c40><br/><ln>&nbsp;&nbsp;994</ln><a id="994">&nbsp;</a>&nbsp;<c40>//&nbsp;about&nbsp;all&nbsp;dynamic&nbsp;library&nbsp;dependencies&nbsp;that&nbsp;they're&nbsp;not&nbsp;linked&nbsp;in.
</c40><br/><ln>&nbsp;&nbsp;995</ln><a id="995">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;&nbsp;996</ln><a id="996">&nbsp;</a>&nbsp;<c40>//&nbsp;There's&nbsp;no&nbsp;need&nbsp;to&nbsp;include&nbsp;metadata&nbsp;in&nbsp;a&nbsp;static&nbsp;archive,&nbsp;so&nbsp;ensure&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;997</ln><a id="997">&nbsp;</a>&nbsp;<c40>//&nbsp;link&nbsp;in&nbsp;the&nbsp;metadata&nbsp;object&nbsp;file&nbsp;(and&nbsp;also&nbsp;don't&nbsp;prepare&nbsp;the&nbsp;archive&nbsp;with&nbsp;a
</c40><br/><ln>&nbsp;&nbsp;998</ln><a id="998">&nbsp;</a><a id="n444730">&nbsp;</a><c40>//&nbsp;metadata&nbsp;file).
</c40><br/><ln>&nbsp;&nbsp;999</ln><a id="999">&nbsp;</a><a id="n444743"><a id="n444733"><a id="n444746"><a id="n444747"><a id="n444735"><a id="n444740"><a id="n444732"><a id="n444745"><a id="n444742"><a id="n444738"><a id="n444737">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#874">&nbsp;link_staticlib</a></c30><c4>(</c4><c20><a href="#line999_col18_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#874">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#874">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1000">obj_filename</a></c20><c1><a href="../../librustc/back/link.rs.html#874">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#874">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1000">out_filename</a></c20><c1><a href="../../librustc/back/link.rs.html#874">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#874">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1000</ln><a id="1000">&nbsp;</a><a id="n444753"><a id="n444750"><a id="n444757"><a id="n444749"><a id="n444754"><a id="n444751"><a id="n444752"><a id="n444755"><a id="n444756"><a id="n444748">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line1000_col8_refs">&nbsp;a</a></c20><c13><a href="../../librustc/back/link.rs.html#874">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#892">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#999">obj_filename</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#999">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1001</ln><a id="1001">&nbsp;</a><a id="n444762"><a id="n444758"><a id="n444759"><a id="n444761"><a id="n444760">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1000">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#874">"morestack"</a></c12><c4>)</c4><c10><a href="../../libstd/result.rs.html#n105323">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1002</ln><a id="1002">&nbsp;</a><a id="n444763"><a id="n444766"><a id="n444767"><a id="n444764"><a id="n444765">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1000">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#94">.add_native_library</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#874">"compiler-rt"</a></c12><c4>)</c4><c10><a href="../../libstd/result.rs.html#n105323">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1003</ln><a id="1003">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1004</ln><a id="1004">&nbsp;</a><a id="n444772"><a id="n444770"><a id="n444769"><a id="n444773"><a id="n444768"><a id="n444771"><a id="n444774"><a id="n444775">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1005">crates</a></c20><c13><a href="../../librustc/back/link.rs.html#874">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#874">
</a></c22><br/><ln>&nbsp;1005</ln><a id="1005">&nbsp;</a><a id="n444793"><a id="n444777"><a id="n444779"><a id="n444785"><a id="n444783"><a id="n444792"><a id="n444784"><a id="n444788"><a id="n444780"><a id="n444782"><a id="n444789"><a id="n444781"><a id="n444790"><a id="n444794"><a id="n444776"><a id="n444787"><a id="n444778"><a id="n444786"><a id="n444791">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#874">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1005">&amp;</a></c20><c4>(</c4><c20><a href="#line1005_col10_refs">cnum</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1007">ref&nbsp;path</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1004">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c20><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1006</ln><a id="1006">&nbsp;</a><a id="n444797"><a id="n444803"><a id="n444800"><a id="n444795"><a id="n444799"><a id="n444802"><a id="n444804"><a id="n444798"><a id="n444801"><a id="n444796">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c22><c20><a href="#line1006_col12_refs">name</a></c20><c16><a href="../../librustc/back/link.rs.html#1005">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1005">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1007</ln><a id="1007">&nbsp;</a><a id="n444808"><a id="n444810"><a id="n444807"><a id="n444811"><a id="n444805"><a id="n444809"><a id="n444806">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1013">p</a></c20><c16><a href="../../librustc/back/link.rs.html#1005">&nbsp;=&nbsp;</a></c16><c21><a href="../../librustc/back/link.rs.html#1005">match&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1005">*</a></c5><c26><a href="../../librustc/back/link.rs.html#1005">path</a></c26><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#1005">
</a></c21><br/><ln>&nbsp;1008</ln><a id="1008">&nbsp;</a><a id="n444815"><a id="n444814"><a id="n444818"><a id="n444816"><a id="n444812"><a id="n444817"><a id="n444813">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1008">ref&nbsp;p</a></c20><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1008">p</a></c26><c10><a href="../../libstd/path/posix.rs.html#n148581">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1009</ln><a id="1009">&nbsp;</a><a id="n444827"><a id="n444825"><a id="n444866"><a id="n444852"><a id="n444860"><a id="n444851"><a id="n444841"><a id="n444854"><a id="n444856"><a id="n444829"><a id="n444850"><a id="n444848"><a id="n444826"><a id="n444873"><a id="n444863"><a id="n444874"><a id="n444833"><a id="n444832"><a id="n444819"><a id="n444867"><a id="n444840"><a id="n444823"><a id="n444838"><a id="n444859"><a id="n444869"><a id="n444839"><a id="n444822"><a id="n444828"><a id="n444857"><a id="n444853"><a id="n444844"><a id="n444846"><a id="n444865"><a id="n444831"><a id="n444830"><a id="n444872"><a id="n444862"><a id="n444847"><a id="n444837"><a id="n444878"><a id="n444843"><a id="n444870"><a id="n444820"><a id="n444864"><a id="n444861"><a id="n444855"><a id="n444845"><a id="n444821"><a id="n444858"><a id="n444871"><a id="n444824"><a id="n444849"><a id="n444836"><a id="n444868"><a id="n444842">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c21><a href="../../librustc/back/link.rs.html#1005">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n164002">"could&nbsp;not&nbsp;find&nbsp;rlib&nbsp;for:&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n164002">`"</a></c26><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1009">name</a></c5><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1010</ln><a id="1010">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue
</a></c22><br/><ln>&nbsp;1011</ln><a id="1011">&nbsp;</a><a id="n444879">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1005">
</a></c21><br/><ln>&nbsp;1012</ln><a id="1012">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1013</ln><a id="1013">&nbsp;</a><a id="n444881"><a id="n444885"><a id="n444886"><a id="n444882"><a id="n444880"><a id="n444888"><a id="n444883"><a id="n444887"><a id="n444884">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1000">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#104">.add_rlib</a></c10><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#104">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1007">p</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#104">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1006">name</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#104">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#313">.lto</a></c10><c4>())</c4><c13><a href="../../libstd/result.rs.html#n105323">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1014</ln><a id="1014">&nbsp;</a><a id="n444894"><a id="n444891"><a id="n444895"><a id="n444893"><a id="n444892"><a id="n444896"><a id="n444898"><a id="n444897"><a id="n444890"><a id="n444889">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1015">native_libs</a></c20><c13><a href="../../librustc/back/link.rs.html#1005">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/csearch.rs.html#240">csearch::get_native_libraries</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1005">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1005">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1005">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1005">
</a></c22><br/><ln>&nbsp;1015</ln><a id="1015">&nbsp;</a><a id="n444906"><a id="n444909"><a id="n444901"><a id="n444912"><a id="n444904"><a id="n444916"><a id="n444917"><a id="n444902"><a id="n444907"><a id="n444913"><a id="n444900"><a id="n444910"><a id="n444915"><a id="n444903"><a id="n444914"><a id="n444899"><a id="n444908"><a id="n444911"><a id="n444905">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1005">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c22><c20><a href="../../libstd/option.rs.html#n102619">&amp;</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1016">kind</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1021">ref&nbsp;lib</a></c20><c4>)</c4><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;in&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">native_libs</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c22><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1016</ln><a id="1016">&nbsp;</a><a id="n444923"><a id="n444920"><a id="n444918"><a id="n444921"><a id="n444922"><a id="n444919">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1021">name</a></c20><c16><a href="../../libstd/option.rs.html#n102619">&nbsp;=&nbsp;</a></c16><c21><a href="../../libstd/option.rs.html#n102619">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1015">kind</a></c26><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/option.rs.html#n102619">
</a></c21><br/><ln>&nbsp;1017</ln><a id="1017">&nbsp;</a><a id="n444925"><a id="n444924">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n102619">"</a></c12><c36>static</c36><c36><a href="../../libstd/option.rs.html#n102619">&nbsp;library"</a></c36><c36>,</c36><c36><a href="../../libstd/option.rs.html#n102619">
</a></c36><br/><ln>&nbsp;1018</ln><a id="1018">&nbsp;</a><a id="n444927"><a id="n444926">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n102619">"library"</a></c12><c3>,</c3><c21><a href="../../libstd/option.rs.html#n102619">
</a></c21><br/><ln>&nbsp;1019</ln><a id="1019">&nbsp;</a><a id="n444929"><a id="n444928">&nbsp;</a></a><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c12><a href="../../libstd/option.rs.html#n102619">"framework"</a></c12><c3>,</c3><c21><a href="../../libstd/option.rs.html#n102619">
</a></c21><br/><ln>&nbsp;1020</ln><a id="1020">&nbsp;</a>&nbsp;<c21><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1021</ln><a id="1021">&nbsp;</a><a id="n444967"><a id="n445003"><a id="n444942"><a id="n444993"><a id="n445004"><a id="n444968"><a id="n445000"><a id="n444943"><a id="n444940"><a id="n444934"><a id="n444937"><a id="n444955"><a id="n444946"><a id="n444953"><a id="n444977"><a id="n444930"><a id="n444959"><a id="n444970"><a id="n444999"><a id="n445002"><a id="n444932"><a id="n444971"><a id="n444936"><a id="n444938"><a id="n444997"><a id="n444952"><a id="n444951"><a id="n444958"><a id="n444984"><a id="n444947"><a id="n444992"><a id="n444979"><a id="n444965"><a id="n444980"><a id="n444945"><a id="n444956"><a id="n444989"><a id="n444985"><a id="n444978"><a id="n444988"><a id="n444983"><a id="n444933"><a id="n444957"><a id="n444941"><a id="n444982"><a id="n444963"><a id="n444974"><a id="n444973"><a id="n444987"><a id="n444962"><a id="n444939"><a id="n444994"><a id="n444996"><a id="n444964"><a id="n444944"><a id="n444995"><a id="n444931"><a id="n444969"><a id="n444972"><a id="n444976"><a id="n444975"><a id="n444990"><a id="n444966"><a id="n444981"><a id="n444935"><a id="n444998"><a id="n444991"><a id="n444954"><a id="n444948"><a id="n445008"><a id="n444961"><a id="n445001"><a id="n444986"><a id="n444960">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#999">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#228">.warn</a></c10><c4>(</c4><c21><a href="../../libstd/option.rs.html#n102619">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164024">"unlinked&nbsp;native&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164024">:&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164024">"</a></c1><c3>,</c3><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1021">name</a></c5><c3>,</c3><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#1021">*</a></c27><c26><a href="../../librustc/back/link.rs.html#1015">lib</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1022</ln><a id="1022">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;1023</ln><a id="1023">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n102619">
</a></c20><br/><ln>&nbsp;1024</ln><a id="1024">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1025</ln><a id="1025">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1026</ln><a id="1026">&nbsp;</a>&nbsp;<c40>//&nbsp;Create&nbsp;a&nbsp;dynamic&nbsp;library&nbsp;or&nbsp;executable
</c40><br/><ln>&nbsp;1027</ln><a id="1027">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1028</ln><a id="1028">&nbsp;</a>&nbsp;<c40>//&nbsp;This&nbsp;will&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker/cc&nbsp;to&nbsp;create&nbsp;the&nbsp;resulting&nbsp;file.&nbsp;This
</c40><br/><ln>&nbsp;1029</ln><a id="1029">&nbsp;</a><a id="n445009">&nbsp;</a><c40>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1030</ln><a id="1030">&nbsp;</a><a id="n445021"><a id="n445023"><a id="n445012"><a id="n445018"><a id="n445014"><a id="n445011"><a id="n445016"><a id="n445020">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="#line1029_col40_refs">&nbsp;link_natively</a></c30><c4>(</c4><c20><a href="#line1030_col17_refs">sess</a></c20><c1><a href="#line1029_col40_refs">:&nbsp;</a></c1><c8><a href="#line1029_col40_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="#line1029_col40_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1036">dylib</a></c20><c1><a href="#line1029_col40_refs">:&nbsp;</a></c1><c8><a href="#line1029_col40_refs">bool</a></c8><c3>,</c3><c1><a href="#line1029_col40_refs">&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1037">obj_filename</a></c20><c1><a href="#line1029_col40_refs">:&nbsp;</a></c1><c8><a href="#line1029_col40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="#line1029_col40_refs">
</a></c1><br/><ln>&nbsp;1031</ln><a id="1031">&nbsp;</a><a id="n445030"><a id="n445029"><a id="n445026"><a id="n445025"><a id="n445028">&nbsp;</a></a></a></a></a><c1><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line1031_col17_refs">out_filename</a></c20><c1><a href="#line1029_col40_refs">:&nbsp;</a></c1><c8><a href="#line1029_col40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="#line1029_col40_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1032</ln><a id="1032">&nbsp;</a><a id="n445038"><a id="n445034"><a id="n445036"><a id="n445037"><a id="n445039"><a id="n445035"><a id="n445032"><a id="n445031"><a id="n445033">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1036">tmpdir</a></c20><c13><a href="#line1029_col40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/io/tempfile.rs.html#n133151">TempDir::new</a></c26><c4>(</c4><c12><a href="#line1029_col40_refs">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n103330">.expect</a></c10><c4>(</c4><c12><a href="#line1029_col40_refs">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1033</ln><a id="1033">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;invocations&nbsp;of&nbsp;cc&nbsp;share&nbsp;some&nbsp;flags&nbsp;across&nbsp;platforms
</c40><br/><ln>&nbsp;1034</ln><a id="1034">&nbsp;</a><a id="n445043"><a id="n445041"><a id="n445040"><a id="n445045"><a id="n445044"><a id="n445046"><a id="n445042">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c20><a href="#line1034_col8_refs">cc_prog</a></c20><c13><a href="#line1029_col40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#729">get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1035</ln><a id="1035">&nbsp;</a><a id="n445052"><a id="n445047"><a id="n445049"><a id="n445054"><a id="n445053"><a id="n445048"><a id="n445051"><a id="n445050"><a id="n445055">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line1035_col8_refs">&nbsp;cc_args</a></c20><c16><a href="#line1029_col40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#18">.cc_args</a></c24><c10><a href="../../libstd/vec.rs.html#n54750">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1036</ln><a id="1036">&nbsp;</a><a id="n445063"><a id="n445058"><a id="n445061"><a id="n445064"><a id="n445057"><a id="n445059"><a id="n445060"><a id="n445062"><a id="n445056">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1035">cc_args</a></c26><c13><a href="../../libstd/vec.rs.html#n56064">.push_all_move</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1081">link_args</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56064">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1030">dylib</a></c26><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56064">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1032">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n133183">.path</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56064">
</a></c27><br/><ln>&nbsp;1037</ln><a id="1037">&nbsp;</a><a id="n445065"><a id="n445066">&nbsp;</a></a><c27><a href="../../libstd/vec.rs.html#n56064">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1030">obj_filename</a></c26><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56064">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1031">out_filename</a></c26><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1038</ln><a id="1038">&nbsp;</a><a id="n445068"><a id="n445072"><a id="n445076"><a id="n445070"><a id="n445071"><a id="n445069"><a id="n445067"><a id="n445074"><a id="n445077"><a id="n445073"><a id="n445075">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#151">.debugging_opts</a></c24><c5><a href="#line1029_col40_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#46">session::PRINT_LINK_ARGS</a></c26><c4>)</c4><c5><a href="#line1029_col40_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#line1029_col40_refs">0</a></c12><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1039</ln><a id="1039">&nbsp;</a><a id="n445134"><a id="n445095"><a id="n445139"><a id="n445123"><a id="n445083"><a id="n445125"><a id="n445128"><a id="n445086"><a id="n445114"><a id="n445101"><a id="n445147"><a id="n445138"><a id="n445091"><a id="n445130"><a id="n445150"><a id="n445089"><a id="n445107"><a id="n445111"><a id="n445110"><a id="n445119"><a id="n445135"><a id="n445092"><a id="n445079"><a id="n445106"><a id="n445117"><a id="n445140"><a id="n445120"><a id="n445151"><a id="n445113"><a id="n445105"><a id="n445085"><a id="n445099"><a id="n445144"><a id="n445122"><a id="n445129"><a id="n445148"><a id="n445102"><a id="n445142"><a id="n445112"><a id="n445082"><a id="n445100"><a id="n445093"><a id="n445087"><a id="n445094"><a id="n445145"><a id="n445103"><a id="n445115"><a id="n445149"><a id="n445078"><a id="n445127"><a id="n445141"><a id="n445155"><a id="n445116"><a id="n445131"><a id="n445088"><a id="n445098"><a id="n445109"><a id="n445126"><a id="n445104"><a id="n445081"><a id="n445090"><a id="n445146"><a id="n445133"><a id="n445132"><a id="n445143"><a id="n445137"><a id="n445124"><a id="n445084"><a id="n445118"><a id="n445121"><a id="n445136"><a id="n445108"><a id="n445080">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</a></c22><c4>(</c4><c14><a href="../../libstd/fmt/rt.rs.html#n164050">"</a></c14><c3>{}</c3><c14><a href="../../libstd/fmt/rt.rs.html#n164050">&nbsp;link&nbsp;args:&nbsp;'</a></c14><c3>{}</c3><c14><a href="../../libstd/fmt/rt.rs.html#n164050">'"</a></c14><c3>,</c3><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n164422">cc_prog</a></c26><c3>,</c3><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1035">cc_args</a></c26><c10><a href="../../libstd/str.rs.html#n57325">.connect</a></c10><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n166021">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1040</ln><a id="1040">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1041</ln><a id="1041">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1042</ln><a id="1042">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;May&nbsp;have&nbsp;not&nbsp;found&nbsp;libraries&nbsp;in&nbsp;the&nbsp;right&nbsp;formats.
</c40><br/><ln>&nbsp;1043</ln><a id="1043">&nbsp;</a><a id="n445156"><a id="n445158"><a id="n445157">&nbsp;</a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1044</ln><a id="1044">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1045</ln><a id="1045">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Invoke&nbsp;the&nbsp;system&nbsp;linker
</c40><br/><ln>&nbsp;1046</ln><a id="1046">&nbsp;</a><a id="n445244"><a id="n445201"><a id="n445236"><a id="n445237"><a id="n445226"><a id="n445249"><a id="n445242"><a id="n445224"><a id="n445223"><a id="n445251"><a id="n445228"><a id="n445221"><a id="n445256"><a id="n445225"><a id="n445234"><a id="n445232"><a id="n445215"><a id="n445261"><a id="n445279"><a id="n445217"><a id="n445207"><a id="n445235"><a id="n445231"><a id="n445198"><a id="n445254"><a id="n445208"><a id="n445202"><a id="n445203"><a id="n445241"><a id="n445196"><a id="n445233"><a id="n445257"><a id="n445211"><a id="n445253"><a id="n445214"><a id="n445252"><a id="n445227"><a id="n445200"><a id="n445219"><a id="n445245"><a id="n445197"><a id="n445255"><a id="n445250"><a id="n445238"><a id="n445246"><a id="n445239"><a id="n445218"><a id="n445248"><a id="n445264"><a id="n445230"><a id="n445209"><a id="n445206"><a id="n445262"><a id="n445210"><a id="n445243"><a id="n445222"><a id="n445260"><a id="n445220"><a id="n445216"><a id="n445205"><a id="n445240"><a id="n445229"><a id="n445199"><a id="n445259"><a id="n445263"><a id="n445258"><a id="n445204"><a id="n445247">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1046">"</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#1046">&nbsp;</a></c20><c3>{}</c3><c20><a href="../../librustc/back/link.rs.html#1046">"</a></c20><c3>,</c3><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c27><a href="../../librustc/back/link.rs.html#1046">cc_prog</a></c27><c3>,</c3><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1035">cc_args</a></c26><c5><a href="../../librustc/back/link.rs.html#1046">.connect</a></c5><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1046">"&nbsp;"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1047</ln><a id="1047">&nbsp;</a><a id="n445284"><a id="n445282"><a id="n445290"><a id="n445286"><a id="n445288"><a id="n445280"><a id="n445281"><a id="n445287"><a id="n445292"><a id="n445294"><a id="n445289"><a id="n445293"><a id="n445285"><a id="n445283">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1049">prog</a></c20><c16><a href="#line1029_col40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#line1029_col40_refs">&nbsp;</a></c27><c12><a href="#line1029_col40_refs">"running&nbsp;linker"</a></c12><c3>,</c3><c27><a href="#line1029_col40_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#line1029_col40_refs">&nbsp;</a></c27><c1><a href="#line1029_col40_refs">|</a></c1><c4>()</c4><c8><a href="#line1029_col40_refs">|</a></c8><c1><a href="#line1029_col40_refs">
</a></c1><br/><ln>&nbsp;1048</ln><a id="1048">&nbsp;</a><a id="n445300"><a id="n445298"><a id="n445296"><a id="n445299"><a id="n445301"><a id="n445295"><a id="n445297">&nbsp;</a></a></a></a></a></a></a><c1><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../libstd/io/process.rs.html#n140228">Process</a></c8><c26><a href="../../libstd/io/process.rs.html#n140228">::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1034">cc_prog</a></c26><c3>,</c3><c27><a href="#line1029_col40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1035">cc_args</a></c26><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1049</ln><a id="1049">&nbsp;</a><a id="n445303"><a id="n445302"><a id="n445304">&nbsp;</a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1047">prog</a></c26><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#line1029_col40_refs">
</a></c13><br/><ln>&nbsp;1050</ln><a id="1050">&nbsp;</a><a id="n445305"><a id="n445307"><a id="n445306"><a id="n445308">&nbsp;</a></a></a></a><c13><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="#line1050_col11_refs">prog</a></c20><c4>)</c4><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1051</ln><a id="1051">&nbsp;</a><a id="n445310"><a id="n445309"><a id="n445312"><a id="n445313"><a id="n445314"><a id="n445311">&nbsp;</a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c5><a href="#line1029_col40_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1050">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n140137">.success</a></c10><c4>()</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1052</ln><a id="1052">&nbsp;</a><a id="n445387"><a id="n445377"><a id="n445350"><a id="n445341"><a id="n445372"><a id="n445353"><a id="n445368"><a id="n445322"><a id="n445318"><a id="n445320"><a id="n445354"><a id="n445364"><a id="n445357"><a id="n445333"><a id="n445389"><a id="n445349"><a id="n445337"><a id="n445329"><a id="n445331"><a id="n445365"><a id="n445319"><a id="n445342"><a id="n445379"><a id="n445327"><a id="n445326"><a id="n445352"><a id="n445345"><a id="n445393"><a id="n445332"><a id="n445378"><a id="n445380"><a id="n445344"><a id="n445369"><a id="n445382"><a id="n445340"><a id="n445371"><a id="n445348"><a id="n445385"><a id="n445374"><a id="n445359"><a id="n445336"><a id="n445316"><a id="n445356"><a id="n445323"><a id="n445363"><a id="n445355"><a id="n445367"><a id="n445362"><a id="n445376"><a id="n445324"><a id="n445373"><a id="n445388"><a id="n445375"><a id="n445351"><a id="n445321"><a id="n445328"><a id="n445386"><a id="n445325"><a id="n445330"><a id="n445343"><a id="n445347"><a id="n445317"><a id="n445366"><a id="n445360"><a id="n445339"><a id="n445346"><a id="n445338"><a id="n445381"><a id="n445383"><a id="n445358"><a id="n445370"><a id="n445384"><a id="n445361"><a id="n445315">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="#line1029_col40_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/parse.rs.html#n160873">"linking&nbsp;with&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/parse.rs.html#n160873">`&nbsp;failed:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/parse.rs.html#n160873">"</a></c26><c3>,</c3><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1034">cc_prog</a></c26><c3>,</c3><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1050">prog</a></c26><c27><a href="../../libstd/io/process.rs.html#n139754">.status</a></c27><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1053</ln><a id="1053">&nbsp;</a><a id="n445410"><a id="n445406"><a id="n445467"><a id="n445468"><a id="n445394"><a id="n445438"><a id="n445446"><a id="n445402"><a id="n445458"><a id="n445430"><a id="n445459"><a id="n445420"><a id="n445447"><a id="n445440"><a id="n445465"><a id="n445395"><a id="n445434"><a id="n445419"><a id="n445396"><a id="n445450"><a id="n445408"><a id="n445407"><a id="n445437"><a id="n445455"><a id="n445416"><a id="n445433"><a id="n445462"><a id="n445424"><a id="n445452"><a id="n445404"><a id="n445439"><a id="n445436"><a id="n445413"><a id="n445403"><a id="n445425"><a id="n445422"><a id="n445461"><a id="n445457"><a id="n445431"><a id="n445451"><a id="n445398"><a id="n445409"><a id="n445411"><a id="n445464"><a id="n445423"><a id="n445405"><a id="n445469"><a id="n445443"><a id="n445453"><a id="n445463"><a id="n445441"><a id="n445418"><a id="n445421"><a id="n445429"><a id="n445435"><a id="n445397"><a id="n445401"><a id="n445417"><a id="n445454"><a id="n445442"><a id="n445428"><a id="n445426"><a id="n445427"><a id="n445448"><a id="n445466"><a id="n445473"><a id="n445399"><a id="n445432"><a id="n445449"><a id="n445412"><a id="n445460"><a id="n445445"><a id="n445444"><a id="n445456"><a id="n445400">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#240">.note</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#240">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n163993">"</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n163993">&nbsp;arguments:&nbsp;'</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n163993">'"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#240">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1034">cc_prog</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#240">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1035">cc_args</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n166021">.connect</a></c27><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1053">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1054</ln><a id="1054">&nbsp;</a><a id="n445476"><a id="n445475"><a id="n445480"><a id="n445479"><a id="n445478"><a id="n445477"><a id="n445474">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1029_col40_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line1054_col20_refs">&nbsp;output</a></c20><c13><a href="#line1029_col40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1050">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.error</a></c24><c10><a href="../../libstd/vec.rs.html#n54750">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1055</ln><a id="1055">&nbsp;</a><a id="n445485"><a id="n445481"><a id="n445483"><a id="n445484"><a id="n445486"><a id="n445482">&nbsp;</a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1054">output</a></c26><c10><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1050">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n139754">.output</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1056</ln><a id="1056">&nbsp;</a><a id="n445492"><a id="n445489"><a id="n445488"><a id="n445493"><a id="n445494"><a id="n445487"><a id="n445491"><a id="n445490"><a id="n445495">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#240">.note</a></c13><c4>(</c4><c26><a href="../../libstd/str.rs.html#n56915">str::from_utf8</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1054">output</a></c26><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1057</ln><a id="1057">&nbsp;</a><a id="n445498"><a id="n445496"><a id="n445497">&nbsp;</a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1058</ln><a id="1058">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1059</ln><a id="1059">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c13><a href="#line1029_col40_refs">
</a></c13><br/><ln>&nbsp;1060</ln><a id="1060">&nbsp;</a><a id="n445501"><a id="n445499"><a id="n445502"><a id="n445500">&nbsp;</a></a></a></a><c13><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1061">e</a></c20><c4>)</c4><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#line1029_col40_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1061</ln><a id="1061">&nbsp;</a><a id="n445574"><a id="n445512"><a id="n445513"><a id="n445532"><a id="n445541"><a id="n445511"><a id="n445505"><a id="n445571"><a id="n445580"><a id="n445537"><a id="n445535"><a id="n445517"><a id="n445536"><a id="n445564"><a id="n445527"><a id="n445542"><a id="n445552"><a id="n445509"><a id="n445526"><a id="n445573"><a id="n445570"><a id="n445561"><a id="n445553"><a id="n445519"><a id="n445557"><a id="n445538"><a id="n445528"><a id="n445572"><a id="n445504"><a id="n445520"><a id="n445565"><a id="n445525"><a id="n445508"><a id="n445514"><a id="n445543"><a id="n445515"><a id="n445506"><a id="n445556"><a id="n445559"><a id="n445548"><a id="n445560"><a id="n445554"><a id="n445516"><a id="n445510"><a id="n445507"><a id="n445518"><a id="n445569"><a id="n445503"><a id="n445566"><a id="n445540"><a id="n445549"><a id="n445550"><a id="n445544"><a id="n445546"><a id="n445568"><a id="n445534"><a id="n445562"><a id="n445575"><a id="n445558"><a id="n445547"><a id="n445576"><a id="n445531"><a id="n445563"><a id="n445551"><a id="n445529"><a id="n445533"><a id="n445524"><a id="n445567"><a id="n445539"><a id="n445523"><a id="n445530"><a id="n445545"><a id="n445555">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164052">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164052">`:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164052">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1061">cc_prog</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c27><a href="../../librustc/back/link.rs.html#1061">e</a></c27><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1062</ln><a id="1062">&nbsp;</a><a id="n445583"><a id="n445581"><a id="n445582">&nbsp;</a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1063</ln><a id="1063">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#line1029_col40_refs">
</a></c13><br/><ln>&nbsp;1064</ln><a id="1064">&nbsp;</a>&nbsp;<c13><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1065</ln><a id="1065">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1066</ln><a id="1066">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1067</ln><a id="1067">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;OSX,&nbsp;debuggers&nbsp;need&nbsp;this&nbsp;utility&nbsp;to&nbsp;get&nbsp;run&nbsp;to&nbsp;do&nbsp;some&nbsp;munging&nbsp;of
</c40><br/><ln>&nbsp;1068</ln><a id="1068">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;symbols
</c40><br/><ln>&nbsp;1069</ln><a id="1069">&nbsp;</a><a id="n445592"><a id="n445591"><a id="n445593"><a id="n445587"><a id="n445585"><a id="n445584"><a id="n445596"><a id="n445589"><a id="n445588"><a id="n445590"><a id="n445594"><a id="n445586"><a id="n445597"><a id="n445595">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#line1029_col40_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c26><c1><a href="#line1029_col40_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.debuginfo</a></c24><c5><a href="#line1029_col40_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#120">NoDebugInfo</a></c26><c4>)</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1070</ln><a id="1070">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1071</ln><a id="1071">&nbsp;</a><a id="n445598"><a id="n445599"><a id="n445600"><a id="n445601">&nbsp;</a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n140259">Process::status</a></c26><c4>(</c4><c12><a href="#line1029_col40_refs">"dsymutil"</a></c12><c3>,</c3><c27><a href="#line1029_col40_refs">
</a></c27><br/><ln>&nbsp;1072</ln><a id="1072">&nbsp;</a><a id="n445604"><a id="n445605"><a id="n445603"><a id="n445602"><a id="n445606">&nbsp;</a></a></a></a></a><c27><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#1031">out_filename</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#line1029_col40_refs">
</a></c21><br/><ln>&nbsp;1073</ln><a id="1073">&nbsp;</a><a id="n445607"><a id="n445608"><a id="n445609">&nbsp;</a></a></a><c21><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n104077">..</a></c20><c4>)</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#line1029_col40_refs">
</a></c21><br/><ln>&nbsp;1074</ln><a id="1074">&nbsp;</a><a id="n445610"><a id="n445612"><a id="n445611"><a id="n445613">&nbsp;</a></a></a></a><c21><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1075">e</a></c20><c4>)</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#line1029_col40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1075</ln><a id="1075">&nbsp;</a><a id="n445636"><a id="n445641"><a id="n445654"><a id="n445622"><a id="n445664"><a id="n445615"><a id="n445655"><a id="n445651"><a id="n445657"><a id="n445665"><a id="n445625"><a id="n445633"><a id="n445639"><a id="n445659"><a id="n445642"><a id="n445632"><a id="n445627"><a id="n445646"><a id="n445652"><a id="n445643"><a id="n445653"><a id="n445658"><a id="n445650"><a id="n445649"><a id="n445631"><a id="n445661"><a id="n445621"><a id="n445616"><a id="n445647"><a id="n445640"><a id="n445626"><a id="n445614"><a id="n445620"><a id="n445617"><a id="n445660"><a id="n445656"><a id="n445638"><a id="n445645"><a id="n445635"><a id="n445619"><a id="n445648"><a id="n445637"><a id="n445624"><a id="n445634"><a id="n445670"><a id="n445666"><a id="n445662"><a id="n445623"><a id="n445663"><a id="n445618"><a id="n445644"><a id="n445628">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n163992">"failed&nbsp;to&nbsp;run&nbsp;dsymutil:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n163992">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1075">e</a></c5><c4>))</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1076</ln><a id="1076">&nbsp;</a><a id="n445672"><a id="n445673"><a id="n445671">&nbsp;</a></a></a><c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1030">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1077</ln><a id="1077">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line1029_col40_refs">
</a></c21><br/><ln>&nbsp;1078</ln><a id="1078">&nbsp;</a>&nbsp;<c21><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1079</ln><a id="1079">&nbsp;</a>&nbsp;<c22><a href="#line1029_col40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line1029_col40_refs">
</a></c22><br/><ln>&nbsp;1080</ln><a id="1080">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1081</ln><a id="1081">&nbsp;</a><a id="n445674">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1082</ln><a id="1082">&nbsp;</a><a id="n445677"><a id="n445679"><a id="n445676">&nbsp;</a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1036">&nbsp;link_args</a></c30><c4>(</c4><c20><a href="#line1082_col13_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1036">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1083</ln><a id="1083">&nbsp;</a><a id="n445683"><a id="n445681">&nbsp;</a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line1083_col13_refs">dylib</a></c20><c1><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1036">bool</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1084</ln><a id="1084">&nbsp;</a><a id="n445686"><a id="n445685"><a id="n445688">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1226">tmpdir</a></c20><c1><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1036">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1085</ln><a id="1085">&nbsp;</a><a id="n445693"><a id="n445690"><a id="n445691">&nbsp;</a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line1085_col13_refs">obj_filename</a></c20><c1><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1036">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1086</ln><a id="1086">&nbsp;</a><a id="n445704"><a id="n445698"><a id="n445702"><a id="n445695"><a id="n445699"><a id="n445701"><a id="n445696">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#line1086_col13_refs">out_filename</a></c20><c1><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1036">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;~str&gt;</a></c8><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1087</ln><a id="1087">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1088</ln><a id="1088">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;default&nbsp;library&nbsp;location,&nbsp;we&nbsp;need&nbsp;this&nbsp;to&nbsp;find&nbsp;the&nbsp;runtime.
</c40><br/><ln>&nbsp;1089</ln><a id="1089">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;location&nbsp;of&nbsp;crates&nbsp;will&nbsp;be&nbsp;determined&nbsp;as&nbsp;needed.
</c40><br/><ln>&nbsp;1090</ln><a id="1090">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1091</ln><a id="1091">&nbsp;</a><a id="n445705"><a id="n445710"><a id="n445706"><a id="n445708"><a id="n445709"><a id="n445711"><a id="n445707">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1092">lib_path</a></c20><c16><a href="../../librustc/back/link.rs.html#1036">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#322">.filesearch</a></c10><c4>()</c4><c10><a href="../../librustc/metadata/filesearch.rs.html#85">.get_target_lib_path</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1092</ln><a id="1092">&nbsp;</a><a id="n445722"><a id="n445713"><a id="n445717"><a id="n445714"><a id="n445719"><a id="n445715"><a id="n445723"><a id="n445721"><a id="n445712"><a id="n445720"><a id="n445718">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1094">stage</a></c20><c13><a href="../../librustc/back/link.rs.html#1036">:&nbsp;</a></c13><c8><a href="../../librustc/back/link.rs.html#1036">~str</a></c8><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;=&nbsp;</a></c13><c12><a href="../../libstd/str.rs.html#n64748">"-L"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1091">lib_path</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1093</ln><a id="1093">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1094</ln><a id="1094">&nbsp;</a><a id="n445726"><a id="n445725"><a id="n445728"><a id="n445727"><a id="n445739"><a id="n445724">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line1094_col8_refs">&nbsp;args</a></c20><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;=&nbsp;</a></c13><c22><a href="../../librustc/back/link.rs.html#1036">vec!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1092">stage</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1095</ln><a id="1095">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1096</ln><a id="1096">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1097</ln><a id="1097">&nbsp;</a><a id="n445744"><a id="n445743"><a id="n445742"><a id="n445741">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c13><c4>(</c4><c3>[</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1098</ln><a id="1098">&nbsp;</a><a id="n445746"><a id="n445750"><a id="n445748"><a id="n445745"><a id="n445749"><a id="n445747">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="../../libstd/str.rs.html#n64748">"-o"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1086">out_filename</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1036">
</a></c1><br/><ln>&nbsp;1099</ln><a id="1099">&nbsp;</a><a id="n445752"><a id="n445751"><a id="n445754"><a id="n445753">&nbsp;</a></a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1085">obj_filename</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1100</ln><a id="1100">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1101</ln><a id="1101">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Stack&nbsp;growth&nbsp;requires&nbsp;statically&nbsp;linking&nbsp;a&nbsp;__morestack&nbsp;function.&nbsp;Note
</c40><br/><ln>&nbsp;1102</ln><a id="1102">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;this&nbsp;is&nbsp;listed&nbsp;*before*&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;even&nbsp;though&nbsp;it&nbsp;may&nbsp;be
</c40><br/><ln>&nbsp;1103</ln><a id="1103">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;in&nbsp;other&nbsp;libraries.&nbsp;The&nbsp;only&nbsp;case&nbsp;that&nbsp;this
</c40><br/><ln>&nbsp;1104</ln><a id="1104">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;wouldn't&nbsp;be&nbsp;pulled&nbsp;in&nbsp;by&nbsp;the&nbsp;object&nbsp;file&nbsp;is&nbsp;if&nbsp;the&nbsp;object&nbsp;file&nbsp;had&nbsp;no
</c40><br/><ln>&nbsp;1105</ln><a id="1105">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;functions.
</c40><br/><ln>&nbsp;1106</ln><a id="1106">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1107</ln><a id="1107">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;building&nbsp;an&nbsp;executable,&nbsp;there&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;function&nbsp;(the
</c40><br/><ln>&nbsp;1108</ln><a id="1108">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;main&nbsp;function),&nbsp;and&nbsp;if&nbsp;we're&nbsp;building&nbsp;a&nbsp;dylib&nbsp;then&nbsp;we&nbsp;don't&nbsp;need&nbsp;it&nbsp;for
</c40><br/><ln>&nbsp;1109</ln><a id="1109">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;later&nbsp;libraries&nbsp;because&nbsp;they're&nbsp;all&nbsp;dylibs&nbsp;(not&nbsp;rlibs).
</c40><br/><ln>&nbsp;1110</ln><a id="1110">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1111</ln><a id="1111">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;I'm&nbsp;honestly&nbsp;not&nbsp;entirely&nbsp;sure&nbsp;why&nbsp;this&nbsp;needs&nbsp;to&nbsp;come&nbsp;first.&nbsp;Apparently
</c40><br/><ln>&nbsp;1112</ln><a id="1112">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;--as-needed&nbsp;flag&nbsp;above&nbsp;sometimes&nbsp;strips&nbsp;out&nbsp;libstd&nbsp;from&nbsp;the&nbsp;command
</c40><br/><ln>&nbsp;1113</ln><a id="1113">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;line,&nbsp;but&nbsp;inserting&nbsp;this&nbsp;farther&nbsp;to&nbsp;the&nbsp;left&nbsp;makes&nbsp;the
</c40><br/><ln>&nbsp;1114</ln><a id="1114">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;"rust_stack_exhausted"&nbsp;symbol&nbsp;an&nbsp;outstanding&nbsp;undefined&nbsp;symbol,&nbsp;which
</c40><br/><ln>&nbsp;1115</ln><a id="1115">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;flags&nbsp;libstd&nbsp;as&nbsp;a&nbsp;required&nbsp;library&nbsp;(or&nbsp;whatever&nbsp;provides&nbsp;the&nbsp;symbol).
</c40><br/><ln>&nbsp;1116</ln><a id="1116">&nbsp;</a><a id="n445755"><a id="n445759"><a id="n445756"><a id="n445757"><a id="n445758">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-lmorestack"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1117</ln><a id="1117">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1118</ln><a id="1118">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;linking&nbsp;a&nbsp;dynamic&nbsp;library,&nbsp;we&nbsp;put&nbsp;the&nbsp;metadata&nbsp;into&nbsp;a&nbsp;section&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1119</ln><a id="1119">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;executable.&nbsp;This&nbsp;metadata&nbsp;is&nbsp;in&nbsp;a&nbsp;separate&nbsp;object&nbsp;file&nbsp;from&nbsp;the&nbsp;main
</c40><br/><ln>&nbsp;1120</ln><a id="1120">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;object&nbsp;file,&nbsp;so&nbsp;we&nbsp;link&nbsp;that&nbsp;in&nbsp;here.
</c40><br/><ln>&nbsp;1121</ln><a id="1121">&nbsp;</a><a id="n445760"><a id="n445761"><a id="n445763"><a id="n445762">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1083">dylib</a></c26><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1122</ln><a id="1122">&nbsp;</a><a id="n445764"><a id="n445767"><a id="n445766"><a id="n445770"><a id="n445768"><a id="n445769"><a id="n445765">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1123">metadata</a></c20><c16><a href="../../librustc/back/link.rs.html#1036">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1085">obj_filename</a></c26><c10><nop>.with_extension</nop></c10><c4>(</c4><c12><nop>"metadata.o"</nop></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1123</ln><a id="1123">&nbsp;</a><a id="n445774"><a id="n445777"><a id="n445775"><a id="n445776"><a id="n445772"><a id="n445771"><a id="n445773">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1122">metadata</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1124</ln><a id="1124">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1125</ln><a id="1125">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1126</ln><a id="1126">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;want&nbsp;to&nbsp;prevent&nbsp;the&nbsp;compiler&nbsp;from&nbsp;accidentally&nbsp;leaking&nbsp;in&nbsp;any&nbsp;system
</c40><br/><ln>&nbsp;1127</ln><a id="1127">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;explicitly&nbsp;ask&nbsp;gcc&nbsp;to&nbsp;not&nbsp;link&nbsp;to&nbsp;any&nbsp;libraries&nbsp;by
</c40><br/><ln>&nbsp;1128</ln><a id="1128">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;default.&nbsp;Note&nbsp;that&nbsp;this&nbsp;does&nbsp;not&nbsp;happen&nbsp;for&nbsp;windows&nbsp;because&nbsp;windows&nbsp;pulls
</c40><br/><ln>&nbsp;1129</ln><a id="1129">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;in&nbsp;some&nbsp;large&nbsp;number&nbsp;of&nbsp;libraries&nbsp;and&nbsp;I&nbsp;couldn't&nbsp;quite&nbsp;figure&nbsp;out&nbsp;which
</c40><br/><ln>&nbsp;1130</ln><a id="1130">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;subset&nbsp;we&nbsp;wanted.
</c40><br/><ln>&nbsp;1131</ln><a id="1131">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1132</ln><a id="1132">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME(#11937)&nbsp;we&nbsp;should&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker&nbsp;directly
</c40><br/><ln>&nbsp;1133</ln><a id="1133">&nbsp;</a><a id="n445779"><a id="n445783"><a id="n445780"><a id="n445785"><a id="n445782"><a id="n445781"><a id="n445778"><a id="n445784">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14733">abi::OsWin32</a></c26><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1134</ln><a id="1134">&nbsp;</a><a id="n445787"><a id="n445789"><a id="n445786"><a id="n445790"><a id="n445788">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-nodefaultlibs"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1135</ln><a id="1135">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1136</ln><a id="1136">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1137</ln><a id="1137">&nbsp;</a><a id="n445791"><a id="n445796"><a id="n445794"><a id="n445792"><a id="n445797"><a id="n445798"><a id="n445793"><a id="n445795">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14735">abi::OsLinux</a></c26><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1138</ln><a id="1138">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;will&nbsp;use&nbsp;this&nbsp;to&nbsp;omit&nbsp;linking&nbsp;to&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1139</ln><a id="1139">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;don't&nbsp;actually&nbsp;fulfill&nbsp;any&nbsp;relocations,&nbsp;but&nbsp;only&nbsp;for&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1140</ln><a id="1140">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;follow&nbsp;this&nbsp;flag.&nbsp;Thus,&nbsp;use&nbsp;it&nbsp;before&nbsp;specifying&nbsp;libraries&nbsp;to&nbsp;link&nbsp;to.
</c40><br/><ln>&nbsp;1141</ln><a id="1141">&nbsp;</a><a id="n445799"><a id="n445800"><a id="n445801"><a id="n445803"><a id="n445802">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n55328">--as-needed"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1142</ln><a id="1142">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1143</ln><a id="1143">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;support&nbsp;optimization&nbsp;with&nbsp;-O.&nbsp;--gc-sections
</c40><br/><ln>&nbsp;1144</ln><a id="1144">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;removes&nbsp;metadata&nbsp;and&nbsp;potentially&nbsp;other&nbsp;useful&nbsp;things,&nbsp;so&nbsp;don't
</c40><br/><ln>&nbsp;1145</ln><a id="1145">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;include&nbsp;it.&nbsp;GNU&nbsp;ld&nbsp;doesn't&nbsp;need&nbsp;a&nbsp;numeric&nbsp;argument,&nbsp;but&nbsp;other&nbsp;linkers
</c40><br/><ln>&nbsp;1146</ln><a id="1146">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;do.
</c40><br/><ln>&nbsp;1147</ln><a id="1147">&nbsp;</a><a id="n445807"><a id="n445810"><a id="n445808"><a id="n445804"><a id="n445805"><a id="n445806"><a id="n445809">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#114">session::Default</a></c26><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;||
</a></c1><br/><ln>&nbsp;1148</ln><a id="1148">&nbsp;</a><a id="n445813"><a id="n445816"><a id="n445811"><a id="n445814"><a id="n445812"><a id="n445815">&nbsp;</a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#132">.optimize</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#115">session::Aggressive</a></c26><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1149</ln><a id="1149">&nbsp;</a><a id="n445819"><a id="n445821"><a id="n445817"><a id="n445818"><a id="n445820">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1036">"-Wl</a></c12><c3>,</c3><c12><a href="../../librustc/back/link.rs.html#1036">-O1"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1150</ln><a id="1150">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1151</ln><a id="1151">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1152</ln><a id="1152">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1153</ln><a id="1153">&nbsp;</a><a id="n445829"><a id="n445824"><a id="n445827"><a id="n445823"><a id="n445826"><a id="n445822"><a id="n445825"><a id="n445828">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14733">abi::OsWin32</a></c26><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1154</ln><a id="1154">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;we&nbsp;link&nbsp;to&nbsp;the&nbsp;dynamic&nbsp;libgcc,&nbsp;otherwise&nbsp;cross-module
</c40><br/><ln>&nbsp;1155</ln><a id="1155">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;DWARF&nbsp;stack&nbsp;unwinding&nbsp;will&nbsp;not&nbsp;work.
</c40><br/><ln>&nbsp;1156</ln><a id="1156">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;behavior&nbsp;may&nbsp;be&nbsp;overridden&nbsp;by&nbsp;--link-args&nbsp;"-static-libgcc"
</c40><br/><ln>&nbsp;1157</ln><a id="1157">&nbsp;</a><a id="n445834"><a id="n445833"><a id="n445832"><a id="n445830"><a id="n445831">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-shared-libgcc"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1158</ln><a id="1158">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1159</ln><a id="1159">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;And&nbsp;here,&nbsp;we&nbsp;see&nbsp;obscure&nbsp;linker&nbsp;flags&nbsp;#45.&nbsp;On&nbsp;windows,&nbsp;it&nbsp;has&nbsp;been
</c40><br/><ln>&nbsp;1160</ln><a id="1160">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;found&nbsp;to&nbsp;be&nbsp;necessary&nbsp;to&nbsp;have&nbsp;this&nbsp;flag&nbsp;to&nbsp;compile&nbsp;liblibc.
</c40><br/><ln>&nbsp;1161</ln><a id="1161">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1162</ln><a id="1162">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;First&nbsp;a&nbsp;bit&nbsp;of&nbsp;background.&nbsp;On&nbsp;Windows,&nbsp;the&nbsp;file&nbsp;format&nbsp;is&nbsp;not&nbsp;ELF,
</c40><br/><ln>&nbsp;1163</ln><a id="1163">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;but&nbsp;COFF&nbsp;(at&nbsp;least&nbsp;according&nbsp;to&nbsp;LLVM).&nbsp;COFF&nbsp;doesn't&nbsp;officially&nbsp;allow
</c40><br/><ln>&nbsp;1164</ln><a id="1164">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;for&nbsp;section&nbsp;names&nbsp;over&nbsp;8&nbsp;characters,&nbsp;apparently.&nbsp;Our&nbsp;metadata
</c40><br/><ln>&nbsp;1165</ln><a id="1165">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;section,&nbsp;".note.rustc",&nbsp;you'll&nbsp;note&nbsp;is&nbsp;over&nbsp;8&nbsp;characters.
</c40><br/><ln>&nbsp;1166</ln><a id="1166">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1167</ln><a id="1167">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;more&nbsp;recent&nbsp;versions&nbsp;of&nbsp;gcc&nbsp;on&nbsp;mingw,&nbsp;apparently&nbsp;the&nbsp;section&nbsp;name
</c40><br/><ln>&nbsp;1168</ln><a id="1168">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;is&nbsp;*not*&nbsp;truncated,&nbsp;but&nbsp;rather&nbsp;stored&nbsp;elsewhere&nbsp;in&nbsp;a&nbsp;separate&nbsp;lookup
</c40><br/><ln>&nbsp;1169</ln><a id="1169">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;table.&nbsp;On&nbsp;older&nbsp;versions&nbsp;of&nbsp;gcc,&nbsp;they&nbsp;apparently&nbsp;always&nbsp;truncated&nbsp;the
</c40><br/><ln>&nbsp;1170</ln><a id="1170">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;section&nbsp;names&nbsp;(at&nbsp;least&nbsp;in&nbsp;some&nbsp;cases).&nbsp;Truncating&nbsp;the&nbsp;section&nbsp;name
</c40><br/><ln>&nbsp;1171</ln><a id="1171">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;actually&nbsp;creates&nbsp;"invalid"&nbsp;objects&nbsp;[1]&nbsp;[2],&nbsp;but&nbsp;only&nbsp;for&nbsp;some
</c40><br/><ln>&nbsp;1172</ln><a id="1172">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;introspection&nbsp;tools,&nbsp;not&nbsp;in&nbsp;terms&nbsp;of&nbsp;whether&nbsp;it&nbsp;can&nbsp;be&nbsp;loaded.
</c40><br/><ln>&nbsp;1173</ln><a id="1173">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1174</ln><a id="1174">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Long&nbsp;story&nbsp;shory,&nbsp;passing&nbsp;this&nbsp;flag&nbsp;forces&nbsp;the&nbsp;linker&nbsp;to&nbsp;*not*
</c40><br/><ln>&nbsp;1175</ln><a id="1175">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;truncate&nbsp;section&nbsp;names&nbsp;(so&nbsp;we&nbsp;can&nbsp;find&nbsp;the&nbsp;metadata&nbsp;section&nbsp;after
</c40><br/><ln>&nbsp;1176</ln><a id="1176">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;it's&nbsp;compiled).&nbsp;The&nbsp;real&nbsp;kicker&nbsp;is&nbsp;that&nbsp;rust&nbsp;compiled&nbsp;just&nbsp;fine&nbsp;on
</c40><br/><ln>&nbsp;1177</ln><a id="1177">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;windows&nbsp;for&nbsp;quite&nbsp;a&nbsp;long&nbsp;time&nbsp;*without*&nbsp;this&nbsp;flag,&nbsp;so&nbsp;I&nbsp;have&nbsp;no&nbsp;idea
</c40><br/><ln>&nbsp;1178</ln><a id="1178">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;why&nbsp;it&nbsp;suddenly&nbsp;started&nbsp;failing&nbsp;for&nbsp;liblibc.&nbsp;Regardless,&nbsp;we
</c40><br/><ln>&nbsp;1179</ln><a id="1179">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;definitely&nbsp;don't&nbsp;want&nbsp;section&nbsp;name&nbsp;truncation,&nbsp;so&nbsp;we're&nbsp;keeping&nbsp;this
</c40><br/><ln>&nbsp;1180</ln><a id="1180">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;flag&nbsp;for&nbsp;windows.
</c40><br/><ln>&nbsp;1181</ln><a id="1181">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1182</ln><a id="1182">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;[1]&nbsp;-&nbsp;https://sourceware.org/bugzilla/show_bug.cgi?id=13130
</c40><br/><ln>&nbsp;1183</ln><a id="1183">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;[2]&nbsp;-&nbsp;https://code.google.com/p/go/issues/detail?id=2139
</c40><br/><ln>&nbsp;1184</ln><a id="1184">&nbsp;</a><a id="n445837"><a id="n445835"><a id="n445838"><a id="n445839"><a id="n445836">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/str.rs.html#n64748">--enable-long-section-names"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1185</ln><a id="1185">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1186</ln><a id="1186">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1187</ln><a id="1187">&nbsp;</a><a id="n445841"><a id="n445843"><a id="n445840"><a id="n445846"><a id="n445845"><a id="n445847"><a id="n445844"><a id="n445842">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14736">abi::OsAndroid</a></c26><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1188</ln><a id="1188">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Many&nbsp;of&nbsp;the&nbsp;symbols&nbsp;defined&nbsp;in&nbsp;compiler-rt&nbsp;are&nbsp;also&nbsp;defined&nbsp;in&nbsp;libgcc.
</c40><br/><ln>&nbsp;1189</ln><a id="1189">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Android&nbsp;linker&nbsp;doesn't&nbsp;like&nbsp;that&nbsp;by&nbsp;default.
</c40><br/><ln>&nbsp;1190</ln><a id="1190">&nbsp;</a><a id="n445848"><a id="n445849"><a id="n445852"><a id="n445850"><a id="n445851">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n55328">--allow-multiple-definition"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1191</ln><a id="1191">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1192</ln><a id="1192">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1193</ln><a id="1193">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Take&nbsp;careful&nbsp;note&nbsp;of&nbsp;the&nbsp;ordering&nbsp;of&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker
</c40><br/><ln>&nbsp;1194</ln><a id="1194">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here.&nbsp;Linkers&nbsp;will&nbsp;assume&nbsp;that&nbsp;things&nbsp;on&nbsp;the&nbsp;left&nbsp;depend&nbsp;on&nbsp;things&nbsp;to&nbsp;the
</c40><br/><ln>&nbsp;1195</ln><a id="1195">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;right.&nbsp;Things&nbsp;on&nbsp;the&nbsp;right&nbsp;cannot&nbsp;depend&nbsp;on&nbsp;things&nbsp;on&nbsp;the&nbsp;left.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1196</ln><a id="1196">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;all&nbsp;formally&nbsp;implemented&nbsp;in&nbsp;terms&nbsp;of&nbsp;resolving&nbsp;symbols&nbsp;(libs&nbsp;on&nbsp;the&nbsp;right
</c40><br/><ln>&nbsp;1197</ln><a id="1197">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;resolve&nbsp;unknown&nbsp;symbols&nbsp;of&nbsp;libs&nbsp;on&nbsp;the&nbsp;left,&nbsp;but&nbsp;not&nbsp;vice&nbsp;versa).
</c40><br/><ln>&nbsp;1198</ln><a id="1198">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1199</ln><a id="1199">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;have&nbsp;organized&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker&nbsp;as
</c40><br/><ln>&nbsp;1200</ln><a id="1200">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;such:
</c40><br/><ln>&nbsp;1201</ln><a id="1201">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1202</ln><a id="1202">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;1.&nbsp;The&nbsp;local&nbsp;object&nbsp;that&nbsp;LLVM&nbsp;just&nbsp;generated
</c40><br/><ln>&nbsp;1203</ln><a id="1203">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;2.&nbsp;Upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1204</ln><a id="1204">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;3.&nbsp;Local&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1205</ln><a id="1205">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;4.&nbsp;Upstream&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1206</ln><a id="1206">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1207</ln><a id="1207">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;generally&nbsp;fairly&nbsp;natural,&nbsp;but&nbsp;some&nbsp;may&nbsp;expect&nbsp;2&nbsp;and&nbsp;3&nbsp;to&nbsp;be
</c40><br/><ln>&nbsp;1208</ln><a id="1208">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;swapped.&nbsp;The&nbsp;reason&nbsp;that&nbsp;all&nbsp;native&nbsp;libraries&nbsp;are&nbsp;put&nbsp;last&nbsp;is&nbsp;that&nbsp;it's
</c40><br/><ln>&nbsp;1209</ln><a id="1209">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;recommended&nbsp;for&nbsp;a&nbsp;native&nbsp;library&nbsp;to&nbsp;depend&nbsp;on&nbsp;a&nbsp;symbol&nbsp;from&nbsp;a&nbsp;rust
</c40><br/><ln>&nbsp;1210</ln><a id="1210">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crate.&nbsp;If&nbsp;this&nbsp;is&nbsp;the&nbsp;case&nbsp;then&nbsp;a&nbsp;staticlib&nbsp;crate&nbsp;is&nbsp;recommended,&nbsp;solving
</c40><br/><ln>&nbsp;1211</ln><a id="1211">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;problem.
</c40><br/><ln>&nbsp;1212</ln><a id="1212">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1213</ln><a id="1213">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Additionally,&nbsp;it&nbsp;is&nbsp;occasionally&nbsp;the&nbsp;case&nbsp;that&nbsp;upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1214</ln><a id="1214">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;depend&nbsp;on&nbsp;a&nbsp;local&nbsp;native&nbsp;library.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;libraries&nbsp;such&nbsp;as
</c40><br/><ln>&nbsp;1215</ln><a id="1215">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;lua/glfw/etc&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;library&nbsp;isn't&nbsp;the&nbsp;same&nbsp;across&nbsp;all&nbsp;platforms,
</c40><br/><ln>&nbsp;1216</ln><a id="1216">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;only&nbsp;the&nbsp;consumer&nbsp;crate&nbsp;of&nbsp;a&nbsp;library&nbsp;knows&nbsp;the&nbsp;actual&nbsp;name.&nbsp;This&nbsp;means
</c40><br/><ln>&nbsp;1217</ln><a id="1217">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;downstream&nbsp;crates&nbsp;will&nbsp;provide&nbsp;the&nbsp;#[link]&nbsp;attribute&nbsp;which&nbsp;upstream
</c40><br/><ln>&nbsp;1218</ln><a id="1218">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crates&nbsp;will&nbsp;depend&nbsp;on.&nbsp;Hence&nbsp;local&nbsp;native&nbsp;libraries&nbsp;are&nbsp;after&nbsp;out
</c40><br/><ln>&nbsp;1219</ln><a id="1219">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;upstream&nbsp;rust&nbsp;crates.
</c40><br/><ln>&nbsp;1220</ln><a id="1220">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1221</ln><a id="1221">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;theory&nbsp;this&nbsp;means&nbsp;that&nbsp;a&nbsp;symbol&nbsp;in&nbsp;an&nbsp;upstream&nbsp;native&nbsp;library&nbsp;will&nbsp;be
</c40><br/><ln>&nbsp;1222</ln><a id="1222">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;shadowed&nbsp;by&nbsp;a&nbsp;local&nbsp;native&nbsp;library&nbsp;when&nbsp;it&nbsp;wouldn't&nbsp;have&nbsp;been&nbsp;before,&nbsp;but
</c40><br/><ln>&nbsp;1223</ln><a id="1223">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;this&nbsp;kind&nbsp;of&nbsp;behavior&nbsp;is&nbsp;pretty&nbsp;platform&nbsp;specific&nbsp;and&nbsp;generally&nbsp;not
</c40><br/><ln>&nbsp;1224</ln><a id="1224">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;recommended&nbsp;anyway,&nbsp;so&nbsp;I&nbsp;don't&nbsp;think&nbsp;we're&nbsp;shooting&nbsp;ourself&nbsp;in&nbsp;the&nbsp;foot
</c40><br/><ln>&nbsp;1225</ln><a id="1225">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;much&nbsp;with&nbsp;that.
</c40><br/><ln>&nbsp;1226</ln><a id="1226">&nbsp;</a><a id="n445860"><a id="n445857"><a id="n445855"><a id="n445853"><a id="n445854"><a id="n445856"><a id="n445859"><a id="n445858">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1334">add_upstream_rust_crates</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1036">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1083">dylib</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1084">tmpdir</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1227</ln><a id="1227">&nbsp;</a><a id="n445864"><a id="n445865"><a id="n445861"><a id="n445863"><a id="n445862"><a id="n445866">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1288">add_local_native_libraries</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1036">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1228</ln><a id="1228">&nbsp;</a><a id="n445869"><a id="n445870"><a id="n445868"><a id="n445872"><a id="n445867"><a id="n445871">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1510">add_upstream_native_libraries</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1036">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1229</ln><a id="1229">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1230</ln><a id="1230">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#&nbsp;Telling&nbsp;the&nbsp;linker&nbsp;what&nbsp;we're&nbsp;doing
</c40><br/><ln>&nbsp;1231</ln><a id="1231">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1232</ln><a id="1232">&nbsp;</a><a id="n445876"><a id="n445874"><a id="n445873"><a id="n445875">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1083">dylib</a></c26><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1233</ln><a id="1233">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;mac&nbsp;we&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;to&nbsp;let&nbsp;this&nbsp;library&nbsp;be&nbsp;rpathed
</c40><br/><ln>&nbsp;1234</ln><a id="1234">&nbsp;</a><a id="n445883"><a id="n445878"><a id="n445880"><a id="n445881"><a id="n445879"><a id="n445882"><a id="n445877">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c26><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1235</ln><a id="1235">&nbsp;</a><a id="n445887"><a id="n445885"><a id="n445888"><a id="n445884"><a id="n445886">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-dynamiclib"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1236</ln><a id="1236">&nbsp;</a><a id="n445889"><a id="n445890"><a id="n445891"><a id="n445892"><a id="n445893">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/str.rs.html#n64748">-dylib"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1237</ln><a id="1237">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1238</ln><a id="1238">&nbsp;</a><a id="n445899"><a id="n445900"><a id="n445894"><a id="n445895"><a id="n445898"><a id="n445896"><a id="n445897">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1036">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.no_rpath</a></c24><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1239</ln><a id="1239">&nbsp;</a><a id="n445903"><a id="n445906"><a id="n445904"><a id="n445902"><a id="n445901"><a id="n445905">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n55328">-install_name</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n55328">@rpath/"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c5><a href="../../libstd/vec.rs.html#n55328">&nbsp;+
</a></c5><br/><ln>&nbsp;1240</ln><a id="1240">&nbsp;</a><a id="n445907"><a id="n445909"><a id="n445908">&nbsp;</a></a></a><c5><a href="../../libstd/vec.rs.html#n55328">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1086">out_filename</a></c26><c10><nop>.filename_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1241</ln><a id="1241">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1242</ln><a id="1242">&nbsp;</a><a id="n445910"><a id="n445911">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1243</ln><a id="1243">&nbsp;</a><a id="n445912"><a id="n445913"><a id="n445914"><a id="n445915">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-shared"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1244</ln><a id="1244">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1245</ln><a id="1245">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1246</ln><a id="1246">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1247</ln><a id="1247">&nbsp;</a><a id="n445923"><a id="n445920"><a id="n445918"><a id="n445922"><a id="n445917"><a id="n445916"><a id="n445919"><a id="n445921">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1036">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14737">abi::OsFreebsd</a></c26><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1248</ln><a id="1248">&nbsp;</a><a id="n445928"><a id="n445926"><a id="n445929"><a id="n445924"><a id="n445925"><a id="n445927">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c10><c4>(</c4><c3>[</c3><c12><a href="../../libstd/str.rs.html#n64748">"-L/usr/local/lib"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n54547">
</a></c1><br/><ln>&nbsp;1249</ln><a id="1249">&nbsp;</a><a id="n445930"><a id="n445931">&nbsp;</a></a><c1><a href="../../libstd/vec.rs.html#n54547">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="../../libstd/str.rs.html#n64748">"-L/usr/local/lib/gcc46"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n54547">
</a></c1><br/><ln>&nbsp;1250</ln><a id="1250">&nbsp;</a><a id="n445932"><a id="n445933">&nbsp;</a></a><c1><a href="../../libstd/vec.rs.html#n54547">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="../../libstd/str.rs.html#n64748">"-L/usr/local/lib/gcc44"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1251</ln><a id="1251">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1252</ln><a id="1252">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1253</ln><a id="1253">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#2397):&nbsp;At&nbsp;some&nbsp;point&nbsp;we&nbsp;want&nbsp;to&nbsp;rpath&nbsp;our&nbsp;guesses&nbsp;as&nbsp;to
</c40><br/><ln>&nbsp;1254</ln><a id="1254">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;where&nbsp;extern&nbsp;libraries&nbsp;might&nbsp;live,&nbsp;based&nbsp;on&nbsp;the
</c40><br/><ln>&nbsp;1255</ln><a id="1255">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;addl_lib_search_paths
</c40><br/><ln>&nbsp;1256</ln><a id="1256">&nbsp;</a><a id="n445935"><a id="n445940"><a id="n445939"><a id="n445937"><a id="n445941"><a id="n445936"><a id="n445938"><a id="n445934">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c5><a href="../../librustc/back/link.rs.html#1036">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.no_rpath</a></c24><c13><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1257</ln><a id="1257">&nbsp;</a><a id="n445943"><a id="n445945"><a id="n445948"><a id="n445944"><a id="n445946"><a id="n445942"><a id="n445947"><a id="n445949">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c13><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c13><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#24">rpath::get_rpath_flags</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56605">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1086">out_filename</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1258</ln><a id="1258">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1259</ln><a id="1259">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1260</ln><a id="1260">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;compiler-rt&nbsp;contains&nbsp;implementations&nbsp;of&nbsp;low-level&nbsp;LLVM&nbsp;helpers.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1261</ln><a id="1261">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;from&nbsp;the&nbsp;object&nbsp;file&nbsp;we&nbsp;just&nbsp;created,&nbsp;as&nbsp;well&nbsp;as
</c40><br/><ln>&nbsp;1262</ln><a id="1262">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;any&nbsp;system&nbsp;static&nbsp;libraries&nbsp;that&nbsp;may&nbsp;be&nbsp;expecting&nbsp;gcc&nbsp;instead.&nbsp;Most
</c40><br/><ln>&nbsp;1263</ln><a id="1263">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbols&nbsp;in&nbsp;libgcc&nbsp;also&nbsp;appear&nbsp;in&nbsp;compiler-rt.
</c40><br/><ln>&nbsp;1264</ln><a id="1264">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1265</ln><a id="1265">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;command&nbsp;line,&nbsp;so&nbsp;this&nbsp;library&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve
</c40><br/><ln>&nbsp;1266</ln><a id="1266">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*all*&nbsp;undefined&nbsp;symbols&nbsp;in&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;and&nbsp;this&nbsp;is&nbsp;intentional.
</c40><br/><ln>&nbsp;1267</ln><a id="1267">&nbsp;</a><a id="n445954"><a id="n445952"><a id="n445950"><a id="n445953"><a id="n445951">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-lcompiler-rt"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1268</ln><a id="1268">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1269</ln><a id="1269">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Finally&nbsp;add&nbsp;all&nbsp;the&nbsp;linker&nbsp;arguments&nbsp;provided&nbsp;on&nbsp;the&nbsp;command&nbsp;line&nbsp;along
</c40><br/><ln>&nbsp;1270</ln><a id="1270">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;with&nbsp;any&nbsp;#[link_args]&nbsp;attributes&nbsp;found&nbsp;inside&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1271</ln><a id="1271">&nbsp;</a><a id="n445960"><a id="n445957"><a id="n445955"><a id="n445958"><a id="n445959"><a id="n445962"><a id="n445956"><a id="n445961">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n54547">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.link_args</a></c24><c10><a href="../../libstd/vec.rs.html#n56605">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1272</ln><a id="1272">&nbsp;</a><a id="n445982"><a id="n445981"><a id="n445966"><a id="n445972"><a id="n445967"><a id="n445973"><a id="n445977"><a id="n445974"><a id="n445980"><a id="n445968"><a id="n445978"><a id="n445976"><a id="n445963"><a id="n445971"><a id="n445969"><a id="n445965"><a id="n445975"><a id="n445964"><a id="n445979"><a id="n445970">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1036">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1273">arg</a></c20><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1082">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#197">.get_used_link_args</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1273</ln><a id="1273">&nbsp;</a><a id="n445983"><a id="n445985"><a id="n445987"><a id="n445986"><a id="n445984">&nbsp;</a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1272">arg</a></c26><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1274</ln><a id="1274">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n102620">
</a></c20><br/><ln>&nbsp;1275</ln><a id="1275">&nbsp;</a><a id="n445988"><a id="n445989"><a id="n445990">&nbsp;</a></a></a><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>return</c21><c1><a href="../../librustc/back/link.rs.html#1036">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1094">args</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1036">
</a></c22><br/><ln>&nbsp;1276</ln><a id="1276">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1277</ln><a id="1277">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1278</ln><a id="1278">&nbsp;</a>&nbsp;<c40>//&nbsp;#&nbsp;Native&nbsp;library&nbsp;linking
</c40><br/><ln>&nbsp;1279</ln><a id="1279">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1280</ln><a id="1280">&nbsp;</a>&nbsp;<c40>//&nbsp;User-supplied&nbsp;library&nbsp;search&nbsp;paths&nbsp;(-L&nbsp;on&nbsp;the&nbsp;command&nbsp;line).&nbsp;These&nbsp;are
</c40><br/><ln>&nbsp;1281</ln><a id="1281">&nbsp;</a>&nbsp;<c40>//&nbsp;the&nbsp;same&nbsp;paths&nbsp;used&nbsp;to&nbsp;find&nbsp;Rust&nbsp;crates,&nbsp;so&nbsp;some&nbsp;of&nbsp;them&nbsp;may&nbsp;have&nbsp;been
</c40><br/><ln>&nbsp;1282</ln><a id="1282">&nbsp;</a>&nbsp;<c40>//&nbsp;added&nbsp;already&nbsp;by&nbsp;the&nbsp;previous&nbsp;crate&nbsp;linking&nbsp;code.&nbsp;This&nbsp;only&nbsp;allows&nbsp;them
</c40><br/><ln>&nbsp;1283</ln><a id="1283">&nbsp;</a>&nbsp;<c40>//&nbsp;to&nbsp;be&nbsp;found&nbsp;at&nbsp;compile&nbsp;time&nbsp;so&nbsp;it&nbsp;is&nbsp;still&nbsp;entirely&nbsp;up&nbsp;to&nbsp;outside
</c40><br/><ln>&nbsp;1284</ln><a id="1284">&nbsp;</a>&nbsp;<c40>//&nbsp;forces&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;library&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;runtime.
</c40><br/><ln>&nbsp;1285</ln><a id="1285">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1286</ln><a id="1286">&nbsp;</a>&nbsp;<c40>//&nbsp;Also&nbsp;note&nbsp;that&nbsp;the&nbsp;native&nbsp;libraries&nbsp;linked&nbsp;here&nbsp;are&nbsp;only&nbsp;the&nbsp;ones&nbsp;located
</c40><br/><ln>&nbsp;1287</ln><a id="1287">&nbsp;</a>&nbsp;<c40>//&nbsp;in&nbsp;the&nbsp;current&nbsp;crate.&nbsp;Upstream&nbsp;crates&nbsp;with&nbsp;native&nbsp;library&nbsp;dependencies
</c40><br/><ln>&nbsp;1288</ln><a id="1288">&nbsp;</a><a id="n445991">&nbsp;</a><c40>//&nbsp;may&nbsp;have&nbsp;their&nbsp;native&nbsp;library&nbsp;pulled&nbsp;in&nbsp;above.
</c40><br/><ln>&nbsp;1289</ln><a id="1289">&nbsp;</a><a id="n446002"><a id="n446005"><a id="n445997"><a id="n445993"><a id="n445996"><a id="n446001"><a id="n446004"><a id="n446006"><a id="n445999"><a id="n445994">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1227">&nbsp;add_local_native_libraries</a></c30><c4>(</c4><c20><a href="#line1289_col30_refs">args</a></c20><c1><a href="../../librustc/back/link.rs.html#1227">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1227">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c8><a href="../../librustc/back/link.rs.html#1227">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c1><c20><a href="#line1289_col52_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#1227">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1227">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1290</ln><a id="1290">&nbsp;</a><a id="n446016"><a id="n446026"><a id="n446025"><a id="n446021"><a id="n446009"><a id="n446012"><a id="n446014"><a id="n446018"><a id="n446019"><a id="n446008"><a id="n446017"><a id="n446022"><a id="n446020"><a id="n446023"><a id="n446015"><a id="n446013"><a id="n446010"><a id="n446011"><a id="n446007"><a id="n446024">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../librustc/back/link.rs.html#1290">&nbsp;</a></c13><c20><a href="../../librustc/back/link.rs.html#1292">path</a></c20><c13><a href="../../librustc/back/link.rs.html#1290">&nbsp;in&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1289">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#139">.addl_lib_search_paths</a></c24><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n17058">.iter</a></c10><c4>()</c4><c13><a href="../../librustc/back/link.rs.html#1290">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1291</ln><a id="1291">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1292</ln><a id="1292">&nbsp;</a><a id="n446033"><a id="n446030"><a id="n446035"><a id="n446027"><a id="n446028"><a id="n446031"><a id="n446034"><a id="n446032"><a id="n446029">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n102619">"-L"</a></c12><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1290">path</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1293</ln><a id="1293">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#1290">
</a></c13><br/><ln>&nbsp;1294</ln><a id="1294">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1290">
</a></c13><br/><ln>&nbsp;1295</ln><a id="1295">&nbsp;</a><a id="n446040"><a id="n446038"><a id="n446039"><a id="n446041"><a id="n446036"><a id="n446037">&nbsp;</a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1290">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1296">rustpath</a></c20><c16><a href="../../librustc/back/link.rs.html#1227">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/metadata/filesearch.rs.html#188">filesearch::rust_path</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1296</ln><a id="1296">&nbsp;</a><a id="n446058"><a id="n446043"><a id="n446046"><a id="n446054"><a id="n446042"><a id="n446053"><a id="n446050"><a id="n446056"><a id="n446057"><a id="n446049"><a id="n446055"><a id="n446051"><a id="n446048"><a id="n446045"><a id="n446044"><a id="n446047"><a id="n446052">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;</a></c26><c20><a href="../../librustc/back/link.rs.html#1298">path</a></c20><c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1295">rustpath</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1297</ln><a id="1297">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1298</ln><a id="1298">&nbsp;</a><a id="n446063"><a id="n446062"><a id="n446059"><a id="n446065"><a id="n446066"><a id="n446067"><a id="n446060"><a id="n446061"><a id="n446064">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n102619">"-L"</a></c12><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1296">path</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1299</ln><a id="1299">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1296">
</a></c26><br/><ln>&nbsp;1300</ln><a id="1300">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1296">
</a></c26><br/><ln>&nbsp;1301</ln><a id="1301">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;Some&nbsp;platforms&nbsp;take&nbsp;hints&nbsp;about&nbsp;whether&nbsp;a&nbsp;library&nbsp;is&nbsp;static&nbsp;or&nbsp;dynamic.
</c40><br/><ln>&nbsp;1302</ln><a id="1302">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;For&nbsp;those&nbsp;that&nbsp;support&nbsp;this,&nbsp;we&nbsp;ensure&nbsp;we&nbsp;pass&nbsp;the&nbsp;option&nbsp;if&nbsp;the&nbsp;library
</c40><br/><ln>&nbsp;1303</ln><a id="1303">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;was&nbsp;flagged&nbsp;"static"&nbsp;(most&nbsp;defaults&nbsp;are&nbsp;dynamic)&nbsp;to&nbsp;ensure&nbsp;that&nbsp;if
</c40><br/><ln>&nbsp;1304</ln><a id="1304">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c40>//&nbsp;libfoo.a&nbsp;and&nbsp;libfoo.so&nbsp;both&nbsp;exist&nbsp;that&nbsp;the&nbsp;right&nbsp;one&nbsp;is&nbsp;chosen.
</c40><br/><ln>&nbsp;1305</ln><a id="1305">&nbsp;</a><a id="n446075"><a id="n446074"><a id="n446072"><a id="n446076"><a id="n446073"><a id="n446068"><a id="n446071"><a id="n446069"><a id="n446070">&nbsp;</a></a></a></a></a></a></a></a></a><c26><a href="../../librustc/back/link.rs.html#1296">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c22><c20><a href="#line1305_col8_refs">takes_hints</a></c20><c16><a href="../../librustc/back/link.rs.html#1227">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1289">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1227">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14734">abi::OsMacos</a></c26><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1306</ln><a id="1306">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1307</ln><a id="1307">&nbsp;</a><a id="n446082"><a id="n446083"><a id="n446087"><a id="n446084"><a id="n446080"><a id="n446077"><a id="n446085"><a id="n446079"><a id="n446093"><a id="n446097"><a id="n446086"><a id="n446088"><a id="n446098"><a id="n446091"><a id="n446078"><a id="n446090"><a id="n446081"><a id="n446099"><a id="n446095"><a id="n446096"><a id="n446089"><a id="n446094"><a id="n446092">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c1><c20><a href="../../libstd/slice.rs.html#n52840">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="#line1307_col10_refs">&nbsp;l</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c20><c20><a href="#line1307_col17_refs">kind</a></c20><c4>)</c4><c1><a href="../../libstd/slice.rs.html#n52840">&nbsp;in&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1289">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#186">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n106110">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c1><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;1308</ln><a id="1308">&nbsp;</a><a id="n446100"><a id="n446101">&nbsp;</a></a><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1307">kind</a></c26><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#1307">
</a></c21><br/><ln>&nbsp;1309</ln><a id="1309">&nbsp;</a><a id="n446104"><a id="n446102"><a id="n446103"><a id="n446105">&nbsp;</a></a></a></a><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1310</ln><a id="1310">&nbsp;</a><a id="n446109"><a id="n446106"><a id="n446107"><a id="n446108">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1305">takes_hints</a></c26><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1311</ln><a id="1311">&nbsp;</a><a id="n446111"><a id="n446112"><a id="n446114"><a id="n446110"><a id="n446113">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1307">kind</a></c26><c5><a href="../../librustc/back/link.rs.html#1307">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c26><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1312</ln><a id="1312">&nbsp;</a><a id="n446116"><a id="n446119"><a id="n446117"><a id="n446115"><a id="n446118">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n55328">-Bstatic"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1313</ln><a id="1313">&nbsp;</a><a id="n446120"><a id="n446121">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1314</ln><a id="1314">&nbsp;</a><a id="n446125"><a id="n446126"><a id="n446123"><a id="n446122"><a id="n446124">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/str.rs.html#n64748">-Bdynamic"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1315</ln><a id="1315">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1316</ln><a id="1316">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1317</ln><a id="1317">&nbsp;</a><a id="n446131"><a id="n446130"><a id="n446133"><a id="n446129"><a id="n446128"><a id="n446132"><a id="n446127">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1307">"-l"</a></c12><c5><a href="../../librustc/back/link.rs.html#1307">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1307">l</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1318</ln><a id="1318">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1307">
</a></c21><br/><ln>&nbsp;1319</ln><a id="1319">&nbsp;</a><a id="n446135"><a id="n446136"><a id="n446134">&nbsp;</a></a></a><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1320</ln><a id="1320">&nbsp;</a><a id="n446139"><a id="n446138"><a id="n446140"><a id="n446137"><a id="n446141">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">"-framework"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1321</ln><a id="1321">&nbsp;</a><a id="n446144"><a id="n446143"><a id="n446146"><a id="n446142"><a id="n446145">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1307">l</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1307">
</a></c22><br/><ln>&nbsp;1322</ln><a id="1322">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1307">
</a></c21><br/><ln>&nbsp;1323</ln><a id="1323">&nbsp;</a>&nbsp;<c21><a href="../../librustc/back/link.rs.html#1307">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102620">
</a></c22><br/><ln>&nbsp;1324</ln><a id="1324">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="../../libstd/slice.rs.html#n52840">
</a></c1><br/><ln>&nbsp;1325</ln><a id="1325">&nbsp;</a><a id="n446147"><a id="n446148"><a id="n446149">&nbsp;</a></a></a><c1><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1305">takes_hints</a></c26><c21><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1326</ln><a id="1326">&nbsp;</a><a id="n446150"><a id="n446152"><a id="n446154"><a id="n446151"><a id="n446153">&nbsp;</a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1289">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#1227">"-Wl</a></c12><c3>,</c3><c12><a href="../../librustc/back/link.rs.html#1227">-Bdynamic"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1327</ln><a id="1327">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1227">
</a></c22><br/><ln>&nbsp;1328</ln><a id="1328">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1329</ln><a id="1329">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1330</ln><a id="1330">&nbsp;</a>&nbsp;<c40>//&nbsp;#&nbsp;Rust&nbsp;Crate&nbsp;linking
</c40><br/><ln>&nbsp;1331</ln><a id="1331">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1332</ln><a id="1332">&nbsp;</a>&nbsp;<c40>//&nbsp;Rust&nbsp;crates&nbsp;are&nbsp;not&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;creating&nbsp;an&nbsp;rlib&nbsp;output.&nbsp;All
</c40><br/><ln>&nbsp;1333</ln><a id="1333">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies&nbsp;will&nbsp;be&nbsp;linked&nbsp;when&nbsp;producing&nbsp;the&nbsp;final&nbsp;output&nbsp;(instead&nbsp;of
</c40><br/><ln>&nbsp;1334</ln><a id="1334">&nbsp;</a><a id="n446155">&nbsp;</a><c40>//&nbsp;the&nbsp;intermediate&nbsp;rlib&nbsp;version)
</c40><br/><ln>&nbsp;1335</ln><a id="1335">&nbsp;</a><a id="n446161"><a id="n446168"><a id="n446166"><a id="n446165"><a id="n446160"><a id="n446158"><a id="n446163"><a id="n446157">&nbsp;</a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1226">&nbsp;add_upstream_rust_crates</a></c30><c4>(</c4><c20><a href="#line1335_col28_refs">args</a></c20><c1><a href="../../librustc/back/link.rs.html#1226">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;~str&gt;</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c1><c20><a href="#line1335_col50_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#1226">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1226">
</a></c1><br/><ln>&nbsp;1336</ln><a id="1336">&nbsp;</a><a id="n446179"><a id="n446172"><a id="n446178"><a id="n446174"><a id="n446175"><a id="n446170"><a id="n446177">&nbsp;</a></a></a></a></a></a></a><c1><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1358">dylib</a></c20><c1><a href="../../librustc/back/link.rs.html#1226">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">bool</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c1><c20><a href="#line1336_col41_refs">tmpdir</a></c20><c1><a href="../../librustc/back/link.rs.html#1226">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1337</ln><a id="1337">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1338</ln><a id="1338">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;As&nbsp;a&nbsp;limitation&nbsp;of&nbsp;the&nbsp;current&nbsp;implementation,&nbsp;we&nbsp;require&nbsp;that&nbsp;everything
</c40><br/><ln>&nbsp;1339</ln><a id="1339">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;must&nbsp;be&nbsp;static&nbsp;or&nbsp;everything&nbsp;must&nbsp;be&nbsp;dynamic.&nbsp;The&nbsp;reasons&nbsp;for&nbsp;this&nbsp;are&nbsp;a
</c40><br/><ln>&nbsp;1340</ln><a id="1340">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;little&nbsp;subtle,&nbsp;but&nbsp;as&nbsp;with&nbsp;staticlibs&nbsp;and&nbsp;rlibs,&nbsp;the&nbsp;goal&nbsp;is&nbsp;to&nbsp;prevent
</c40><br/><ln>&nbsp;1341</ln><a id="1341">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;duplicate&nbsp;copies&nbsp;of&nbsp;the&nbsp;same&nbsp;library&nbsp;showing&nbsp;up.&nbsp;For&nbsp;example,&nbsp;a&nbsp;static
</c40><br/><ln>&nbsp;1342</ln><a id="1342">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;immediate&nbsp;dependency&nbsp;might&nbsp;show&nbsp;up&nbsp;as&nbsp;an&nbsp;upstream&nbsp;dynamic&nbsp;dependency&nbsp;and
</c40><br/><ln>&nbsp;1343</ln><a id="1343">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;currently&nbsp;have&nbsp;no&nbsp;way&nbsp;of&nbsp;knowing&nbsp;that.&nbsp;We&nbsp;know&nbsp;that&nbsp;all&nbsp;dynamic
</c40><br/><ln>&nbsp;1344</ln><a id="1344">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries&nbsp;require&nbsp;dynamic&nbsp;dependencies&nbsp;(see&nbsp;above),&nbsp;so&nbsp;it's&nbsp;satisfactory
</c40><br/><ln>&nbsp;1345</ln><a id="1345">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;include&nbsp;either&nbsp;all&nbsp;static&nbsp;libraries&nbsp;or&nbsp;all&nbsp;dynamic&nbsp;libraries.
</c40><br/><ln>&nbsp;1346</ln><a id="1346">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1347</ln><a id="1347">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;With&nbsp;this&nbsp;limitation,&nbsp;we&nbsp;expose&nbsp;a&nbsp;compiler&nbsp;default&nbsp;linkage&nbsp;type&nbsp;and&nbsp;an
</c40><br/><ln>&nbsp;1348</ln><a id="1348">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;option&nbsp;to&nbsp;reverse&nbsp;that&nbsp;preference.&nbsp;The&nbsp;current&nbsp;behavior&nbsp;looks&nbsp;like:
</c40><br/><ln>&nbsp;1349</ln><a id="1349">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1350</ln><a id="1350">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;a&nbsp;dylib&nbsp;is&nbsp;being&nbsp;created,&nbsp;upstream&nbsp;dependencies&nbsp;must&nbsp;be&nbsp;dylibs
</c40><br/><ln>&nbsp;1351</ln><a id="1351">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;nothing&nbsp;else&nbsp;is&nbsp;specified,&nbsp;static&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1352</ln><a id="1352">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;the&nbsp;-C&nbsp;prefer-dynamic&nbsp;flag&nbsp;is&nbsp;given,&nbsp;dynamic&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1353</ln><a id="1353">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;one&nbsp;form&nbsp;of&nbsp;linking&nbsp;fails,&nbsp;the&nbsp;second&nbsp;is&nbsp;also&nbsp;attempted
</c40><br/><ln>&nbsp;1354</ln><a id="1354">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;both&nbsp;forms&nbsp;fail,&nbsp;then&nbsp;we&nbsp;emit&nbsp;an&nbsp;error&nbsp;message
</c40><br/><ln>&nbsp;1355</ln><a id="1355">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1356</ln><a id="1356">&nbsp;</a><a id="n446181"><a id="n446184"><a id="n446186"><a id="n446188"><a id="n446182"><a id="n446187"><a id="n446189"><a id="n446180"><a id="n446183"><a id="n446185">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1358">dynamic</a></c20><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1417">get_deps</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1226">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1357</ln><a id="1357">&nbsp;</a><a id="n446196"><a id="n446199"><a id="n446191"><a id="n446193"><a id="n446192"><a id="n446190"><a id="n446195"><a id="n446198"><a id="n446197"><a id="n446194">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1358">statik</a></c20><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1417">get_deps</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1226">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1358</ln><a id="1358">&nbsp;</a><a id="n446203"><a id="n446204"><a id="n446202"><a id="n446206"><a id="n446201"><a id="n446200"><a id="n446207"><a id="n446209"><a id="n446208"><a id="n446205">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1356">dynamic</a></c26><c3>,</c3><c14><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1357">statik</a></c26><c3>,</c3><c14><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#180">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#156">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#373">.prefer_dynamic</a></c24><c3>,</c3><c14><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1336">dylib</a></c26><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c3>{</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1359</ln><a id="1359">&nbsp;</a><a id="n446216"><a id="n446211"><a id="n446217"><a id="n446212"><a id="n446213"><a id="n446210"><a id="n446219"><a id="n446214"><a id="n446215"><a id="n446218">&nbsp;</a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1226">_</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1360">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;false</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;false</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1360</ln><a id="1360">&nbsp;</a><a id="n446220"><a id="n446225"><a id="n446224"><a id="n446223"><a id="n446221"><a id="n446222">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1335">args</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1336">tmpdir</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1359">deps</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1361</ln><a id="1361">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1362</ln><a id="1362">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1363</ln><a id="1363">&nbsp;</a><a id="n446232"><a id="n446227"><a id="n446235"><a id="n446234"><a id="n446228"><a id="n446230"><a id="n446233"><a id="n446229"><a id="n446226"><a id="n446231">&nbsp;</a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1369">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;true</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;false</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1364</ln><a id="1364">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;you&nbsp;opted&nbsp;in&nbsp;to&nbsp;dynamic&nbsp;linking&nbsp;and&nbsp;we&nbsp;decided&nbsp;to&nbsp;emit&nbsp;a
</c40><br/><ln>&nbsp;1365</ln><a id="1365">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;static&nbsp;output,&nbsp;you&nbsp;should&nbsp;probably&nbsp;be&nbsp;notified&nbsp;of&nbsp;such&nbsp;an&nbsp;event!
</c40><br/><ln>&nbsp;1366</ln><a id="1366">&nbsp;</a><a id="n446236"><a id="n446238"><a id="n446237"><a id="n446239">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#228">.warn</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#228">"dynamic&nbsp;linking&nbsp;was&nbsp;preferred</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#228">&nbsp;but&nbsp;dependencies&nbsp;\
</a></c12><br/><ln>&nbsp;1367</ln><a id="1367">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#228">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;could&nbsp;not&nbsp;all&nbsp;be&nbsp;found&nbsp;in&nbsp;an&nbsp;dylib&nbsp;format."</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1368</ln><a id="1368">&nbsp;</a><a id="n446243"><a id="n446240"><a id="n446242"><a id="n446241">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#228">.warn</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#228">"linking&nbsp;statically&nbsp;instead</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#228">&nbsp;using&nbsp;rlibs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1369</ln><a id="1369">&nbsp;</a><a id="n446247"><a id="n446249"><a id="n446245"><a id="n446244"><a id="n446246"><a id="n446248">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1335">args</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1336">tmpdir</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1363">deps</a></c26><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1370</ln><a id="1370">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1371</ln><a id="1371">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1372</ln><a id="1372">&nbsp;</a><a id="n446251"><a id="n446254"><a id="n446250"><a id="n446260"><a id="n446259"><a id="n446256"><a id="n446253"><a id="n446255"><a id="n446258"><a id="n446252"><a id="n446257">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n102620">Some</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1372">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;_</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1476">add_dynamic_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1335">args</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1372">deps</a></c26><c4>)</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1373</ln><a id="1373">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1374</ln><a id="1374">&nbsp;</a><a id="n446267"><a id="n446261"><a id="n446262"><a id="n446266"><a id="n446263"><a id="n446265"><a id="n446268"><a id="n446264">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;_</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;true</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1375</ln><a id="1375">&nbsp;</a><a id="n446272"><a id="n446270"><a id="n446271"><a id="n446269">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#213">"dylib&nbsp;output&nbsp;requested</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#213">&nbsp;but&nbsp;some&nbsp;depenencies&nbsp;could&nbsp;not&nbsp;\
</a></c12><br/><ln>&nbsp;1376</ln><a id="1376">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;dylib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1377</ln><a id="1377">&nbsp;</a><a id="n446278"><a id="n446275"><a id="n446274"><a id="n446277"><a id="n446280"><a id="n446276"><a id="n446279"><a id="n446273">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1378">deps</a></c20><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1378</ln><a id="1378">&nbsp;</a><a id="n446289"><a id="n446282"><a id="n446292"><a id="n446296"><a id="n446281"><a id="n446288"><a id="n446287"><a id="n446283"><a id="n446285"><a id="n446297"><a id="n446293"><a id="n446286"><a id="n446294"><a id="n446298"><a id="n446284"><a id="n446291"><a id="n446295"><a id="n446290">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1378">&nbsp;</a></c26><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1380">cnum</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1379">path</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#1378">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1377">deps</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1378">&nbsp;</a></c26><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1378">
</a></c22><br/><ln>&nbsp;1379</ln><a id="1379">&nbsp;</a><a id="n446302"><a id="n446301"><a id="n446300"><a id="n446304"><a id="n446303"><a id="n446299">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1378">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1378">path</a></c26><c10><a href="../../libstd/option.rs.html#n103213">.is_some</a></c10><c4>()</c4><c13><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libstd/vec.rs.html#n56731">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1378">
</a></c22><br/><ln>&nbsp;1380</ln><a id="1380">&nbsp;</a><a id="n446314"><a id="n446310"><a id="n446309"><a id="n446312"><a id="n446307"><a id="n446308"><a id="n446306"><a id="n446311"><a id="n446305"><a id="n446313">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1378">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1378">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1381">name</a></c20><c13><a href="../../librustc/back/link.rs.html#1378">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1378">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1378">
</a></c22><br/><ln>&nbsp;1381</ln><a id="1381">&nbsp;</a><a id="n446339"><a id="n446321"><a id="n446327"><a id="n446337"><a id="n446343"><a id="n446355"><a id="n446347"><a id="n446324"><a id="n446340"><a id="n446329"><a id="n446365"><a id="n446323"><a id="n446316"><a id="n446357"><a id="n446367"><a id="n446322"><a id="n446371"><a id="n446349"><a id="n446334"><a id="n446328"><a id="n446345"><a id="n446318"><a id="n446320"><a id="n446341"><a id="n446319"><a id="n446352"><a id="n446364"><a id="n446362"><a id="n446358"><a id="n446353"><a id="n446344"><a id="n446335"><a id="n446317"><a id="n446366"><a id="n446359"><a id="n446342"><a id="n446351"><a id="n446315"><a id="n446326"><a id="n446346"><a id="n446333"><a id="n446325"><a id="n446348"><a id="n446356"><a id="n446332"><a id="n446336"><a id="n446363"><a id="n446361"><a id="n446360"><a id="n446338"><a id="n446354"><a id="n446350">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1378">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#240">.note</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#240">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n164002">"dylib&nbsp;not&nbsp;found:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n164002">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#240">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n164422">name</a></c27><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1378">
</a></c22><br/><ln>&nbsp;1382</ln><a id="1382">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1378">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1378">
</a></c26><br/><ln>&nbsp;1383</ln><a id="1383">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1378">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1384</ln><a id="1384">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1385</ln><a id="1385">&nbsp;</a><a id="n446379"><a id="n446372"><a id="n446376"><a id="n446375"><a id="n446373"><a id="n446374"><a id="n446378"><a id="n446377">&nbsp;</a></a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n102619">None</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1386">pref</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;false</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1386</ln><a id="1386">&nbsp;</a><a id="n446387"><a id="n446381"><a id="n446383"><a id="n446388"><a id="n446385"><a id="n446380"><a id="n446386"><a id="n446384"><a id="n446382">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c22><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1397">pref</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1396">name</a></c20><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;=&nbsp;</a></c13><c21><a href="../../librustc/back/link.rs.html#1226">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1385">pref</a></c26><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1387</ln><a id="1387">&nbsp;</a><a id="n446390"><a id="n446389"><a id="n446391"><a id="n446392">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#213">.err</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#213">"dynamic&nbsp;linking&nbsp;is&nbsp;preferred</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#213">&nbsp;but&nbsp;dependencies&nbsp;were&nbsp;\
</a></c12><br/><ln>&nbsp;1388</ln><a id="1388">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1389</ln><a id="1389">&nbsp;</a><a id="n446393"><a id="n446395"><a id="n446394">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#50">cstore::RequireDynamic</a></c26><c3>,</c3><c14><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c14><c12><a href="../../librustc/back/link.rs.html#1226">"dylib"</a></c12><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1390</ln><a id="1390">&nbsp;</a><a id="n446397"><a id="n446396">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1391</ln><a id="1391">&nbsp;</a><a id="n446398"><a id="n446401"><a id="n446399"><a id="n446400">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#213">"dependencies&nbsp;were&nbsp;not&nbsp;all&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;\
</a></c12><br/><ln>&nbsp;1392</ln><a id="1392">&nbsp;</a>&nbsp;<c12><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1393</ln><a id="1393">&nbsp;</a><a id="n446404"><a id="n446402"><a id="n446403">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c3>,</c3><c14><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c14><c12><a href="../../librustc/back/link.rs.html#1226">"rlib"</a></c12><c4>)</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1394</ln><a id="1394">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1395</ln><a id="1395">&nbsp;</a><a id="n446455"><a id="n446446"><a id="n446428"><a id="n446424"><a id="n446431"><a id="n446409"><a id="n446437"><a id="n446442"><a id="n446412"><a id="n446443"><a id="n446427"><a id="n446415"><a id="n446445"><a id="n446454"><a id="n446444"><a id="n446433"><a id="n446418"><a id="n446457"><a id="n446438"><a id="n446452"><a id="n446435"><a id="n446422"><a id="n446439"><a id="n446405"><a id="n446416"><a id="n446423"><a id="n446432"><a id="n446441"><a id="n446408"><a id="n446453"><a id="n446459"><a id="n446419"><a id="n446407"><a id="n446456"><a id="n446426"><a id="n446434"><a id="n446436"><a id="n446417"><a id="n446429"><a id="n446425"><a id="n446460"><a id="n446458"><a id="n446430"><a id="n446440"><a id="n446406"><a id="n446414"><a id="n446451"><a id="n446464">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#240">.note</a></c10><c4>(</c4><c21><a href="../../librustc/back/link.rs.html#1226">format!</a></c21><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1395">"dependencies&nbsp;not&nbsp;found&nbsp;in&nbsp;the&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1395">`&nbsp;format"</a></c26><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#1226">
</a></c21><br/><ln>&nbsp;1396</ln><a id="1396">&nbsp;</a><a id="n446449"><a id="n446448"><a id="n446450"><a id="n446413"><a id="n446447"><a id="n446410"><a id="n446411">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1386">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1397</ln><a id="1397">&nbsp;</a><a id="n446481"><a id="n446467"><a id="n446483"><a id="n446472"><a id="n446484"><a id="n446469"><a id="n446477"><a id="n446471"><a id="n446482"><a id="n446479"><a id="n446468"><a id="n446474"><a id="n446478"><a id="n446480"><a id="n446476"><a id="n446465"><a id="n446485"><a id="n446470"><a id="n446466"><a id="n446473"><a id="n446475">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c21><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1399">cnum</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1397">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1398">path</a></c20><c4>)</c4><c21><a href="../../libstd/vec.rs.html#n56731">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1386">pref</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c21><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1397">
</a></c22><br/><ln>&nbsp;1398</ln><a id="1398">&nbsp;</a><a id="n446490"><a id="n446487"><a id="n446486"><a id="n446489"><a id="n446488"><a id="n446491">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="../../librustc/back/link.rs.html#1397">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1397">path</a></c26><c10><a href="../../libstd/option.rs.html#n103213">.is_some</a></c10><c4>()</c4><c13><a href="../../librustc/back/link.rs.html#1397">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1397">
</a></c22><br/><ln>&nbsp;1399</ln><a id="1399">&nbsp;</a><a id="n446495"><a id="n446497"><a id="n446493"><a id="n446501"><a id="n446499"><a id="n446492"><a id="n446500"><a id="n446494"><a id="n446498"><a id="n446496">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1400">name</a></c20><c13><a href="../../librustc/back/link.rs.html#1397">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1397">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1397">
</a></c22><br/><ln>&nbsp;1400</ln><a id="1400">&nbsp;</a><a id="n446502"><a id="n446504"><a id="n446505"><a id="n446503">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1335">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#240">.note</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1399">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1397">
</a></c22><br/><ln>&nbsp;1401</ln><a id="1401">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1397">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/vec.rs.html#n56731">
</a></c21><br/><ln>&nbsp;1402</ln><a id="1402">&nbsp;</a>&nbsp;<c21><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c13><a href="../../librustc/back/link.rs.html#1226">
</a></c13><br/><ln>&nbsp;1403</ln><a id="1403">&nbsp;</a>&nbsp;<c13><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1404</ln><a id="1404">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1405</ln><a id="1405">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Converts&nbsp;a&nbsp;library&nbsp;file-stem&nbsp;into&nbsp;a&nbsp;cc&nbsp;-l&nbsp;argument
</c40><br/><ln>&nbsp;1406</ln><a id="1406">&nbsp;</a><a id="n446510"><a id="n446517"><a id="n446518"><a id="n446509"><a id="n446515"><a id="n446521"><a id="n446506"><a id="n446507"><a id="n446512"><a id="n446514"><a id="n446519">&nbsp;</a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1487">&nbsp;unlib</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1407">config</a></c20><c1><a href="../../librustc/back/link.rs.html#1487">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#32">session::Config</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1487">&nbsp;</a></c1><c20><a href="#line1406_col39_refs">stem</a></c20><c1><a href="../../librustc/back/link.rs.html#1487">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1487">&amp;</a></c8><c8><a href="../../librustc/back/link.rs.html#1226">str</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1487">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="../../librustc/back/link.rs.html#1487">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1226">~str</a></c8><c1><a href="../../librustc/back/link.rs.html#1487">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1407</ln><a id="1407">&nbsp;</a><a id="n446527"><a id="n446530"><a id="n446523"><a id="n446524"><a id="n446531"><a id="n446522"><a id="n446525"><a id="n446528"><a id="n446529"><a id="n446526">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1406">stem</a></c26><c10><a href="../../libstd/str.rs.html#n64350">.starts_with</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64350">"lib"</a></c12><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1226">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1406">config</a></c26><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="../../librustc/back/link.rs.html#1226">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14733">abi::OsWin32</a></c26><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1408</ln><a id="1408">&nbsp;</a><a id="n446537"><a id="n446536"><a id="n446532"><a id="n446534"><a id="n446535"><a id="n446533">&nbsp;</a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">stem</a></c26><c10><a href="../../libstd/str.rs.html#n63907">.slice</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n64748">3</a></c12><c3>,</c3><c10><a href="../../libstd/str.rs.html#n63907">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1406">stem</a></c26><c10><a href="../../libstd/str.rs.html#n62808">.len</a></c10><c4>())</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1409</ln><a id="1409">&nbsp;</a><a id="n446538"><a id="n446539">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#1226">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1410</ln><a id="1410">&nbsp;</a><a id="n446540"><a id="n446541">&nbsp;</a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1406">stem</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1411</ln><a id="1411">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1412</ln><a id="1412">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1413</ln><a id="1413">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1414</ln><a id="1414">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Attempts&nbsp;to&nbsp;find&nbsp;all&nbsp;dependencies&nbsp;with&nbsp;a&nbsp;certain&nbsp;linkage&nbsp;preference,
</c40><br/><ln>&nbsp;1415</ln><a id="1415">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;returning&nbsp;`None`&nbsp;if&nbsp;not&nbsp;all&nbsp;libraries&nbsp;could&nbsp;be&nbsp;found&nbsp;with&nbsp;that
</c40><br/><ln>&nbsp;1416</ln><a id="1416">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;preference.
</c40><br/><ln>&nbsp;1417</ln><a id="1417">&nbsp;</a><a id="n446546"><a id="n446542"><a id="n446545"><a id="n446550"><a id="n446543"><a id="n446548"><a id="n446552">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#line1417_col4_refs">&nbsp;get_deps</a></c30><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1420">cstore</a></c20><c1><a href="#line1417_col4_refs">:&nbsp;</a></c1><c8><a href="#line1417_col4_refs">&amp;</a></c8><c8><a href="../../librustc/metadata/cstore.rs.html#69">cstore::CStore</a></c8><c3>,</c3><c1><a href="#line1417_col4_refs">&nbsp;&nbsp;</a></c1><c20><a href="../../librustc/back/link.rs.html#1420">preference</a></c20><c1><a href="#line1417_col4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/metadata/cstore.rs.html#48">cstore::LinkagePreference</a></c8><c4>)</c4><c1><a href="#line1417_col4_refs">
</a></c1><br/><ln>&nbsp;1418</ln><a id="1418">&nbsp;</a><a id="n446557"><a id="n446553"><a id="n446560"><a id="n446555"><a id="n446558">&nbsp;</a></a></a></a></a><c1><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#line1417_col4_refs">&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n102618">Option&lt;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18341">ast::CrateNum</a></c8><c3>,</c3><c8><a href="../../libstd/option.rs.html#n102618">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c8><a href="../../libstd/option.rs.html#n102618">&nbsp;&gt;</a></c8><c1><a href="#line1417_col4_refs">
</a></c1><br/><ln>&nbsp;1419</ln><a id="1419">&nbsp;</a><a id="n446562">&nbsp;</a><c1><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>{</c3><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1420</ln><a id="1420">&nbsp;</a><a id="n446565"><a id="n446564"><a id="n446567"><a id="n446569"><a id="n446563"><a id="n446568"><a id="n446566">&nbsp;</a></a></a></a></a></a></a><c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#line1417_col4_refs">&nbsp;</a></c22><c20><a href="#line1420_col12_refs">crates</a></c20><c13><a href="#line1417_col4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1417">cstore</a></c26><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1417">preference</a></c26><c4>)</c4><c3>;</c3><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1421</ln><a id="1421">&nbsp;</a><a id="n446576"><a id="n446583"><a id="n446574"><a id="n446585"><a id="n446572"><a id="n446584"><a id="n446582"><a id="n446577"><a id="n446581"><a id="n446580"><a id="n446579"><a id="n446578"><a id="n446573"><a id="n446570"><a id="n446571">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#line1417_col4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1420">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c10><nop>.all</nop></c10><c4>(</c4><c1><a href="#line1417_col4_refs">|</a></c1><c20><a href="#line1417_col4_refs">&amp;</a></c20><c4>(</c4><c20><a href="#line1417_col4_refs">_</a></c20><c3>,</c3><c20><a href="#line1417_col4_refs">&nbsp;</a></c20><c20><a href="../../librustc/back/link.rs.html#1421">ref&nbsp;p</a></c20><c4>)</c4><c8><a href="#line1417_col4_refs">|</a></c8><c1><a href="#line1417_col4_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1421">p</a></c8><c22><a href="../../libstd/option.rs.html#n103213">.is_some</a></c22><c4>())</c4><c21><a href="#line1417_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1422</ln><a id="1422">&nbsp;</a><a id="n446588"><a id="n446598"><a id="n446603"><a id="n446599"><a id="n446596"><a id="n446587"><a id="n446601"><a id="n446595"><a id="n446586"><a id="n446592"><a id="n446591"><a id="n446597"><a id="n446594"><a id="n446590"><a id="n446600"><a id="n446589"><a id="n446602">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n102620">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1420">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c10><nop>.map</nop></c10><c4>(</c4><c1><nop>|</nop></c1><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1422">a</a></c20><c3>,</c3><c20><nop>&nbsp;</nop></c20><c20><a href="../../librustc/back/link.rs.html#1422">b</a></c20><c4>)</c4><c8><nop>|</nop></c8><c1><nop>&nbsp;</nop></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1422">a</a></c26><c3>,</c3><c14><nop>&nbsp;</nop></c14><c26><a href="../../librustc/back/link.rs.html#1422">b</a></c26><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()))</c4><c10><nop>.collect</nop></c10><c4>())</c4><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1423</ln><a id="1423">&nbsp;</a><a id="n446605"><a id="n446604">&nbsp;</a></a><c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#line1417_col4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#line1417_col4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1424</ln><a id="1424">&nbsp;</a><a id="n446606">&nbsp;</a><c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n102619">None</a></c26><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1425</ln><a id="1425">&nbsp;</a>&nbsp;<c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#line1417_col4_refs">
</a></c22><br/><ln>&nbsp;1426</ln><a id="1426">&nbsp;</a>&nbsp;<c22><a href="#line1417_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1427</ln><a id="1427">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1428</ln><a id="1428">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Adds&nbsp;the&nbsp;static&nbsp;"rlib"&nbsp;versions&nbsp;of&nbsp;all&nbsp;crates&nbsp;to&nbsp;the&nbsp;command&nbsp;line.
</c40><br/><ln>&nbsp;1429</ln><a id="1429">&nbsp;</a><a id="n446621"><a id="n446611"><a id="n446619"><a id="n446616"><a id="n446608"><a id="n446610"><a id="n446614"><a id="n446624"><a id="n446607"><a id="n446626"><a id="n446613"><a id="n446618"><a id="n446623">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#line1429_col4_refs">&nbsp;add_static_crates</a></c30><c4>(</c4><c20><a href="#line1429_col25_refs">args</a></c20><c13><a href="#line1429_col4_refs">:&nbsp;</a></c13><c8><a href="#line1429_col4_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;~str&gt;</a></c8><c3>,</c3><c13><a href="#line1429_col4_refs">&nbsp;</a></c13><c20><a href="#line1429_col47_refs">sess</a></c20><c13><a href="#line1429_col4_refs">:&nbsp;</a></c13><c8><a href="#line1429_col4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c13><a href="#line1429_col4_refs">&nbsp;</a></c13><c20><a href="../../librustc/back/link.rs.html#1450">tmpdir</a></c20><c13><a href="#line1429_col4_refs">:&nbsp;</a></c13><c8><a href="#line1429_col4_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c3>,</c3><c13><a href="#line1429_col4_refs">
</a></c13><br/><ln>&nbsp;1430</ln><a id="1430">&nbsp;</a><a id="n446631"><a id="n446637"><a id="n446633"><a id="n446630"><a id="n446635"><a id="n446628"><a id="n446636">&nbsp;</a></a></a></a></a></a></a><c13><a href="#line1429_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/back/link.rs.html#1431">crates</a></c20><c13><a href="#line1429_col4_refs">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18341">ast::CrateNum</a></c8><c3>,</c3><c8><a href="#line1429_col4_refs">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c4>)</c4><c13><a href="#line1429_col4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#line1429_col4_refs">
</a></c22><br/><ln>&nbsp;1431</ln><a id="1431">&nbsp;</a><a id="n446646"><a id="n446641"><a id="n446643"><a id="n446639"><a id="n446652"><a id="n446648"><a id="n446644"><a id="n446640"><a id="n446638"><a id="n446642"><a id="n446653"><a id="n446649"><a id="n446651"><a id="n446647"><a id="n446655"><a id="n446654"><a id="n446645"><a id="n446650">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="#line1429_col4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1447">cnum</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#1431">&nbsp;</a></c20><c20><a href="#line1431_col19_refs">cratepath</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1430">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c20><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1431">
</a></c22><br/><ln>&nbsp;1432</ln><a id="1432">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;performing&nbsp;LTO&nbsp;on&nbsp;an&nbsp;executable&nbsp;output,&nbsp;all&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1433</ln><a id="1433">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;bytecode&nbsp;from&nbsp;the&nbsp;upstream&nbsp;libraries&nbsp;has&nbsp;already&nbsp;been
</c40><br/><ln>&nbsp;1434</ln><a id="1434">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;included&nbsp;in&nbsp;our&nbsp;object&nbsp;file&nbsp;output.&nbsp;We&nbsp;need&nbsp;to&nbsp;modify&nbsp;all&nbsp;of
</c40><br/><ln>&nbsp;1435</ln><a id="1435">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;remove&nbsp;their&nbsp;corresponding&nbsp;object
</c40><br/><ln>&nbsp;1436</ln><a id="1436">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file&nbsp;to&nbsp;make&nbsp;sure&nbsp;we&nbsp;don't&nbsp;pull&nbsp;the&nbsp;same&nbsp;code&nbsp;in&nbsp;twice.
</c40><br/><ln>&nbsp;1437</ln><a id="1437">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1438</ln><a id="1438">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;must&nbsp;continue&nbsp;to&nbsp;link&nbsp;to&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;be&nbsp;sure
</c40><br/><ln>&nbsp;1439</ln><a id="1439">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;pull&nbsp;in&nbsp;native&nbsp;static&nbsp;dependencies.&nbsp;As&nbsp;the&nbsp;final&nbsp;caveat,
</c40><br/><ln>&nbsp;1440</ln><a id="1440">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;on&nbsp;linux&nbsp;it&nbsp;is&nbsp;apparently&nbsp;illegal&nbsp;to&nbsp;link&nbsp;to&nbsp;a&nbsp;blank&nbsp;archive,
</c40><br/><ln>&nbsp;1441</ln><a id="1441">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;if&nbsp;an&nbsp;archive&nbsp;no&nbsp;longer&nbsp;has&nbsp;any&nbsp;object&nbsp;files&nbsp;in&nbsp;it&nbsp;after
</c40><br/><ln>&nbsp;1442</ln><a id="1442">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;remove&nbsp;`lib.o`,&nbsp;then&nbsp;don't&nbsp;link&nbsp;against&nbsp;it&nbsp;at&nbsp;all.
</c40><br/><ln>&nbsp;1443</ln><a id="1443">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1444</ln><a id="1444">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;doing&nbsp;LTO,&nbsp;then&nbsp;our&nbsp;job&nbsp;is&nbsp;simply&nbsp;to&nbsp;just&nbsp;link
</c40><br/><ln>&nbsp;1445</ln><a id="1445">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;against&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;1446</ln><a id="1446">&nbsp;</a><a id="n446656"><a id="n446659"><a id="n446657"><a id="n446658">&nbsp;</a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#313">.lto</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1447</ln><a id="1447">&nbsp;</a><a id="n446667"><a id="n446668"><a id="n446669"><a id="n446665"><a id="n446660"><a id="n446666"><a id="n446662"><a id="n446661"><a id="n446663"><a id="n446664">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="#line1447_col20_refs">name</a></c20><c16><a href="../../libstd/option.rs.html#n102619">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#98">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1431">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#41">.name</a></c24><c10><a href="../../libstd/str.rs.html#n66185">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1448</ln><a id="1448">&nbsp;</a><a id="n446682"><a id="n446726"><a id="n446727"><a id="n446709"><a id="n446708"><a id="n446697"><a id="n446672"><a id="n446670"><a id="n446705"><a id="n446686"><a id="n446694"><a id="n446677"><a id="n446713"><a id="n446679"><a id="n446704"><a id="n446673"><a id="n446718"><a id="n446700"><a id="n446683"><a id="n446689"><a id="n446690"><a id="n446706"><a id="n446676"><a id="n446681"><a id="n446715"><a id="n446719"><a id="n446720"><a id="n446731"><a id="n446724"><a id="n446680"><a id="n446675"><a id="n446698"><a id="n446674"><a id="n446725"><a id="n446685"><a id="n446696"><a id="n446678"><a id="n446707"><a id="n446671"><a id="n446701"><a id="n446693"><a id="n446717"><a id="n446692"><a id="n446716"><a id="n446710"><a id="n446702"><a id="n446695"><a id="n446712"><a id="n446699"><a id="n446722"><a id="n446721"><a id="n446714"><a id="n446723"><a id="n446703"><a id="n446684"><a id="n446711"><a id="n446691">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#20">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#295">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c27><c21><a href="../../libstd/option.rs.html#n102619">format!</a></c21><c4>(</c4><c27><a href="../../librustc/back/link.rs.html#1448">"altering&nbsp;</a></c27><c3>{}</c3><c27><a href="../../librustc/back/link.rs.html#1448">.rlib"</a></c27><c3>,</c3><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n164422">name</a></c27><c4>)</c4><c3>,</c3><c27><a href="../../libstd/option.rs.html#n102619">
</a></c27><br/><ln>&nbsp;1449</ln><a id="1449">&nbsp;</a><a id="n446738"><a id="n446732"><a id="n446739"><a id="n446735"><a id="n446741"><a id="n446737"><a id="n446733"><a id="n446736"><a id="n446740">&nbsp;</a></a></a></a></a></a></a></a></a><c27><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c27><c1><a href="../../libstd/option.rs.html#n102619">|</a></c1><c4>()</c4><c8><a href="../../libstd/option.rs.html#n102619">|</a></c8><c1><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1450</ln><a id="1450">&nbsp;</a><a id="n446748"><a id="n446749"><a id="n446746"><a id="n446742"><a id="n446750"><a id="n446745"><a id="n446744"><a id="n446747"><a id="n446743">&nbsp;</a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="#line1450_col24_refs">dst</a></c20><c16><a href="../../libstd/option.rs.html#n102619">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1429">tmpdir</a></c26><c10><nop>.join</nop></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1431">cratepath</a></c26><c10><a href="../../libstd/path/posix.rs.html#n149239">.filename</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1451</ln><a id="1451">&nbsp;</a><a id="n446754"><a id="n446752"><a id="n446751"><a id="n446755"><a id="n446757"><a id="n446753"><a id="n446758"><a id="n446756">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c26><a href="../../libstd/io/fs.rs.html#n134260">fs::copy</a></c26><c4>(</c4><c5><a href="../../libstd/option.rs.html#n102619">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1431">cratepath</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c27><c5><a href="../../libstd/option.rs.html#n102619">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1450">dst</a></c26><c4>)</c4><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c3>{</c3><c13><a href="../../libstd/option.rs.html#n102619">
</a></c13><br/><ln>&nbsp;1452</ln><a id="1452">&nbsp;</a><a id="n446759"><a id="n446761"><a id="n446760">&nbsp;</a></a></a><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104077">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n104077">..</a></c20><c4>)</c4><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c3>{}</c3><c13><a href="../../libstd/option.rs.html#n102619">
</a></c13><br/><ln>&nbsp;1453</ln><a id="1453">&nbsp;</a><a id="n446762"><a id="n446765"><a id="n446763"><a id="n446764">&nbsp;</a></a></a></a><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/result.rs.html#n104081">Err</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1457">e</a></c20><c4>)</c4><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c13><c3>{</c3><c22><a href="../../libstd/vec.rs.html#n56731">
</a></c22><br/><ln>&nbsp;1454</ln><a id="1454">&nbsp;</a><a id="n446819"><a id="n446813"><a id="n446792"><a id="n446766"><a id="n446814"><a id="n446826"><a id="n446801"><a id="n446831"><a id="n446828"><a id="n446856"><a id="n446807"><a id="n446809"><a id="n446788"><a id="n446838"><a id="n446800"><a id="n446825"><a id="n446779"><a id="n446796"><a id="n446791"><a id="n446787"><a id="n446836"><a id="n446835"><a id="n446793"><a id="n446834"><a id="n446783"><a id="n446862"><a id="n446855"><a id="n446859"><a id="n446795"><a id="n446811"><a id="n446797"><a id="n446812"><a id="n446820"><a id="n446823"><a id="n446767"><a id="n446770"><a id="n446824"><a id="n446805"><a id="n446854"><a id="n446810"><a id="n446818"><a id="n446816"><a id="n446832"><a id="n446833"><a id="n446794"><a id="n446798"><a id="n446829"><a id="n446866"><a id="n446853"><a id="n446860"><a id="n446858"><a id="n446839"><a id="n446822"><a id="n446769"><a id="n446803"><a id="n446821"><a id="n446802"><a id="n446799"><a id="n446808"><a id="n446784"><a id="n446815"><a id="n446806"><a id="n446786"><a id="n446861"><a id="n446827"><a id="n446817"><a id="n446830"><a id="n446857"><a id="n446837"><a id="n446804"><a id="n446785"><a id="n446768"><a id="n446840">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#213">.err</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#213">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n164050">"failed&nbsp;to&nbsp;copy&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164050">&nbsp;to&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164050">:&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n164050">"</a></c1><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">
</a></c21><br/><ln>&nbsp;1455</ln><a id="1455">&nbsp;</a><a id="n446773"><a id="n446772"><a id="n446844"><a id="n446780"><a id="n446771"><a id="n446841"><a id="n446843"><a id="n446842">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1431">cratepath</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n166021">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">
</a></c21><br/><ln>&nbsp;1456</ln><a id="1456">&nbsp;</a><a id="n446845"><a id="n446774"><a id="n446776"><a id="n446781"><a id="n446775"><a id="n446847"><a id="n446846"><a id="n446848">&nbsp;</a></a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1450">dst</a></c26><c26><a href="../../librustc/back/link.rs.html#1456">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#213">
</a></c21><br/><ln>&nbsp;1457</ln><a id="1457">&nbsp;</a><a id="n446782"><a id="n446852"><a id="n446777"><a id="n446778"><a id="n446851"><a id="n446850"><a id="n446849">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../librustc/driver/session.rs.html#213">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n166021">e</a></c27><c4>))</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n56731">
</a></c22><br/><ln>&nbsp;1458</ln><a id="1458">&nbsp;</a><a id="n446867"><a id="n446868"><a id="n446869">&nbsp;</a></a></a><c22><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#222">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n56731">
</a></c22><br/><ln>&nbsp;1459</ln><a id="1459">&nbsp;</a>&nbsp;<c22><a href="../../libstd/vec.rs.html#n56731">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../libstd/option.rs.html#n102619">
</a></c13><br/><ln>&nbsp;1460</ln><a id="1460">&nbsp;</a>&nbsp;<c13><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1461</ln><a id="1461">&nbsp;</a><a id="n446870"><a id="n446875"><a id="n446872"><a id="n446873"><a id="n446874"><a id="n446877"><a id="n446876"><a id="n446871">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1466">dst_str</a></c20><c16><a href="../../libstd/vec.rs.html#n56731">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1450">dst</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1462</ln><a id="1462">&nbsp;</a><a id="n446878"><a id="n446883"><a id="n446885"><a id="n446884"><a id="n446879"><a id="n446882"><a id="n446880"><a id="n446881">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c21>mut</c21><c20><a href="#line1462_col24_refs">&nbsp;archive</a></c20><c16><a href="../../libstd/vec.rs.html#n56731">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/archive.rs.html#87">Archive::open</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1429">sess</a></c26><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1450">dst</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1463</ln><a id="1463">&nbsp;</a><a id="n446933"><a id="n446898"><a id="n446903"><a id="n446900"><a id="n446908"><a id="n446892"><a id="n446886"><a id="n446937"><a id="n446920"><a id="n446932"><a id="n446921"><a id="n446890"><a id="n446887"><a id="n446915"><a id="n446904"><a id="n446905"><a id="n446893"><a id="n446926"><a id="n446916"><a id="n446929"><a id="n446906"><a id="n446897"><a id="n446899"><a id="n446914"><a id="n446888"><a id="n446942"><a id="n446891"><a id="n446918"><a id="n446909"><a id="n446922"><a id="n446936"><a id="n446889"><a id="n446895"><a id="n446917"><a id="n446938"><a id="n446923"><a id="n446931"><a id="n446911"><a id="n446896"><a id="n446907"><a id="n446894"><a id="n446912"><a id="n446935"><a id="n446925"><a id="n446928"><a id="n446913"><a id="n446934"><a id="n446930"><a id="n446910"><a id="n446924"><a id="n446927"><a id="n446919">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1462">archive</a></c26><c10><a href="../../librustc/back/archive.rs.html#122">.remove_file</a></c10><c4>(</c4><c21><a href="../../librustc/back/archive.rs.html#122">format!</a></c21><c4>(</c4><c13><a href="../../libstd/fmt/rt.rs.html#n164050">"</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n164050">.o"</a></c13><c3>,</c3><c21><a href="../../librustc/back/archive.rs.html#122">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n164422">name</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1464</ln><a id="1464">&nbsp;</a><a id="n446947"><a id="n446944"><a id="n446946"><a id="n446943"><a id="n446945"><a id="n446948">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1465">files</a></c20><c13><a href="../../libstd/option.rs.html#n102619">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1462">archive</a></c26><c10><a href="../../librustc/back/archive.rs.html#132">.files</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1465</ln><a id="1465">&nbsp;</a><a id="n446956"><a id="n446962"><a id="n446953"><a id="n446950"><a id="n446961"><a id="n446949"><a id="n446959"><a id="n446960"><a id="n446957"><a id="n446958"><a id="n446952"><a id="n446955"><a id="n446951">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1464">files</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c10><nop>.any</nop></c10><c4>(</c4><c1><a href="../../libstd/option.rs.html#n102619">|</a></c1><c20><a href="../../librustc/back/link.rs.html#1465">s</a></c20><c8><a href="../../libstd/option.rs.html#n102619">|</a></c8><c1><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1465">s</a></c8><c22><a href="../../libstd/str.rs.html#n64382">.ends_with</a></c22><c4>(</c4><c12><a href="../../libstd/option.rs.html#n102619">".o"</a></c12><c4>))</c4><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1466</ln><a id="1466">&nbsp;</a><a id="n446963"><a id="n446964"><a id="n446965"><a id="n446966">&nbsp;</a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1461">dst_str</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1467</ln><a id="1467">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1468</ln><a id="1468">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1469</ln><a id="1469">&nbsp;</a><a id="n446968"><a id="n446967">&nbsp;</a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c21>else</c21><c21><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1470</ln><a id="1470">&nbsp;</a><a id="n446970"><a id="n446973"><a id="n446969"><a id="n446971"><a id="n446975"><a id="n446972"><a id="n446974">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1429">args</a></c26><c13><a href="../../libstd/vec.rs.html#n55328">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1431">cratepath</a></c26><c10><nop>.as_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1471</ln><a id="1471">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1431">
</a></c22><br/><ln>&nbsp;1472</ln><a id="1472">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1431">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n102620">
</a></c20><br/><ln>&nbsp;1473</ln><a id="1473">&nbsp;</a>&nbsp;<c20><a href="../../libstd/option.rs.html#n102620">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1474</ln><a id="1474">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1475</ln><a id="1475">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Same&nbsp;thing&nbsp;as&nbsp;above,&nbsp;but&nbsp;for&nbsp;dynamic&nbsp;crates&nbsp;instead&nbsp;of&nbsp;static&nbsp;crates.
</c40><br/><ln>&nbsp;1476</ln><a id="1476">&nbsp;</a><a id="n446990"><a id="n446979"><a id="n446980"><a id="n446987"><a id="n446988"><a id="n446983"><a id="n446977"><a id="n446985"><a id="n446976"><a id="n446982">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1226">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1372">&nbsp;add_dynamic_crates</a></c30><c4>(</c4><c20><a href="#line1476_col26_refs">args</a></c20><c13><a href="../../librustc/back/link.rs.html#1372">:&nbsp;</a></c13><c8><a href="../../librustc/back/link.rs.html#1372">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;~str&gt;</a></c8><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1372">&nbsp;</a></c13><c20><a href="#line1476_col48_refs">sess</a></c20><c13><a href="../../librustc/back/link.rs.html#1372">:&nbsp;</a></c13><c8><a href="../../librustc/back/link.rs.html#1372">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1372">
</a></c13><br/><ln>&nbsp;1477</ln><a id="1477">&nbsp;</a><a id="n446995"><a id="n446999"><a id="n446994"><a id="n446997"><a id="n446992"><a id="n447001"><a id="n447000">&nbsp;</a></a></a></a></a></a></a><c13><a href="../../librustc/back/link.rs.html#1372">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/back/link.rs.html#1482">crates</a></c20><c13><a href="../../librustc/back/link.rs.html#1372">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18341">ast::CrateNum</a></c8><c3>,</c3><c8><a href="../../librustc/back/link.rs.html#1372">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n148566">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n54221">&gt;</a></c8><c13><a href="../../librustc/back/link.rs.html#1372">&nbsp;</a></c13><c4>)</c4><c13><a href="../../librustc/back/link.rs.html#1372">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1372">
</a></c22><br/><ln>&nbsp;1478</ln><a id="1478">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1372">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;performing&nbsp;LTO,&nbsp;then&nbsp;it&nbsp;should&nbsp;have&nbsp;been&nbsp;previously&nbsp;required
</c40><br/><ln>&nbsp;1479</ln><a id="1479">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1372">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;all&nbsp;upstream&nbsp;rust&nbsp;dependencies&nbsp;were&nbsp;available&nbsp;in&nbsp;an&nbsp;rlib&nbsp;format.
</c40><br/><ln>&nbsp;1480</ln><a id="1480">&nbsp;</a><a id="n447006"><a id="n447005"><a id="n447007">&nbsp;</a></a></a><c22><a href="../../librustc/back/link.rs.html#1372">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#1372">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1476">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#313">.lto</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1372">
</a></c22><br/><ln>&nbsp;1481</ln><a id="1481">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1372">
</a></c22><br/><ln>&nbsp;1482</ln><a id="1482">&nbsp;</a><a id="n447082"><a id="n447087"><a id="n447085"><a id="n447081"><a id="n447079"><a id="n447094"><a id="n447090"><a id="n447086"><a id="n447088"><a id="n447091"><a id="n447093"><a id="n447084"><a id="n447083"><a id="n447089"><a id="n447096"><a id="n447080"><a id="n447092"><a id="n447095">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1372">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c5><c4>(</c4><c20><a href="../../libstd/option.rs.html#n102620">_</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c20><c20><a href="#line1482_col16_refs">cratepath</a></c20><c4>)</c4><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;in&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1477">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c5><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c5><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1483</ln><a id="1483">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Just&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;about&nbsp;where&nbsp;the&nbsp;library&nbsp;lives&nbsp;and
</c40><br/><ln>&nbsp;1484</ln><a id="1484">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;what&nbsp;its&nbsp;name&nbsp;is
</c40><br/><ln>&nbsp;1485</ln><a id="1485">&nbsp;</a><a id="n447103"><a id="n447099"><a id="n447102"><a id="n447097"><a id="n447100"><a id="n447098"><a id="n447101">&nbsp;</a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="#line1485_col16_refs">dir</a></c20><c16><a href="../../librustc/back/link.rs.html#1482">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1482">cratepath</a></c26><c10><nop>.dirname_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1486</ln><a id="1486">&nbsp;</a><a id="n447114"><a id="n447112"><a id="n447104"><a id="n447113"><a id="n447115"><a id="n447108"><a id="n447106"><a id="n447107"><a id="n447110"><a id="n447105"><a id="n447109"><a id="n447111">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c5><a href="../../libstd/option.rs.html#n102620">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1485">dir</a></c26><c10><nop>.is_empty</nop></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1476">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n56731">"-L"</a></c12><c5><a href="../../libstd/option.rs.html#n102620">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1485">dir</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102620">&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1487</ln><a id="1487">&nbsp;</a><a id="n447125"><a id="n447119"><a id="n447117"><a id="n447124"><a id="n447122"><a id="n447126"><a id="n447116"><a id="n447123"><a id="n447121"><a id="n447118"><a id="n447120"><a id="n447127">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1488">libarg</a></c20><c13><a href="../../libstd/vec.rs.html#n56731">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1406">unlib</a></c26><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56731">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1476">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.targ_cfg</a></c24><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1482">cratepath</a></c26><c10><nop>.filestem_str</nop></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n103355">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1488</ln><a id="1488">&nbsp;</a><a id="n447128"><a id="n447133"><a id="n447130"><a id="n447129"><a id="n447131"><a id="n447132">&nbsp;</a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1476">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-l"</a></c12><c5><a href="../../libstd/vec.rs.html#n55328">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1487">libarg</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1489</ln><a id="1489">&nbsp;</a>&nbsp;<c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c5><a href="../../libstd/option.rs.html#n102619">
</a></c5><br/><ln>&nbsp;1490</ln><a id="1490">&nbsp;</a>&nbsp;<c5><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1226">
</a></c22><br/><ln>&nbsp;1491</ln><a id="1491">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><ln>&nbsp;1492</ln><a id="1492">&nbsp;</a>&nbsp;<c0>
</c0><br/><ln>&nbsp;1493</ln><a id="1493">&nbsp;</a>&nbsp;<c40>//&nbsp;Link&nbsp;in&nbsp;all&nbsp;of&nbsp;our&nbsp;upstream&nbsp;crates'&nbsp;native&nbsp;dependencies.&nbsp;Remember&nbsp;that
</c40><br/><ln>&nbsp;1494</ln><a id="1494">&nbsp;</a>&nbsp;<c40>//&nbsp;all&nbsp;of&nbsp;these&nbsp;upstream&nbsp;native&nbsp;depenencies&nbsp;are&nbsp;all&nbsp;non-static
</c40><br/><ln>&nbsp;1495</ln><a id="1495">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies.&nbsp;We've&nbsp;got&nbsp;two&nbsp;cases&nbsp;then:
</c40><br/><ln>&nbsp;1496</ln><a id="1496">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1497</ln><a id="1497">&nbsp;</a>&nbsp;<c40>//&nbsp;1.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;an&nbsp;rlib.&nbsp;In&nbsp;this&nbsp;case&nbsp;we&nbsp;*must*&nbsp;link&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;1498</ln><a id="1498">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;native&nbsp;dependency&nbsp;because&nbsp;the&nbsp;rlib&nbsp;is&nbsp;just&nbsp;an&nbsp;archive.
</c40><br/><ln>&nbsp;1499</ln><a id="1499">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1500</ln><a id="1500">&nbsp;</a>&nbsp;<c40>//&nbsp;2.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;a&nbsp;dylib.&nbsp;In&nbsp;order&nbsp;to&nbsp;use&nbsp;the&nbsp;dylib,&nbsp;we&nbsp;have&nbsp;to
</c40><br/><ln>&nbsp;1501</ln><a id="1501">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;the&nbsp;dependency&nbsp;present&nbsp;on&nbsp;the&nbsp;system&nbsp;somewhere.&nbsp;Thus,&nbsp;we&nbsp;don't
</c40><br/><ln>&nbsp;1502</ln><a id="1502">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;gain&nbsp;a&nbsp;whole&nbsp;lot&nbsp;from&nbsp;not&nbsp;linking&nbsp;in&nbsp;the&nbsp;dynamic&nbsp;dependency&nbsp;to&nbsp;this
</c40><br/><ln>&nbsp;1503</ln><a id="1503">&nbsp;</a>&nbsp;<c40>//&nbsp;&nbsp;&nbsp;&nbsp;crate&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1504</ln><a id="1504">&nbsp;</a>&nbsp;<c40>//
</c40><br/><ln>&nbsp;1505</ln><a id="1505">&nbsp;</a>&nbsp;<c40>//&nbsp;The&nbsp;use&nbsp;case&nbsp;for&nbsp;this&nbsp;is&nbsp;a&nbsp;little&nbsp;subtle.&nbsp;In&nbsp;theory&nbsp;the&nbsp;native
</c40><br/><ln>&nbsp;1506</ln><a id="1506">&nbsp;</a>&nbsp;<c40>//&nbsp;dependencies&nbsp;of&nbsp;a&nbsp;crate&nbsp;are&nbsp;purely&nbsp;an&nbsp;implementation&nbsp;detail&nbsp;of&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1507</ln><a id="1507">&nbsp;</a>&nbsp;<c40>//&nbsp;itself,&nbsp;but&nbsp;the&nbsp;problem&nbsp;arises&nbsp;with&nbsp;generic&nbsp;and&nbsp;inlined&nbsp;functions.&nbsp;If&nbsp;a
</c40><br/><ln>&nbsp;1508</ln><a id="1508">&nbsp;</a>&nbsp;<c40>//&nbsp;generic&nbsp;function&nbsp;calls&nbsp;a&nbsp;native&nbsp;function,&nbsp;then&nbsp;the&nbsp;generic&nbsp;function&nbsp;must
</c40><br/><ln>&nbsp;1509</ln><a id="1509">&nbsp;</a>&nbsp;<c40>//&nbsp;be&nbsp;instantiated&nbsp;in&nbsp;the&nbsp;target&nbsp;crate,&nbsp;meaning&nbsp;that&nbsp;the&nbsp;native&nbsp;symbol&nbsp;must
</c40><br/><ln>&nbsp;1510</ln><a id="1510">&nbsp;</a><a id="n447134">&nbsp;</a><c40>//&nbsp;also&nbsp;be&nbsp;resolved&nbsp;in&nbsp;the&nbsp;target&nbsp;crate.
</c40><br/><ln>&nbsp;1511</ln><a id="1511">&nbsp;</a><a id="n447145"><a id="n447144"><a id="n447147"><a id="n447136"><a id="n447137"><a id="n447148"><a id="n447142"><a id="n447149"><a id="n447139"><a id="n447140">&nbsp;</a></a></a></a></a></a></a></a></a></a><c30>fn</c30><c30><a href="../../librustc/back/link.rs.html#1228">&nbsp;add_upstream_native_libraries</a></c30><c4>(</c4><c20><a href="#line1511_col33_refs">args</a></c20><c1><a href="../../librustc/back/link.rs.html#1228">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1228">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n54221">Vec&lt;~str&gt;</a></c8><c3>,</c3><c1><a href="../../librustc/back/link.rs.html#1228">&nbsp;</a></c1><c20><a href="#line1511_col55_refs">sess</a></c20><c1><a href="../../librustc/back/link.rs.html#1228">:&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1228">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#177">Session</a></c8><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1228">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1228">
</a></c22><br/><ln>&nbsp;1512</ln><a id="1512">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Be&nbsp;sure&nbsp;to&nbsp;use&nbsp;a&nbsp;topological&nbsp;sorting&nbsp;of&nbsp;crates&nbsp;becuase&nbsp;there&nbsp;may&nbsp;be
</c40><br/><ln>&nbsp;1513</ln><a id="1513">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;interdependencies&nbsp;between&nbsp;native&nbsp;libraries.&nbsp;When&nbsp;passing&nbsp;-nodefaultlibs,
</c40><br/><ln>&nbsp;1514</ln><a id="1514">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;for&nbsp;example,&nbsp;almost&nbsp;all&nbsp;native&nbsp;libraries&nbsp;depend&nbsp;on&nbsp;libc,&nbsp;so&nbsp;we&nbsp;have&nbsp;to
</c40><br/><ln>&nbsp;1515</ln><a id="1515">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;make&nbsp;sure&nbsp;that's&nbsp;all&nbsp;the&nbsp;way&nbsp;at&nbsp;the&nbsp;right&nbsp;(liblibc&nbsp;is&nbsp;near&nbsp;the&nbsp;base&nbsp;of
</c40><br/><ln>&nbsp;1516</ln><a id="1516">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;dependency&nbsp;chain).
</c40><br/><ln>&nbsp;1517</ln><a id="1517">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1518</ln><a id="1518">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;passes&nbsp;RequireStatic,&nbsp;but&nbsp;the&nbsp;actual&nbsp;requirement&nbsp;doesn't&nbsp;matter,
</c40><br/><ln>&nbsp;1519</ln><a id="1519">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we're&nbsp;just&nbsp;getting&nbsp;an&nbsp;ordering&nbsp;of&nbsp;crate&nbsp;numbers,&nbsp;we're&nbsp;not&nbsp;worried&nbsp;about
</c40><br/><ln>&nbsp;1520</ln><a id="1520">&nbsp;</a>&nbsp;<c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;paths.
</c40><br/><ln>&nbsp;1521</ln><a id="1521">&nbsp;</a><a id="n447151"><a id="n447157"><a id="n447150"><a id="n447153"><a id="n447152"><a id="n447156"><a id="n447154"><a id="n447155">&nbsp;</a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1522">crates</a></c20><c13><a href="../../librustc/back/link.rs.html#1228">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1511">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#151">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#51">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1228">
</a></c22><br/><ln>&nbsp;1522</ln><a id="1522">&nbsp;</a><a id="n447159"><a id="n447171"><a id="n447166"><a id="n447170"><a id="n447169"><a id="n447161"><a id="n447172"><a id="n447168"><a id="n447160"><a id="n447164"><a id="n447174"><a id="n447173"><a id="n447162"><a id="n447175"><a id="n447167"><a id="n447158"><a id="n447165"><a id="n447163">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../librustc/back/link.rs.html#1228">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../librustc/back/link.rs.html#1522">&nbsp;</a></c21><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1523">cnum</a></c20><c3>,</c3><c20><a href="../../libstd/vec.rs.html#n56731">&nbsp;_</a></c20><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#1522">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1521">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n55531">.move_iter</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#1522">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1523</ln><a id="1523">&nbsp;</a><a id="n447180"><a id="n447182"><a id="n447184"><a id="n447178"><a id="n447177"><a id="n447181"><a id="n447179"><a id="n447185"><a id="n447176"><a id="n447183">&nbsp;</a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;</a></c22><c20><a href="../../librustc/back/link.rs.html#1524">libs</a></c20><c13><a href="../../libstd/option.rs.html#n102620">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/csearch.rs.html#240">csearch::get_native_libraries</a></c26><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n56731">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1511">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#181">.cstore</a></c24><c3>,</c3><c27><a href="../../libstd/vec.rs.html#n56731">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1522">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n102619">
</a></c22><br/><ln>&nbsp;1524</ln><a id="1524">&nbsp;</a><a id="n447194"><a id="n447203"><a id="n447192"><a id="n447191"><a id="n447199"><a id="n447196"><a id="n447204"><a id="n447198"><a id="n447201"><a id="n447189"><a id="n447202"><a id="n447186"><a id="n447187"><a id="n447193"><a id="n447197"><a id="n447188"><a id="n447190"><a id="n447195"><a id="n447200">&nbsp;</a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a></a><c22><a href="../../libstd/option.rs.html#n102619">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1524">&nbsp;</a></c26><c20><a href="../../libstd/slice.rs.html#n52840">&amp;</a></c20><c4>(</c4><c20><a href="../../librustc/back/link.rs.html#1525">kind</a></c20><c3>,</c3><c20><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c20><c20><a href="#line1524_col20_refs">ref&nbsp;lib</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#1524">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1523">libs</a></c26><c10><a href="../../libstd/vec.rs.html#n55623">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1524">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1525</ln><a id="1525">&nbsp;</a><a id="n447205"><a id="n447206">&nbsp;</a></a><c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1524">kind</a></c26><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;1526</ln><a id="1526">&nbsp;</a><a id="n447208"><a id="n447207"><a id="n447210"><a id="n447209"><a id="n447212"><a id="n447213"><a id="n447211">&nbsp;</a></a></a></a></a></a></a><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#58">cstore::NativeUnknown</a></c20><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1511">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n55328">"-l"</a></c12><c5><a href="../../libstd/vec.rs.html#n55328">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1524">lib</a></c26><c4>)</c4><c3>,</c3><c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;1527</ln><a id="1527">&nbsp;</a><a id="n447214"><a id="n447216"><a id="n447215">&nbsp;</a></a></a><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#57">cstore::NativeFramework</a></c20><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1528</ln><a id="1528">&nbsp;</a><a id="n447219"><a id="n447217"><a id="n447221"><a id="n447220"><a id="n447218">&nbsp;</a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1511">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c12><a href="../../libstd/slice.rs.html#n52840">"-framework"</a></c12><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1529</ln><a id="1529">&nbsp;</a><a id="n447222"><a id="n447226"><a id="n447224"><a id="n447225"><a id="n447223">&nbsp;</a></a></a></a></a><c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1511">args</a></c26><c10><a href="../../libstd/vec.rs.html#n55328">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1524">lib</a></c26><c10><a href="../../libstd/str.rs.html#n64748">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1530</ln><a id="1530">&nbsp;</a>&nbsp;<c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;1531</ln><a id="1531">&nbsp;</a><a id="n447229"><a id="n447228"><a id="n447227">&nbsp;</a></a></a><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#56">cstore::NativeStatic</a></c20><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1532</ln><a id="1532">&nbsp;</a><a id="n447231"><a id="n447232"><a id="n447230"><a id="n447233">&nbsp;</a></a></a></a><c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1511">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#246">.bug</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#246">"statics&nbsp;shouldn't&nbsp;be&nbsp;propagated"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1533</ln><a id="1533">&nbsp;</a>&nbsp;<c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n52840">
</a></c21><br/><ln>&nbsp;1534</ln><a id="1534">&nbsp;</a>&nbsp;<c21><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/slice.rs.html#n52840">
</a></c22><br/><ln>&nbsp;1535</ln><a id="1535">&nbsp;</a>&nbsp;<c22><a href="../../libstd/slice.rs.html#n52840">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1524">
</a></c26><br/><ln>&nbsp;1536</ln><a id="1536">&nbsp;</a>&nbsp;<c26><a href="../../librustc/back/link.rs.html#1524">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1522">
</a></c21><br/><ln>&nbsp;1537</ln><a id="1537">&nbsp;</a>&nbsp;<c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><br/><a id="line892_col73_refs"><c43>librustc/back/link.rs:892:73-892:73&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#892"><pr>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
<br/>fn&nbsp;link_rlib&lt;'a&gt;(sess:&nbsp;&amp;'a&nbsp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans:&nbsp;Option&lt;&amp;CrateTranslation&gt;,&nbsp;//&nbsp;None&nbsp;==&nbsp;no&nbsp;metadata/bytecode
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#1000"><c40>999:&nbsp;</c40><c2>fn&nbsp;link_staticlib(sess:&nbsp;&amp;Session,&nbsp;obj_filename:&nbsp;&amp;Path,&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;{
</c2><br/><c41>1000:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;a&nbsp;=&nbsp;link_rlib(sess,&nbsp;None,&nbsp;obj_filename,&nbsp;out_filename);
</c1><br/><c40>1001:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;a.add_native_library("morestack").unwrap();
</c2><br/></a><a href="../../librustc/back/link.rs.html#871"></a><br/><br/><a id="line1029_col40_refs"><c43>librustc/back/link.rs:1029:40-1029:40&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#1029"><pr>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
<br/>fn&nbsp;link_natively(sess:&nbsp;&amp;Session,&nbsp;dylib:&nbsp;bool,&nbsp;obj_filename:&nbsp;&amp;Path,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#877"><c40>876:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session::CrateTypeExecutable&nbsp;=&gt;&nbsp;{
</c2><br/><c41>877:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;false,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
</c1><br/><c40>878:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><a href="../../librustc/back/link.rs.html#880"><c40>879:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;session::CrateTypeDylib&nbsp;=&gt;&nbsp;{
</c2><br/><c41>880:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;true,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
</c1><br/><c40>881:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><br/><br/><a id="line721_col1_refs"><c43>librustc/back/link.rs:721:1-721:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#721"><pr>pub&nbsp;fn&nbsp;mangle_internal_name_by_path_and_seq(path:&nbsp;PathElems,&nbsp;flav:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path.chain(Some(gensym_name(flav)).move_iter()),&nbsp;None,&nbsp;None)
<br/>}
<br/></pr></a></a><c43>references:-&nbsp;3</c43><br/><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#445"><c40>444:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;name&nbsp;=&nbsp;ty::with_path(tcx,&nbsp;def_id,&nbsp;|path|&nbsp;{
</c2><br/><c41>445:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"as_closure")
</c1><br/><c40>446:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;});
</c2><br/></a><a href="../../librustc/middle/trans/reflect.rs.html"><c40>librustc/middle/trans/reflect.rs:<br/></c40></a><a href="../../librustc/middle/trans/reflect.rs.html#290"><c40>289:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;make_get_disr&nbsp;=&nbsp;||&nbsp;{
</c2><br/><c41>290:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sym&nbsp;=&nbsp;mangle_internal_name_by_path_and_seq(
</c1><br/><c40>291:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ast_map::Values([].iter()).chain(None),&nbsp;"get_disr");
</c2><br/></a><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#387"><c40>386:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s&nbsp;=&nbsp;tcx.map.with_path(id,&nbsp;|path|&nbsp;{
</c2><br/><c41>387:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"closure")
</c1><br/><c40>388:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;});
</c2><br/></a><br/><br/><a id="line69_col1_refs"><c43>librustc/back/link.rs:69:1-69:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#69"><pr>pub&nbsp;fn&nbsp;WriteOutputFile(
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target:&nbsp;lib::llvm::TargetMachineRef,
<br/></pr></a></a><c43>references:-&nbsp;3</c43><br/><a href="../../librustc/back/link.rs.html#322"><c40>321:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.with_extension("metadata.o");
</c2><br/><c41>322:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,
</c1><br/><c40>323:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans.metadata_module,&nbsp;&amp;out,
</c2><br/></a><a href="../../librustc/back/link.rs.html#312"></a><a href="../../librustc/back/link.rs.html#294"></a><br/><br/><a id="line516_col1_refs"><c43>librustc/back/link.rs:516:1-516:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#516"><pr>pub&nbsp;fn&nbsp;find_crate_id(attrs:&nbsp;&amp;[ast::Attribute],&nbsp;out_filestem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;CrateId&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;attr::find_crateid(attrs)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;from_str(out_filestem).unwrap(),
<br/></pr></a></a><c43>references:-&nbsp;5</c43><br/><a href="../../librustc/back/link.rs.html#535"><c40>534:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;r&nbsp;=&nbsp;LinkMeta&nbsp;{
</c2><br/><c41>535:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;find_crate_id(krate.attrs.as_slice(),&nbsp;out_filestem),
</c1><br/><c40>536:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crate_hash:&nbsp;Svh::calculate(krate),
</c2><br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#505"><c40>504:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;krate:&nbsp;&amp;ast::Crate)&nbsp;-&gt;&nbsp;io::IoResult&lt;()&gt;&nbsp;{
</c2><br/><c41>505:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;outputs.out_filestem);
</c1><br/></a>--<br/><a href="../../librustc/driver/driver.rs.html#670"><c40>669:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;krate&nbsp;=&nbsp;phase_1_parse_input(&amp;sess,&nbsp;cfg,&nbsp;input);
</c2><br/><c41>670:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;input.filestem());
</c1><br/></a><a href="../../librustc/driver/driver.rs.html#572"></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#321"><c40>320:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attrs.as_slice(),&nbsp;&amp;sess);
</c2><br/><c41>321:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(attrs.as_slice(),&nbsp;t_outputs.out_filestem);
</c1><br/></a><br/><br/><a id="line729_col1_refs"><c43>librustc/back/link.rs:729:1-729:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#729"><pr>pub&nbsp;fn&nbsp;get_cc_prog(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;sess.opts.cg.linker&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(ref&nbsp;linker)&nbsp;=&gt;&nbsp;return&nbsp;linker.to_owned(),
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#1034"><c40>1033:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;invocations&nbsp;of&nbsp;cc&nbsp;share&nbsp;some&nbsp;flags&nbsp;across&nbsp;platforms
</c2><br/><c41>1034:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc_prog&nbsp;=&nbsp;get_cc_prog(sess);
</c1><br/><c40>1035:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;cc_args&nbsp;=&nbsp;sess.targ_cfg.target_strs.cc_args.clone();
</c2><br/></a><a href="../../librustc/back/link.rs.html#338"></a><br/><br/><a id="line253_col12_refs"><c43>librustc/back/link.rs:253:12-253:12&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#253"><pr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;with_codegen(tm:&nbsp;TargetMachineRef,&nbsp;llmod:&nbsp;ModuleRef,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f:&nbsp;|PassManagerRef|)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;4</c43><br/><a href="../../librustc/back/link.rs.html#319"><c40>318:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;needs_metadata&nbsp;{
</c2><br/><c41>319:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;trans.metadata_module,&nbsp;|cpm|&nbsp;{
</c1><br/><c40>320:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out&nbsp;=&nbsp;output.temp_path(OutputTypeObject)
</c2><br/></a><a href="../../librustc/back/link.rs.html#311"></a><a href="../../librustc/back/link.rs.html#293"></a><a href="../../librustc/back/link.rs.html#276"></a><br/><br/><a id="line630_col1_refs"><c43>librustc/back/link.rs:630:1-630:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#630"><pr>pub&nbsp;fn&nbsp;mangle&lt;PI:&nbsp;Iterator&lt;PathElem&gt;&gt;(mut&nbsp;path:&nbsp;PI,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash:&nbsp;Option&lt;&amp;str&gt;,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vers:&nbsp;Option&lt;&amp;str&gt;)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;4</c43><br/><a href="../../librustc/back/link.rs.html#682"><c41>682:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path,&nbsp;Some(hash),&nbsp;Some(vers.as_slice()))
</c1><br/><c40>683:&nbsp;</c40><c2>}
</c2><br/></a>--<br/><a href="../../librustc/back/link.rs.html#719"><c40>718:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
</c2><br/><c41>719:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;mangle(ast_map::Values(path.iter()),&nbsp;Some(hash.as_slice()),&nbsp;None)
</c1><br/><c40>720:&nbsp;</c40><c2>}
</c2><br/></a>--<br/><a href="../../librustc/back/link.rs.html#723"><c40>722:&nbsp;</c40><c2>pub&nbsp;fn&nbsp;mangle_internal_name_by_path_and_seq(path:&nbsp;PathElems,&nbsp;flav:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c2><br/><c41>723:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path.chain(Some(gensym_name(flav)).move_iter()),&nbsp;None,&nbsp;None)
</c1><br/><c40>724:&nbsp;</c40><c2>}
</c2><br/></a><a href="../../librustc/middle/trans/foreign.rs.html"><c40>librustc/middle/trans/foreign.rs:<br/></c40></a><a href="../../librustc/middle/trans/foreign.rs.html#530"><c40>529:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;abi&nbsp;=&nbsp;Some(ast_map::PathName(special_idents::clownshoe_abi.name));
</c2><br/><c41>530:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::mangle(path.chain(abi.move_iter()),&nbsp;None,&nbsp;None)
</c1><br/><c40>531:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;});
</c2><br/></a><br/><br/><a id="line1429_col4_refs"><c43>librustc/back/link.rs:1429:4-1429:4&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#1429"><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;add_static_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,&nbsp;tmpdir:&nbsp;&amp;Path,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crates:&nbsp;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(cnum,&nbsp;cratepath)&nbsp;in&nbsp;crates.move_iter()&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#1360"><c40>1359:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(_,&nbsp;Some(deps),&nbsp;false,&nbsp;false)&nbsp;=&gt;&nbsp;{
</c2><br/><c41>1360:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
</c1><br/><c40>1361:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a>--<br/><a href="../../librustc/back/link.rs.html#1369"><c40>1368:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sess.warn("linking&nbsp;statically&nbsp;instead,&nbsp;using&nbsp;rlibs");
</c2><br/><c41>1369:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
</c1><br/><c40>1370:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><br/><br/><a id="line48_col47_refs"><c43>librustc/back/link.rs:48:47-48:47&nbsp;-enum-&nbsp;definition:<br/></c43><a href="#48"><pr>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;OutputTypeBitcode,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;OutputTypeAssembly,
<br/></pr></a></a><c43>references:-&nbsp;17</c43><br/><a href="../../librustc/back/link.rs.html#48"><c40>49:&nbsp;</c40><c2>pub&nbsp;enum&nbsp;OutputType&nbsp;{
</c2><br/></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/back/link.rs.html#48"></a>--<br/><a href="../../librustc/back/link.rs.html#129"><c40>128:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans:&nbsp;&amp;CrateTranslation,
</c2><br/><c41>129:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_types:&nbsp;&amp;[OutputType],
</c1><br/><c40>130:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output:&nbsp;&amp;OutputFilenames)&nbsp;{
</c2><br/></a><a href="../../librustc/back/link.rs.html#48"></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#1143"><c40>1142:&nbsp;</c40><c2>impl&nbsp;OutputFilenames&nbsp;{
</c2><br/><c41>1143:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
</c1><br/><c40>1144:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;self.single_output_file&nbsp;{
</c2><br/></a><a href="../../librustc/driver/session.rs.html"><c40>librustc/driver/session.rs:<br/></c40></a><a href="../../librustc/driver/session.rs.html#135"><c40>134:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;lint_opts:&nbsp;Vec&lt;(lint::Lint,&nbsp;lint::level)&gt;&nbsp;,
</c2><br/><c41>135:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;output_types:&nbsp;Vec&lt;back::link::OutputType&gt;&nbsp;,
</c1><br/><c40>136:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;was&nbsp;mutable&nbsp;for&nbsp;rustpkg,&nbsp;which&nbsp;updates&nbsp;search&nbsp;paths&nbsp;based&nbsp;on&nbsp;the
</c2><br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#1151"><c41>1151:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;temp_path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
</c1><br/><c40>1152:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;base&nbsp;=&nbsp;self.out_directory.join(self.out_filestem.as_slice());
</c2><br/></a><br/><br/><a id="line127_col4_refs"><c43>librustc/back/link.rs:127:4-127:4&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#127"><pr>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;run_passes(sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans:&nbsp;&amp;CrateTranslation,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_types:&nbsp;&amp;[OutputType],
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#447"><c40>446:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time(sess.time_passes(),&nbsp;"LLVM&nbsp;passes",&nbsp;(),&nbsp;|_|
</c2><br/><c41>447:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_passes(sess,
</c1><br/><c40>448:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans,
</c2><br/></a><a href="../../librustc/driver/driver.rs.html#437"></a><br/><br/><a id="line711_col1_refs"><c43>librustc/back/link.rs:711:1-711:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#711"><pr>pub&nbsp;fn&nbsp;mangle_internal_name_by_type_and_seq(ccx:&nbsp;&amp;CrateContext,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t:&nbsp;ty::t,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/middle/trans/glue.rs.html"><c40>librustc/middle/trans/glue.rs:<br/></c40></a><a href="../../librustc/middle/trans/glue.rs.html#436"><c40>435:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;_icx&nbsp;=&nbsp;push_ctxt("declare_generic_glue");
</c2><br/><c41>436:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fn_nm&nbsp;=&nbsp;mangle_internal_name_by_type_and_seq(ccx,&nbsp;t,&nbsp;"glue_".to_owned()&nbsp;+&nbsp;name);
</c1><br/><c40>437:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;debug!("{}&nbsp;is&nbsp;for&nbsp;type&nbsp;{}",&nbsp;fn_nm,&nbsp;ppaux::ty_to_str(ccx.tcx(),&nbsp;t));
</c2><br/></a><a href="../../librustc/middle/trans/glue.rs.html#409"></a><br/><br/><a id="line808_col1_refs"><c43>librustc/back/link.rs:808:1-808:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#808"><pr>fn&nbsp;is_writeable(p:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;p.stat()&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Err(..)&nbsp;=&gt;&nbsp;true,
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#858"><c40>857:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;We&nbsp;should&nbsp;be&nbsp;consistent.
</c2><br/><c41>858:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;obj_is_writeable&nbsp;=&nbsp;is_writeable(&amp;obj_filename);
</c1><br/><c40>859:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_is_writeable&nbsp;=&nbsp;is_writeable(&amp;out_filename);
</c2><br/></a><a href="../../librustc/back/link.rs.html#859"><c40>860:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!out_is_writeable&nbsp;{
</c2><br/></a><br/><br/><a id="line775_col1_refs"><c43>librustc/back/link.rs:775:1-775:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#775"><pr>fn&nbsp;remove(sess:&nbsp;&amp;Session,&nbsp;path:&nbsp;&amp;Path)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;fs::unlink(path)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ok(..)&nbsp;=&gt;&nbsp;{}
<br/></pr></a></a><c43>references:-&nbsp;5</c43><br/><a href="../../librustc/back/link.rs.html#970"><c40>969:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!sess.opts.output_types.contains(&amp;OutputTypeBitcode)&nbsp;{
</c2><br/><c41>970:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;bc);
</c1><br/><c40>971:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><a href="../../librustc/back/link.rs.html#947"></a><a href="../../librustc/back/link.rs.html#967"></a><a href="../../librustc/back/link.rs.html#801"></a><a href="../../librustc/back/link.rs.html#803"></a><br/><br/><a id="line650_col4_refs"><c43>librustc/back/link.rs:650:4-650:4&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#650"><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;push(n:&nbsp;&amp;mut&nbsp;StrBuf,&nbsp;s:&nbsp;&amp;str)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sani&nbsp;=&nbsp;sanitize(s);
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.push_str(format!("{}{}",&nbsp;sani.len(),&nbsp;sani));
<br/></pr></a></a><c43>references:-&nbsp;3</c43><br/><a href="../../librustc/back/link.rs.html#661"><c40>660:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;hash&nbsp;{
</c2><br/><c41>661:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
</c1><br/><c40>662:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;{}
</c2><br/></a>--<br/><a href="../../librustc/back/link.rs.html#665"><c40>664:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;vers&nbsp;{
</c2><br/><c41>665:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
</c1><br/><c40>666:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;{}
</c2><br/></a><a href="../../librustc/back/link.rs.html#657"></a><br/><br/><a id="line1417_col4_refs"><c43>librustc/back/link.rs:1417:4-1417:4&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#1417"><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;get_deps(cstore:&nbsp;&amp;cstore::CStore,&nbsp;&nbsp;preference:&nbsp;cstore::LinkagePreference)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Option&lt;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;&nbsp;&gt;
<br/>&nbsp;&nbsp;&nbsp;&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#1356"><c41>1356:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;dynamic&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireDynamic);
</c1><br/><c40>1357:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;statik&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireStatic);
</c2><br/></a><a href="../../librustc/back/link.rs.html#1357"><c40>1358:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;(dynamic,&nbsp;statik,&nbsp;sess.opts.cg.prefer_dynamic,&nbsp;dylib)&nbsp;{
</c2><br/></a><br/><br/><a id="line672_col1_refs"><c43>librustc/back/link.rs:672:1-672:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#672"><pr>pub&nbsp;fn&nbsp;exported_name(path:&nbsp;PathElems,&nbsp;hash:&nbsp;&amp;str,&nbsp;vers:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;version&nbsp;will&nbsp;get&nbsp;mangled&nbsp;to&nbsp;have&nbsp;a&nbsp;leading&nbsp;'_',&nbsp;but&nbsp;it&nbsp;makes&nbsp;more
<br/>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;sense&nbsp;to&nbsp;lead&nbsp;with&nbsp;a&nbsp;'v'&nbsp;b/c&nbsp;this&nbsp;is&nbsp;a&nbsp;version...
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#707"><c41>707:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;exported_name(path,
</c1><br/><c40>708:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash.as_slice(),
</c2><br/></a><a href="../../librustc/middle/trans/monomorphize.rs.html"><c40>librustc/middle/trans/monomorphize.rs:<br/></c40></a><a href="../../librustc/middle/trans/monomorphize.rs.html#181"><c40>180:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;s&nbsp;=&nbsp;ccx.tcx.map.with_path(fn_id.node,&nbsp;|path|&nbsp;{
</c2><br/><c41>181:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exported_name(path,&nbsp;format!("h{}",&nbsp;sip::hash(&amp;(hash_id,&nbsp;mono_ty))),
</c1><br/><c40>182:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ccx.link_meta.crateid.version_or_default())
</c2><br/></a><br/><br/><a id="line523_col1_refs"><c43>librustc/back/link.rs:523:1-523:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#523"><pr>pub&nbsp;fn&nbsp;crate_id_hash(crate_id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;This&nbsp;calculates&nbsp;CMH&nbsp;as&nbsp;defined&nbsp;above.&nbsp;Note&nbsp;that&nbsp;we&nbsp;don't&nbsp;use&nbsp;the&nbsp;path&nbsp;of
<br/>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;the&nbsp;crate&nbsp;id&nbsp;in&nbsp;the&nbsp;hash&nbsp;because&nbsp;lookups&nbsp;are&nbsp;only&nbsp;done&nbsp;by&nbsp;(name/vers),
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#727"><c40>726:&nbsp;</c40><c2>pub&nbsp;fn&nbsp;output_lib_filename(id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c2><br/><c41>727:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;format!("{}-{}-{}",&nbsp;id.name,&nbsp;crate_id_hash(id),&nbsp;id.version_or_default())
</c1><br/><c40>728:&nbsp;</c40><c2>}
</c2><br/></a><a href="../../librustc/metadata/creader.rs.html"><c40>librustc/metadata/creader.rs:<br/></c40></a><a href="../../librustc/metadata/creader.rs.html#287"><c40>286:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;=&gt;&nbsp;{
</c2><br/><c41>287:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id_hash&nbsp;=&nbsp;link::crate_id_hash(crate_id);
</c1><br/><c40>288:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;load_ctxt&nbsp;=&nbsp;loader::Context&nbsp;{
</c2><br/></a><br/><br/><a id="line756_col1_refs"><c43>librustc/back/link.rs:756:1-756:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#756"><pr>fn&nbsp;get_system_tool(sess:&nbsp;&amp;Session,&nbsp;tool:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;sess.targ_cfg.os&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abi::OsAndroid&nbsp;=&gt;&nbsp;match&nbsp;sess.opts.cg.android_cross_path&nbsp;{
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#754"><c41>754:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;get_system_tool(sess,&nbsp;"ar")
</c1><br/><c40>755:&nbsp;</c40><c2>}
</c2><br/></a><a href="../../librustc/back/link.rs.html#745"></a><br/><br/><a id="line56_col1_refs"><c43>librustc/back/link.rs:56:1-56:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#56"><pr>pub&nbsp;fn&nbsp;llvm_err(sess:&nbsp;&amp;Session,&nbsp;msg:&nbsp;~str)&nbsp;-&gt;&nbsp;!&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cstr&nbsp;=&nbsp;llvm::LLVMRustGetLastError();
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#82"><c40>81:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;!result&nbsp;{
</c2><br/><c41>82:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llvm_err(sess,&nbsp;"could&nbsp;not&nbsp;write&nbsp;output".to_owned());
</c1><br/><c40>83:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><a href="../../librustc/back/lto.rs.html"><c40>librustc/back/lto.rs:<br/></c40></a><a href="../../librustc/back/lto.rs.html#69"><c40>68:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bc.len()&nbsp;as&nbsp;libc::size_t)&nbsp;{
</c2><br/><c41>69:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::llvm_err(sess,&nbsp;format!("failed&nbsp;to&nbsp;load&nbsp;bc&nbsp;of&nbsp;`{}`",&nbsp;name));
</c1><br/><c40>70:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><br/><br/><a id="line815_col1_refs"><c43>librustc/back/link.rs:815:1-815:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#815"><pr>pub&nbsp;fn&nbsp;filename_for_input(sess:&nbsp;&amp;Session,&nbsp;crate_type:&nbsp;session::CrateType,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id:&nbsp;&amp;CrateId,&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libname&nbsp;=&nbsp;output_lib_filename(id);
<br/></pr></a></a><c43>references:-&nbsp;3</c43><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#513"><c40>512:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;output&nbsp;in&nbsp;sess.crate_types.borrow().iter()&nbsp;{
</c2><br/><c41>513:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;link::filename_for_input(sess,&nbsp;*output,&nbsp;&amp;id,&nbsp;&amp;file);
</c1><br/><c40>514:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out_filenames.push(p);
</c2><br/></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#333"><c40>332:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;&amp;style&nbsp;in&nbsp;crate_types.iter()&nbsp;{
</c2><br/><c41>333:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fname&nbsp;=&nbsp;link::filename_for_input(&amp;sess,&nbsp;style,&nbsp;&amp;id,
</c1><br/><c40>334:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;t_outputs.with_extension(""));
</c2><br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#850"><c40>849:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_filename&nbsp;=&nbsp;outputs.path(OutputTypeExe);
</c2><br/><c41>850:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename_for_input(sess,&nbsp;crate_type,&nbsp;id,&nbsp;&amp;out_filename)
</c1><br/><c40>851:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
</c2><br/></a><br/><br/><a id="line541_col1_refs"><c43>librustc/back/link.rs:541:1-541:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#541"><pr>fn&nbsp;truncated_hash_result(symbol_hasher:&nbsp;&amp;mut&nbsp;Sha256)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;output&nbsp;=&nbsp;symbol_hasher.result_bytes();
<br/>&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;64&nbsp;bits&nbsp;should&nbsp;be&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#530"><c40>529:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;s.input_str(crate_id.short_name_with_version());
</c2><br/><c41>530:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;truncated_hash_result(&amp;mut&nbsp;s).slice_to(8).to_owned()
</c1><br/><c40>531:&nbsp;</c40><c2>}
</c2><br/></a>--<br/><a href="../../librustc/back/link.rs.html#566"><c40>565:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;StrBuf::from_str("h");
</c2><br/><c41>566:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;hash.push_str(truncated_hash_result(symbol_hasher));
</c1><br/><c40>567:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;hash.into_owned()
</c2><br/></a><br/><br/><a id="line569_col1_refs"><c43>librustc/back/link.rs:569:1-569:1&nbsp;-fn-&nbsp;definition:<br/></c43><a href="#569"><pr>fn&nbsp;get_symbol_hash(ccx:&nbsp;&amp;CrateContext,&nbsp;t:&nbsp;ty::t)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;ccx.type_hashcodes.borrow().find(&amp;t)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(h)&nbsp;=&gt;&nbsp;return&nbsp;h.to_str(),
<br/></pr></a></a><c43>references:-&nbsp;2</c43><br/><a href="../../librustc/back/link.rs.html#687"><c40>686:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t:&nbsp;ty::t,&nbsp;id:&nbsp;ast::NodeId)&nbsp;-&gt;&nbsp;~str&nbsp;{
</c2><br/><c41>687:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;StrBuf::from_owned_str(get_symbol_hash(ccx,&nbsp;t));
</c1><br/></a>--<br/><a href="../../librustc/back/link.rs.html#718"><c40>717:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gensym_name(name)];
</c2><br/><c41>718:&nbsp;</c41><c1>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
</c1><br/><c40>719:&nbsp;</c40><c2>&nbsp;&nbsp;&nbsp;&nbsp;mangle(ast_map::Values(path.iter()),&nbsp;Some(hash.as_slice()),&nbsp;None)
</c2><br/></a></div></maintext></div></body>