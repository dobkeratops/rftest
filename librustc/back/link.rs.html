<head><link href="../../css/shCore.css" rel="stylesheet" type="text/css"/><link href="../../css/shThemeDefault.css" rel="stylesheet" type="text/css"/><link href="../../css/sourcestyle.css" rel="stylesheet" type="text/css"/></head><body><div><maintext><div><fileblock><br/>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../index.html">(index&lt;-&nbsp;)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="./../../">&nbsp;&nbsp;&nbsp;&nbsp;./</a><c0><a href="./../../librustc/">librustc</a></c0><c1>/</c1><c0><a href="./../../librustc/back/">back</a></c0><c1>/</c1><c0><a href="./../../librustc/back/link.rs.html">link.rs</a></c0><br/><br/></fileblock></div><ln>&nbsp;&nbsp;&nbsp;&nbsp;1</ln><a id="1">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Copyright&nbsp;2012-2014&nbsp;The&nbsp;Rust&nbsp;Project&nbsp;Developers.&nbsp;See&nbsp;the&nbsp;COPYRIGHT
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;2</ln><a id="2">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;file&nbsp;at&nbsp;the&nbsp;top-level&nbsp;directory&nbsp;of&nbsp;this&nbsp;distribution&nbsp;and&nbsp;at
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;3</ln><a id="3">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://rust-lang.org/COPYRIGHT.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;4</ln><a id="4">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;5</ln><a id="5">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Licensed&nbsp;under&nbsp;the&nbsp;Apache&nbsp;License,&nbsp;Version&nbsp;2.0&nbsp;&lt;LICENSE-APACHE&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;6</ln><a id="6">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;http://www.apache.org/licenses/LICENSE-2.0&gt;&nbsp;or&nbsp;the&nbsp;MIT&nbsp;license
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;7</ln><a id="7">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&lt;LICENSE-MIT&nbsp;or&nbsp;http://opensource.org/licenses/MIT&gt;,&nbsp;at&nbsp;your
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;8</ln><a id="8">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;option.&nbsp;This&nbsp;file&nbsp;may&nbsp;not&nbsp;be&nbsp;copied,&nbsp;modified,&nbsp;or&nbsp;distributed
</c40><br/><ln>&nbsp;&nbsp;&nbsp;&nbsp;9</ln><a id="9">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;except&nbsp;according&nbsp;to&nbsp;those&nbsp;terms.
</c40><br/><ln>&nbsp;&nbsp;&nbsp;10</ln><a id="10">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;11</ln><a id="11">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;back::archive::</c0><c3>{</c3><c0>Archive</c0><c3>,</c3><c0>&nbsp;METADATA_FILENAME</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;12</ln><a id="12">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;back::rpath</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;13</ln><a id="13">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;back::svh::Svh</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;14</ln><a id="14">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;driver::driver::</c0><c3>{</c3><c0>CrateTranslation</c0><c3>,</c3><c0>&nbsp;OutputFilenames</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;15</ln><a id="15">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;driver::session::</c0><c3>{</c3><c0>NoDebugInfo</c0><c3>,</c3><c0>&nbsp;Session</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;16</ln><a id="16">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;driver::session</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;17</ln><a id="17">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib::llvm::llvm</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;18</ln><a id="18">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib::llvm::ModuleRef</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;19</ln><a id="19">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;lib</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;20</ln><a id="20">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;metadata::common::LinkMeta</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;21</ln><a id="21">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;metadata::</c0><c3>{</c3><c0>encoder</c0><c3>,</c3><c0>&nbsp;cstore</c0><c3>,</c3><c0>&nbsp;filesearch</c0><c3>,</c3><c0>&nbsp;csearch</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;22</ln><a id="22">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::context::CrateContext</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;23</ln><a id="23">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::trans::common::gensym_name</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;24</ln><a id="24">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;middle::ty</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;25</ln><a id="25">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;util::common::time</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;26</ln><a id="26">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;util::ppaux</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;27</ln><a id="27">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;util::sha2::</c0><c3>{</c3><c0>Digest</c0><c3>,</c3><c0>&nbsp;Sha256</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;28</ln><a id="28">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;29</ln><a id="29">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::c_str::</c0><c3>{</c3><c0>ToCStr</c0><c3>,</c3><c0>&nbsp;CString</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;30</ln><a id="30">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::char</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;31</ln><a id="31">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::os::consts::</c0><c3>{</c3><c0>macos</c0><c3>,</c3><c0>&nbsp;freebsd</c0><c3>,</c3><c0>&nbsp;linux</c0><c3>,</c3><c0>&nbsp;android</c0><c3>,</c3><c0>&nbsp;win32</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;32</ln><a id="32">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::ptr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;33</ln><a id="33">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::str</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;34</ln><a id="34">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::io</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;35</ln><a id="35">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;std::io::</c0><c3>{</c3><c0>fs</c0><c3>,</c3><c0>&nbsp;TempDir</c0><c3>,</c3><c0>&nbsp;Process</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;36</ln><a id="36">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;flate</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;37</ln><a id="37">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;serialize::hex::ToHex</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;38</ln><a id="38">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::abi</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;39</ln><a id="39">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::ast</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;40</ln><a id="40">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::ast_map::</c0><c3>{</c3><c0>PathElem</c0><c3>,</c3><c0>&nbsp;PathElems</c0><c3>,</c3><c0>&nbsp;PathName</c0><c3>};</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;41</ln><a id="41">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::ast_map</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;42</ln><a id="42">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::attr</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;43</ln><a id="43">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::attr::AttrMetaMethods</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;44</ln><a id="44">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::crateid::CrateId</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;45</ln><a id="45">&nbsp;</a><a id="n[]">&nbsp;</a><c21>use</c21><c0>&nbsp;syntax::parse::token</c0><c3>;</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;46</ln><a id="46">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;47</ln><a id="47">&nbsp;</a><a id="n[438054, 437810, 438011, 438009, 437777, 437674, 437735, 437769, 437759, 438107, 438114, 438238, 438205, 438225, 438052, 438200, 437988, 437671, 438247, 438235, 437663, 438145, 438127, 438140, 437858, 437981, 437846, 438242, 437691, 438148, 437913, 438028, 437652, 438223, 437738, 438198, 438221, 438002, 437713, 438080, 437697, 438146, 437668, 437870, 437739, 437797, 438156, 437924, 437862, 437956, 437825, 438222, 437804, 438208, 437976, 438240, 438045, 438041, 438185, 438061, 437781, 437836, 437794, 438236, 438117, 437792, 437802, 438036, 438213, 437724, 437899, 437693, 437741, 438182, 438177, 437896, 437910, 438220, 437653, 437969, 438184, 438109, 437770, 437984, 437895, 438168, 437703, 438137, 437736, 437773, 438037, 438125, 438051, 437731, 438103, 438206, 437767, 438043, 438075, 437891, 438126, 438113, 437708, 437799, 437678, 438189, 438066, 438022, 438204, 438073, 437681, 438033, 438032, 438120, 437861, 437660, 438006, 438181, 437879, 437866, 437931, 437719, 437711, 437867, 438020, 438089, 437838, 438035, 437816, 438099, 438190, 437967, 437757, 437994, 437747, 438217, 437871, 438025, 438083, 437940, 437882, 437749, 437687, 437650, 437721, 437868, 438166, 438244, 437755, 437990, 437676, 438142, 438159, 437680, 437853, 437656, 438169, 437662, 437917, 437764, 437752, 438135, 437974, 437970, 438110, 438141, 438024, 437958, 437820, 437761, 437938, 437923, 437808, 437885, 437960, 438097, 437953, 438150, 438216, 437688, 438018, 437729, 438219, 437832, 438129, 437935, 437998, 437786, 438211, 438234, 437983, 437814, 438094, 438077, 438091, 437790, 437909, 437665, 437669, 438201, 437710, 437643, 437950, 437980, 437855, 438180, 437666, 438188, 438192, 437962, 438143, 438000, 437750, 437765, 437657, 437766, 438233, 437783, 437796, 438108, 437875, 437684, 437788, 438101, 437827, 437763, 437696, 438246, 438175, 438096, 438224, 437943, 437873, 437903, 437952, 438193, 437848, 437672, 437813, 437919, 438063, 437955, 438231, 438055, 437929, 438087, 437948, 437947, 438093, 437725, 437912, 437811, 438105, 437699, 437901, 438203, 437889, 437852, 438172, 437824, 437839, 438047, 438031, 437907, 437727, 437927, 438153, 437658, 438158, 438132, 437780, 437842, 437722, 438122, 437937, 437926, 438065, 437649, 438040, 437997, 437715, 437964, 438154, 438049, 437800, 437677, 437995, 438057, 437689, 437782, 437946, 438176, 437822, 438016, 437818, 438082, 437753, 438069, 438214, 438162, 438228, 438149, 437881, 437707, 437841, 438195, 437834, 438179, 438151, 437939, 438133, 437692, 438227, 438212, 437701, 437830, 437743, 438161, 437675, 437717, 438124, 438167, 438121, 438111, 437951, 438138, 437966, 437893, 437915, 437898, 437933, 438164, 438130, 437972, 437921, 437978, 437992, 438004, 438008, 437905, 438187, 438012, 438079, 438197, 438165, 437887, 438014, 437844, 438038, 437745, 437806, 438209, 438068, 437659, 437865, 437785, 438023, 438196, 437828, 437877, 437705, 437850, 437694, 438071, 438134, 437733, 437884, 438157, 437986, 437863, 437776, 437778, 438059, 437854, 438085]">&nbsp;</a><c50>#</c50><c3>[</c3><c50>deriving</c50><c4>(</c4><c50><a href="../../librustc/back/link.rs.html#47">Clone</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libstd/cmp.rs.html#n75286">Eq</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="#47_22_refs">Ord</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../libstd/cmp.rs.html#n75373">TotalOrd</a></c50><c3>,</c3><c50>&nbsp;</c50><c50><a href="../../librustc/back/link.rs.html#47">TotalEq</a></c50><c4>)</c4><c3>]</c3><c50>
</c50><br/><ln>&nbsp;&nbsp;&nbsp;48</ln><a id="48">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c34><a href="#47_47_refs">&nbsp;</a></c34><c34>enum</c34><c34><a href="#47_47_refs">&nbsp;OutputType&nbsp;</a></c34><c3>{</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;49</ln><a id="49">&nbsp;</a><a id="n[437957, 437985, 437726, 437886, 438070, 437784, 438042, 437869, 438237, 438131, 437872, 437843, 437801, 437971, 438128, 437644, 437928, 438013, 437698, 437999, 437900, 437914, 437661, 438039, 437815, 437695, 437754, 438084, 437787, 438056, 437712, 438183, 437954, 437740, 437829, 438098, 438186]">&nbsp;</a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;50</ln><a id="50">&nbsp;</a><a id="n[438053, 437714, 437930, 437959, 438086, 438100, 437664, 437742, 437700, 438058, 437789, 438001, 438072, 437874, 437831, 437888, 438191, 438194, 437916, 437709, 437803, 438015, 438139, 437973, 438136, 437968, 437756, 437987, 438239, 437798, 437883, 437645, 437902, 437817, 437845, 438044, 437728]">&nbsp;</a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;51</ln><a id="51">&nbsp;</a><a id="n[438241, 438067, 438102, 437918, 437890, 437805, 437812, 438074, 438088, 438017, 437723, 437847, 437982, 438003, 437897, 437758, 437791, 437702, 437833, 438202, 437876, 438199, 438060, 437975, 437730, 437667, 437961, 437819, 437989, 437716, 437904, 438144, 437932, 437744, 438046, 437646, 438147]">&nbsp;</a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeLlvmAssembly</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;52</ln><a id="52">&nbsp;</a><a id="n[437647, 437991, 437826, 437911, 438090, 437835, 437793, 438081, 437906, 437746, 438019, 438062, 437704, 437670, 437963, 437934, 438005, 437977, 437996, 437821, 438155, 437849, 438076, 437892, 437920, 438210, 437737, 437718, 437732, 437807, 438152, 438207, 437760, 438243, 437878, 438104, 438048]">&nbsp;</a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;53</ln><a id="53">&nbsp;</a><a id="n[437748, 437880, 438010, 438163, 438160, 437648, 437795, 438106, 438021, 438215, 437925, 437706, 437673, 437922, 438050, 437751, 437823, 438064, 437734, 437840, 437720, 438092, 437894, 438218, 437965, 437979, 438245, 437993, 437809, 437851, 437837, 438007, 438078, 438095, 437908, 437936, 437762]">&nbsp;</a><c34><a href="#47_47_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c34><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c20><c3>,</c3><c34><a href="#47_47_refs">
</a></c34><br/><ln>&nbsp;&nbsp;&nbsp;54</ln><a id="54">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;55</ln><a id="55">&nbsp;</a><a id="n[438248]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;56</ln><a id="56">&nbsp;</a><a id="n[438253, 438259, 438260, 438257, 438251, 438258, 438252, 438256]">&nbsp;</a><c21>pub</c21><c1><a href="#55_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#55_1_refs">&nbsp;llvm_err</a></c30><c4>(</c4><c20><a href="#56_16_refs">sess</a></c20><c1><a href="#55_1_refs">:&nbsp;</a></c1><c8><a href="#55_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#55_1_refs">&nbsp;</a></c1><c20><a href="#56_32_refs">msg</a></c20><c1><a href="#55_1_refs">:&nbsp;</a></c1><c8><a href="#55_1_refs">~str</a></c8><c4>)</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#55_1_refs">&nbsp;</a></c1><c8><a href="#55_1_refs">!</a></c8><c1><a href="#55_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;57</ln><a id="57">&nbsp;</a><a id="n[438267, 438305]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;58</ln><a id="58">&nbsp;</a><a id="n[438265, 438266, 438263, 438261, 438264, 438262]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#58_12_refs">cstr</a></c20><c16><a href="#55_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=520422">llvm::LLVMRustGetLastError</a></c26><c4>()</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;59</ln><a id="59">&nbsp;</a><a id="n[438271, 438304, 438270, 438276, 438269, 438268]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#55_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#58">cstr</a></c26><c5><a href="#55_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/ptr.rs.html#n71597">ptr::null</a></c26><c4>()</c4><c21><a href="#55_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;60</ln><a id="60">&nbsp;</a><a id="n[438275, 438274, 438272, 438273]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#56">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#56">msg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;61</ln><a id="61">&nbsp;</a><a id="n[438302, 438303]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#55_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#55_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;62</ln><a id="62">&nbsp;</a><a id="n[438281, 438282, 438278, 438280, 438283, 438277, 438279, 438284]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#62_16_refs">err</a></c20><c13><a href="#55_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/c_str.rs.html#n131653">CString::new</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#58">cstr</a></c26><c3>,</c3><c27><a href="#55_1_refs">&nbsp;</a></c27><c12><a href="#55_1_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;63</ln><a id="63">&nbsp;</a><a id="n[438287, 438289, 438288, 438285, 438290, 438291, 438286, 438292]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#55_1_refs">&nbsp;</a></c22><c20><a href="#63_16_refs">err</a></c20><c13><a href="#55_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/str.rs.html#n62813">str::from_utf8_lossy</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#62">err</a></c26><c10><a href="../../libstd/c_str.rs.html#n131790">.as_bytes</a></c10><c4>())</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;64</ln><a id="64">&nbsp;</a><a id="n[438295, 438293, 438297, 438300, 438301, 438298, 438299, 438296, 438294]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#56">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#56">msg</a></c26><c5><a href="../../librustc/driver/session.rs.html#205">&nbsp;+&nbsp;</a></c5><c12><a href="#55_1_refs">":&nbsp;"</a></c12><c5><a href="../../librustc/driver/session.rs.html#205">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#63">err</a></c26><c10><a href="../../libstd/str.rs.html#n63621">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;65</ln><a id="65">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;66</ln><a id="66">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#55_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#55_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;67</ln><a id="67">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;68</ln><a id="68">&nbsp;</a><a id="n[438306]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;69</ln><a id="69">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c1><a href="#68_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#68_1_refs">&nbsp;WriteOutputFile</a></c30><c4>(</c4><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;70</ln><a id="70">&nbsp;</a><a id="n[438310, 438309, 438311]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#70_8_refs">sess</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="#68_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;71</ln><a id="71">&nbsp;</a><a id="n[438314, 438315]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#71_8_refs">target</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#258">lib::llvm::TargetMachineRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;72</ln><a id="72">&nbsp;</a><a id="n[438319, 438318]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#72_8_refs">pm</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#244">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;73</ln><a id="73">&nbsp;</a><a id="n[438323, 438322]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#73_8_refs">m</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#228">ModuleRef</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;74</ln><a id="74">&nbsp;</a><a id="n[438327, 438328, 438326]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#74_8_refs">output</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="#68_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#68_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;&nbsp;75</ln><a id="75">&nbsp;</a><a id="n[438331, 438332, 438334, 438333]">&nbsp;</a><c1><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#75_8_refs">file_type</a></c20><c1><a href="#68_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#179">lib::llvm::FileType</a></c8><c4>)</c4><c1><a href="#68_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;76</ln><a id="76">&nbsp;</a><a id="n[438367, 438335]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#68_1_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;77</ln><a id="77">&nbsp;</a><a id="n[438338, 438341, 438364, 438336, 438339, 438366, 438365, 438353, 438340]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#74">output</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c1><c20><a href="#77_27_refs">output</a></c20><c8><a href="#68_1_refs">|</a></c8><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c1><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;78</ln><a id="78">&nbsp;</a><a id="n[438343, 438342, 438352, 438351, 438344, 438345]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#68_1_refs">&nbsp;</a></c22><c20><a href="#78_16_refs">result</a></c20><c13><a href="#68_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=521422">llvm::LLVMRustWriteOutputFile</a></c26><c4>(</c4><c27><a href="#68_1_refs">
</a></c27><br/><ln>&nbsp;&nbsp;&nbsp;79</ln><a id="79">&nbsp;</a><a id="n[438346, 438347, 438349, 438348, 438350]">&nbsp;</a><c27><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#71">target</a></c26><c3>,</c3><c27><a href="#68_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#72">pm</a></c26><c3>,</c3><c27><a href="#68_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#73">m</a></c26><c3>,</c3><c27><a href="#68_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#77">output</a></c26><c3>,</c3><c27><a href="#68_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#75">file_type</a></c26><c4>)</c4><c3>;</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;80</ln><a id="80">&nbsp;</a><a id="n[438363, 438355, 438362, 438354]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#68_1_refs">&nbsp;</a></c21><c5><a href="#68_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#78">result</a></c26><c21><a href="#68_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;81</ln><a id="81">&nbsp;</a><a id="n[438360, 438357, 438361, 438356, 438359, 438358]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#55">llvm_err</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#70">sess</a></c26><c3>,</c3><c13><a href="#68_1_refs">&nbsp;</a></c13><c16><a href="#68_1_refs">~</a></c16><c12><a href="#68_1_refs">"could&nbsp;not&nbsp;write&nbsp;output"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;82</ln><a id="82">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;83</ln><a id="83">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;84</ln><a id="84">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#68_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#68_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;&nbsp;85</ln><a id="85">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;86</ln><a id="86">&nbsp;</a><a id="n[438368]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;&nbsp;87</ln><a id="87">&nbsp;</a><a id="n[]">&nbsp;</a><c21>pub</c21><c38>&nbsp;</c38><c21>mod</c21><c38>&nbsp;write&nbsp;</c38><c3>{</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;88</ln><a id="88">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;89</ln><a id="89">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::lto</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;90</ln><a id="90">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>WriteOutputFile</c38><c3>,</c3><c38>&nbsp;OutputType</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;91</ln><a id="91">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeAssembly</c38><c3>,</c3><c38>&nbsp;OutputTypeBitcode</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;92</ln><a id="92">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeExe</c38><c3>,</c3><c38>&nbsp;OutputTypeLlvmAssembly</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;93</ln><a id="93">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;back::link::</c38><c3>{</c3><c38>OutputTypeObject</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;94</ln><a id="94">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::driver::</c38><c3>{</c3><c38>CrateTranslation</c38><c3>,</c3><c38>&nbsp;OutputFilenames</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;95</ln><a id="95">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session::</c38><c3>{</c3><c38>NoDebugInfo</c38><c3>,</c3><c38>&nbsp;Session</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;96</ln><a id="96">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;driver::session</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;97</ln><a id="97">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::llvm</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;98</ln><a id="98">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib::llvm::</c38><c3>{</c3><c38>ModuleRef</c38><c3>,</c3><c38>&nbsp;TargetMachineRef</c38><c3>,</c3><c38>&nbsp;PassManagerRef</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;&nbsp;99</ln><a id="99">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;lib</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;100</ln><a id="100">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;util::common::time</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;101</ln><a id="101">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;syntax::abi</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;102</ln><a id="102">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;103</ln><a id="103">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::c_str::ToCStr</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;104</ln><a id="104">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::io::Process</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;105</ln><a id="105">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::libc::</c38><c3>{</c3><c38>c_uint</c38><c3>,</c3><c38>&nbsp;c_int</c38><c3>};</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;106</ln><a id="106">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>use</c21><c38>&nbsp;std::str</c38><c3>;</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;107</ln><a id="107">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;108</ln><a id="108">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;On&nbsp;android,&nbsp;we&nbsp;by&nbsp;default&nbsp;compile&nbsp;for&nbsp;armv7&nbsp;processors.&nbsp;This&nbsp;enables
</c40><br/><ln>&nbsp;&nbsp;109</ln><a id="109">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;things&nbsp;like&nbsp;double&nbsp;word&nbsp;CAS&nbsp;instructions&nbsp;(rather&nbsp;than&nbsp;emulating&nbsp;them)
</c40><br/><ln>&nbsp;&nbsp;110</ln><a id="110">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;which&nbsp;are&nbsp;*far*&nbsp;more&nbsp;efficient.&nbsp;This&nbsp;is&nbsp;obviously&nbsp;undesirable&nbsp;in&nbsp;some
</c40><br/><ln>&nbsp;&nbsp;111</ln><a id="111">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;cases,&nbsp;so&nbsp;if&nbsp;any&nbsp;sort&nbsp;of&nbsp;target&nbsp;feature&nbsp;is&nbsp;specified&nbsp;we&nbsp;don't&nbsp;append&nbsp;v7
</c40><br/><ln>&nbsp;&nbsp;112</ln><a id="112">&nbsp;</a><a id="n[]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c40>//&nbsp;to&nbsp;the&nbsp;feature&nbsp;list.
</c40><br/><ln>&nbsp;&nbsp;113</ln><a id="113">&nbsp;</a><a id="n[438413, 438403, 438409, 438415, 438408, 438412, 438407]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c30>fn</c30><c30><a href="#113_4_refs">&nbsp;target_feature</a></c30><c5><a href="#113_4_refs">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#113_26_refs">sess</a></c20><c1><a href="#113_4_refs">:&nbsp;</a></c1><c8><a href="#113_4_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#113_4_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#113_4_refs">&nbsp;</a></c1><c8><a href="#113_4_refs">&amp;'a&nbsp;str</a></c8><c1><a href="#113_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;114</ln><a id="114">&nbsp;</a><a id="n[438417, 438418, 438444, 438416]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;115</ln><a id="115">&nbsp;</a><a id="n[438420, 438437, 438419]">&nbsp;</a><c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14463">abi::OsAndroid</a></c20><c21><a href="#113_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;116</ln><a id="116">&nbsp;</a><a id="n[438424, 438421, 438436, 438423, 438427, 438426, 438425, 438422]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c12><a href="#113_4_refs">""</a></c12><c5><a href="#113_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.target_feature</a></c24><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;117</ln><a id="117">&nbsp;</a><a id="n[438428]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#113_4_refs">"+v7"</a></c12><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;118</ln><a id="118">&nbsp;</a><a id="n[438435, 438429]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#113_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#113_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;119</ln><a id="119">&nbsp;</a><a id="n[438433, 438432, 438434, 438430, 438431]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>()</c4><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;120</ln><a id="120">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;121</ln><a id="121">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;122</ln><a id="122">&nbsp;</a><a id="n[438443, 438441, 438439, 438438, 438440, 438442]">&nbsp;</a><c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#113_4_refs">_</a></c20><c21><a href="#113_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#113_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#113">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.target_feature</a></c24><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>()</c4><c21><a href="#113_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;123</ln><a id="123">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#113_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;124</ln><a id="124">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#113_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;125</ln><a id="125">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;126</ln><a id="126">&nbsp;</a><a id="n[438450, 438445, 438449, 438448]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="#126_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#126_4_refs">&nbsp;run_passes</a></c30><c4>(</c4><c20><a href="#126_22_refs">sess</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;127</ln><a id="127">&nbsp;</a><a id="n[438454, 438455, 438453]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#127_22_refs">trans</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#409">CrateTranslation</a></c8><c3>,</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;128</ln><a id="128">&nbsp;</a><a id="n[438461, 438460, 438459, 438458]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#128_22_refs">output_types</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../librustc/back/link.rs.html#47">OutputType</a></c8><c3>],</c3><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;129</ln><a id="129">&nbsp;</a><a id="n[438464, 438465, 438480, 438467, 438466]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#129_22_refs">output</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1126">OutputFilenames</a></c8><c4>)</c4><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;130</ln><a id="130">&nbsp;</a><a id="n[438469, 438470, 438468, 438472, 438473, 438471]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#130_12_refs">llmod</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#412">.module</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;131</ln><a id="131">&nbsp;</a><a id="n[438476, 438479, 438478, 438477, 438475, 438474]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#131_12_refs">llcx</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#411">.context</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;132</ln><a id="132">&nbsp;</a><a id="n[439301, 439309]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;133</ln><a id="133">&nbsp;</a><a id="n[438482, 438481, 438483, 438484]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#351">configure_llvm</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;134</ln><a id="134">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;135</ln><a id="135">&nbsp;</a><a id="n[438488, 438485, 438508, 438507, 438489, 438486, 438487]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.save_temps</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;136</ln><a id="136">&nbsp;</a><a id="n[438490, 438495, 438506, 438503, 438504, 438494, 438497, 438496, 438491, 438505, 438492]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1153">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/astconv.rs.html#143">"no-opt.bc"</a></c12><c4>)</c4><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c1><c20><a href="#136_63_refs">buf</a></c20><c8><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c8><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;137</ln><a id="137">&nbsp;</a><a id="n[438501, 438498, 438499, 438500, 438502]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519804">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#136">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;138</ln><a id="138">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;139</ln><a id="139">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;140</ln><a id="140">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;141</ln><a id="141">&nbsp;</a><a id="n[438512, 438509, 438523, 438510, 438513, 438524, 438511, 438514]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#141_16_refs">opt_level</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#126_4_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;142</ln><a id="142">&nbsp;</a><a id="n[438516, 438515]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#110">session::No</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#203">lib::llvm::CodeGenLevelNone</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;143</ln><a id="143">&nbsp;</a><a id="n[438518, 438517]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#111">session::Less</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelLess</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;144</ln><a id="144">&nbsp;</a><a id="n[438519, 438520]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelDefault</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;145</ln><a id="145">&nbsp;</a><a id="n[438522, 438521]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelAggressive</a></c26><c3>,</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;146</ln><a id="146">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;147</ln><a id="147">&nbsp;</a><a id="n[438531, 438529, 438528, 438525, 438527, 438526, 438532, 438530]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#147_16_refs">use_softfp</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.soft_float</a></c24><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;148</ln><a id="148">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;149</ln><a id="149">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11906:&nbsp;Omitting&nbsp;frame&nbsp;pointers&nbsp;breaks&nbsp;retrieving&nbsp;the&nbsp;value&nbsp;of&nbsp;a&nbsp;parameter.
</c40><br/><ln>&nbsp;&nbsp;150</ln><a id="150">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME:&nbsp;#11954:&nbsp;mac64&nbsp;unwinding&nbsp;may&nbsp;not&nbsp;work&nbsp;with&nbsp;fp&nbsp;elim
</c40><br/><ln>&nbsp;&nbsp;151</ln><a id="151">&nbsp;</a><a id="n[438534, 438540, 438537, 438539, 438555, 438533, 438538, 438541, 438535, 438536, 438554]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#151_16_refs">no_fp_elim</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#131">.debuginfo</a></c24><c5><a href="#126_4_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#118">NoDebugInfo</a></c26><c4>)</c4><c1><a href="#126_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;152</ln><a id="152">&nbsp;</a><a id="n[438546, 438542, 438545, 438552, 438544, 438543, 438553]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#126_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c26><c1><a href="#126_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;153</ln><a id="153">&nbsp;</a><a id="n[438547, 438548, 438550, 438549, 438551]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#35">.arch</a></c24><c5><a href="#126_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14894">abi::X86_64</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;154</ln><a id="154">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;155</ln><a id="155">&nbsp;</a><a id="n[438562, 438565, 438561, 438558, 438556, 438564, 438608, 438566, 438605, 438559, 438567, 438607, 438606, 438568, 438560, 438557]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#155_16_refs">tm</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#17">.target_triple</a></c24><c10><a href="../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#155_73_refs">t</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;156</ln><a id="156">&nbsp;</a><a id="n[438602, 438570, 438575, 438577, 438578, 438574, 438576, 438603, 438571, 438604, 438569, 438572]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.target_cpu</a></c24><c10><a href="../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="#126_4_refs">|</a></c1><c20><a href="#156_52_refs">cpu</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;157</ln><a id="157">&nbsp;</a><a id="n[438587, 438585, 438580, 438599, 438579, 438584, 438600, 438583, 438586, 438581, 438601]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#113">target_feature</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c4>)</c4><c10><a href="../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="#126_4_refs">|</a></c1><c20><a href="#157_53_refs">features</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;158</ln><a id="158">&nbsp;</a><a id="n[438588, 438598]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521330">llvm::LLVMRustCreateTargetMachine</a></c26><c4>(</c4><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;159</ln><a id="159">&nbsp;</a><a id="n[438589, 438591, 438590]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#155">t</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#156">cpu</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#157">features</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;160</ln><a id="160">&nbsp;</a><a id="n[438592]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#219">lib::llvm::CodeModelDefault</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;161</ln><a id="161">&nbsp;</a><a id="n[438593]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#213">lib::llvm::RelocPIC</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;162</ln><a id="162">&nbsp;</a><a id="n[438594]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#141">opt_level</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;163</ln><a id="163">&nbsp;</a><a id="n[438595]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#126_4_refs">true</a></c12><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;164</ln><a id="164">&nbsp;</a><a id="n[438596]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#147">use_softfp</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;165</ln><a id="165">&nbsp;</a><a id="n[438597]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#151">no_fp_elim</a></c26><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;166</ln><a id="166">&nbsp;</a><a id="n[]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;167</ln><a id="167">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;168</ln><a id="168">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;169</ln><a id="169">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;170</ln><a id="170">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;171</ln><a id="171">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;two&nbsp;optimizing&nbsp;pass&nbsp;managers.&nbsp;These&nbsp;mirror&nbsp;what&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;172</ln><a id="172">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;does,&nbsp;and&nbsp;are&nbsp;by&nbsp;populated&nbsp;by&nbsp;LLVM's&nbsp;default&nbsp;PassManagerBuilder.
</c40><br/><ln>&nbsp;&nbsp;173</ln><a id="173">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Each&nbsp;manager&nbsp;has&nbsp;a&nbsp;different&nbsp;set&nbsp;of&nbsp;passes,&nbsp;but&nbsp;they&nbsp;also&nbsp;share
</c40><br/><ln>&nbsp;&nbsp;174</ln><a id="174">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;some&nbsp;common&nbsp;passes.
</c40><br/><ln>&nbsp;&nbsp;175</ln><a id="175">&nbsp;</a><a id="n[438610, 438614, 438613, 438609, 438611, 438615, 438612]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#175_16_refs">fpm</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519924">llvm::LLVMCreateFunctionPassManagerForModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;176</ln><a id="176">&nbsp;</a><a id="n[438616, 438620, 438621, 438618, 438619, 438617]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#176_16_refs">mpm</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519921">llvm::LLVMCreatePassManager</a></c26><c4>()</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;177</ln><a id="177">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;178</ln><a id="178">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;verifying&nbsp;or&nbsp;linting,&nbsp;add&nbsp;them&nbsp;to&nbsp;the&nbsp;function&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;179</ln><a id="179">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;180</ln><a id="180">&nbsp;</a><a id="n[438622, 438647, 438627, 438628, 438630, 438645, 438646, 438632, 438624, 438623, 438631, 438629]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#180_16_refs">addpass</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c20><a href="#180_27_refs">pass</a></c20><c1><a href="#126_4_refs">:&nbsp;</a></c1><c8><a href="#126_4_refs">&amp;str</a></c8><c1><a href="#126_4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;181</ln><a id="181">&nbsp;</a><a id="n[438638, 438639, 438636, 438644, 438641, 438637, 438640, 438635, 438633, 438642, 438643]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#180">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#181_33_refs">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n132053">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c8><a href="c=0 n=521318">llvm</a></c8><c26><a href="c=0 n=521318">::LLVMRustAddPass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#175">fpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#181">s</a></c26><c4>))</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;182</ln><a id="182">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;183</ln><a id="183">&nbsp;</a><a id="n[438649, 438728, 438652, 438653, 438651, 438730, 438729, 438648, 438650]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c5><a href="#126_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#303">.no_verify</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">&nbsp;assert!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#180">addpass</a></c26><c4>(</c4><c12><a href="#126_4_refs">"verify"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;184</ln><a id="184">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;185</ln><a id="185">&nbsp;</a><a id="n[438733, 438755, 438731, 438734, 438757, 438756, 438735, 438732]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c5><a href="#126_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.no_prepopulate_passes</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;186</ln><a id="186">&nbsp;</a><a id="n[438741, 438737, 438739, 438740, 438738, 438736]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521378">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#175">fpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;187</ln><a id="187">&nbsp;</a><a id="n[438747, 438742, 438745, 438743, 438744, 438746]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521378">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#176">mpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;188</ln><a id="188">&nbsp;</a><a id="n[438751, 438748, 438750, 438754, 438749, 438753, 438752]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#412">populate_llvm_passes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#175">fpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#176">mpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#141">opt_level</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;189</ln><a id="189">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;190</ln><a id="190">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;191</ln><a id="191">&nbsp;</a><a id="n[438767, 438758, 438761, 438771, 438852, 438759, 438766, 438765, 438762, 438770, 438763, 438853, 438854, 438855, 438760, 438768, 438772, 438851, 438764, 438769]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="#191_12_refs">&nbsp;</a></c1><c20><a href="#191_16_refs">pass</a></c20><c1><a href="#191_12_refs">&nbsp;in&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.passes</a></c24><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c1><a href="#191_12_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;192</ln><a id="192">&nbsp;</a><a id="n[438777, 438773, 438850, 438778, 438776, 438775, 438849, 438848, 438779]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#191">pass</a></c26><c10><a href="../../libstd/c_str.rs.html#n132053">.with_c_str</a></c10><c4>(</c4><c1><a href="../../libstd/c_str.rs.html#n132053">|</a></c1><c20><a href="#192_33_refs">s</a></c20><c8><a href="../../libstd/c_str.rs.html#n132053">|</a></c8><c1><a href="../../libstd/c_str.rs.html#n132053">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/c_str.rs.html#n132053">
</a></c22><br/><ln>&nbsp;&nbsp;193</ln><a id="193">&nbsp;</a><a id="n[438846, 438784, 438780, 438781, 438783, 438782, 438847]">&nbsp;</a><c22><a href="../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/c_str.rs.html#n132053">&nbsp;</a></c21><c5><a href="../../libstd/option.rs.html#n104341">!</a></c5><c26><a href="c=0 n=521318">llvm::LLVMRustAddPass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#176">mpm</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#192">s</a></c26><c4>)</c4><c21><a href="../../libstd/c_str.rs.html#n132053">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;194</ln><a id="194">&nbsp;</a><a id="n[438810, 438811, 438808, 438822, 438791, 438824, 438796, 438787, 438803, 438844, 438806, 438798, 438832, 438799, 438788, 438827, 438836, 438816, 438792, 438797, 438831, 438814, 438801, 438812, 438830, 438837, 438826, 438843, 438786, 438845, 438833, 438828, 438825, 438789, 438790, 438818, 438835, 438834, 438829, 438839, 438795, 438817, 438804, 438785, 438807, 438815, 438842, 438802, 438813, 438805, 438800, 438820, 438821, 438823, 438809, 438819]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#226">.warn</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#226">format!</a></c21><c4>(</c4><c20><a href="#194_42_refs">"unknown&nbsp;pass&nbsp;</a></c20><c3>{},</c3><c20><a href="#194_42_refs">&nbsp;ignoring"</a></c20><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#226">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n169877">*</a></c27><c26><a href="../../librustc/back/link.rs.html#191">pass</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;195</ln><a id="195">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/c_str.rs.html#n132053">
</a></c22><br/><ln>&nbsp;&nbsp;196</ln><a id="196">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/c_str.rs.html#n132053">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;197</ln><a id="197">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="#191_12_refs">
</a></c1><br/><ln>&nbsp;&nbsp;198</ln><a id="198">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="#191_12_refs">
</a></c1><br/><ln>&nbsp;&nbsp;199</ln><a id="199">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="#191_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c40>//&nbsp;Finally,&nbsp;run&nbsp;the&nbsp;actual&nbsp;optimization&nbsp;passes
</c40><br/><ln>&nbsp;&nbsp;200</ln><a id="200">&nbsp;</a><a id="n[438858, 438871, 438859, 438857, 438863, 438873, 438862, 438864, 438860, 438872, 438856]">&nbsp;</a><c1><a href="#191_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c12><a href="#126_4_refs">"llvm&nbsp;function&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;201</ln><a id="201">&nbsp;</a><a id="n[438865, 438869, 438867, 438870, 438868, 438866]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="#126_4_refs">llvm</a></c8><c26><a href="c=0 n=521412">::LLVMRustRunFunctionPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#175">fpm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;202</ln><a id="202">&nbsp;</a><a id="n[438878, 438880, 438881, 438875, 438876, 438891, 438882, 438877, 438889, 438890, 438874]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c12><a href="#126_4_refs">"llvm&nbsp;module&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;203</ln><a id="203">&nbsp;</a><a id="n[438885, 438888, 438886, 438884, 438883, 438887]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="c=0 n=519937">llvm</a></c8><c26><a href="c=0 n=519937">::LLVMRunPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#176">mpm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;204</ln><a id="204">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;205</ln><a id="205">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Deallocate&nbsp;managers&nbsp;that&nbsp;we're&nbsp;now&nbsp;done&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;206</ln><a id="206">&nbsp;</a><a id="n[438894, 438895, 438892, 438893]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519931">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#175">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;207</ln><a id="207">&nbsp;</a><a id="n[438897, 438899, 438896, 438898]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519931">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#176">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;208</ln><a id="208">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;209</ln><a id="209">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Emit&nbsp;the&nbsp;bytecode&nbsp;if&nbsp;we're&nbsp;either&nbsp;saving&nbsp;our&nbsp;temporaries&nbsp;or
</c40><br/><ln>&nbsp;&nbsp;210</ln><a id="210">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;emitting&nbsp;an&nbsp;rlib.&nbsp;Whenever&nbsp;an&nbsp;rlib&nbsp;is&nbsp;created,&nbsp;the&nbsp;bytecode&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;211</ln><a id="211">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;inserted&nbsp;into&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;allow&nbsp;LTO&nbsp;against&nbsp;it.
</c40><br/><ln>&nbsp;&nbsp;212</ln><a id="212">&nbsp;</a><a id="n[438937, 438938, 438902, 438903, 438901, 438900, 438918]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.save_temps</a></c24><c1><a href="#126_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;213</ln><a id="213">&nbsp;</a><a id="n[438905, 438916, 438908, 438909, 438906, 438907, 438904, 438917]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#193">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n58405">.contains</a></c10><c4>(</c4><c5><a href="#126_4_refs">&amp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c26><c4>)</c4><c1><a href="#126_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;214</ln><a id="214">&nbsp;</a><a id="n[438910, 438915, 438914, 438912, 438913, 438919, 438911]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58405">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n58405">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c26><c4>))</c4><c13><a href="#126_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;215</ln><a id="215">&nbsp;</a><a id="n[438920, 438936, 438922, 438925, 438935, 438921, 438924, 438927, 438933, 438926, 438934]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c1><c20><a href="#215_64_refs">buf</a></c20><c8><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c8><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;216</ln><a id="216">&nbsp;</a><a id="n[438931, 438930, 438929, 438928, 438932]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519804">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#215">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;217</ln><a id="217">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;218</ln><a id="218">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;219</ln><a id="219">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;220</ln><a id="220">&nbsp;</a><a id="n[438940, 438939, 438987, 438988, 438963]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.lto</a></c10><c4>()</c4><c13><a href="#126_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;221</ln><a id="221">&nbsp;</a><a id="n[438941, 438944, 438942, 438945, 438943, 438962, 438947, 438949, 438948, 438961, 438960]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c12><a href="#126_4_refs">"all&nbsp;lto&nbsp;passes"</a></c12><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;222</ln><a id="222">&nbsp;</a><a id="n[438952, 438959, 438950, 438958, 438955, 438953, 438951, 438957, 438954, 438956]">&nbsp;</a><c1><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../librustc/back/lto.rs.html#20">lto</a></c8><c26><a href="../../librustc/back/lto.rs.html#20">::run</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#416">.reachable</a></c24><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;223</ln><a id="223">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;224</ln><a id="224">&nbsp;</a><a id="n[438966, 438964, 438967, 438965, 438986, 438968]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.save_temps</a></c24><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;225</ln><a id="225">&nbsp;</a><a id="n[438970, 438969, 438984, 438982, 438976, 438973, 438974, 438983, 438975, 438985, 438971]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1153">.with_extension</a></c10><c4>(</c4><c12><a href="#126_4_refs">"lto.bc"</a></c12><c4>)</c4><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="#126_4_refs">|</a></c1><c20><a href="#225_64_refs">buf</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;226</ln><a id="226">&nbsp;</a><a id="n[438981, 438977, 438979, 438978, 438980]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519804">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#225">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;227</ln><a id="227">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;228</ln><a id="228">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;229</ln><a id="229">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;230</ln><a id="230">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;231</ln><a id="231">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;A&nbsp;codegen-specific&nbsp;pass&nbsp;manager&nbsp;is&nbsp;used&nbsp;to&nbsp;generate&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;232</ln><a id="232">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;files&nbsp;for&nbsp;an&nbsp;LLVM&nbsp;module.
</c40><br/><ln>&nbsp;&nbsp;233</ln><a id="233">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;234</ln><a id="234">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Apparently&nbsp;each&nbsp;of&nbsp;these&nbsp;pass&nbsp;managers&nbsp;is&nbsp;a&nbsp;one-shot&nbsp;kind&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;235</ln><a id="235">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;thing,&nbsp;so&nbsp;we&nbsp;create&nbsp;a&nbsp;new&nbsp;one&nbsp;for&nbsp;each&nbsp;type&nbsp;of&nbsp;output.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;236</ln><a id="236">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;pass&nbsp;manager&nbsp;passed&nbsp;to&nbsp;the&nbsp;closure&nbsp;should&nbsp;be&nbsp;ensured&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;237</ln><a id="237">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;escape&nbsp;the&nbsp;closure&nbsp;itself,&nbsp;and&nbsp;the&nbsp;manager&nbsp;should&nbsp;only&nbsp;be
</c40><br/><ln>&nbsp;&nbsp;238</ln><a id="238">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;once.
</c40><br/><ln>&nbsp;&nbsp;239</ln><a id="239">&nbsp;</a><a id="n[439035, 438996, 438989, 438993, 438992, 438997]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#239_12_refs">&nbsp;with_codegen</a></c30><c4>(</c4><c20><a href="#239_28_refs">tm</a></c20><c1><a href="#239_12_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#258">TargetMachineRef</a></c8><c3>,</c3><c1><a href="#239_12_refs">&nbsp;</a></c1><c20><a href="#239_50_refs">llmod</a></c20><c1><a href="#239_12_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#228">ModuleRef</a></c8><c3>,</c3><c1><a href="#239_12_refs">
</a></c1><br/><ln>&nbsp;&nbsp;240</ln><a id="240">&nbsp;</a><a id="n[439005, 439001, 439003, 439007, 439006, 439004]">&nbsp;</a><c1><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#240_28_refs">f</a></c20><c1><a href="#239_12_refs">:&nbsp;</a></c1><c8><a href="#239_12_refs">|</a></c8><c8><a href="../../librustc/lib/llvm.rs.html#244">PassManagerRef</a></c8><c8><a href="#239_12_refs">|</a></c8><c4>)</c4><c1><a href="#239_12_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;241</ln><a id="241">&nbsp;</a><a id="n[439033, 439034]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>unsafe</c21><c22><a href="#239_12_refs">&nbsp;</a></c22><c3>{</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;242</ln><a id="242">&nbsp;</a><a id="n[439009, 439008, 439010, 439012, 439013, 439011]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#239_12_refs">&nbsp;</a></c22><c20><a href="#242_24_refs">cpm</a></c20><c13><a href="#239_12_refs">&nbsp;=&nbsp;</a></c13><c26><a href="c=0 n=519921">llvm::LLVMCreatePassManager</a></c26><c4>()</c4><c3>;</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;243</ln><a id="243">&nbsp;</a><a id="n[439015, 439014, 439017, 439018, 439016, 439019]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521378">llvm::LLVMRustAddAnalysisPasses</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#239">tm</a></c26><c3>,</c3><c13><a href="#239_12_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#242">cpm</a></c26><c3>,</c3><c13><a href="#239_12_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#239">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;244</ln><a id="244">&nbsp;</a><a id="n[439022, 439020, 439021, 439023, 439024]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521402">llvm::LLVMRustAddLibraryInfo</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#242">cpm</a></c26><c3>,</c3><c13><a href="#239_12_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#239">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;245</ln><a id="245">&nbsp;</a><a id="n[439025, 439027, 439026, 439028]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#240">f</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#242">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;246</ln><a id="246">&nbsp;</a><a id="n[439032, 439030, 439029, 439031]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519931">llvm::LLVMDisposePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#242">cpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;247</ln><a id="247">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#239_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;248</ln><a id="248">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#239_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;249</ln><a id="249">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;250</ln><a id="250">&nbsp;</a><a id="n[439040, 439038, 439036, 439039, 439037]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#250_16_refs">&nbsp;object_file</a></c20><c16><a href="#126_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;251</ln><a id="251">&nbsp;</a><a id="n[439041, 439044, 439042, 439045, 439043]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#251_16_refs">&nbsp;needs_metadata</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c12><a href="#126_4_refs">false</a></c12><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;252</ln><a id="252">&nbsp;</a><a id="n[439195, 439046, 439065, 439053, 439196, 439198, 439197, 439199, 439052, 439050, 439056, 439048, 439049, 439055, 439047, 439051, 439054]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="../../librustc/back/link.rs.html#252">&nbsp;</a></c1><c20><a href="#252_16_refs">output_type</a></c20><c1><a href="../../librustc/back/link.rs.html#252">&nbsp;in&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#128">output_types</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>()</c4><c1><a href="../../librustc/back/link.rs.html#252">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;253</ln><a id="253">&nbsp;</a><a id="n[439059, 439058, 439061, 439057, 439060, 439064, 439063, 439062]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#253_20_refs">path</a></c20><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1134">.path</a></c10><c4>(</c4><c5><a href="../../librustc/driver/driver.rs.html#1134">*</a></c5><c26><a href="../../librustc/back/link.rs.html#252">output_type</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;254</ln><a id="254">&nbsp;</a><a id="n[439067, 439194, 439066]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c5><a href="../../libstd/option.rs.html#n104337">*</a></c5><c26><a href="../../librustc/back/link.rs.html#252">output_type</a></c26><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;255</ln><a id="255">&nbsp;</a><a id="n[439068, 439085, 439069]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;256</ln><a id="256">&nbsp;</a><a id="n[439084, 439081, 439075, 439072, 439083, 439073, 439082, 439070, 439074]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c1><c20><a href="#256_41_refs">buf</a></c20><c8><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c8><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c1><c3>{</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;257</ln><a id="257">&nbsp;</a><a id="n[439077, 439078, 439080, 439079, 439076]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519804">llvm::LLVMWriteBitcodeToFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#256">buf</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">
</a></c22><br/><ln>&nbsp;&nbsp;258</ln><a id="258">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;259</ln><a id="259">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;260</ln><a id="260">&nbsp;</a><a id="n[439087, 439116, 439086]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#51">OutputTypeLlvmAssembly</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;261</ln><a id="261">&nbsp;</a><a id="n[439088, 439113, 439093, 439092, 439090, 439115, 439114, 439094, 439091]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#143">.with_c_str</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">|</a></c1><c20><a href="#261_41_refs">output</a></c20><c8><a href="../../libstd/option.rs.html#n104337">|</a></c8><c1><a href="../../librustc/middle/typeck/astconv.rs.html#143">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;262</ln><a id="262">&nbsp;</a><a id="n[439097, 439112, 439101, 439111, 439110, 439096, 439100, 439095, 439102, 439099, 439109]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#239">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c27><c1><a href="../../libstd/option.rs.html#n104337">|</a></c1><c20><a href="#262_53_refs">cpm</a></c20><c8><a href="../../libstd/option.rs.html#n104337">|</a></c8><c1><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;263</ln><a id="263">&nbsp;</a><a id="n[439103, 439105, 439107, 439104, 439106, 439108]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521446">llvm::LLVMRustPrintModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#262">cpm</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#261">output</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;264</ln><a id="264">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;265</ln><a id="265">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;266</ln><a id="266">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;267</ln><a id="267">&nbsp;</a><a id="n[439117, 439169, 439168]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;268</ln><a id="268">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;using&nbsp;the&nbsp;LLVM&nbsp;assembler,&nbsp;this&nbsp;function
</c40><br/><ln>&nbsp;&nbsp;269</ln><a id="269">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;could&nbsp;be&nbsp;invoked&nbsp;specially&nbsp;with&nbsp;output_type_assembly,
</c40><br/><ln>&nbsp;&nbsp;270</ln><a id="270">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;in&nbsp;this&nbsp;case&nbsp;we&nbsp;still&nbsp;want&nbsp;the&nbsp;metadata&nbsp;object
</c40><br/><ln>&nbsp;&nbsp;271</ln><a id="271">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;272</ln><a id="272">&nbsp;</a><a id="n[439120, 439119, 439122, 439118, 439121]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#272_28_refs">ty</a></c20><c16><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;273</ln><a id="273">&nbsp;</a><a id="n[439143, 439127, 439144, 439124, 439131, 439128, 439129, 439132, 439126, 439123, 439125, 439130]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c22><c20><a href="#273_28_refs">path</a></c20><c16><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c16><c21><a href="../../libstd/option.rs.html#n104337">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58405">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n58405">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#272">ty</a></c26><c4>)</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;274</ln><a id="274">&nbsp;</a><a id="n[439133]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#253">path</a></c26><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;275</ln><a id="275">&nbsp;</a><a id="n[439138, 439142]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c21>else</c21><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;276</ln><a id="276">&nbsp;</a><a id="n[439136, 439137, 439135, 439134]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#251">needs_metadata</a></c26><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c13><c12><a href="../../libstd/option.rs.html#n104337">true</a></c12><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;277</ln><a id="277">&nbsp;</a><a id="n[439139, 439140, 439141]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c4>)</c4><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;278</ln><a id="278">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;279</ln><a id="279">&nbsp;</a><a id="n[439165, 439166, 439167, 439151, 439149, 439146, 439163, 439150, 439152, 439147, 439164, 439145]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#239">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c1><a href="../../libstd/option.rs.html#n104337">|</a></c1><c20><a href="#279_49_refs">cpm</a></c20><c8><a href="../../libstd/option.rs.html#n104337">|</a></c8><c1><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;280</ln><a id="280">&nbsp;</a><a id="n[439155, 439158, 439154, 439161, 439153, 439157, 439162, 439156, 439159]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#279">cpm</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c13><c5><a href="../../libstd/option.rs.html#n104337">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#273">path</a></c26><c3>,</c3><c13><a href="../../libstd/option.rs.html#n104337">
</a></c13><br/><ln>&nbsp;&nbsp;281</ln><a id="281">&nbsp;</a><a id="n[439160]">&nbsp;</a><c13><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/lib/llvm.rs.html#181">lib::llvm::AssemblyFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;282</ln><a id="282">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;283</ln><a id="283">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;284</ln><a id="284">&nbsp;</a><a id="n[439170, 439177, 439178]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;285</ln><a id="285">&nbsp;</a><a id="n[439172, 439176, 439175, 439173, 439174, 439171]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#250">object_file</a></c26><c5><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c5><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#253">path</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;286</ln><a id="286">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;287</ln><a id="287">&nbsp;</a><a id="n[439179, 439193, 439192]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;288</ln><a id="288">&nbsp;</a><a id="n[439184, 439180, 439182, 439187, 439181, 439185, 439186, 439183]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#250">object_file</a></c26><c5><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c5><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;289</ln><a id="289">&nbsp;</a><a id="n[439191, 439188, 439190, 439189]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#251">needs_metadata</a></c26><c5><a href="../../libstd/option.rs.html#n104337">&nbsp;=&nbsp;</a></c5><c12><a href="../../libstd/option.rs.html#n104337">true</a></c12><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;290</ln><a id="290">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;291</ln><a id="291">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;&nbsp;292</ln><a id="292">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="../../librustc/back/link.rs.html#252">
</a></c1><br/><ln>&nbsp;&nbsp;293</ln><a id="293">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../../librustc/back/link.rs.html#252">
</a></c1><br/><ln>&nbsp;&nbsp;294</ln><a id="294">&nbsp;</a><a id="n[439200, 439280, 439201, 439282, 439281, 439209, 439204, 439283, 439203, 439202, 439243, 439207, 439208, 439206, 439210]">&nbsp;</a><c1><a href="../../librustc/back/link.rs.html#252">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c12><a href="#126_4_refs">"codegen&nbsp;passes"</a></c12><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c4>()</c4><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;295</ln><a id="295">&nbsp;</a><a id="n[439242, 439241, 439211]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#250">object_file</a></c26><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;296</ln><a id="296">&nbsp;</a><a id="n[439213, 439212, 439237, 439236]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#296_25_refs">ref&nbsp;path</a></c20><c4>)</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;297</ln><a id="297">&nbsp;</a><a id="n[439216, 439215, 439218, 439233, 439214, 439221, 439220, 439231, 439232, 439234, 439235, 439219]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#239">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c13><a href="#126_4_refs">&nbsp;</a></c13><c1><a href="#126_4_refs">|</a></c1><c20><a href="#297_49_refs">cpm</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;298</ln><a id="298">&nbsp;</a><a id="n[439223, 439222, 439225, 439226, 439224, 439227, 439230, 439229]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#297">cpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#296">path</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;299</ln><a id="299">&nbsp;</a><a id="n[439228]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#182">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;300</ln><a id="300">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;301</ln><a id="301">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;302</ln><a id="302">&nbsp;</a><a id="n[439238, 439240, 439239]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#126_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#126_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;303</ln><a id="303">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;304</ln><a id="304">&nbsp;</a><a id="n[439279, 439244, 439245]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#251">needs_metadata</a></c26><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;305</ln><a id="305">&nbsp;</a><a id="n[439254, 439278, 439251, 439275, 439277, 439276, 439249, 439252, 439248, 439246, 439247, 439253]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#239">with_codegen</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#413">.metadata_module</a></c24><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c1><a href="#126_4_refs">|</a></c1><c20><a href="#305_61_refs">cpm</a></c20><c8><a href="#126_4_refs">|</a></c8><c1><a href="#126_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;306</ln><a id="306">&nbsp;</a><a id="n[439258, 439256, 439259, 439255, 439257, 439260, 439262, 439263]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#126_4_refs">&nbsp;</a></c22><c20><a href="#306_28_refs">out</a></c20><c13><a href="#126_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#129">output</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">
</a></c10><br/><ln>&nbsp;&nbsp;307</ln><a id="307">&nbsp;</a><a id="n[439261]">&nbsp;</a><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.with_extension</a></c10><c4>(</c4><c12><a href="#126_4_refs">"metadata.o"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;308</ln><a id="308">&nbsp;</a><a id="n[439264, 439266, 439274, 439267, 439265, 439273]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#68">WriteOutputFile</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#305">cpm</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;309</ln><a id="309">&nbsp;</a><a id="n[439271, 439270, 439268, 439269]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#413">.metadata_module</a></c24><c3>,</c3><c27><a href="#126_4_refs">&nbsp;</a></c27><c5><a href="#126_4_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#306">out</a></c26><c3>,</c3><c27><a href="#126_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;310</ln><a id="310">&nbsp;</a><a id="n[439272]">&nbsp;</a><c27><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/lib/llvm.rs.html#182">lib::llvm::ObjectFile</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;311</ln><a id="311">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;312</ln><a id="312">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;313</ln><a id="313">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;314</ln><a id="314">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;315</ln><a id="315">&nbsp;</a><a id="n[439287, 439285, 439284, 439286]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521372">llvm::LLVMRustDisposeTargetMachine</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#155">tm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;316</ln><a id="316">&nbsp;</a><a id="n[439289, 439292, 439290, 439291, 439288]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=515525">llvm::LLVMDisposeModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#127">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#413">.metadata_module</a></c24><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;317</ln><a id="317">&nbsp;</a><a id="n[439295, 439294, 439293, 439296]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=515525">llvm::LLVMDisposeModule</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#130">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;318</ln><a id="318">&nbsp;</a><a id="n[439299, 439298, 439300, 439297]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=515484">llvm::LLVMContextDispose</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#131">llcx</a></c26><c4>)</c4><c3>;</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;319</ln><a id="319">&nbsp;</a><a id="n[439304, 439308, 439305, 439302, 439307, 439303, 439306]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#126_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#126">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#297">.time_llvm_passes</a></c10><c4>()</c4><c21><a href="#126_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c26><a href="c=0 n=520426">llvm::LLVMRustPrintPassTimings</a></c26><c4>()</c4><c3>;</c3><c22><a href="#126_4_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;320</ln><a id="320">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#126_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;321</ln><a id="321">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#126_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;322</ln><a id="322">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;323</ln><a id="323">&nbsp;</a><a id="n[439310, 439315, 439314, 439320, 439313, 439319, 439321, 439318, 439484]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>pub</c21><c1><a href="#323_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#323_4_refs">&nbsp;run_assembler</a></c30><c4>(</c4><c20><a href="#323_25_refs">sess</a></c20><c1><a href="#323_4_refs">:&nbsp;</a></c1><c8><a href="#323_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#323_4_refs">&nbsp;</a></c1><c20><a href="#323_41_refs">outputs</a></c20><c1><a href="#323_4_refs">:&nbsp;</a></c1><c8><a href="#323_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1126">OutputFilenames</a></c8><c4>)</c4><c1><a href="#323_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;324</ln><a id="324">&nbsp;</a><a id="n[439323, 439328, 439327, 439325, 439324, 439322, 439326]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#323_4_refs">&nbsp;</a></c22><c20><a href="#324_12_refs">cc</a></c20><c16><a href="#323_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#717">super::get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;325</ln><a id="325">&nbsp;</a><a id="n[439335, 439330, 439333, 439334, 439332, 439329, 439331]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#323_4_refs">&nbsp;</a></c22><c20><a href="#325_12_refs">assembly</a></c20><c16><a href="#323_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#323">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#50">OutputTypeAssembly</a></c26><c4>)</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;326</ln><a id="326">&nbsp;</a><a id="n[439337, 439340, 439336, 439342, 439341, 439339, 439338]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#323_4_refs">&nbsp;</a></c22><c20><a href="#326_12_refs">object</a></c20><c13><a href="#323_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#323">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1134">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;327</ln><a id="327">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;328</ln><a id="328">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;&nbsp;329</ln><a id="329">&nbsp;</a><a id="n[439345, 439358, 439344, 439343, 439359]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#323_4_refs">&nbsp;</a></c22><c20><a href="#329_12_refs">args</a></c20><c13><a href="#323_4_refs">&nbsp;=&nbsp;</a></c13><c3>[</c3><c1><a href="#323_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;330</ln><a id="330">&nbsp;</a><a id="n[439347, 439346]">&nbsp;</a><c1><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#323_4_refs">~</a></c16><c12><a href="#323_4_refs">"-c"</a></c12><c3>,</c3><c1><a href="#323_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;331</ln><a id="331">&nbsp;</a><a id="n[439350, 439353, 439349, 439352, 439348, 439351]">&nbsp;</a><c1><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#323_4_refs">~</a></c16><c12><a href="#323_4_refs">"-o"</a></c12><c3>,</c3><c1><a href="#323_4_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#326">object</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="#323_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;332</ln><a id="332">&nbsp;</a><a id="n[439356, 439357, 439354, 439355]">&nbsp;</a><c1><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#325">assembly</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>];</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;333</ln><a id="333">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;334</ln><a id="334">&nbsp;</a><a id="n[439455, 439457, 439458, 439430, 439392, 439400, 439478, 439410, 439450, 439426, 439453, 439444, 439432, 439423, 439442, 439429, 439459, 439414, 439437, 439420, 439413, 439424, 439475, 439443, 439441, 439396, 439445, 439440, 439439, 439436, 439462, 439393, 439454, 439448, 439449, 439456, 439402, 439394, 439419, 439398, 439438, 439452, 439401, 439425, 439417, 439435, 439406, 439412, 439409, 439408, 439418, 439460, 439411, 439434, 439427, 439397, 439405, 439451, 439422, 439447, 439395, 439421, 439428, 439415, 439399, 439416, 439407, 439461, 439431, 439446, 439433]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169453">"</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">&nbsp;'</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">'"</a></c26><c3>,</c3><c22><a href="#323_4_refs">&nbsp;</a></c22><c20><a href="#334_26_refs">cc</a></c20><c3>,</c3><c22><a href="#323_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#329">args</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n169877">.connect</a></c26><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#334">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;335</ln><a id="335">&nbsp;</a><a id="n[439757, 439488, 439485, 439487, 439486]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#323_4_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n146118">Process::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#324">cc</a></c26><c3>,</c3><c27><a href="#323_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#329">args</a></c26><c4>)</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#323_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;336</ln><a id="336">&nbsp;</a><a id="n[439490, 439489, 439671, 439491]">&nbsp;</a><c21><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="#336_15_refs">prog</a></c20><c4>)</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;337</ln><a id="337">&nbsp;</a><a id="n[439670, 439669, 439493, 439495, 439494, 439492]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#323_4_refs">&nbsp;</a></c21><c5><a href="#323_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#336">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n146027">.success</a></c10><c4>()</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;338</ln><a id="338">&nbsp;</a><a id="n[439510, 439540, 439506, 439521, 439530, 439533, 439572, 439499, 439498, 439534, 439504, 439523, 439497, 439519, 439496, 439524, 439550, 439525, 439512, 439568, 439536, 439517, 439502, 439511, 439562, 439553, 439537, 439501, 439554, 439518, 439551, 439500, 439516, 439563, 439549, 439547, 439513, 439571, 439555, 439528, 439520, 439558, 439574, 439515, 439545, 439557, 439559, 439503, 439538, 439531, 439532, 439509, 439573, 439543, 439541, 439552, 439565, 439548, 439544, 439529, 439505, 439535, 439514, 439527, 439556, 439546, 439566, 439542, 439522, 439561, 439526, 439564, 439560, 439539]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="#323_4_refs">format!</a></c21><c4>(</c4><c27><a href="../../libstd/fmt/mod.rs.html#n169654">"linking&nbsp;with&nbsp;`</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/mod.rs.html#n169654">`&nbsp;failed:&nbsp;</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/mod.rs.html#n169654">"</a></c27><c3>,</c3><c21><a href="#323_4_refs">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n169877">cc</a></c26><c3>,</c3><c21><a href="#323_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#336">prog</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n171474">.status</a></c27><c4>))</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;339</ln><a id="339">&nbsp;</a><a id="n[439614, 439578, 439583, 439612, 439632, 439640, 439597, 439592, 439609, 439600, 439601, 439653, 439636, 439637, 439618, 439642, 439603, 439575, 439576, 439580, 439645, 439605, 439606, 439593, 439586, 439623, 439599, 439577, 439654, 439608, 439630, 439610, 439582, 439646, 439585, 439617, 439644, 439596, 439622, 439591, 439607, 439595, 439621, 439626, 439641, 439602, 439584, 439619, 439639, 439611, 439652, 439631, 439624, 439604, 439635, 439648, 439634, 439633, 439629, 439643, 439613, 439638, 439615, 439598, 439581, 439620, 439651, 439627, 439625, 439579, 439589, 439590, 439628, 439616, 439594]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#235">.note</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#235">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n169447">"</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169447">&nbsp;arguments:&nbsp;'</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169447">'"</a></c12><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#235">&nbsp;</a></c21><c27><a href="../../libstd/fmt/mod.rs.html#n171474">cc</a></c27><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#235">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#329">args</a></c26><c5><a href="../../libstd/fmt/mod.rs.html#n171474">.connect</a></c5><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n171474">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;340</ln><a id="340">&nbsp;</a><a id="n[439663, 439660, 439661, 439658, 439665, 439659, 439662, 439664, 439655, 439657, 439656]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#235">.note</a></c10><c4>(</c4><c26><a href="../../libstd/str.rs.html#n58881">str::from_utf8_owned</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#336">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.error</a></c24><c5><a href="../../libstd/option.rs.html#n105073">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#336">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.output</a></c24><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;341</ln><a id="341">&nbsp;</a><a id="n[439666, 439667, 439668]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;342</ln><a id="342">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;343</ln><a id="343">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#323_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;344</ln><a id="344">&nbsp;</a><a id="n[439673, 439756, 439755, 439672]">&nbsp;</a><c21><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#344_16_refs">e</a></c20><c4>)</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#323_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;345</ln><a id="345">&nbsp;</a><a id="n[439682, 439712, 439691, 439723, 439736, 439696, 439694, 439722, 439681, 439698, 439727, 439706, 439711, 439710, 439697, 439705, 439704, 439679, 439687, 439730, 439717, 439677, 439726, 439718, 439714, 439732, 439703, 439707, 439719, 439715, 439737, 439720, 439700, 439745, 439728, 439748, 439701, 439729, 439692, 439738, 439742, 439725, 439688, 439733, 439676, 439735, 439709, 439713, 439689, 439683, 439678, 439751, 439731, 439686, 439750, 439702, 439741, 439716, 439749, 439675, 439739, 439674, 439743, 439708, 439734, 439695, 439699, 439693, 439721, 439740, 439724, 439690, 439680]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c12><a href="#345_33_refs">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c12><c3>{}</c3><c12><a href="#345_33_refs">`:&nbsp;</a></c12><c3>{}</c3><c12><a href="#345_33_refs">"</a></c12><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c20><a href="#345_71_refs">cc</a></c20><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#345">e</a></c5><c4>))</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;346</ln><a id="346">&nbsp;</a><a id="n[439753, 439752, 439754]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#323">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;347</ln><a id="347">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#323_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;348</ln><a id="348">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#323_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;349</ln><a id="349">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#323_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;350</ln><a id="350">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;351</ln><a id="351">&nbsp;</a><a id="n[439762, 439763, 439989, 439764, 439761, 439758]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="#351_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#351_4_refs">&nbsp;configure_llvm</a></c30><c4>(</c4><c20><a href="#351_29_refs">sess</a></c20><c1><a href="#351_4_refs">:&nbsp;</a></c1><c8><a href="#351_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#351_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;352</ln><a id="352">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>use</c21><c22><a href="#351_4_refs">&nbsp;sync::one::</a></c22><c3>{</c3><c22><a href="#351_4_refs">Once</a></c22><c3>,</c3><c22><a href="#351_4_refs">&nbsp;ONCE_INIT</a></c22><c3>};</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;353</ln><a id="353">&nbsp;</a><a id="n[439768, 439771, 439772, 439770]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="#353_8_refs">&nbsp;mut&nbsp;INIT:&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6523">Once</a></c36><c36><a href="#353_8_refs">&nbsp;=&nbsp;</a></c36><c36><a href="../../libsync/one.rs.html#n6533">ONCE_INIT</a></c36><c36>;</c36><c36><a href="#351_4_refs">
</a></c36><br/><ln>&nbsp;&nbsp;354</ln><a id="354">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;355</ln><a id="355">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Copy&nbsp;what&nbsp;clang&nbsp;does&nbsp;by&nbsp;turning&nbsp;on&nbsp;loop&nbsp;vectorization&nbsp;at&nbsp;O2&nbsp;and
</c40><br/><ln>&nbsp;&nbsp;356</ln><a id="356">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;slp&nbsp;vectorization&nbsp;at&nbsp;O3
</c40><br/><ln>&nbsp;&nbsp;357</ln><a id="357">&nbsp;</a><a id="n[439780, 439774, 439775, 439779, 439773, 439794, 439793, 439776, 439777, 439778]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#351_4_refs">&nbsp;</a></c22><c20><a href="#357_12_refs">vectorize_loop</a></c20><c13><a href="#351_4_refs">&nbsp;=&nbsp;</a></c13><c5><a href="#351_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.no_vectorize_loops</a></c24><c1><a href="#351_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;358</ln><a id="358">&nbsp;</a><a id="n[439785, 439791, 439781, 439783, 439784, 439782, 439792]">&nbsp;</a><c1><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#351_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c26><c1><a href="#351_4_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;&nbsp;359</ln><a id="359">&nbsp;</a><a id="n[439787, 439788, 439786, 439789, 439790]">&nbsp;</a><c1><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#351_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;360</ln><a id="360">&nbsp;</a><a id="n[439800, 439809, 439799, 439798, 439795, 439808, 439802, 439797, 439796, 439801]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#351_4_refs">&nbsp;</a></c22><c20><a href="#360_12_refs">vectorize_slp</a></c20><c16><a href="#351_4_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#351_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.no_vectorize_slp</a></c24><c1><a href="#351_4_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;361</ln><a id="361">&nbsp;</a><a id="n[439806, 439803, 439807, 439804, 439805]">&nbsp;</a><c1><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#351_4_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;362</ln><a id="362">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;363</ln><a id="363">&nbsp;</a><a id="n[439813, 439815, 439810, 439812, 439811, 439814]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#351_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#363_12_refs">&nbsp;llvm_c_strs</a></c20><c16><a href="#351_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;364</ln><a id="364">&nbsp;</a><a id="n[439818, 439820, 439817, 439819, 439821, 439816]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#351_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#364_12_refs">&nbsp;llvm_args</a></c20><c16><a href="#351_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;365</ln><a id="365">&nbsp;</a><a id="n[439921, 439896, 439922]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>{</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;366</ln><a id="366">&nbsp;</a><a id="n[439830, 439823, 439824, 439828, 439827, 439857, 439854, 439856, 439829, 439831, 439822, 439855]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>let</c21><c13><a href="#351_4_refs">&nbsp;</a></c13><c20><a href="#366_16_refs">add</a></c20><c16><a href="#351_4_refs">&nbsp;=&nbsp;</a></c16><c1><a href="#351_4_refs">|</a></c1><c20><a href="#366_23_refs">arg</a></c20><c1><a href="#351_4_refs">:&nbsp;</a></c1><c8><a href="#351_4_refs">&amp;str</a></c8><c1><a href="#351_4_refs">|&nbsp;</a></c1><c3>{</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;367</ln><a id="367">&nbsp;</a><a id="n[439832, 439836, 439837, 439834, 439835, 439833]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#351_4_refs">&nbsp;</a></c22><c20><a href="#367_20_refs">s</a></c20><c13><a href="#351_4_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#366">arg</a></c26><c10><a href="../../libstd/c_str.rs.html#n132033">.to_c_str</a></c10><c4>()</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;368</ln><a id="368">&nbsp;</a><a id="n[439849, 439848, 439838, 439845, 439846, 439844, 439847, 439841, 439843, 439839, 439842]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#364">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#367">s</a></c26><c10><a href="../../libstd/c_str.rs.html#n131689">.with_ref</a></c10><c4>(</c4><c1><a href="../../libstd/vec.rs.html#n57406">|</a></c1><c20><a href="#368_43_refs">p</a></c20><c8><a href="../../libstd/vec.rs.html#n57406">|</a></c8><c1><a href="../../libstd/vec.rs.html#n57406">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#368">p</a></c8><c4>))</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;369</ln><a id="369">&nbsp;</a><a id="n[439853, 439852, 439851, 439850]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#363">llvm_c_strs</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#367">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;370</ln><a id="370">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;371</ln><a id="371">&nbsp;</a><a id="n[439860, 439861, 439859, 439858]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c12><a href="#351_4_refs">"rustc"</a></c12><c4>)</c4><c3>;</c3><c13><a href="#351_4_refs">&nbsp;</a></c13><c40>//&nbsp;fake&nbsp;program&nbsp;name
</c40><br/><ln>&nbsp;&nbsp;372</ln><a id="372">&nbsp;</a><a id="n[439867, 439862, 439863, 439868, 439866, 439864, 439865, 439869]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="#351_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#357">vectorize_loop</a></c26><c13><a href="#351_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c12><a href="#351_4_refs">"-vectorize-loops"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;373</ln><a id="373">&nbsp;</a><a id="n[439875, 439874, 439870, 439873, 439877, 439871, 439872, 439876]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c21><a href="#351_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#360">vectorize_slp</a></c26><c21><a href="#351_4_refs">&nbsp;&nbsp;</a></c21><c3>{</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c12><a href="#351_4_refs">"-vectorize-slp"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;374</ln><a id="374">&nbsp;</a><a id="n[439878, 439881, 439882, 439880, 439885, 439884, 439886, 439883, 439879]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="#351_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#297">.time_llvm_passes</a></c10><c4>()</c4><c13><a href="#351_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c12><a href="#351_4_refs">"-time-passes"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;375</ln><a id="375">&nbsp;</a><a id="n[439888, 439890, 439894, 439892, 439895, 439887, 439889, 439893, 439891]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>if</c21><c13><a href="#351_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#305">.print_llvm_passes</a></c10><c4>()</c4><c13><a href="#351_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c12><a href="#351_4_refs">"-debug-pass=Structure"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">&nbsp;</a></c22><c3>}</c3><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;376</ln><a id="376">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#351_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;377</ln><a id="377">&nbsp;</a><a id="n[439910, 439897, 439903, 439902, 439917, 439899, 439906, 439905, 439919, 439900, 439920, 439901, 439907, 439898, 439904, 439908, 439916, 439909, 439918]">&nbsp;</a><c13><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>for</c21><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c20><a href="#377_16_refs">arg</a></c20><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#351">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.llvm_args</a></c24><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="#377_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;378</ln><a id="378">&nbsp;</a><a id="n[439913, 439912, 439915, 439914, 439911]">&nbsp;</a><c22><a href="#377_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#366">add</a></c26><c4>(</c4><c5><a href="#377_12_refs">*</a></c5><c26><a href="../../librustc/back/link.rs.html#377">arg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#377_12_refs">
</a></c22><br/><ln>&nbsp;&nbsp;379</ln><a id="379">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#377_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104337">
</a></c21><br/><ln>&nbsp;&nbsp;380</ln><a id="380">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;381</ln><a id="381">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;382</ln><a id="382">&nbsp;</a><a id="n[439986, 439988, 439987, 439923, 439985, 439984, 439924, 439925]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#353">INIT</a></c26><c10><a href="../../libsync/one.rs.html#n6543">.doit</a></c10><c4>(</c4><c1><a href="../../libsync/one.rs.html#n6543">||&nbsp;</a></c1><c3>{</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;383</ln><a id="383">&nbsp;</a><a id="n[439927, 439926, 439928]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=519973">llvm::LLVMInitializePasses</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;384</ln><a id="384">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;385</ln><a id="385">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Only&nbsp;initialize&nbsp;the&nbsp;platforms&nbsp;supported&nbsp;by&nbsp;Rust&nbsp;here,&nbsp;because
</c40><br/><ln>&nbsp;&nbsp;386</ln><a id="386">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;using&nbsp;--llvm-root&nbsp;will&nbsp;have&nbsp;multiple&nbsp;platforms&nbsp;that&nbsp;rustllvm
</c40><br/><ln>&nbsp;&nbsp;387</ln><a id="387">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;doesn't&nbsp;actually&nbsp;link&nbsp;to&nbsp;and&nbsp;it's&nbsp;pointless&nbsp;to&nbsp;put&nbsp;target&nbsp;info
</c40><br/><ln>&nbsp;&nbsp;388</ln><a id="388">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;registry&nbsp;that&nbsp;Rust&nbsp;cannot&nbsp;generate&nbsp;machine&nbsp;code&nbsp;for.
</c40><br/><ln>&nbsp;&nbsp;389</ln><a id="389">&nbsp;</a><a id="n[439930, 439931, 439929]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521288">llvm::LLVMInitializeX86TargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;390</ln><a id="390">&nbsp;</a><a id="n[439934, 439933, 439932]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521290">llvm::LLVMInitializeX86Target</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;391</ln><a id="391">&nbsp;</a><a id="n[439935, 439936, 439937]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521292">llvm::LLVMInitializeX86TargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;392</ln><a id="392">&nbsp;</a><a id="n[439940, 439939, 439938]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521294">llvm::LLVMInitializeX86AsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;393</ln><a id="393">&nbsp;</a><a id="n[439942, 439943, 439941]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521296">llvm::LLVMInitializeX86AsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;394</ln><a id="394">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;395</ln><a id="395">&nbsp;</a><a id="n[439946, 439944, 439945]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521298">llvm::LLVMInitializeARMTargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;396</ln><a id="396">&nbsp;</a><a id="n[439948, 439949, 439947]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521300">llvm::LLVMInitializeARMTarget</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;397</ln><a id="397">&nbsp;</a><a id="n[439951, 439950, 439952]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521302">llvm::LLVMInitializeARMTargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;398</ln><a id="398">&nbsp;</a><a id="n[439954, 439953, 439955]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521304">llvm::LLVMInitializeARMAsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;399</ln><a id="399">&nbsp;</a><a id="n[439958, 439957, 439956]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521306">llvm::LLVMInitializeARMAsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;400</ln><a id="400">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;401</ln><a id="401">&nbsp;</a><a id="n[439959, 439961, 439960]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521308">llvm::LLVMInitializeMipsTargetInfo</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;402</ln><a id="402">&nbsp;</a><a id="n[439964, 439962, 439963]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521310">llvm::LLVMInitializeMipsTarget</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;403</ln><a id="403">&nbsp;</a><a id="n[439967, 439965, 439966]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521312">llvm::LLVMInitializeMipsTargetMC</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;404</ln><a id="404">&nbsp;</a><a id="n[439968, 439970, 439969]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521314">llvm::LLVMInitializeMipsAsmPrinter</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;405</ln><a id="405">&nbsp;</a><a id="n[439972, 439973, 439971]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521316">llvm::LLVMInitializeMipsAsmParser</a></c26><c4>()</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;406</ln><a id="406">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;407</ln><a id="407">&nbsp;</a><a id="n[439974, 439983, 439978, 439976, 439982, 439979, 439975]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521461">llvm::LLVMRustSetLLVMOptions</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#364">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n57167">.len</a></c10><c4>()</c4><c21><a href="../../libsync/one.rs.html#n6543">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/libc.rs.html#n127568">c_int</a></c8><c3>,</c3><c27><a href="../../libsync/one.rs.html#n6543">
</a></c27><br/><ln>&nbsp;&nbsp;408</ln><a id="408">&nbsp;</a><a id="n[439981, 439980]">&nbsp;</a><c27><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#364">llvm_args</a></c26><c10><a href="../../libstd/vec.rs.html#n58344">.as_ptr</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libsync/one.rs.html#n6543">
</a></c22><br/><ln>&nbsp;&nbsp;409</ln><a id="409">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libsync/one.rs.html#n6543">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#351_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;410</ln><a id="410">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#351_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;411</ln><a id="411">&nbsp;</a><a id="n[]">&nbsp;</a><c38>
</c38><br/><ln>&nbsp;&nbsp;412</ln><a id="412">&nbsp;</a><a id="n[439994, 439993, 439990]">&nbsp;</a><c38>&nbsp;&nbsp;&nbsp;&nbsp;</c38><c21>unsafe</c21><c1><a href="#412_4_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#412_4_refs">&nbsp;populate_llvm_passes</a></c30><c4>(</c4><c20><a href="#412_35_refs">fpm</a></c20><c1><a href="#412_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#244">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#412_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;413</ln><a id="413">&nbsp;</a><a id="n[439997, 439998]">&nbsp;</a><c1><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#413_35_refs">mpm</a></c20><c1><a href="#412_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#244">lib::llvm::PassManagerRef</a></c8><c3>,</c3><c1><a href="#412_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;414</ln><a id="414">&nbsp;</a><a id="n[440001, 440002]">&nbsp;</a><c1><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#414_35_refs">llmod</a></c20><c1><a href="#412_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#228">ModuleRef</a></c8><c3>,</c3><c1><a href="#412_4_refs">
</a></c1><br/><ln>&nbsp;&nbsp;415</ln><a id="415">&nbsp;</a><a id="n[440005, 440006, 440007, 440076]">&nbsp;</a><c1><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#415_35_refs">opt</a></c20><c1><a href="#412_4_refs">:&nbsp;</a></c1><c8><a href="../../librustc/lib/llvm.rs.html#201">lib::llvm::CodeGenOptLevel</a></c8><c4>)</c4><c1><a href="#412_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;416</ln><a id="416">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Create&nbsp;the&nbsp;PassManagerBuilder&nbsp;for&nbsp;LLVM.&nbsp;We&nbsp;configure&nbsp;it&nbsp;with
</c40><br/><ln>&nbsp;&nbsp;417</ln><a id="417">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;reasonable&nbsp;defaults&nbsp;and&nbsp;prepare&nbsp;it&nbsp;to&nbsp;actually&nbsp;populate&nbsp;the&nbsp;pass
</c40><br/><ln>&nbsp;&nbsp;418</ln><a id="418">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;manager.
</c40><br/><ln>&nbsp;&nbsp;419</ln><a id="419">&nbsp;</a><a id="n[440012, 440011, 440013, 440009, 440008, 440010]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#412_4_refs">&nbsp;</a></c22><c20><a href="#419_12_refs">builder</a></c20><c16><a href="#412_4_refs">&nbsp;=&nbsp;</a></c16><c26><a href="c=0 n=520191">llvm::LLVMPassManagerBuilderCreate</a></c26><c4>()</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;420</ln><a id="420">&nbsp;</a><a id="n[440014, 440048, 440047]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#412_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#415">opt</a></c26><c21><a href="#412_4_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#412_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;421</ln><a id="421">&nbsp;</a><a id="n[440022, 440015, 440021]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/lib/llvm.rs.html#203">lib::llvm::CodeGenLevelNone</a></c20><c21><a href="#412_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#412_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;422</ln><a id="422">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Don't&nbsp;add&nbsp;lifetime&nbsp;intrinsics&nbsp;at&nbsp;O0
</c40><br/><ln>&nbsp;&nbsp;423</ln><a id="423">&nbsp;</a><a id="n[440017, 440018, 440019, 440020, 440016]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521486">llvm::LLVMRustAddAlwaysInlinePass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">&nbsp;</a></c13><c12><a href="#412_4_refs">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;424</ln><a id="424">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#412_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;425</ln><a id="425">&nbsp;</a><a id="n[440023, 440029, 440030]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/lib/llvm.rs.html#204">lib::llvm::CodeGenLevelLess</a></c20><c21><a href="#412_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#412_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;426</ln><a id="426">&nbsp;</a><a id="n[440027, 440026, 440025, 440028, 440024]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521486">llvm::LLVMRustAddAlwaysInlinePass</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">&nbsp;</a></c13><c12><a href="#412_4_refs">true</a></c12><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;427</ln><a id="427">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#412_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;428</ln><a id="428">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;numeric&nbsp;values&nbsp;copied&nbsp;from&nbsp;clang
</c40><br/><ln>&nbsp;&nbsp;429</ln><a id="429">&nbsp;</a><a id="n[440031, 440038, 440037]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/lib/llvm.rs.html#205">lib::llvm::CodeGenLevelDefault</a></c20><c21><a href="#412_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#412_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;430</ln><a id="430">&nbsp;</a><a id="n[440036, 440032, 440035, 440033]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520250">llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c27><a href="#412_4_refs">
</a></c27><br/><ln>&nbsp;&nbsp;431</ln><a id="431">&nbsp;</a><a id="n[440034]">&nbsp;</a><c27><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c12><a href="#412_4_refs">225</a></c12><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;432</ln><a id="432">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#412_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;433</ln><a id="433">&nbsp;</a><a id="n[440045, 440039, 440046]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/lib/llvm.rs.html#206">lib::llvm::CodeGenLevelAggressive</a></c20><c21><a href="#412_4_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#412_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;434</ln><a id="434">&nbsp;</a><a id="n[440040, 440041, 440043, 440044]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520250">llvm::LLVMPassManagerBuilderUseInlinerWithThreshold</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">
</a></c13><br/><ln>&nbsp;&nbsp;435</ln><a id="435">&nbsp;</a><a id="n[440042]">&nbsp;</a><c13><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c12><a href="#412_4_refs">275</a></c12><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;436</ln><a id="436">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#412_4_refs">
</a></c21><br/><ln>&nbsp;&nbsp;437</ln><a id="437">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;438</ln><a id="438">&nbsp;</a><a id="n[440056, 440050, 440054, 440055, 440053, 440049, 440051]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520200">llvm::LLVMPassManagerBuilderSetOptLevel</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c27><a href="#412_4_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#415">opt</a></c26><c21><a href="#412_4_refs">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/libc.rs.html#n127571">c_uint</a></c8><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;439</ln><a id="439">&nbsp;</a><a id="n[440060, 440059, 440061, 440058, 440057]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=521392">llvm::LLVMRustAddBuilderLibraryInfo</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#414">llmod</a></c26><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;440</ln><a id="440">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;441</ln><a id="441">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Use&nbsp;the&nbsp;builder&nbsp;to&nbsp;populate&nbsp;the&nbsp;function/module&nbsp;pass&nbsp;managers.
</c40><br/><ln>&nbsp;&nbsp;442</ln><a id="442">&nbsp;</a><a id="n[440063, 440065, 440066, 440064, 440062]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520270">llvm::LLVMPassManagerBuilderPopulateFunctionPassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#412">fpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;443</ln><a id="443">&nbsp;</a><a id="n[440069, 440068, 440070, 440067, 440071]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520260">llvm::LLVMPassManagerBuilderPopulateModulePassManager</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c3>,</c3><c13><a href="#412_4_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#413">mpm</a></c26><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;444</ln><a id="444">&nbsp;</a><a id="n[440074, 440073, 440072, 440075]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="c=0 n=520194">llvm::LLVMPassManagerBuilderDispose</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#419">builder</a></c26><c4>)</c4><c3>;</c3><c22><a href="#412_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;445</ln><a id="445">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#412_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c38>
</c38><br/><ln>&nbsp;&nbsp;446</ln><a id="446">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;447</ln><a id="447">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;448</ln><a id="448">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;449</ln><a id="449">&nbsp;</a><a id="n[]">&nbsp;</a><c41>/*
</c41><br/><ln>&nbsp;&nbsp;450</ln><a id="450">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;Name&nbsp;mangling&nbsp;and&nbsp;its&nbsp;relationship&nbsp;to&nbsp;metadata.&nbsp;This&nbsp;is&nbsp;complex.&nbsp;Read
</c41><br/><ln>&nbsp;&nbsp;451</ln><a id="451">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;carefully.
</c41><br/><ln>&nbsp;&nbsp;452</ln><a id="452">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;453</ln><a id="453">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;The&nbsp;semantic&nbsp;model&nbsp;of&nbsp;Rust&nbsp;linkage&nbsp;is,&nbsp;broadly,&nbsp;that&nbsp;"there's&nbsp;no&nbsp;global
</c41><br/><ln>&nbsp;&nbsp;454</ln><a id="454">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;namespace"&nbsp;between&nbsp;crates.&nbsp;Our&nbsp;aim&nbsp;is&nbsp;to&nbsp;preserve&nbsp;the&nbsp;illusion&nbsp;of&nbsp;this
</c41><br/><ln>&nbsp;&nbsp;455</ln><a id="455">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;model&nbsp;despite&nbsp;the&nbsp;fact&nbsp;that&nbsp;it's&nbsp;not&nbsp;*quite*&nbsp;possible&nbsp;to&nbsp;implement&nbsp;on
</c41><br/><ln>&nbsp;&nbsp;456</ln><a id="456">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;modern&nbsp;linkers.&nbsp;We&nbsp;initially&nbsp;didn't&nbsp;use&nbsp;system&nbsp;linkers&nbsp;at&nbsp;all,&nbsp;but&nbsp;have
</c41><br/><ln>&nbsp;&nbsp;457</ln><a id="457">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;been&nbsp;convinced&nbsp;of&nbsp;their&nbsp;utility.
</c41><br/><ln>&nbsp;&nbsp;458</ln><a id="458">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;459</ln><a id="459">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;issues&nbsp;to&nbsp;handle:
</c41><br/><ln>&nbsp;&nbsp;460</ln><a id="460">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;461</ln><a id="461">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Linkers&nbsp;operate&nbsp;on&nbsp;a&nbsp;flat&nbsp;namespace,&nbsp;so&nbsp;we&nbsp;have&nbsp;to&nbsp;flatten&nbsp;names.
</c41><br/><ln>&nbsp;&nbsp;462</ln><a id="462">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;do&nbsp;this&nbsp;using&nbsp;the&nbsp;C++&nbsp;namespace-mangling&nbsp;technique.&nbsp;Foo::bar
</c41><br/><ln>&nbsp;&nbsp;463</ln><a id="463">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;and&nbsp;such.
</c41><br/><ln>&nbsp;&nbsp;464</ln><a id="464">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;465</ln><a id="465">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;but&nbsp;different&nbsp;types&nbsp;need&nbsp;to&nbsp;get&nbsp;different
</c41><br/><ln>&nbsp;&nbsp;466</ln><a id="466">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;linkage-names.&nbsp;We&nbsp;do&nbsp;this&nbsp;by&nbsp;hashing&nbsp;a&nbsp;string-encoding&nbsp;of&nbsp;the&nbsp;type&nbsp;into
</c41><br/><ln>&nbsp;&nbsp;467</ln><a id="467">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;fixed-size&nbsp;(currently&nbsp;16-byte&nbsp;hex)&nbsp;cryptographic&nbsp;hash&nbsp;function&nbsp;(CHF:
</c41><br/><ln>&nbsp;&nbsp;468</ln><a id="468">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;use&nbsp;SHA256)&nbsp;to&nbsp;"prevent&nbsp;collisions".&nbsp;This&nbsp;is&nbsp;not&nbsp;airtight&nbsp;but&nbsp;16&nbsp;hex
</c41><br/><ln>&nbsp;&nbsp;469</ln><a id="469">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;digits&nbsp;on&nbsp;uniform&nbsp;probability&nbsp;means&nbsp;you're&nbsp;going&nbsp;to&nbsp;need&nbsp;2**32&nbsp;same-name
</c41><br/><ln>&nbsp;&nbsp;470</ln><a id="470">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;symbols&nbsp;in&nbsp;the&nbsp;same&nbsp;process&nbsp;before&nbsp;you're&nbsp;even&nbsp;hitting&nbsp;birthday-paradox
</c41><br/><ln>&nbsp;&nbsp;471</ln><a id="471">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;collision&nbsp;probability.
</c41><br/><ln>&nbsp;&nbsp;472</ln><a id="472">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;473</ln><a id="473">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Symbols&nbsp;in&nbsp;different&nbsp;crates&nbsp;but&nbsp;with&nbsp;same&nbsp;names&nbsp;"within"&nbsp;the&nbsp;crate&nbsp;need
</c41><br/><ln>&nbsp;&nbsp;474</ln><a id="474">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;different&nbsp;linkage-names.
</c41><br/><ln>&nbsp;&nbsp;475</ln><a id="475">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;476</ln><a id="476">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;The&nbsp;hash&nbsp;shown&nbsp;in&nbsp;the&nbsp;filename&nbsp;needs&nbsp;to&nbsp;be&nbsp;predictable&nbsp;and&nbsp;stable&nbsp;for
</c41><br/><ln>&nbsp;&nbsp;477</ln><a id="477">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;build&nbsp;tooling&nbsp;integration.&nbsp;It&nbsp;also&nbsp;needs&nbsp;to&nbsp;be&nbsp;using&nbsp;a&nbsp;hash&nbsp;function
</c41><br/><ln>&nbsp;&nbsp;478</ln><a id="478">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;is&nbsp;easy&nbsp;to&nbsp;use&nbsp;from&nbsp;Python,&nbsp;make,&nbsp;etc.
</c41><br/><ln>&nbsp;&nbsp;479</ln><a id="479">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;480</ln><a id="480">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;So&nbsp;here&nbsp;is&nbsp;what&nbsp;we&nbsp;do:
</c41><br/><ln>&nbsp;&nbsp;481</ln><a id="481">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;482</ln><a id="482">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Consider&nbsp;the&nbsp;package&nbsp;id;&nbsp;every&nbsp;crate&nbsp;has&nbsp;one&nbsp;(specified&nbsp;with&nbsp;crate_id
</c41><br/><ln>&nbsp;&nbsp;483</ln><a id="483">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;attribute).&nbsp;&nbsp;If&nbsp;a&nbsp;package&nbsp;id&nbsp;isn't&nbsp;provided&nbsp;explicitly,&nbsp;we&nbsp;infer&nbsp;a
</c41><br/><ln>&nbsp;&nbsp;484</ln><a id="484">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;versionless&nbsp;one&nbsp;from&nbsp;the&nbsp;output&nbsp;name.&nbsp;The&nbsp;version&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;0.0
</c41><br/><ln>&nbsp;&nbsp;485</ln><a id="485">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;this&nbsp;case.&nbsp;CNAME&nbsp;and&nbsp;CVERS&nbsp;are&nbsp;taken&nbsp;from&nbsp;this&nbsp;package&nbsp;id.&nbsp;For
</c41><br/><ln>&nbsp;&nbsp;486</ln><a id="486">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;example,&nbsp;github.com/mozilla/CNAME#CVERS.
</c41><br/><ln>&nbsp;&nbsp;487</ln><a id="487">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;488</ln><a id="488">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH&nbsp;as&nbsp;SHA256(crateid).
</c41><br/><ln>&nbsp;&nbsp;489</ln><a id="489">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;490</ln><a id="490">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;CMH8&nbsp;as&nbsp;the&nbsp;first&nbsp;8&nbsp;characters&nbsp;of&nbsp;CMH.
</c41><br/><ln>&nbsp;&nbsp;491</ln><a id="491">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;492</ln><a id="492">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Compile&nbsp;our&nbsp;crate&nbsp;to&nbsp;lib&nbsp;CNAME-CMH8-CVERS.so
</c41><br/><ln>&nbsp;&nbsp;493</ln><a id="493">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;494</ln><a id="494">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Define&nbsp;STH(sym)&nbsp;as&nbsp;SHA256(CMH,&nbsp;type_str(sym))
</c41><br/><ln>&nbsp;&nbsp;495</ln><a id="495">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*
</c41><br/><ln>&nbsp;&nbsp;496</ln><a id="496">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;-&nbsp;Suffix&nbsp;a&nbsp;mangled&nbsp;sym&nbsp;with&nbsp;::STH@CVERS,&nbsp;so&nbsp;that&nbsp;it&nbsp;is&nbsp;unique&nbsp;in&nbsp;the
</c41><br/><ln>&nbsp;&nbsp;497</ln><a id="497">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;name,&nbsp;non-name&nbsp;metadata,&nbsp;and&nbsp;type&nbsp;sense,&nbsp;and&nbsp;versioned&nbsp;in&nbsp;the&nbsp;way
</c41><br/><ln>&nbsp;&nbsp;498</ln><a id="498">&nbsp;</a><a id="n[]">&nbsp;</a><c41>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;system&nbsp;linkers&nbsp;understand.
</c41><br/><ln>&nbsp;&nbsp;499</ln><a id="499">&nbsp;</a><a id="n[]">&nbsp;</a><c42>&nbsp;*/
</c42><br/><ln>&nbsp;&nbsp;500</ln><a id="500">&nbsp;</a><a id="n[440077]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;501</ln><a id="501">&nbsp;</a><a id="n[440090, 440083, 440087, 440081, 440088, 440080, 440082, 440091, 440086]">&nbsp;</a><c21>pub</c21><c1><a href="#500_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#500_1_refs">&nbsp;find_crate_id</a></c30><c4>(</c4><c20><a href="#501_21_refs">attrs</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;</a></c8><c3>[</c3><c8><a href="../../libsyntax/ast.rs.html#n64946">ast::Attribute</a></c8><c3>],</c3><c1><a href="#500_1_refs">&nbsp;</a></c1><c20><a href="#501_47_refs">out_filestem</a></c20><c1><a href="#500_1_refs">:&nbsp;</a></c1><c8><a href="#500_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#500_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#500_1_refs">&nbsp;</a></c1><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c1><a href="#500_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;502</ln><a id="502">&nbsp;</a><a id="n[440094, 440103, 440093, 440092]">&nbsp;</a><c22><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#500_1_refs">&nbsp;</a></c21><c26><a href="../../libsyntax/attr.rs.html#n3243">attr::find_crateid</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#501">attrs</a></c26><c4>)</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;503</ln><a id="503">&nbsp;</a><a id="n[440097, 440099, 440096, 440098, 440095]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#500_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c26><a href="../../libstd/from_str.rs.html#n76306">from_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#501">out_filestem</a></c26><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c3>,</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;504</ln><a id="504">&nbsp;</a><a id="n[440102, 440100, 440101]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#504_13_refs">s</a></c20><c4>)</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#500_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#504">s</a></c26><c3>,</c3><c21><a href="#500_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;505</ln><a id="505">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#500_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#500_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;506</ln><a id="506">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;507</ln><a id="507">&nbsp;</a><a id="n[440104]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;508</ln><a id="508">&nbsp;</a><a id="n[440112, 440108, 440107, 440109, 440124, 440111]">&nbsp;</a><c21>pub</c21><c1><a href="#507_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#507_1_refs">&nbsp;crate_id_hash</a></c30><c4>(</c4><c20><a href="#508_21_refs">crate_id</a></c20><c1><a href="#507_1_refs">:&nbsp;</a></c1><c8><a href="#507_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c4>)</c4><c1><a href="#507_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#507_1_refs">&nbsp;</a></c1><c8><a href="#507_1_refs">~str</a></c8><c1><a href="#507_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#507_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;509</ln><a id="509">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;calculates&nbsp;CMH&nbsp;as&nbsp;defined&nbsp;above.&nbsp;Note&nbsp;that&nbsp;we&nbsp;don't&nbsp;use&nbsp;the&nbsp;path&nbsp;of
</c40><br/><ln>&nbsp;&nbsp;510</ln><a id="510">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;crate&nbsp;id&nbsp;in&nbsp;the&nbsp;hash&nbsp;because&nbsp;lookups&nbsp;are&nbsp;only&nbsp;done&nbsp;by&nbsp;(name/vers),
</c40><br/><ln>&nbsp;&nbsp;511</ln><a id="511">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;by&nbsp;path.
</c40><br/><ln>&nbsp;&nbsp;512</ln><a id="512">&nbsp;</a><a id="n[440117, 440118, 440115, 440113, 440114, 440116]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#507_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#512_8_refs">&nbsp;s</a></c20><c16><a href="#507_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/util/sha2.rs.html#481">Sha256::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#507_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;513</ln><a id="513">&nbsp;</a><a id="n[440122, 440120, 440123, 440119, 440121]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#512">s</a></c26><c13><a href="c=0 n=526687">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#508">crate_id</a></c26><c10><a href="../../libsyntax/crateid.rs.html#n131097">.short_name_with_version</a></c10><c4>())</c4><c3>;</c3><c22><a href="#507_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;514</ln><a id="514">&nbsp;</a><a id="n[440128, 440131, 440125, 440130, 440126, 440129, 440127]">&nbsp;</a><c22><a href="#507_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#525">truncated_hash_result</a></c26><c4>(</c4><c5><a href="#507_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#512">s</a></c26><c4>)</c4><c10><a href="../../libstd/str.rs.html#n66210">.slice_to</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n66210">8</a></c12><c4>)</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#507_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;515</ln><a id="515">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;516</ln><a id="516">&nbsp;</a><a id="n[440132]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;517</ln><a id="517">&nbsp;</a><a id="n[440137, 440136, 440135, 440142, 440140, 440141, 440257, 440144]">&nbsp;</a><c21>pub</c21><c1><a href="#516_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#516_1_refs">&nbsp;build_link_meta</a></c30><c4>(</c4><c20><a href="#517_23_refs">krate</a></c20><c1><a href="#516_1_refs">:&nbsp;</a></c1><c8><a href="#516_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/ast.rs.html#n26023">ast::Crate</a></c8><c3>,</c3><c1><a href="#516_1_refs">&nbsp;</a></c1><c20><a href="#517_43_refs">out_filestem</a></c20><c1><a href="#516_1_refs">:&nbsp;</a></c1><c8><a href="#516_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#516_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#516_1_refs">&nbsp;</a></c1><c8><a href="../../librustc/metadata/common.rs.html#211">LinkMeta</a></c8><c1><a href="#516_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#516_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;518</ln><a id="518">&nbsp;</a><a id="n[440147, 440145, 440157, 440158, 440146]">&nbsp;</a><c22><a href="#516_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#516_1_refs">&nbsp;</a></c22><c20><a href="#518_8_refs">r</a></c20><c13><a href="#516_1_refs">&nbsp;=&nbsp;</a></c13><c1><a href="../../librustc/metadata/common.rs.html#211">LinkMeta&nbsp;</a></c1><c3>{</c3><c1><a href="../../librustc/metadata/common.rs.html#211">
</a></c1><br/><ln>&nbsp;&nbsp;519</ln><a id="519">&nbsp;</a><a id="n[440150, 440152, 440151, 440149, 440153, 440148]">&nbsp;</a><c1><a href="../../librustc/metadata/common.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#500">find_crate_id</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#517">krate</a></c26><c24><a href="../../libsyntax/ast.rs.html#n26023">.attrs</a></c24><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()</c4><c3>,</c3><c27><a href="../../librustc/metadata/common.rs.html#211">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#517">out_filestem</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#211">
</a></c1><br/><ln>&nbsp;&nbsp;520</ln><a id="520">&nbsp;</a><a id="n[440154, 440155, 440156]">&nbsp;</a><c1><a href="../../librustc/metadata/common.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crate_hash:&nbsp;</a></c1><c26><a href="../../librustc/back/svh.rs.html#70">Svh::calculate</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#517">krate</a></c26><c4>)</c4><c3>,</c3><c1><a href="../../librustc/metadata/common.rs.html#211">
</a></c1><br/><ln>&nbsp;&nbsp;521</ln><a id="521">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../../librustc/metadata/common.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>};</c3><c22><a href="#516_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;522</ln><a id="522">&nbsp;</a><a id="n[440197, 440198, 440199, 440227, 440193, 440212, 440215, 440210, 440223, 440226, 440225, 440231, 440203, 440249, 440216, 440201, 440190, 440222, 440221, 440206, 440217, 440208, 440192, 440219, 440205, 440218, 440229, 440220, 440224, 440202, 440207, 440189, 440232, 440214, 440246, 440211, 440228, 440204, 440191, 440200, 440213, 440233, 440194, 440230, 440209]">&nbsp;</a><c22><a href="#516_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;info!</a></c22><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n169463">"</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n169463">"</a></c1><c3>,</c3><c22><a href="#516_1_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#518">r</a></c26><c4>)</c4><c3>;</c3><c22><a href="#516_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;523</ln><a id="523">&nbsp;</a><a id="n[440256, 440255, 440254]">&nbsp;</a><c22><a href="#516_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#516_1_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#518">r</a></c26><c3>;</c3><c22><a href="#516_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;524</ln><a id="524">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;525</ln><a id="525">&nbsp;</a><a id="n[440258]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;526</ln><a id="526">&nbsp;</a><a id="n[440262, 440261, 440265, 440266, 440263, 440273]">&nbsp;</a><c30>fn</c30><c30><a href="#525_1_refs">&nbsp;truncated_hash_result</a></c30><c4>(</c4><c20><a href="#526_25_refs">symbol_hasher</a></c20><c1><a href="#525_1_refs">:&nbsp;</a></c1><c8><a href="#525_1_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#474">Sha256</a></c8><c4>)</c4><c1><a href="#525_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#525_1_refs">&nbsp;</a></c1><c8><a href="#525_1_refs">~str</a></c8><c1><a href="#525_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#525_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;527</ln><a id="527">&nbsp;</a><a id="n[440268, 440269, 440271, 440272, 440267, 440270]">&nbsp;</a><c22><a href="#525_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#525_1_refs">&nbsp;</a></c22><c20><a href="#527_8_refs">output</a></c20><c16><a href="#525_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#526">symbol_hasher</a></c26><c10><a href="c=0 n=526688">.result_bytes</a></c10><c4>()</c4><c3>;</c3><c22><a href="#525_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;528</ln><a id="528">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#525_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;64&nbsp;bits&nbsp;should&nbsp;be&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;529</ln><a id="529">&nbsp;</a><a id="n[440274, 440276, 440275, 440277]">&nbsp;</a><c22><a href="#525_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#527">output</a></c26><c10><a href="../../libstd/vec.rs.html#n58305">.slice_to</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n58305">8</a></c12><c4>)</c4><c10><a href="../../libserialize/hex.rs.html#n21321">.to_hex</a></c10><c4>()</c4><c22><a href="#525_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;530</ln><a id="530">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;531</ln><a id="531">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;532</ln><a id="532">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;533</ln><a id="533">&nbsp;</a><a id="n[440278]">&nbsp;</a><c40>//&nbsp;This&nbsp;calculates&nbsp;STH&nbsp;for&nbsp;a&nbsp;symbol,&nbsp;as&nbsp;defined&nbsp;above
</c40><br/><ln>&nbsp;&nbsp;534</ln><a id="534">&nbsp;</a><a id="n[440283, 440288, 440282, 440287, 440286, 440281]">&nbsp;</a><c30>fn</c30><c30><a href="#533_54_refs">&nbsp;symbol_hash</a></c30><c4>(</c4><c20><a href="#534_15_refs">tcx</a></c20><c1><a href="#533_54_refs">:&nbsp;</a></c1><c8><a href="#533_54_refs">&amp;</a></c8><c8><a href="../../librustc/middle/ty.rs.html#247">ty::ctxt</a></c8><c3>,</c3><c1><a href="#533_54_refs">&nbsp;</a></c1><c20><a href="#534_31_refs">symbol_hasher</a></c20><c1><a href="#533_54_refs">:&nbsp;</a></c1><c8><a href="#533_54_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../librustc/util/sha2.rs.html#474">Sha256</a></c8><c3>,</c3><c1><a href="#533_54_refs">
</a></c1><br/><ln>&nbsp;&nbsp;535</ln><a id="535">&nbsp;</a><a id="n[440342, 440297, 440292, 440300, 440296, 440291, 440299, 440295]">&nbsp;</a><c1><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#535_15_refs">t</a></c20><c1><a href="#533_54_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>,</c3><c1><a href="#533_54_refs">&nbsp;</a></c1><c20><a href="#535_25_refs">link_meta</a></c20><c1><a href="#533_54_refs">:&nbsp;</a></c1><c8><a href="#533_54_refs">&amp;</a></c8><c8><a href="../../librustc/metadata/common.rs.html#211">LinkMeta</a></c8><c4>)</c4><c1><a href="#533_54_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#533_54_refs">&nbsp;</a></c1><c8><a href="#533_54_refs">~str</a></c8><c1><a href="#533_54_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;536</ln><a id="536">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;NB:&nbsp;do&nbsp;*not*&nbsp;use&nbsp;abbrevs&nbsp;here&nbsp;as&nbsp;we&nbsp;want&nbsp;the&nbsp;symbol&nbsp;names
</c40><br/><ln>&nbsp;&nbsp;537</ln><a id="537">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;be&nbsp;independent&nbsp;of&nbsp;one&nbsp;another&nbsp;in&nbsp;the&nbsp;crate.
</c40><br/><ln>&nbsp;&nbsp;538</ln><a id="538">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;539</ln><a id="539">&nbsp;</a><a id="n[440302, 440301, 440303]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c13><a href="../../librustc/util/sha2.rs.html#506">.reset</a></c13><c4>()</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;540</ln><a id="540">&nbsp;</a><a id="n[440306, 440309, 440308, 440304, 440305, 440307]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c10><a href="c=0 n=526687">.input_str</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#535">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#213">.crateid</a></c24><c24><a href="../../libsyntax/crateid.rs.html#n130375">.name</a></c24><c4>)</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;541</ln><a id="541">&nbsp;</a><a id="n[440311, 440310, 440313, 440312]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c10><a href="c=0 n=526687">.input_str</a></c10><c4>(</c4><c12><a href="#533_54_refs">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;542</ln><a id="542">&nbsp;</a><a id="n[440318, 440316, 440319, 440317, 440314, 440315]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c13><a href="c=0 n=526687">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#535">link_meta</a></c26><c24><a href="../../librustc/metadata/common.rs.html#214">.crate_hash</a></c24><c10><a href="../../librustc/back/svh.rs.html#66">.as_str</a></c10><c4>())</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;543</ln><a id="543">&nbsp;</a><a id="n[440320, 440321, 440322, 440323]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c13><a href="c=0 n=526687">.input_str</a></c13><c4>(</c4><c12><a href="#533_54_refs">"-"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;544</ln><a id="544">&nbsp;</a><a id="n[440328, 440329, 440327, 440325, 440324, 440330, 440326]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c13><a href="c=0 n=526687">.input_str</a></c13><c4>(</c4><c26><a href="../../librustc/metadata/encoder.rs.html#1864">encoder::encoded_ty</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#534">tcx</a></c26><c3>,</c3><c27><a href="#533_54_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#535">t</a></c26><c4>))</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;545</ln><a id="545">&nbsp;</a><a id="n[440336, 440332, 440331, 440335, 440333, 440337, 440334]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#533_54_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#545_8_refs">&nbsp;hash</a></c20><c13><a href="#533_54_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#525">truncated_hash_result</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#534">symbol_hasher</a></c26><c4>)</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;546</ln><a id="546">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Prefix&nbsp;with&nbsp;'h'&nbsp;so&nbsp;that&nbsp;it&nbsp;never&nbsp;blends&nbsp;into&nbsp;adjacent&nbsp;digits
</c40><br/><ln>&nbsp;&nbsp;547</ln><a id="547">&nbsp;</a><a id="n[440341, 440338, 440340, 440339]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#545">hash</a></c26><c10><a href="../../libstd/str.rs.html#n68817">.unshift_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68817">'h'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;548</ln><a id="548">&nbsp;</a><a id="n[440343]">&nbsp;</a><c22><a href="#533_54_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#545">hash</a></c26><c22><a href="#533_54_refs">
</a></c22><br/><ln>&nbsp;&nbsp;549</ln><a id="549">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;550</ln><a id="550">&nbsp;</a><a id="n[440344]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;551</ln><a id="551">&nbsp;</a><a id="n[440348, 440355, 440403, 440347, 440353, 440349, 440352, 440356]">&nbsp;</a><c30>fn</c30><c30><a href="#550_1_refs">&nbsp;get_symbol_hash</a></c30><c4>(</c4><c20><a href="#551_19_refs">ccx</a></c20><c1><a href="#550_1_refs">:&nbsp;</a></c1><c8><a href="#550_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#550_1_refs">&nbsp;</a></c1><c20><a href="#551_39_refs">t</a></c20><c1><a href="#550_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c4>)</c4><c1><a href="#550_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#550_1_refs">&nbsp;</a></c1><c8><a href="#550_1_refs">~str</a></c8><c1><a href="#550_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;552</ln><a id="552">&nbsp;</a><a id="n[440357, 440362, 440359, 440372, 440358, 440371, 440361, 440360]">&nbsp;</a><c22><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#550_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#551">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#99">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n13549">.find</a></c10><c4>(</c4><c5><a href="../../libcollections/hashmap.rs.html#n13549">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#551">t</a></c26><c4>)</c4><c21><a href="#550_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#550_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;553</ln><a id="553">&nbsp;</a><a id="n[440365, 440367, 440364, 440366, 440363]">&nbsp;</a><c21><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#553_13_refs">h</a></c20><c4>)</c4><c21><a href="#550_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#550_1_refs">&nbsp;</a></c21><c1><a href="#550_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#553">h</a></c26><c10><a href="../../libstd/to_str.rs.html#n99159">.to_str</a></c10><c4>()</c4><c3>,</c3><c21><a href="#550_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;554</ln><a id="554">&nbsp;</a><a id="n[440369, 440370, 440368]">&nbsp;</a><c21><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#550_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#550_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#550_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;555</ln><a id="555">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;556</ln><a id="556">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;557</ln><a id="557">&nbsp;</a><a id="n[440378, 440379, 440374, 440377, 440376, 440373, 440375]">&nbsp;</a><c22><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#550_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#557_8_refs">&nbsp;symbol_hasher</a></c20><c16><a href="#550_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#551">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#98">.symbol_hasher</a></c24><c10><a href="../../libstd/cell.rs.html#n107663">.borrow_mut</a></c10><c4>()</c4><c3>;</c3><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;558</ln><a id="558">&nbsp;</a><a id="n[440388, 440393, 440394, 440381, 440380, 440382, 440392, 440386, 440387, 440384, 440391, 440390, 440385, 440383, 440389]">&nbsp;</a><c22><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#550_1_refs">&nbsp;</a></c22><c20><a href="#558_8_refs">hash</a></c20><c16><a href="#550_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#533">symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#551">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#550_1_refs">&nbsp;</a></c27><c5><a href="#550_1_refs">&amp;mut&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#557">symbol_hasher</a></c26><c3>,</c3><c27><a href="#550_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#551">t</a></c26><c3>,</c3><c27><a href="#550_1_refs">&nbsp;</a></c27><c5><a href="#550_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#551">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#51">.link_meta</a></c24><c4>)</c4><c3>;</c3><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;559</ln><a id="559">&nbsp;</a><a id="n[440396, 440398, 440402, 440397, 440400, 440401, 440399, 440395]">&nbsp;</a><c22><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#551">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#99">.type_hashcodes</a></c24><c10><a href="../../libstd/cell.rs.html#n107663">.borrow_mut</a></c10><c4>()</c4><c10><a href="../../librustc/middle/trans/common.rs.html#818">.insert</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#551">t</a></c26><c3>,</c3><c10><a href="../../librustc/middle/trans/common.rs.html#818">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#558">hash</a></c26><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;560</ln><a id="560">&nbsp;</a><a id="n[440404]">&nbsp;</a><c22><a href="#550_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#558">hash</a></c26><c22><a href="#550_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;561</ln><a id="561">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;562</ln><a id="562">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;563</ln><a id="563">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;564</ln><a id="564">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Name&nbsp;sanitation.&nbsp;LLVM&nbsp;will&nbsp;happily&nbsp;accept&nbsp;identifiers&nbsp;with&nbsp;weird&nbsp;names,&nbsp;but
</c40><br/><ln>&nbsp;&nbsp;565</ln><a id="565">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;gas&nbsp;doesn't!
</c40><br/><ln>&nbsp;&nbsp;566</ln><a id="566">&nbsp;</a><a id="n[440405]">&nbsp;</a><c40>//&nbsp;gas&nbsp;accepts&nbsp;the&nbsp;following&nbsp;characters&nbsp;in&nbsp;symbols:&nbsp;a-z,&nbsp;A-Z,&nbsp;0-9,&nbsp;.,&nbsp;_,&nbsp;$
</c40><br/><ln>&nbsp;&nbsp;567</ln><a id="567">&nbsp;</a><a id="n[440412, 440410, 440408, 440409, 440413, 440576]">&nbsp;</a><c21>pub</c21><c1><a href="#566_75_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#566_75_refs">&nbsp;sanitize</a></c30><c4>(</c4><c20><a href="#567_16_refs">s</a></c20><c1><a href="#566_75_refs">:&nbsp;</a></c1><c8><a href="#566_75_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#566_75_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#566_75_refs">&nbsp;</a></c1><c8><a href="#566_75_refs">~str</a></c8><c1><a href="#566_75_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;568</ln><a id="568">&nbsp;</a><a id="n[440419, 440414, 440415, 440418, 440416, 440417]">&nbsp;</a><c22><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#566_75_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#568_8_refs">&nbsp;result</a></c20><c16><a href="#566_75_refs">&nbsp;=&nbsp;~</a></c16><c12><a href="#566_75_refs">""</a></c12><c3>;</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;569</ln><a id="569">&nbsp;</a><a id="n[440423, 440538, 440425, 440424, 440420, 440539, 440431, 440429, 440428, 440422, 440426, 440427, 440430, 440540, 440536, 440421, 440537]">&nbsp;</a><c22><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c20><a href="#569_8_refs">c</a></c20><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#567">s</a></c26><c10><a href="../../libstd/str.rs.html#n65630">.chars</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#569">
</a></c22><br/><ln>&nbsp;&nbsp;570</ln><a id="570">&nbsp;</a><a id="n[440432, 440535]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#569">c</a></c26><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;571</ln><a id="571">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Escape&nbsp;these&nbsp;with&nbsp;$&nbsp;sequences
</c40><br/><ln>&nbsp;&nbsp;572</ln><a id="572">&nbsp;</a><a id="n[440436, 440434, 440435, 440437, 440433]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#569_4_refs">'@'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="#569_4_refs">"$SP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;573</ln><a id="573">&nbsp;</a><a id="n[440441, 440440, 440442, 440439, 440438]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#569_4_refs">'~'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="#569_4_refs">"$UP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;574</ln><a id="574">&nbsp;</a><a id="n[440444, 440443, 440446, 440445, 440447]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">'*'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#569">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;575</ln><a id="575">&nbsp;</a><a id="n[440450, 440448, 440451, 440449, 440452]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">'&amp;'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#569">"$BP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;576</ln><a id="576">&nbsp;</a><a id="n[440456, 440453, 440455, 440457, 440454]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">'&lt;'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="#569_4_refs">"$LT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;577</ln><a id="577">&nbsp;</a><a id="n[440458, 440460, 440461, 440462, 440459]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#569_4_refs">'&gt;'</a></c20><c12><a href="#569_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#569">"$GT$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;578</ln><a id="578">&nbsp;</a><a id="n[440463, 440465, 440464, 440467, 440466]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#569_4_refs">'</a></c20><c4>(</c4><c20><a href="#569_4_refs">'</a></c20><c12><a href="#569_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68647">"$LP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;579</ln><a id="579">&nbsp;</a><a id="n[440471, 440469, 440468, 440472, 440470]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">'</a></c20><c4>)</c4><c20><a href="../../librustc/back/link.rs.html#569">'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#569">"$RP$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;580</ln><a id="580">&nbsp;</a><a id="n[440474, 440477, 440476, 440475, 440473]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#569_4_refs">'</a></c20><c3>,</c3><c20><a href="#569_4_refs">'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68647">"$C$"</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;581</ln><a id="581">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;582</ln><a id="582">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;'.'&nbsp;doesn't&nbsp;occur&nbsp;in&nbsp;types&nbsp;and&nbsp;functions,&nbsp;so&nbsp;reuse&nbsp;it
</c40><br/><ln>&nbsp;&nbsp;583</ln><a id="583">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;for&nbsp;':'&nbsp;and&nbsp;'-'
</c40><br/><ln>&nbsp;&nbsp;584</ln><a id="584">&nbsp;</a><a id="n[440482, 440480, 440483, 440478, 440484, 440479, 440481]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">'-'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">':'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c12><a href="../../librustc/back/link.rs.html#569">'.'</a></c12><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;585</ln><a id="585">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;586</ln><a id="586">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;These&nbsp;are&nbsp;legal&nbsp;symbols
</c40><br/><ln>&nbsp;&nbsp;587</ln><a id="587">&nbsp;</a><a id="n[440487, 440485, 440486]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c12><a href="#569_4_refs">'a'&nbsp;..</a></c12><c20><a href="#569_4_refs">&nbsp;'z'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">
</a></c12><br/><ln>&nbsp;&nbsp;588</ln><a id="588">&nbsp;</a><a id="n[440490, 440489, 440488]">&nbsp;</a><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#569">'A'&nbsp;..</a></c12><c20><a href="../../librustc/back/link.rs.html#569">&nbsp;'Z'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">
</a></c12><br/><ln>&nbsp;&nbsp;589</ln><a id="589">&nbsp;</a><a id="n[440492, 440491, 440493]">&nbsp;</a><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#569">'0'&nbsp;..</a></c12><c20><a href="../../librustc/back/link.rs.html#569">&nbsp;'9'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">
</a></c12><br/><ln>&nbsp;&nbsp;590</ln><a id="590">&nbsp;</a><a id="n[440498, 440502, 440497, 440495, 440494, 440496, 440500, 440501, 440499]">&nbsp;</a><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c20><a href="#569_4_refs">'_'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c20><a href="#569_4_refs">'.'</a></c20><c12><a href="../../librustc/back/link.rs.html#569">&nbsp;|</a></c12><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c20><a href="#569_4_refs">'$'</a></c20><c12><a href="#569_4_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#569">c</a></c26><c4>)</c4><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;591</ln><a id="591">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;592</ln><a id="592">&nbsp;</a><a id="n[440533, 440503, 440534]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/back/link.rs.html#569">_</a></c20><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;</a></c21><c3>{</c3><c22><a href="#569_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;593</ln><a id="593">&nbsp;</a><a id="n[440508, 440505, 440504, 440509, 440507, 440506]">&nbsp;</a><c22><a href="#569_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#569_4_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#593_20_refs">&nbsp;tstr</a></c20><c13><a href="#569_4_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#569_4_refs">~</a></c16><c12><a href="#569_4_refs">""</a></c12><c3>;</c3><c22><a href="#569_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;594</ln><a id="594">&nbsp;</a><a id="n[440514, 440511, 440521, 440522, 440517, 440520, 440518, 440516, 440519, 440510, 440515, 440513]">&nbsp;</a><c22><a href="#569_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/char.rs.html#n15116">char::escape_unicode</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#569">c</a></c26><c3>,</c3><c13><a href="#569_4_refs">&nbsp;</a></c13><c1><a href="#569_4_refs">|</a></c1><c20><a href="#594_41_refs">c</a></c20><c8><a href="#569_4_refs">|</a></c8><c1><a href="#569_4_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#593">tstr</a></c8><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#594">c</a></c26><c4>))</c4><c3>;</c3><c22><a href="#569_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;595</ln><a id="595">&nbsp;</a><a id="n[440525, 440526, 440523, 440524]">&nbsp;</a><c22><a href="#569_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c13><a href="../../libstd/str.rs.html#n68666">.push_char</a></c13><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68666">'$'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#569_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;596</ln><a id="596">&nbsp;</a><a id="n[440531, 440528, 440529, 440532, 440527, 440530]">&nbsp;</a><c22><a href="#569_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c13><a href="../../libstd/str.rs.html#n68647">.push_str</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#593">tstr</a></c26><c10><a href="../../libstd/str.rs.html#n66192">.slice_from</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68647">1</a></c12><c4>))</c4><c3>;</c3><c22><a href="#569_4_refs">
</a></c22><br/><ln>&nbsp;&nbsp;597</ln><a id="597">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#569_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#569">
</a></c21><br/><ln>&nbsp;&nbsp;598</ln><a id="598">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#569">
</a></c22><br/><ln>&nbsp;&nbsp;599</ln><a id="599">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#569">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;&nbsp;600</ln><a id="600">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;&nbsp;601</ln><a id="601">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Underscore-qualify&nbsp;anything&nbsp;that&nbsp;didn't&nbsp;start&nbsp;as&nbsp;an&nbsp;ident.
</c40><br/><ln>&nbsp;&nbsp;602</ln><a id="602">&nbsp;</a><a id="n[440563, 440542, 440543, 440544, 440572, 440571, 440541, 440553]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c21>if</c21><c21><a href="#566_75_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c10><a href="../../libstd/str.rs.html#n64986">.len</a></c10><c4>()</c4><c5><a href="#566_75_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#566_75_refs">0u</a></c12><c1><a href="#566_75_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;603</ln><a id="603">&nbsp;</a><a id="n[440551, 440545, 440546, 440548, 440550, 440547, 440552]">&nbsp;</a><c1><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c3>[</c3><c12><a href="#566_75_refs">0</a></c12><c3>]</c3><c5><a href="#566_75_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#566_75_refs">'_'</a></c12><c21><a href="#566_75_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#566_75_refs">u8</a></c8><c1><a href="#566_75_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;604</ln><a id="604">&nbsp;</a><a id="n[440554, 440556, 440557, 440560, 440561, 440555, 440562, 440570, 440559]">&nbsp;</a><c1><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#566_75_refs">!&nbsp;</a></c5><c26><a href="../../libstd/char.rs.html#n14425">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c3>[</c3><c12><a href="#566_75_refs">0</a></c12><c3>]</c3><c21><a href="#566_75_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#566_75_refs">char</a></c8><c4>)</c4><c21><a href="#566_75_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;605</ln><a id="605">&nbsp;</a><a id="n[440565, 440564, 440569, 440568, 440566, 440567]">&nbsp;</a><c22><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#566_75_refs">&nbsp;</a></c1><c16><a href="#566_75_refs">~</a></c16><c12><a href="#566_75_refs">"_"</a></c12><c5><a href="#566_75_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c3>;</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;606</ln><a id="606">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;607</ln><a id="607">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;608</ln><a id="608">&nbsp;</a><a id="n[440574, 440573, 440575]">&nbsp;</a><c22><a href="#566_75_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c13><a href="#566_75_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#568">result</a></c26><c3>;</c3><c22><a href="#566_75_refs">
</a></c22><br/><ln>&nbsp;&nbsp;609</ln><a id="609">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;610</ln><a id="610">&nbsp;</a><a id="n[440577]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;611</ln><a id="611">&nbsp;</a><a id="n[440580, 440601, 440602, 440581]">&nbsp;</a><c21>pub</c21><c1><a href="#610_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#610_1_refs">&nbsp;mangle</a></c30><c5><a href="#610_1_refs">&lt;PI:&nbsp;</a></c5><c5><a href="../../libstd/iter.rs.html#n91371">Iterator&lt;</a></c5><c5><a href="../../libsyntax/ast_map.rs.html#n74793">PathElem</a></c5><c5><a href="../../libstd/iter.rs.html#n91371">&gt;</a></c5><c5><a href="#610_1_refs">&gt;</a></c5><c4>(</c4><c20><a href="#611_38_refs">mut&nbsp;path</a></c20><c1><a href="#610_1_refs">:&nbsp;</a></c1><c8><a href="c=0 n=440599">PI</a></c8><c3>,</c3><c1><a href="#610_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;612</ln><a id="612">&nbsp;</a><a id="n[440588, 440587, 440584, 440585]">&nbsp;</a><c1><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#612_38_refs">hash</a></c20><c1><a href="#610_1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;&amp;str&gt;</a></c8><c3>,</c3><c1><a href="#610_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;613</ln><a id="613">&nbsp;</a><a id="n[440598, 440595, 440594, 440597, 440592, 440760, 440591]">&nbsp;</a><c1><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#613_38_refs">vers</a></c20><c1><a href="#610_1_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;&amp;str&gt;</a></c8><c4>)</c4><c1><a href="#610_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#610_1_refs">&nbsp;</a></c1><c8><a href="#610_1_refs">~str</a></c8><c1><a href="#610_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;614</ln><a id="614">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Follow&nbsp;C++&nbsp;namespace-mangling&nbsp;style,&nbsp;see
</c40><br/><ln>&nbsp;&nbsp;615</ln><a id="615">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;http://en.wikipedia.org/wiki/Name_mangling&nbsp;for&nbsp;more&nbsp;info.
</c40><br/><ln>&nbsp;&nbsp;616</ln><a id="616">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;617</ln><a id="617">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;on&nbsp;OSX&nbsp;you&nbsp;can&nbsp;actually&nbsp;have&nbsp;arbitrary&nbsp;symbols&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;618</ln><a id="618">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;function&nbsp;names&nbsp;(at&nbsp;least&nbsp;when&nbsp;given&nbsp;to&nbsp;LLVM),&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;possible
</c40><br/><ln>&nbsp;&nbsp;619</ln><a id="619">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;when&nbsp;using&nbsp;unix's&nbsp;linker.&nbsp;Perhaps&nbsp;one&nbsp;day&nbsp;when&nbsp;we&nbsp;just&nbsp;use&nbsp;a&nbsp;linker&nbsp;from&nbsp;LLVM
</c40><br/><ln>&nbsp;&nbsp;620</ln><a id="620">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;won't&nbsp;need&nbsp;to&nbsp;do&nbsp;this&nbsp;name&nbsp;mangling.&nbsp;The&nbsp;problem&nbsp;with&nbsp;name&nbsp;mangling&nbsp;is
</c40><br/><ln>&nbsp;&nbsp;621</ln><a id="621">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;it&nbsp;seriously&nbsp;limits&nbsp;the&nbsp;available&nbsp;characters.&nbsp;For&nbsp;example&nbsp;we&nbsp;can't
</c40><br/><ln>&nbsp;&nbsp;622</ln><a id="622">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;have&nbsp;things&nbsp;like&nbsp;&amp;T&nbsp;or&nbsp;~[T]&nbsp;in&nbsp;symbol&nbsp;names&nbsp;when&nbsp;one&nbsp;would&nbsp;theoretically
</c40><br/><ln>&nbsp;&nbsp;623</ln><a id="623">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;want&nbsp;them&nbsp;for&nbsp;things&nbsp;like&nbsp;impls&nbsp;of&nbsp;traits&nbsp;on&nbsp;that&nbsp;type.
</c40><br/><ln>&nbsp;&nbsp;624</ln><a id="624">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;&nbsp;625</ln><a id="625">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;To&nbsp;be&nbsp;able&nbsp;to&nbsp;work&nbsp;on&nbsp;all&nbsp;platforms&nbsp;and&nbsp;get&nbsp;*some*&nbsp;reasonable&nbsp;output,&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;626</ln><a id="626">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;use&nbsp;C++&nbsp;name-mangling.
</c40><br/><ln>&nbsp;&nbsp;627</ln><a id="627">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;628</ln><a id="628">&nbsp;</a><a id="n[440607, 440604, 440603, 440608, 440605, 440606]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#610_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#628_8_refs">&nbsp;n</a></c20><c13><a href="#610_1_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#610_1_refs">~</a></c16><c12><a href="#610_1_refs">"_ZN"</a></c12><c3>;</c3><c22><a href="#610_1_refs">&nbsp;</a></c22><c40>//&nbsp;_Z&nbsp;==&nbsp;Begin&nbsp;name-sequence,&nbsp;N&nbsp;==&nbsp;nested
</c40><br/><ln>&nbsp;&nbsp;629</ln><a id="629">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;630</ln><a id="630">&nbsp;</a><a id="n[440613, 440620, 440614, 440702, 440703, 440618, 440612, 440619, 440609, 440615, 440621]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#630_4_refs">&nbsp;push</a></c30><c4>(</c4><c20><a href="#630_12_refs">n</a></c20><c1><a href="#630_4_refs">:&nbsp;</a></c1><c8><a href="#610_1_refs">&amp;mut&nbsp;~str</a></c8><c3>,</c3><c1><a href="#630_4_refs">&nbsp;</a></c1><c20><a href="#630_26_refs">s</a></c20><c1><a href="#630_4_refs">:&nbsp;</a></c1><c8><a href="#610_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#630_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;631</ln><a id="631">&nbsp;</a><a id="n[440626, 440624, 440627, 440623, 440628, 440625, 440622]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#610_1_refs">&nbsp;</a></c22><c20><a href="#631_12_refs">sani</a></c20><c16><a href="#610_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#566">sanitize</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#630">s</a></c26><c4>)</c4><c3>;</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;632</ln><a id="632">&nbsp;</a><a id="n[440629, 440652, 440701, 440670, 440673, 440693, 440667, 440645, 440656, 440630, 440671, 440675, 440680, 440661, 440684, 440688, 440655, 440644, 440700, 440659, 440689, 440685, 440654, 440639, 440668, 440637, 440631, 440681, 440662, 440682, 440679, 440647, 440674, 440664, 440648, 440683, 440666, 440695, 440642, 440677, 440699, 440672, 440651, 440635, 440676, 440646, 440634, 440678, 440691, 440692, 440650, 440632, 440653, 440633, 440663, 440698, 440665, 440638, 440657, 440649, 440658, 440690, 440636, 440669, 440686, 440660, 440643, 440687]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#630">n</a></c26><c10><a href="../../libstd/str.rs.html#n68647">.push_str</a></c10><c4>(</c4><c21><a href="../../libstd/str.rs.html#n68647">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/mod.rs.html#n169654">"</a></c26><c3>{}{}</c3><c26><a href="../../libstd/fmt/mod.rs.html#n169654">"</a></c26><c3>,</c3><c21><a href="../../libstd/str.rs.html#n68647">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#631">sani</a></c26><c20><a href="#632_35_refs">.len</a></c20><c4>()</c4><c3>,</c3><c21><a href="../../libstd/str.rs.html#n68647">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#631">sani</a></c26><c4>))</c4><c3>;</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;633</ln><a id="633">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;634</ln><a id="634">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;635</ln><a id="635">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;First,&nbsp;connect&nbsp;each&nbsp;component&nbsp;with&nbsp;&lt;len,&nbsp;name&gt;&nbsp;pairs.
</c40><br/><ln>&nbsp;&nbsp;636</ln><a id="636">&nbsp;</a><a id="n[440708, 440714, 440707, 440709, 440728, 440711, 440725, 440727, 440712, 440710, 440704, 440705, 440706, 440726, 440713, 440729]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c13><c20><a href="#636_8_refs">e</a></c20><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#611">path</a></c26><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c13><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#636">
</a></c22><br/><ln>&nbsp;&nbsp;637</ln><a id="637">&nbsp;</a><a id="n[440716, 440715, 440721, 440722, 440723, 440719, 440718, 440724, 440720, 440717]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#636">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#630">push</a></c26><c4>(</c4><c5><a href="../../librustc/back/link.rs.html#636">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#628">n</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#636">&nbsp;</a></c27><c26><a href="../../libsyntax/parse/token.rs.html#n123781">token::get_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#636">e</a></c26><c10><a href="../../libsyntax/ast_map.rs.html#n74945">.name</a></c10><c4>())</c4><c10><a href="../../libsyntax/parse/token.rs.html#n123571">.get</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n64905">.as_slice</a></c10><c4>())</c4><c22><a href="../../librustc/back/link.rs.html#636">
</a></c22><br/><ln>&nbsp;&nbsp;638</ln><a id="638">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#636">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="../../libstd/option.rs.html#n104341">
</a></c13><br/><ln>&nbsp;&nbsp;639</ln><a id="639">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="../../libstd/option.rs.html#n104341">
</a></c13><br/><ln>&nbsp;&nbsp;640</ln><a id="640">&nbsp;</a><a id="n[440741, 440742, 440730]">&nbsp;</a><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>match</c21><c13><a href="#610_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#612">hash</a></c26><c13><a href="#610_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;641</ln><a id="641">&nbsp;</a><a id="n[440731, 440736, 440737, 440732, 440734, 440735, 440733]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#641_13_refs">s</a></c20><c4>)</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#630">push</a></c26><c4>(</c4><c5><a href="#610_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#628">n</a></c26><c3>,</c3><c27><a href="#610_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#641">s</a></c26><c4>)</c4><c3>,</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;642</ln><a id="642">&nbsp;</a><a id="n[440739, 440738, 440740]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c13><a href="#610_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;643</ln><a id="643">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;644</ln><a id="644">&nbsp;</a><a id="n[440743, 440754, 440755]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#610_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#613">vers</a></c26><c13><a href="#610_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;645</ln><a id="645">&nbsp;</a><a id="n[440747, 440749, 440744, 440748, 440746, 440745, 440750]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#645_13_refs">s</a></c20><c4>)</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#630">push</a></c26><c4>(</c4><c5><a href="#610_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#628">n</a></c26><c3>,</c3><c27><a href="#610_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#645">s</a></c26><c4>)</c4><c3>,</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;646</ln><a id="646">&nbsp;</a><a id="n[440753, 440752, 440751]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c13><a href="#610_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#610_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#610_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;647</ln><a id="647">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;648</ln><a id="648">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;649</ln><a id="649">&nbsp;</a><a id="n[440759, 440758, 440757, 440756]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#628">n</a></c26><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c12><a href="../../libstd/str.rs.html#n68666">'E'</a></c12><c4>)</c4><c3>;</c3><c22><a href="#610_1_refs">&nbsp;</a></c22><c40>//&nbsp;End&nbsp;name-sequence.
</c40><br/><ln>&nbsp;&nbsp;650</ln><a id="650">&nbsp;</a><a id="n[440761]">&nbsp;</a><c22><a href="#610_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#628">n</a></c26><c22><a href="#610_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;651</ln><a id="651">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;652</ln><a id="652">&nbsp;</a><a id="n[440762]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;653</ln><a id="653">&nbsp;</a><a id="n[440769, 440766, 440804, 440765, 440778, 440771, 440774, 440770, 440776, 440775, 440779]">&nbsp;</a><c21>pub</c21><c1><a href="#652_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#652_1_refs">&nbsp;exported_name</a></c30><c4>(</c4><c20><a href="#653_21_refs">path</a></c20><c1><a href="#652_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n75219">PathElems</a></c8><c3>,</c3><c1><a href="#652_1_refs">&nbsp;</a></c1><c20><a href="#653_38_refs">hash</a></c20><c1><a href="#652_1_refs">:&nbsp;</a></c1><c8><a href="#652_1_refs">&amp;str</a></c8><c3>,</c3><c1><a href="#652_1_refs">&nbsp;</a></c1><c20><a href="#653_50_refs">vers</a></c20><c1><a href="#652_1_refs">:&nbsp;</a></c1><c8><a href="#652_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#652_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#652_1_refs">&nbsp;</a></c1><c8><a href="#652_1_refs">~str</a></c8><c1><a href="#652_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;654</ln><a id="654">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;version&nbsp;will&nbsp;get&nbsp;mangled&nbsp;to&nbsp;have&nbsp;a&nbsp;leading&nbsp;'_',&nbsp;but&nbsp;it&nbsp;makes&nbsp;more
</c40><br/><ln>&nbsp;&nbsp;655</ln><a id="655">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;sense&nbsp;to&nbsp;lead&nbsp;with&nbsp;a&nbsp;'v'&nbsp;b/c&nbsp;this&nbsp;is&nbsp;a&nbsp;version...
</c40><br/><ln>&nbsp;&nbsp;656</ln><a id="656">&nbsp;</a><a id="n[440803, 440780, 440784, 440792, 440781, 440786, 440789, 440785, 440791, 440788, 440782, 440783, 440802, 440790, 440787, 440794, 440793]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#652_1_refs">&nbsp;</a></c22><c20><a href="#656_8_refs">vers</a></c20><c16><a href="#652_1_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#652_1_refs">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#653">vers</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c5><a href="#652_1_refs">&nbsp;&gt;&nbsp;</a></c5><c12><a href="#652_1_refs">0</a></c12><c1><a href="#652_1_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c5><a href="#652_1_refs">!</a></c5><c26><a href="../../libstd/char.rs.html#n14425">char::is_XID_start</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#653">vers</a></c26><c10><a href="../../libstd/str.rs.html#n67765">.char_at</a></c10><c4>(</c4><c12><a href="#652_1_refs">0</a></c12><c4>))</c4><c21><a href="#652_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;657</ln><a id="657">&nbsp;</a><a id="n[440796, 440795, 440797]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c12><a href="#652_1_refs">"v"</a></c12><c5><a href="#652_1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#653">vers</a></c26><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;658</ln><a id="658">&nbsp;</a><a id="n[440801, 440798]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#652_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#652_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;659</ln><a id="659">&nbsp;</a><a id="n[440800, 440799]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#653">vers</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;660</ln><a id="660">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;661</ln><a id="661">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;662</ln><a id="662">&nbsp;</a><a id="n[440808, 440813, 440806, 440809, 440814, 440812, 440811, 440807, 440805, 440810]">&nbsp;</a><c22><a href="#652_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#610">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#653">path</a></c26><c3>,</c3><c27><a href="#652_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#653">hash</a></c26><c4>)</c4><c3>,</c3><c27><a href="#652_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#656">vers</a></c26><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>()))</c4><c22><a href="#652_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;663</ln><a id="663">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;664</ln><a id="664">&nbsp;</a><a id="n[440815]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;665</ln><a id="665">&nbsp;</a><a id="n[440824, 440823, 440819, 440820, 440818]">&nbsp;</a><c21>pub</c21><c1><a href="#664_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#664_1_refs">&nbsp;mangle_exported_name</a></c30><c4>(</c4><c20><a href="#665_28_refs">ccx</a></c20><c1><a href="#664_1_refs">:&nbsp;</a></c1><c8><a href="#664_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#664_1_refs">&nbsp;</a></c1><c20><a href="#665_48_refs">path</a></c20><c1><a href="#664_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n75219">PathElems</a></c8><c3>,</c3><c1><a href="#664_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;666</ln><a id="666">&nbsp;</a><a id="n[440831, 440834, 440926, 440832, 440835, 440828, 440827]">&nbsp;</a><c1><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#666_28_refs">t</a></c20><c1><a href="#664_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>,</c3><c1><a href="#664_1_refs">&nbsp;</a></c1><c20><a href="#666_38_refs">id</a></c20><c1><a href="#664_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast.rs.html#n18432">ast::NodeId</a></c8><c4>)</c4><c1><a href="#664_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#664_1_refs">&nbsp;</a></c1><c8><a href="#664_1_refs">~str</a></c8><c1><a href="#664_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;667</ln><a id="667">&nbsp;</a><a id="n[440837, 440842, 440838, 440841, 440843, 440836, 440839, 440840]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#667_8_refs">&nbsp;hash</a></c20><c16><a href="#664_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#550">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#665">ccx</a></c26><c3>,</c3><c27><a href="#664_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#666">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;668</ln><a id="668">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;669</ln><a id="669">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Paths&nbsp;can&nbsp;be&nbsp;completely&nbsp;identical&nbsp;for&nbsp;different&nbsp;nodes,
</c40><br/><ln>&nbsp;&nbsp;670</ln><a id="670">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;e.g.&nbsp;`fn&nbsp;foo()&nbsp;{&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;{&nbsp;fn&nbsp;a()&nbsp;{}&nbsp;}&nbsp;}`,&nbsp;so&nbsp;we
</c40><br/><ln>&nbsp;&nbsp;671</ln><a id="671">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;generate&nbsp;unique&nbsp;characters&nbsp;from&nbsp;the&nbsp;node&nbsp;id.&nbsp;For&nbsp;now
</c40><br/><ln>&nbsp;&nbsp;672</ln><a id="672">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;hopefully&nbsp;3&nbsp;characters&nbsp;is&nbsp;enough&nbsp;to&nbsp;avoid&nbsp;collisions.
</c40><br/><ln>&nbsp;&nbsp;673</ln><a id="673">&nbsp;</a><a id="n[440850, 440847, 440848, 440844]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c36>static</c36><c36><a href="#673_4_refs">&nbsp;EXTRA_CHARS:&nbsp;</a></c36><c36><a href="#664_1_refs">&amp;'static&nbsp;str</a></c36><c36><a href="#673_4_refs">&nbsp;=
</a></c36><br/><ln>&nbsp;&nbsp;674</ln><a id="674">&nbsp;</a><a id="n[440849]">&nbsp;</a><c1><a href="#673_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c12><a href="#664_1_refs">"abcdefghijklmnopqrstuvwxyz\
</a></c12><br/><ln>&nbsp;&nbsp;675</ln><a id="675">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ABCDEFGHIJKLMNOPQRSTUVWXYZ\
</a></c12><br/><ln>&nbsp;&nbsp;676</ln><a id="676">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0123456789"</a></c12><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;677</ln><a id="677">&nbsp;</a><a id="n[440853, 440856, 440858, 440851, 440854, 440852, 440857]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#677_8_refs">id</a></c20><c16><a href="#664_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#666">id</a></c26><c21><a href="#664_1_refs">&nbsp;as&nbsp;</a></c21><c8><a href="#664_1_refs">uint</a></c8><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;678</ln><a id="678">&nbsp;</a><a id="n[440864, 440862, 440859, 440865, 440860, 440861, 440863, 440866]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#678_8_refs">extra1</a></c20><c13><a href="#664_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#677">id</a></c26><c1><a href="#664_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;679</ln><a id="679">&nbsp;</a><a id="n[440871, 440874, 440873, 440867, 440869, 440870, 440868, 440872]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#679_8_refs">id</a></c20><c16><a href="#664_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#677">id</a></c26><c5><a href="#664_1_refs">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;680</ln><a id="680">&nbsp;</a><a id="n[440877, 440882, 440876, 440875, 440878, 440881, 440880, 440879]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#680_8_refs">extra2</a></c20><c16><a href="#664_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#679">id</a></c26><c1><a href="#664_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;681</ln><a id="681">&nbsp;</a><a id="n[440883, 440886, 440888, 440887, 440885, 440890, 440884, 440889]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#681_8_refs">id</a></c20><c13><a href="#664_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#679">id</a></c26><c5><a href="#664_1_refs">&nbsp;/&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;682</ln><a id="682">&nbsp;</a><a id="n[440895, 440893, 440892, 440898, 440891, 440896, 440894, 440897]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#664_1_refs">&nbsp;</a></c22><c20><a href="#682_8_refs">extra3</a></c20><c16><a href="#664_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#681">id</a></c26><c1><a href="#664_1_refs">&nbsp;%&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>()</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;683</ln><a id="683">&nbsp;</a><a id="n[440902, 440905, 440900, 440906, 440904, 440899, 440907, 440901]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#667">hash</a></c26><c13><a href="../../libstd/str.rs.html#n68666">.push_char</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#678">extra1</a></c26><c3>]</c3><c21><a href="../../libstd/str.rs.html#n68666">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/str.rs.html#n68666">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;684</ln><a id="684">&nbsp;</a><a id="n[440908, 440916, 440915, 440913, 440910, 440911, 440909, 440914]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#667">hash</a></c26><c10><a href="../../libstd/str.rs.html#n68666">.push_char</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#680">extra2</a></c26><c3>]</c3><c21><a href="../../libstd/str.rs.html#n68666">&nbsp;as&nbsp;</a></c21><c8><a href="../../libstd/str.rs.html#n68666">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;685</ln><a id="685">&nbsp;</a><a id="n[440920, 440918, 440922, 440919, 440917, 440924, 440923, 440925]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#667">hash</a></c26><c13><a href="../../libstd/str.rs.html#n68666">.push_char</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#673">EXTRA_CHARS</a></c26><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#682">extra3</a></c26><c3>]</c3><c21><a href="../../libstd/str.rs.html#n68666">&nbsp;as&nbsp;</a></c21><c8><a href="#664_1_refs">char</a></c8><c4>)</c4><c3>;</c3><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;686</ln><a id="686">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;687</ln><a id="687">&nbsp;</a><a id="n[440928, 440934, 440927, 440929, 440933, 440930, 440932, 440931]">&nbsp;</a><c22><a href="#664_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#652">exported_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#665">path</a></c26><c3>,</c3><c27><a href="#664_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#667">hash</a></c26><c3>,</c3><c27><a href="#664_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#665">ccx</a></c26><c24><a href="../../librustc/middle/trans/context.rs.html#51">.link_meta</a></c24><c24><a href="../../librustc/metadata/common.rs.html#213">.crateid</a></c24><c10><a href="../../libsyntax/crateid.rs.html#n131077">.version_or_default</a></c10><c4>())</c4><c22><a href="#664_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;688</ln><a id="688">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;689</ln><a id="689">&nbsp;</a><a id="n[440935]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;690</ln><a id="690">&nbsp;</a><a id="n[440940, 440939, 440938]">&nbsp;</a><c21>pub</c21><c1>&nbsp;</c1><c30>fn&nbsp;mangle_internal_name_by_type_only</c30><c4>(</c4><c20><a href="#690_41_refs">ccx</a></c20><c1>:&nbsp;</c1><c8>&amp;</c8><c8><a href="../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;691</ln><a id="691">&nbsp;</a><a id="n[440943, 440944]">&nbsp;</a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#691_41_refs">t</a></c20><c1>:&nbsp;</c1><c8><a href="../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;692</ln><a id="692">&nbsp;</a><a id="n[440948, 440952, 440949, 440951, 440947, 440985]">&nbsp;</a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c20><a href="#692_41_refs">name</a></c20><c1>:&nbsp;</c1><c8>&amp;str</c8><c4>)</c4><c1>&nbsp;</c1><c4>-&gt;</c4><c1>&nbsp;</c1><c8>~str</c8><c1>&nbsp;</c1><c3>{</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;693</ln><a id="693">&nbsp;</a><a id="n[440954, 440953, 440956, 440955, 440959, 440957, 440961, 440958, 440960]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#693_8_refs">s</a></c20><c13>&nbsp;=&nbsp;</c13><c26><a href="../../librustc/util/ppaux.rs.html#553">ppaux::ty_to_short_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#690">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/back/link.rs.html#691">t</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;694</ln><a id="694">&nbsp;</a><a id="n[440975, 440963, 440964, 440966, 440976, 440969, 440968, 440967, 440962, 440965]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#694_8_refs">path</a></c20><c16>&nbsp;=&nbsp;</c16><c3>[</c3><c26><a href="../../libsyntax/ast_map.rs.html#n74801">PathName</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#n123826">token::intern</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#692">name</a></c26><c4>))</c4><c3>,</c3><c1>
</c1><br/><ln>&nbsp;&nbsp;695</ln><a id="695">&nbsp;</a><a id="n[440972, 440973, 440974, 440971, 440970]">&nbsp;</a><c1>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</c1><c26><a href="../../libsyntax/ast_map.rs.html#n74801">PathName</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#n123826">token::intern</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#693">s</a></c26><c4>))</c4><c3>];</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;696</ln><a id="696">&nbsp;</a><a id="n[440981, 440983, 440978, 440980, 440984, 440979, 440977, 440982]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c21>let</c21><c22>&nbsp;</c22><c20><a href="#696_8_refs">hash</a></c20><c16>&nbsp;=&nbsp;</c16><c26><a href="../../librustc/back/link.rs.html#550">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#690">ccx</a></c26><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../librustc/back/link.rs.html#691">t</a></c26><c4>)</c4><c3>;</c3><c22>
</c22><br/><ln>&nbsp;&nbsp;697</ln><a id="697">&nbsp;</a><a id="n[440994, 440993, 440987, 440986, 440989, 440990, 440995, 440991, 440992, 440996, 440988]">&nbsp;</a><c22>&nbsp;&nbsp;&nbsp;&nbsp;</c22><c26><a href="../../librustc/back/link.rs.html#610">mangle</a></c26><c4>(</c4><c26><a href="../../<log macros>.html#4">ast_map::Values</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#694">path</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>())</c4><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#696">hash</a></c26><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>())</c4><c3>,</c3><c27>&nbsp;</c27><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c22>
</c22><br/><ln>&nbsp;&nbsp;698</ln><a id="698">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;699</ln><a id="699">&nbsp;</a><a id="n[440997]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;700</ln><a id="700">&nbsp;</a><a id="n[441000, 441002, 441001]">&nbsp;</a><c21>pub</c21><c1><a href="#699_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#699_1_refs">&nbsp;mangle_internal_name_by_type_and_seq</a></c30><c4>(</c4><c20><a href="#700_44_refs">ccx</a></c20><c1><a href="#699_1_refs">:&nbsp;</a></c1><c8><a href="#699_1_refs">&amp;</a></c8><c8><a href="../../librustc/middle/trans/context.rs.html#38">CrateContext</a></c8><c3>,</c3><c1><a href="#699_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;701</ln><a id="701">&nbsp;</a><a id="n[441006, 441005]">&nbsp;</a><c1><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#701_44_refs">t</a></c20><c1><a href="#699_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/middle/ty.rs.html#387">ty::t</a></c8><c3>,</c3><c1><a href="#699_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;702</ln><a id="702">&nbsp;</a><a id="n[441010, 441011, 441009, 441013, 441014, 441045]">&nbsp;</a><c1><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#702_44_refs">name</a></c20><c1><a href="#699_1_refs">:&nbsp;</a></c1><c8><a href="#699_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#699_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#699_1_refs">&nbsp;</a></c1><c8><a href="#699_1_refs">~str</a></c8><c1><a href="#699_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#699_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;703</ln><a id="703">&nbsp;</a><a id="n[441021, 441015, 441016, 441020, 441017, 441023, 441022, 441019, 441018]">&nbsp;</a><c22><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#699_1_refs">&nbsp;</a></c22><c20><a href="#703_8_refs">s</a></c20><c13><a href="#699_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/ppaux.rs.html#297">ppaux::ty_to_str</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#700">ccx</a></c26><c10><a href="../../librustc/middle/trans/context.rs.html#223">.tcx</a></c10><c4>()</c4><c3>,</c3><c27><a href="#699_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#701">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#699_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;704</ln><a id="704">&nbsp;</a><a id="n[441028, 441029, 441026, 441027, 441035, 441024, 441036, 441031, 441025, 441030]">&nbsp;</a><c22><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#699_1_refs">&nbsp;</a></c22><c20><a href="#704_8_refs">path</a></c20><c13><a href="#699_1_refs">&nbsp;=&nbsp;</a></c13><c3>[</c3><c26><a href="../../libsyntax/ast_map.rs.html#n74801">PathName</a></c26><c4>(</c4><c26><a href="../../libsyntax/parse/token.rs.html#n123826">token::intern</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#703">s</a></c26><c4>))</c4><c3>,</c3><c1><a href="#699_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;705</ln><a id="705">&nbsp;</a><a id="n[441032, 441033, 441034]">&nbsp;</a><c1><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#702">name</a></c26><c4>)</c4><c3>];</c3><c22><a href="#699_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;706</ln><a id="706">&nbsp;</a><a id="n[441037, 441043, 441039, 441040, 441042, 441041, 441038, 441044]">&nbsp;</a><c22><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#699_1_refs">&nbsp;</a></c22><c20><a href="#706_8_refs">hash</a></c20><c13><a href="#699_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#550">get_symbol_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#700">ccx</a></c26><c3>,</c3><c27><a href="#699_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#701">t</a></c26><c4>)</c4><c3>;</c3><c22><a href="#699_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;707</ln><a id="707">&nbsp;</a><a id="n[441049, 441047, 441055, 441048, 441050, 441051, 441046, 441052, 441056, 441054, 441053]">&nbsp;</a><c22><a href="#699_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#610">mangle</a></c26><c4>(</c4><c26><a href="../../<log macros>.html#4">ast_map::Values</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#704">path</a></c26><c10><a href="../../libstd/slice.rs.html#n49192">.iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#699_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#706">hash</a></c26><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>())</c4><c3>,</c3><c27><a href="#699_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c22><a href="#699_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;708</ln><a id="708">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;709</ln><a id="709">&nbsp;</a><a id="n[441057]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;710</ln><a id="710">&nbsp;</a><a id="n[441070, 441068, 441060, 441061, 441066, 441069, 441064, 441065]">&nbsp;</a><c21>pub</c21><c1><a href="#709_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#709_1_refs">&nbsp;mangle_internal_name_by_path_and_seq</a></c30><c4>(</c4><c20><a href="#710_44_refs">path</a></c20><c1><a href="#709_1_refs">:&nbsp;</a></c1><c8><a href="../../libsyntax/ast_map.rs.html#n75219">PathElems</a></c8><c3>,</c3><c1><a href="#709_1_refs">&nbsp;</a></c1><c20><a href="#710_61_refs">flav</a></c20><c1><a href="#709_1_refs">:&nbsp;</a></c1><c8><a href="#709_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#709_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#709_1_refs">&nbsp;</a></c1><c8><a href="#709_1_refs">~str</a></c8><c1><a href="#709_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#709_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;711</ln><a id="711">&nbsp;</a><a id="n[441082, 441075, 441074, 441081, 441072, 441076, 441077, 441080, 441078, 441079, 441071, 441073]">&nbsp;</a><c22><a href="#709_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#610">mangle</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#710">path</a></c26><c10><a href="../../<std macros>.html#4">.chain</a></c10><c4>(</c4><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/middle/trans/common.rs.html#105">gensym_name</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#710">flav</a></c26><c4>))</c4><c10><a href="../../libstd/option.rs.html#n105300">.move_iter</a></c10><c4>())</c4><c3>,</c3><c27><a href="#709_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c27><a href="#709_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c4>)</c4><c22><a href="#709_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;712</ln><a id="712">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;713</ln><a id="713">&nbsp;</a><a id="n[441083]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;714</ln><a id="714">&nbsp;</a><a id="n[441090, 441091, 441086, 441092, 441087, 441088]">&nbsp;</a><c21>pub</c21><c1><a href="#713_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#713_1_refs">&nbsp;output_lib_filename</a></c30><c4>(</c4><c20><a href="#714_27_refs">id</a></c20><c1><a href="#713_1_refs">:&nbsp;</a></c1><c8><a href="#713_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c4>)</c4><c1><a href="#713_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#713_1_refs">&nbsp;</a></c1><c8><a href="#713_1_refs">~str</a></c8><c1><a href="#713_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#713_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;715</ln><a id="715">&nbsp;</a><a id="n[441096, 441102, 441111, 441172, 441098, 441124, 441132, 441159, 441144, 441150, 441179, 441155, 441152, 441143, 441127, 441135, 441177, 441108, 441158, 441141, 441121, 441166, 441137, 441161, 441142, 441164, 441122, 441105, 441189, 441136, 441133, 441093, 441163, 441180, 441170, 441134, 441104, 441139, 441181, 441188, 441095, 441153, 441183, 441162, 441131, 441097, 441156, 441115, 441103, 441176, 441114, 441099, 441148, 441100, 441117, 441149, 441119, 441130, 441151, 441173, 441138, 441129, 441118, 441128, 441154, 441123, 441165, 441169, 441106, 441182, 441157, 441146, 441140, 441145, 441116, 441178, 441185, 441167, 441160, 441174, 441112, 441126, 441107, 441171, 441120, 441147, 441094, 441168, 441101, 441113, 441175, 441125]">&nbsp;</a><c22><a href="#713_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="#713_1_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169453">"</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">-</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">-</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">"</a></c26><c3>,</c3><c21><a href="#713_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#714">id</a></c26><c24><a href="../../libsyntax/crateid.rs.html#n130375">.name</a></c24><c3>,</c3><c21><a href="#713_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#507">crate_id_hash</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#714">id</a></c26><c4>)</c4><c3>,</c3><c21><a href="#713_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#714">id</a></c26><c10><a href="../../libsyntax/crateid.rs.html#n131077">.version_or_default</a></c10><c4>())</c4><c21><a href="#713_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;716</ln><a id="716">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;717</ln><a id="717">&nbsp;</a><a id="n[441190]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;718</ln><a id="718">&nbsp;</a><a id="n[441198, 441197, 441225, 441194, 441195, 441193]">&nbsp;</a><c21>pub</c21><c1><a href="#717_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#717_1_refs">&nbsp;get_cc_prog</a></c30><c4>(</c4><c20><a href="#718_19_refs">sess</a></c20><c1><a href="#717_1_refs">:&nbsp;</a></c1><c8><a href="#717_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#717_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#717_1_refs">&nbsp;</a></c1><c8><a href="#717_1_refs">~str</a></c8><c1><a href="#717_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;719</ln><a id="719">&nbsp;</a><a id="n[441199, 441212, 441200, 441201, 441202, 441211]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#717_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#718">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.linker</a></c24><c21><a href="#717_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;720</ln><a id="720">&nbsp;</a><a id="n[441204, 441203, 441206, 441205, 441207]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#720_13_refs">ref&nbsp;linker</a></c20><c4>)</c4><c21><a href="#717_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#717_1_refs">&nbsp;</a></c21><c1><a href="#717_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#720">linker</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;721</ln><a id="721">&nbsp;</a><a id="n[441208, 441210, 441209]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#717_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#717_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;722</ln><a id="722">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;723</ln><a id="723">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;724</ln><a id="724">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;the&nbsp;future,&nbsp;FreeBSD&nbsp;will&nbsp;use&nbsp;clang&nbsp;as&nbsp;default&nbsp;compiler.
</c40><br/><ln>&nbsp;&nbsp;725</ln><a id="725">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;It&nbsp;would&nbsp;be&nbsp;flexible&nbsp;to&nbsp;use&nbsp;cc&nbsp;(system's&nbsp;default&nbsp;C&nbsp;compiler)
</c40><br/><ln>&nbsp;&nbsp;726</ln><a id="726">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;instead&nbsp;of&nbsp;hard-coded&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;727</ln><a id="727">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;win32,&nbsp;there&nbsp;is&nbsp;no&nbsp;cc&nbsp;command,&nbsp;so&nbsp;we&nbsp;add&nbsp;a&nbsp;condition&nbsp;to&nbsp;make&nbsp;it&nbsp;use&nbsp;gcc.
</c40><br/><ln>&nbsp;&nbsp;728</ln><a id="728">&nbsp;</a><a id="n[441224, 441223, 441215, 441214, 441213]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#717_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#718">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#717_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;729</ln><a id="729">&nbsp;</a><a id="n[441217, 441219, 441218, 441216]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c20><c21><a href="#717_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#717_1_refs">&nbsp;</a></c21><c1><a href="#717_1_refs">return&nbsp;</a></c1><c16><a href="#717_1_refs">~</a></c16><c12><a href="#717_1_refs">"gcc"</a></c12><c3>,</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;730</ln><a id="730">&nbsp;</a><a id="n[441220, 441222, 441221]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#717_1_refs">_</a></c20><c21><a href="#717_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#717_1_refs">&nbsp;</a></c21><c3>{},</c3><c21><a href="#717_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;731</ln><a id="731">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;732</ln><a id="732">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;733</ln><a id="733">&nbsp;</a><a id="n[441227, 441229, 441226, 441228]">&nbsp;</a><c22><a href="#717_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#744">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#718">sess</a></c26><c3>,</c3><c27><a href="#717_1_refs">&nbsp;</a></c27><c12><a href="#717_1_refs">"cc"</a></c12><c4>)</c4><c22><a href="#717_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;734</ln><a id="734">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;735</ln><a id="735">&nbsp;</a><a id="n[441230]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;736</ln><a id="736">&nbsp;</a><a id="n[441233, 441253, 441238, 441234, 441237, 441235]">&nbsp;</a><c21>pub</c21><c1><a href="#735_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#735_1_refs">&nbsp;get_ar_prog</a></c30><c4>(</c4><c20><a href="#736_19_refs">sess</a></c20><c1><a href="#735_1_refs">:&nbsp;</a></c1><c8><a href="#735_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#735_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#735_1_refs">&nbsp;</a></c1><c8><a href="#735_1_refs">~str</a></c8><c1><a href="#735_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#735_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;737</ln><a id="737">&nbsp;</a><a id="n[441239, 441251, 441241, 441242, 441252, 441240]">&nbsp;</a><c22><a href="#735_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#735_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#736">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.ar</a></c24><c13><a href="#735_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#735_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;738</ln><a id="738">&nbsp;</a><a id="n[441244, 441243, 441246, 441245, 441247]">&nbsp;</a><c13><a href="#735_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#738_13_refs">ref&nbsp;ar</a></c20><c4>)</c4><c13><a href="#735_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#735_1_refs">&nbsp;</a></c13><c1><a href="#735_1_refs">return&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#738">ar</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c13><a href="#735_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;739</ln><a id="739">&nbsp;</a><a id="n[441250, 441249, 441248]">&nbsp;</a><c13><a href="#735_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c13><a href="#735_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#735_1_refs">&nbsp;</a></c13><c3>{}</c3><c13><a href="#735_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;740</ln><a id="740">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#735_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#735_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;741</ln><a id="741">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#735_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;742</ln><a id="742">&nbsp;</a><a id="n[441254, 441257, 441256, 441255]">&nbsp;</a><c22><a href="#735_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#744">get_system_tool</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#736">sess</a></c26><c3>,</c3><c27><a href="#735_1_refs">&nbsp;</a></c27><c12><a href="#735_1_refs">"ar"</a></c12><c4>)</c4><c22><a href="#735_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;743</ln><a id="743">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;744</ln><a id="744">&nbsp;</a><a id="n[441258]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;745</ln><a id="745">&nbsp;</a><a id="n[441266, 441268, 441270, 441263, 441262, 441267, 441271, 441272, 441261]">&nbsp;</a><c30>fn</c30><c30><a href="#744_1_refs">&nbsp;get_system_tool</a></c30><c4>(</c4><c20><a href="#745_19_refs">sess</a></c20><c1><a href="#744_1_refs">:&nbsp;</a></c1><c8><a href="#744_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#744_1_refs">&nbsp;</a></c1><c20><a href="#745_35_refs">tool</a></c20><c1><a href="#744_1_refs">:&nbsp;</a></c1><c8><a href="#744_1_refs">&amp;str</a></c8><c4>)</c4><c1><a href="#744_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#744_1_refs">&nbsp;</a></c1><c8><a href="#744_1_refs">~str</a></c8><c1><a href="#744_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;746</ln><a id="746">&nbsp;</a><a id="n[441274, 441275, 441273, 441435]">&nbsp;</a><c22><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#744_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#745">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#744_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;747</ln><a id="747">&nbsp;</a><a id="n[441431, 441278, 441276, 441279, 441280, 441277]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14463">abi::OsAndroid</a></c20><c21><a href="#744_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#745">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.android_cross_path</a></c24><c21><a href="#744_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;748</ln><a id="748">&nbsp;</a><a id="n[441294, 441281, 441282, 441368]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#748_17_refs">ref&nbsp;path</a></c20><c4>)</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;749</ln><a id="749">&nbsp;</a><a id="n[441283, 441293, 441292, 441286, 441284, 441285]">&nbsp;</a><c22><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#744_1_refs">&nbsp;</a></c22><c20><a href="#749_20_refs">tool_str</a></c20><c13><a href="#744_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#744_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#745">tool</a></c26><c21><a href="#744_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;750</ln><a id="750">&nbsp;</a><a id="n[441289, 441288, 441287]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#744_1_refs">"cc"</a></c20><c12><a href="#744_1_refs">&nbsp;</a></c12><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c12><a href="#744_1_refs">"gcc"</a></c12><c3>,</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;751</ln><a id="751">&nbsp;</a><a id="n[441291, 441290]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#744_1_refs">_</a></c20><c21><a href="#744_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#745">tool</a></c26><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;752</ln><a id="752">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;753</ln><a id="753">&nbsp;</a><a id="n[441360, 441303, 441296, 441346, 441304, 441307, 441361, 441358, 441350, 441316, 441323, 441334, 441342, 441325, 441345, 441295, 441333, 441347, 441340, 441341, 441330, 441343, 441326, 441355, 441322, 441359, 441332, 441353, 441297, 441320, 441315, 441344, 441319, 441363, 441329, 441352, 441354, 441324, 441313, 441327, 441312, 441351, 441356, 441348, 441308, 441299, 441331, 441298, 441321, 441301, 441310, 441349, 441367, 441337, 441302, 441328, 441317, 441336, 441309, 441357, 441311, 441366, 441339, 441318, 441335, 441314, 441300, 441338]">&nbsp;</a><c22><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21><a href="#744_1_refs">format!</a></c21><c4>(</c4><c8><a href="../../libstd/option.rs.html#n104337">"</a></c8><c3>{}</c3><c8><a href="../../libstd/option.rs.html#n104337">/bin/arm-linux-androideabi-</a></c8><c3>{}</c3><c8><a href="../../libstd/option.rs.html#n104337">"</a></c8><c3>,</c3><c21><a href="#744_1_refs">&nbsp;</a></c21><c20><a href="#753_59_refs">*</a></c20><c26><a href="../../librustc/back/link.rs.html#748">path</a></c26><c3>,</c3><c21><a href="#744_1_refs">&nbsp;</a></c21><c20><a href="#753_66_refs">tool_str</a></c20><c4>)</c4><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;754</ln><a id="754">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;755</ln><a id="755">&nbsp;</a><a id="n[441370, 441430, 441369]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#744_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;756</ln><a id="756">&nbsp;</a><a id="n[441424, 441384, 441386, 441391, 441398, 441371, 441374, 441419, 441382, 441388, 441421, 441409, 441392, 441390, 441418, 441400, 441396, 441420, 441402, 441427, 441429, 441393, 441422, 441414, 441415, 441394, 441381, 441387, 441385, 441395, 441401, 441411, 441428, 441383, 441397, 441410, 441412, 441380, 441417, 441377, 441399, 441376, 441404, 441416, 441403, 441413, 441389]">&nbsp;</a><c22><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#745">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/parse.rs.html#n166363">"need&nbsp;Android&nbsp;NDK&nbsp;path&nbsp;for&nbsp;the&nbsp;'</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/parse.rs.html#n166363">'&nbsp;tool&nbsp;\
</a></c26><br/><ln>&nbsp;&nbsp;757</ln><a id="757">&nbsp;</a><a id="n[441405, 441408, 441406, 441372, 441375, 441373, 441407]">&nbsp;</a><c26><a href="../../libstd/fmt/parse.rs.html#n166363">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c4>(</c4><c26><a href="../../libstd/fmt/parse.rs.html#n166363">-C&nbsp;android-cross-path</a></c26><c4>)</c4><c26><a href="../../libstd/fmt/parse.rs.html#n166363">"</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#205">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#757">tool</a></c26><c4>))</c4><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;758</ln><a id="758">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;759</ln><a id="759">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>},</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;760</ln><a id="760">&nbsp;</a><a id="n[441434, 441433, 441432]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#744_1_refs">_</a></c20><c21><a href="#744_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#744_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#745">tool</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c21><a href="#744_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;761</ln><a id="761">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#744_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#744_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;762</ln><a id="762">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;763</ln><a id="763">&nbsp;</a><a id="n[441436]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;764</ln><a id="764">&nbsp;</a><a id="n[441447, 441441, 441440, 441444, 441446, 441445, 441439, 441448]">&nbsp;</a><c30>fn</c30><c30><a href="#763_1_refs">&nbsp;remove</a></c30><c4>(</c4><c20><a href="#764_10_refs">sess</a></c20><c1><a href="#763_1_refs">:&nbsp;</a></c1><c8><a href="#763_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#763_1_refs">&nbsp;</a></c1><c20><a href="#764_26_refs">path</a></c20><c1><a href="#763_1_refs">:&nbsp;</a></c1><c8><a href="#763_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#763_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#763_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;765</ln><a id="765">&nbsp;</a><a id="n[441451, 441450, 441538, 441449]">&nbsp;</a><c22><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#763_1_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140098">fs::unlink</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#764">path</a></c26><c4>)</c4><c21><a href="#763_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#763_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;766</ln><a id="766">&nbsp;</a><a id="n[441454, 441452, 441453]">&nbsp;</a><c21><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105797">..</a></c20><c4>)</c4><c21><a href="#763_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#763_1_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#763_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;767</ln><a id="767">&nbsp;</a><a id="n[441456, 441537, 441536, 441455]">&nbsp;</a><c21><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#767_12_refs">e</a></c20><c4>)</c4><c21><a href="#763_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#763_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#763_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;768</ln><a id="768">&nbsp;</a><a id="n[441526, 441474, 441516, 441464, 441482, 441512, 441489, 441490, 441492, 441517, 441473, 441481, 441470, 441509, 441495, 441477, 441503, 441480, 441460, 441457, 441521, 441529, 441499, 441475, 441504, 441493, 441518, 441523, 441527, 441467, 441514, 441513, 441500, 441496, 441522, 441476, 441511, 441494, 441483, 441534, 441502, 441463, 441462, 441525, 441479, 441519, 441466, 441524, 441484, 441461, 441507, 441535, 441497, 441533, 441520, 441491, 441486, 441505, 441510, 441532, 441488, 441458, 441487, 441485, 441478, 441459, 441515, 441465, 441498, 441471, 441472, 441506, 441501, 441508]">&nbsp;</a><c22><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#764">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c1><a href="../../libstd/option.rs.html#n104337">"failed&nbsp;to&nbsp;remove&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/option.rs.html#n104337">:&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/option.rs.html#n104337">"</a></c1><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#764">path</a></c26><c26><a href="../../librustc/back/link.rs.html#768">.display</a></c26><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c20><a href="#768_72_refs">e</a></c20><c4>))</c4><c3>;</c3><c22><a href="#763_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;769</ln><a id="769">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#763_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;770</ln><a id="770">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#763_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#763_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;771</ln><a id="771">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;772</ln><a id="772">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;773</ln><a id="773">&nbsp;</a><a id="n[]">&nbsp;</a><c42>///&nbsp;Perform&nbsp;the&nbsp;linkage&nbsp;portion&nbsp;of&nbsp;the&nbsp;compilation&nbsp;phase.&nbsp;This&nbsp;will&nbsp;generate&nbsp;all
</c42><br/><ln>&nbsp;&nbsp;774</ln><a id="774">&nbsp;</a><a id="n[441539]">&nbsp;</a><c42>///&nbsp;of&nbsp;the&nbsp;requested&nbsp;outputs&nbsp;for&nbsp;this&nbsp;compilation&nbsp;session.
</c42><br/><ln>&nbsp;&nbsp;775</ln><a id="775">&nbsp;</a><a id="n[441543, 441544, 441542]">&nbsp;</a><c21>pub</c21><c1><a href="#774_59_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#774_59_refs">&nbsp;link_binary</a></c30><c4>(</c4><c20><a href="#775_19_refs">sess</a></c20><c1><a href="#774_59_refs">:&nbsp;</a></c1><c8><a href="#774_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#774_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;776</ln><a id="776">&nbsp;</a><a id="n[441548, 441549, 441547]">&nbsp;</a><c1><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#776_19_refs">trans</a></c20><c1><a href="#774_59_refs">:&nbsp;</a></c1><c8><a href="#774_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#409">CrateTranslation</a></c8><c3>,</c3><c1><a href="#774_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;777</ln><a id="777">&nbsp;</a><a id="n[441552, 441553, 441554]">&nbsp;</a><c1><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#777_19_refs">outputs</a></c20><c1><a href="#774_59_refs">:&nbsp;</a></c1><c8><a href="#774_59_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1126">OutputFilenames</a></c8><c3>,</c3><c1><a href="#774_59_refs">
</a></c1><br/><ln>&nbsp;&nbsp;778</ln><a id="778">&nbsp;</a><a id="n[441557, 441559, 441561, 441644, 441563, 441558]">&nbsp;</a><c1><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#778_19_refs">id</a></c20><c1><a href="#774_59_refs">:&nbsp;</a></c1><c8><a href="#774_59_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c4>)</c4><c1><a href="#774_59_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#774_59_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#774_59_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;779</ln><a id="779">&nbsp;</a><a id="n[441564, 441565, 441567, 441566, 441569, 441568]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#774_59_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#779_8_refs">&nbsp;out_filenames</a></c20><c13><a href="#774_59_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../libstd/vec.rs.html#n56419">Vec::new</a></c26><c4>()</c4><c3>;</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;780</ln><a id="780">&nbsp;</a><a id="n[441573, 441578, 441572, 441582, 441603, 441570, 441574, 441577, 441601, 441571, 441581, 441576, 441580, 441579, 441575, 441604, 441583, 441600, 441602, 441599]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c20><a href="../../libstd/slice.rs.html#n55129">&amp;</a></c20><c20><a href="#780_9_refs">crate_type</a></c20><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#193">.crate_types</a></c24><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;&nbsp;781</ln><a id="781">&nbsp;</a><a id="n[441587, 441590, 441586, 441584, 441591, 441594, 441588, 441585, 441592, 441589, 441593]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c22><c20><a href="#781_12_refs">out_file</a></c20><c13><a href="../../librustc/back/link.rs.html#780">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#827">link_binary_output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#780">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#776">trans</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#780">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#780">crate_type</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#780">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#777">outputs</a></c26><c3>,</c3><c27><a href="../../librustc/back/link.rs.html#780">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#778">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;&nbsp;782</ln><a id="782">&nbsp;</a><a id="n[441598, 441596, 441597, 441595]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#779">out_filenames</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#781">out_file</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;&nbsp;783</ln><a id="783">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;&nbsp;784</ln><a id="784">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;&nbsp;785</ln><a id="785">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c40>//&nbsp;Remove&nbsp;the&nbsp;temporary&nbsp;object&nbsp;file&nbsp;and&nbsp;metadata&nbsp;if&nbsp;we&nbsp;aren't&nbsp;saving&nbsp;temps
</c40><br/><ln>&nbsp;&nbsp;786</ln><a id="786">&nbsp;</a><a id="n[441606, 441641, 441605, 441643, 441607, 441608, 441609, 441642]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c21>if</c21><c21><a href="#774_59_refs">&nbsp;</a></c21><c5><a href="#774_59_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.save_temps</a></c24><c21><a href="#774_59_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;787</ln><a id="787">&nbsp;</a><a id="n[441610, 441613, 441611, 441615, 441616, 441614, 441612]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#774_59_refs">&nbsp;</a></c22><c20><a href="#787_12_refs">obj_filename</a></c20><c13><a href="#774_59_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#777">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;788</ln><a id="788">&nbsp;</a><a id="n[441630, 441632, 441621, 441623, 441618, 441619, 441620, 441617, 441631, 441622]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#774_59_refs">&nbsp;</a></c21><c5><a href="#774_59_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58405">.contains</a></c10><c4>(</c4><c5><a href="#774_59_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c21><a href="#774_59_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;789</ln><a id="789">&nbsp;</a><a id="n[441625, 441629, 441624, 441627, 441626, 441628]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#763">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c3>,</c3><c27><a href="#774_59_refs">&nbsp;</a></c27><c5><a href="#774_59_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#787">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;790</ln><a id="790">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;791</ln><a id="791">&nbsp;</a><a id="n[441635, 441634, 441640, 441638, 441633, 441639, 441636, 441637]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#763">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#775">sess</a></c26><c3>,</c3><c27><a href="#774_59_refs">&nbsp;</a></c27><c5><a href="#774_59_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#787">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_extension</a></c10><c4>(</c4><c12><a href="#774_59_refs">"metadata.o"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;792</ln><a id="792">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;793</ln><a id="793">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;794</ln><a id="794">&nbsp;</a><a id="n[441645]">&nbsp;</a><c22><a href="#774_59_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#779">out_filenames</a></c26><c22><a href="#774_59_refs">
</a></c22><br/><ln>&nbsp;&nbsp;795</ln><a id="795">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;796</ln><a id="796">&nbsp;</a><a id="n[441646]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;797</ln><a id="797">&nbsp;</a><a id="n[441654, 441649, 441650, 441651, 441653]">&nbsp;</a><c30>fn</c30><c30><a href="#796_1_refs">&nbsp;is_writeable</a></c30><c4>(</c4><c20><a href="#797_16_refs">p</a></c20><c1><a href="#796_1_refs">:&nbsp;</a></c1><c8><a href="#796_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#796_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#796_1_refs">&nbsp;</a></c1><c8><a href="#796_1_refs">bool</a></c8><c1><a href="#796_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#796_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;798</ln><a id="798">&nbsp;</a><a id="n[441667, 441655, 441656]">&nbsp;</a><c22><a href="#796_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#796_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#797">p</a></c26><c10><a href="../../libstd/io/fs.rs.html#n141088">.stat</a></c10><c4>()</c4><c21><a href="#796_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#796_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;799</ln><a id="799">&nbsp;</a><a id="n[441657, 441658]">&nbsp;</a><c21><a href="#796_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105801">..</a></c20><c4>)</c4><c21><a href="#796_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#796_1_refs">&nbsp;</a></c21><c12><a href="#796_1_refs">true</a></c12><c3>,</c3><c21><a href="#796_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;800</ln><a id="800">&nbsp;</a><a id="n[441662, 441661, 441659, 441663, 441664, 441665, 441660, 441666]">&nbsp;</a><c21><a href="#796_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="#800_11_refs">m</a></c20><c4>)</c4><c21><a href="#796_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#796_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#800">m</a></c26><c24><a href="../../libstd/io/mod.rs.html#n153788">.perm</a></c24><c5><a href="#796_1_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n154027">io::UserWrite</a></c26><c5><a href="#796_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libstd/io/mod.rs.html#n154027">io::UserWrite</a></c26><c21><a href="#796_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;801</ln><a id="801">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#796_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#796_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;802</ln><a id="802">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;803</ln><a id="803">&nbsp;</a><a id="n[441668]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;804</ln><a id="804">&nbsp;</a><a id="n[441677, 441671, 441676, 441673, 441672]">&nbsp;</a><c21>pub</c21><c1><a href="#803_1_refs">&nbsp;</a></c1><c30>fn</c30><c30><a href="#803_1_refs">&nbsp;filename_for_input</a></c30><c4>(</c4><c20><a href="#804_26_refs">sess</a></c20><c1><a href="#803_1_refs">:&nbsp;</a></c1><c8><a href="#803_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#803_1_refs">&nbsp;</a></c1><c20><a href="#804_42_refs">crate_type</a></c20><c1><a href="#803_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#168">session::CrateType</a></c8><c3>,</c3><c1><a href="#803_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;805</ln><a id="805">&nbsp;</a><a id="n[441680, 441685, 441682, 441681, 441689, 441687, 441686, 441697]">&nbsp;</a><c1><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#805_26_refs">id</a></c20><c1><a href="#803_1_refs">:&nbsp;</a></c1><c8><a href="#803_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c3>,</c3><c1><a href="#803_1_refs">&nbsp;</a></c1><c20><a href="#805_40_refs">out_filename</a></c20><c1><a href="#803_1_refs">:&nbsp;</a></c1><c8><a href="#803_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#803_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#803_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c1><a href="#803_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;806</ln><a id="806">&nbsp;</a><a id="n[441690, 441696, 441692, 441693, 441694, 441691, 441695]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#803_1_refs">&nbsp;</a></c22><c20><a href="#806_8_refs">libname</a></c20><c13><a href="#803_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#713">output_lib_filename</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#805">id</a></c26><c4>)</c4><c3>;</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;807</ln><a id="807">&nbsp;</a><a id="n[441698, 441948]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#803_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#804">crate_type</a></c26><c21><a href="#803_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;808</ln><a id="808">&nbsp;</a><a id="n[441699, 441700, 441760]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;809</ln><a id="809">&nbsp;</a><a id="n[441748, 441752, 441724, 441714, 441741, 441715, 441750, 441710, 441721, 441719, 441739, 441728, 441701, 441702, 441707, 441723, 441745, 441725, 441711, 441751, 441737, 441734, 441733, 441720, 441730, 441746, 441718, 441744, 441717, 441736, 441705, 441749, 441726, 441716, 441735, 441704, 441740, 441757, 441743, 441712, 441706, 441738, 441727, 441722, 441732, 441759, 441703, 441754, 441729, 441742, 441758, 441731, 441747, 441713]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#805">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_filename</a></c10><c4>(</c4><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169453">"lib</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169453">.rlib"</a></c26><c3>,</c3><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">&nbsp;</a></c21><c5><a href="../../libstd/fmt/mod.rs.html#n171474">libname</a></c5><c4>))</c4><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;810</ln><a id="810">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;811</ln><a id="811">&nbsp;</a><a id="n[441792, 441882, 441761]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#171">session::CrateTypeDylib</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;812</ln><a id="812">&nbsp;</a><a id="n[441769, 441766, 441764, 441767, 441762, 441763, 441790, 441765, 441768, 441791]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#803_1_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#812_17_refs">prefix</a></c20><c3>,</c3><c20><a href="#803_1_refs">&nbsp;</a></c20><c20><a href="#812_25_refs">suffix</a></c20><c4>)</c4><c13><a href="#803_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#803_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#804">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#803_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;813</ln><a id="813">&nbsp;</a><a id="n[441773, 441770, 441771, 441772]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n135386">win32::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#803_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n135392">win32::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;814</ln><a id="814">&nbsp;</a><a id="n[441774, 441776, 441777, 441775]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n135238">macos::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#803_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n135244">macos::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;815</ln><a id="815">&nbsp;</a><a id="n[441779, 441780, 441781, 441778]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14462">abi::OsLinux</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n135312">linux::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#803_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n135318">linux::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;816</ln><a id="816">&nbsp;</a><a id="n[441784, 441783, 441782, 441785]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14463">abi::OsAndroid</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n135349">android::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#803_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n135355">android::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;817</ln><a id="817">&nbsp;</a><a id="n[441788, 441787, 441786, 441789]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14464">abi::OsFreebsd</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../libstd/os.rs.html#n135275">freebsd::DLL_PREFIX</a></c26><c3>,</c3><c14><a href="#803_1_refs">&nbsp;</a></c14><c26><a href="../../libstd/os.rs.html#n135281">freebsd::DLL_SUFFIX</a></c26><c4>)</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;818</ln><a id="818">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;819</ln><a id="819">&nbsp;</a><a id="n[441858, 441870, 441825, 441813, 441848, 441857, 441846, 441812, 441803, 441809, 441880, 441821, 441814, 441849, 441829, 441822, 441861, 441804, 441805, 441819, 441844, 441818, 441876, 441837, 441827, 441810, 441826, 441834, 441845, 441796, 441868, 441793, 441795, 441828, 441836, 441860, 441823, 441866, 441811, 441850, 441881, 441862, 441838, 441794, 441851, 441863, 441815, 441802, 441879, 441852, 441820, 441842, 441835, 441841, 441799, 441833, 441830, 441817, 441859, 441843, 441847, 441797, 441808, 441864, 441853, 441856, 441832, 441801, 441874, 441800, 441854, 441839, 441869, 441831, 441840, 441871, 441865, 441872, 441824, 441798, 441855, 441873, 441816, 441867]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#805">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_filename</a></c10><c4>(</c4><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">format!</a></c21><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c22><c3>{}{}{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c22><c3>,</c3><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">&nbsp;</a></c21><c20><a href="#819_57_refs">prefix</a></c20><c3>,</c3><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#819">libname</a></c26><c3>,</c3><c21><a href="../../librustc/middle/typeck/astconv.rs.html#142">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#812">suffix</a></c26><c4>))</c4><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;820</ln><a id="820">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;821</ln><a id="821">&nbsp;</a><a id="n[441884, 441944, 441883]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeStaticlib</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;822</ln><a id="822">&nbsp;</a><a id="n[441916, 441902, 441909, 441885, 441927, 441888, 441926, 441932, 441928, 441924, 441929, 441931, 441920, 441910, 441911, 441897, 441896, 441887, 441898, 441936, 441906, 441934, 441922, 441894, 441915, 441921, 441908, 441891, 441919, 441890, 441942, 441907, 441917, 441900, 441925, 441923, 441935, 441903, 441941, 441913, 441943, 441899, 441904, 441933, 441886, 441905, 441930, 441914, 441918, 441938, 441912, 441889, 441895, 441901]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#805">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_filename</a></c10><c4>(</c4><c21><a href="#803_1_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169507">"lib</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169507">.a"</a></c26><c3>,</c3><c21><a href="#803_1_refs">&nbsp;</a></c21><c20><a href="#822_58_refs">libname</a></c20><c4>))</c4><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;823</ln><a id="823">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;824</ln><a id="824">&nbsp;</a><a id="n[441946, 441947, 441945]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/driver/session.rs.html#170">session::CrateTypeExecutable</a></c20><c21><a href="#803_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#803_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#805">out_filename</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154254">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#803_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;825</ln><a id="825">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#803_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#803_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;826</ln><a id="826">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;827</ln><a id="827">&nbsp;</a><a id="n[441949]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;828</ln><a id="828">&nbsp;</a><a id="n[441953, 441952, 441954]">&nbsp;</a><c30>fn</c30><c30><a href="#827_1_refs">&nbsp;link_binary_output</a></c30><c4>(</c4><c20><a href="#828_22_refs">sess</a></c20><c1><a href="#827_1_refs">:&nbsp;</a></c1><c8><a href="#827_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#827_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;829</ln><a id="829">&nbsp;</a><a id="n[441957, 441958, 441959]">&nbsp;</a><c1><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#829_22_refs">trans</a></c20><c1><a href="#827_1_refs">:&nbsp;</a></c1><c8><a href="#827_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#409">CrateTranslation</a></c8><c3>,</c3><c1><a href="#827_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;830</ln><a id="830">&nbsp;</a><a id="n[441962, 441963]">&nbsp;</a><c1><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#830_22_refs">crate_type</a></c20><c1><a href="#827_1_refs">:&nbsp;</a></c1><c8><a href="../../librustc/driver/session.rs.html#168">session::CrateType</a></c8><c3>,</c3><c1><a href="#827_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;831</ln><a id="831">&nbsp;</a><a id="n[441968, 441966, 441967]">&nbsp;</a><c1><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#831_22_refs">outputs</a></c20><c1><a href="#827_1_refs">:&nbsp;</a></c1><c8><a href="#827_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#1126">OutputFilenames</a></c8><c3>,</c3><c1><a href="#827_1_refs">
</a></c1><br/><ln>&nbsp;&nbsp;832</ln><a id="832">&nbsp;</a><a id="n[441973, 441971, 441975, 441972, 442210]">&nbsp;</a><c1><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#832_22_refs">id</a></c20><c1><a href="#827_1_refs">:&nbsp;</a></c1><c8><a href="#827_1_refs">&amp;</a></c8><c8><a href="../../libsyntax/crateid.rs.html#n130375">CrateId</a></c8><c4>)</c4><c1><a href="#827_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#827_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c1><a href="#827_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;833</ln><a id="833">&nbsp;</a><a id="n[441979, 441982, 441976, 441978, 441977, 441981, 441980]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#827_1_refs">&nbsp;</a></c22><c20><a href="#833_8_refs">obj_filename</a></c20><c16><a href="#827_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#831">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1142">.temp_path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#52">OutputTypeObject</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;834</ln><a id="834">&nbsp;</a><a id="n[441986, 441983, 441984, 441987, 442009, 442010, 441985]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#827_1_refs">&nbsp;</a></c22><c20><a href="#834_8_refs">out_filename</a></c20><c13><a href="#827_1_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#827_1_refs">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#831">outputs</a></c26><c24><a href="../../librustc/driver/driver.rs.html#1130">.single_output_file</a></c24><c21><a href="#827_1_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#827_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;835</ln><a id="835">&nbsp;</a><a id="n[441991, 441990, 441989, 441988]">&nbsp;</a><c21><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#835_13_refs">ref&nbsp;file</a></c20><c4>)</c4><c21><a href="#827_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#827_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#835">file</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154254">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#827_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;836</ln><a id="836">&nbsp;</a><a id="n[442008, 441992, 442000]">&nbsp;</a><c21><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#827_1_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#827_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;837</ln><a id="837">&nbsp;</a><a id="n[441996, 441998, 441994, 441999, 441995, 441993, 441997]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#827_1_refs">&nbsp;</a></c22><c20><a href="#837_16_refs">out_filename</a></c20><c16><a href="#827_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#831">outputs</a></c26><c10><a href="../../librustc/driver/driver.rs.html#1134">.path</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#53">OutputTypeExe</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;838</ln><a id="838">&nbsp;</a><a id="n[442003, 442001, 442005, 442004, 442007, 442006, 442002]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#803">filename_for_input</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#830">crate_type</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#832">id</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#837">out_filename</a></c26><c4>)</c4><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;839</ln><a id="839">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#827_1_refs">
</a></c21><br/><ln>&nbsp;&nbsp;840</ln><a id="840">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;841</ln><a id="841">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;842</ln><a id="842">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;the&nbsp;output&nbsp;and&nbsp;obj_filename&nbsp;are&nbsp;both&nbsp;writeable.
</c40><br/><ln>&nbsp;&nbsp;843</ln><a id="843">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Mac,&nbsp;FreeBSD,&nbsp;and&nbsp;Windows&nbsp;system&nbsp;linkers&nbsp;check&nbsp;this&nbsp;already&nbsp;--
</c40><br/><ln>&nbsp;&nbsp;844</ln><a id="844">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;however,&nbsp;the&nbsp;Linux&nbsp;linker&nbsp;will&nbsp;happily&nbsp;overwrite&nbsp;a&nbsp;read-only&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;845</ln><a id="845">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;should&nbsp;be&nbsp;consistent.
</c40><br/><ln>&nbsp;&nbsp;846</ln><a id="846">&nbsp;</a><a id="n[442012, 442015, 442013, 442017, 442011, 442014, 442016, 442018]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#827_1_refs">&nbsp;</a></c22><c20><a href="#846_8_refs">obj_is_writeable</a></c20><c13><a href="#827_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#796">is_writeable</a></c26><c4>(</c4><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;847</ln><a id="847">&nbsp;</a><a id="n[442019, 442023, 442021, 442020, 442022, 442025, 442026, 442024]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#827_1_refs">&nbsp;</a></c22><c20><a href="#847_8_refs">out_is_writeable</a></c20><c13><a href="#827_1_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#796">is_writeable</a></c26><c4>(</c4><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;848</ln><a id="848">&nbsp;</a><a id="n[442027, 442156, 442157, 442028, 442090]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#827_1_refs">&nbsp;</a></c13><c5><a href="#827_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#847">out_is_writeable</a></c26><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;849</ln><a id="849">&nbsp;</a><a id="n[442063, 442048, 442077, 442054, 442088, 442049, 442051, 442086, 442083, 442079, 442056, 442062, 442071, 442058, 442043, 442073, 442059, 442055, 442033, 442035, 442087, 442074, 442069, 442053, 442057, 442042, 442089, 442045, 442070, 442080, 442029, 442072, 442076, 442044, 442039, 442050, 442061, 442036, 442040, 442047, 442052, 442041, 442078, 442075, 442060, 442081, 442046, 442068]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c1><a href="../../libstd/fmt/rt.rs.html#n169507">"output&nbsp;file&nbsp;</a></c1><c3>{}</c3><c1><a href="../../libstd/fmt/rt.rs.html#n169507">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c1><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#205">
</a></c21><br/><ln>&nbsp;&nbsp;850</ln><a id="850">&nbsp;</a><a id="n[442065, 442030, 442067, 442034, 442064, 442032, 442031, 442066]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c26><a href="../../librustc/back/link.rs.html#850">.display</a></c26><c4>()))</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;851</ln><a id="851">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;852</ln><a id="852">&nbsp;</a><a id="n[442091, 442155, 442154, 442092]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c21>else</c21><c13><a href="#827_1_refs">&nbsp;</a></c13><c21>if</c21><c21><a href="#827_1_refs">&nbsp;</a></c21><c5><a href="#827_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#846">obj_is_writeable</a></c26><c21><a href="#827_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;853</ln><a id="853">&nbsp;</a><a id="n[442113, 442100, 442144, 442141, 442115, 442093, 442116, 442126, 442120, 442105, 442133, 442135, 442151, 442136, 442118, 442107, 442134, 442139, 442119, 442145, 442125, 442099, 442104, 442121, 442152, 442124, 442138, 442103, 442108, 442112, 442143, 442111, 442109, 442123, 442150, 442110, 442117, 442142, 442132, 442106, 442140, 442114, 442147, 442127, 442153, 442122, 442137, 442097]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#205">.fatal</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#205">format!</a></c21><c4>(</c4><c14><a href="#853_27_refs">"object&nbsp;file&nbsp;</a></c14><c3>{}</c3><c14><a href="#853_27_refs">&nbsp;is&nbsp;not&nbsp;writeable&nbsp;--&nbsp;check&nbsp;its&nbsp;permissions."</a></c14><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#205">
</a></c21><br/><ln>&nbsp;&nbsp;854</ln><a id="854">&nbsp;</a><a id="n[442095, 442098, 442131, 442096, 442130, 442128, 442129, 442094]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#205">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c26><a href="../../libstd/fmt/mod.rs.html#n169877">.display</a></c26><c4>()))</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;855</ln><a id="855">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;856</ln><a id="856">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;857</ln><a id="857">&nbsp;</a><a id="n[442208, 442209, 442158]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#827_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#830">crate_type</a></c26><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;858</ln><a id="858">&nbsp;</a><a id="n[442171, 442172, 442159]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/driver/session.rs.html#172">session::CrateTypeRlib</a></c20><c13><a href="#827_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;859</ln><a id="859">&nbsp;</a><a id="n[442164, 442170, 442169, 442160, 442166, 442165, 442163, 442167, 442162, 442161, 442168]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#880">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#829">trans</a></c26><c4>)</c4><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;860</ln><a id="860">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;861</ln><a id="861">&nbsp;</a><a id="n[442183, 442173, 442182]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/driver/session.rs.html#173">session::CrateTypeStaticlib</a></c20><c13><a href="#827_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;862</ln><a id="862">&nbsp;</a><a id="n[442178, 442176, 442177, 442175, 442174, 442179, 442181, 442180]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#982">link_staticlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;863</ln><a id="863">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;864</ln><a id="864">&nbsp;</a><a id="n[442195, 442184, 442194]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/driver/session.rs.html#170">session::CrateTypeExecutable</a></c20><c13><a href="#827_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;865</ln><a id="865">&nbsp;</a><a id="n[442189, 442191, 442188, 442190, 442186, 442187, 442185, 442193, 442192]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1013">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c12><a href="#827_1_refs">false</a></c12><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c3>,</c3><c27><a href="#827_1_refs">&nbsp;</a></c27><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;866</ln><a id="866">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;867</ln><a id="867">&nbsp;</a><a id="n[442196, 442207, 442206]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="../../librustc/driver/session.rs.html#171">session::CrateTypeDylib</a></c20><c13><a href="#827_1_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#827_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;868</ln><a id="868">&nbsp;</a><a id="n[442204, 442202, 442198, 442199, 442203, 442197, 442205, 442201, 442200]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1013">link_natively</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#828">sess</a></c26><c3>,</c3><c13><a href="#827_1_refs">&nbsp;</a></c13><c12><a href="#827_1_refs">true</a></c12><c3>,</c3><c13><a href="#827_1_refs">&nbsp;</a></c13><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#833">obj_filename</a></c26><c3>,</c3><c13><a href="#827_1_refs">&nbsp;</a></c13><c5><a href="#827_1_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;869</ln><a id="869">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#827_1_refs">
</a></c13><br/><ln>&nbsp;&nbsp;870</ln><a id="870">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;871</ln><a id="871">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;872</ln><a id="872">&nbsp;</a><a id="n[442211]">&nbsp;</a><c22><a href="#827_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#834">out_filename</a></c26><c22><a href="#827_1_refs">
</a></c22><br/><ln>&nbsp;&nbsp;873</ln><a id="873">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;874</ln><a id="874">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;875</ln><a id="875">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Create&nbsp;an&nbsp;'rlib'
</c40><br/><ln>&nbsp;&nbsp;876</ln><a id="876">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;877</ln><a id="877">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;An&nbsp;rlib&nbsp;in&nbsp;its&nbsp;current&nbsp;incarnation&nbsp;is&nbsp;essentially&nbsp;a&nbsp;renamed&nbsp;.a&nbsp;file.&nbsp;The
</c40><br/><ln>&nbsp;&nbsp;878</ln><a id="878">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;rlib&nbsp;primarily&nbsp;contains&nbsp;the&nbsp;object&nbsp;file&nbsp;of&nbsp;the&nbsp;crate,&nbsp;but&nbsp;it&nbsp;also&nbsp;contains
</c40><br/><ln>&nbsp;&nbsp;879</ln><a id="879">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;from&nbsp;native&nbsp;libraries.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;unzipping
</c40><br/><ln>&nbsp;&nbsp;880</ln><a id="880">&nbsp;</a><a id="n[442212]">&nbsp;</a><c40>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;881</ln><a id="881">&nbsp;</a><a id="n[442218, 442217, 442216]">&nbsp;</a><c30>fn</c30><c30><a href="#880_73_refs">&nbsp;link_rlib</a></c30><c5><a href="#880_73_refs">&lt;'a&gt;</a></c5><c4>(</c4><c20><a href="#881_17_refs">sess</a></c20><c1><a href="#880_73_refs">:&nbsp;</a></c1><c8><a href="#880_73_refs">&amp;'a&nbsp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#880_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;882</ln><a id="882">&nbsp;</a><a id="n[442221, 442225, 442222, 442224]">&nbsp;</a><c1><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#882_17_refs">trans</a></c20><c1><a href="#880_73_refs">:&nbsp;</a></c1><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="#880_73_refs">&amp;</a></c8><c8><a href="../../librustc/driver/driver.rs.html#409">CrateTranslation</a></c8><c8><a href="../../libstd/option.rs.html#n104336">&gt;</a></c8><c3>,</c3><c1><a href="#880_73_refs">&nbsp;</a></c1><c40>//&nbsp;None&nbsp;==&nbsp;no&nbsp;metadata/bytecode
</c40><br/><ln>&nbsp;&nbsp;883</ln><a id="883">&nbsp;</a><a id="n[442229, 442228, 442230]">&nbsp;</a><c1><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#883_17_refs">obj_filename</a></c20><c1><a href="#880_73_refs">:&nbsp;</a></c1><c8><a href="#880_73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#880_73_refs">
</a></c1><br/><ln>&nbsp;&nbsp;884</ln><a id="884">&nbsp;</a><a id="n[442233, 442235, 442238, 442234, 442582]">&nbsp;</a><c1><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#884_17_refs">out_filename</a></c20><c1><a href="#880_73_refs">:&nbsp;</a></c1><c8><a href="#880_73_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#880_73_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#880_73_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/archive.rs.html#29">Archive&lt;'a&gt;</a></c8><c1><a href="#880_73_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;885</ln><a id="885">&nbsp;</a><a id="n[442245, 442243, 442246, 442241, 442248, 442240, 442244, 442242, 442247]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#880_73_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#885_8_refs">&nbsp;a</a></c20><c16><a href="#880_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/archive.rs.html#78">Archive::create</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c3>,</c3><c27><a href="#880_73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#884">out_filename</a></c26><c3>,</c3><c27><a href="#880_73_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#883">obj_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;886</ln><a id="886">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;887</ln><a id="887">&nbsp;</a><a id="n[442249, 442252, 442265, 442254, 442262, 442258, 442286, 442284, 442264, 442260, 442253, 442282, 442255, 442263, 442250, 442283, 442266, 442285, 442261, 442251, 442257, 442256, 442259]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c20><c20><a href="../../libstd/slice.rs.html#n55129">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="#887_10_refs">&nbsp;l</a></c20><c3>,</c3><c20><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c20><c20><a href="#887_17_refs">kind</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#185">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;888</ln><a id="888">&nbsp;</a><a id="n[442281, 442267]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#887">kind</a></c26><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;&nbsp;889</ln><a id="889">&nbsp;</a><a id="n[442275, 442276, 442268]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#53">cstore::NativeStatic</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;890</ln><a id="890">&nbsp;</a><a id="n[442269, 442274, 442272, 442270, 442273, 442271]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#885">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#115">.add_native_library</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#887">l</a></c26><c10><a href="../../libstd/str.rs.html#n64934">.as_slice</a></c10><c4>())</c4><c10><a href="../../libstd/result.rs.html#n106923">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;891</ln><a id="891">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;&nbsp;892</ln><a id="892">&nbsp;</a><a id="n[442280, 442277, 442278, 442279]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#54">cstore::NativeFramework</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#55">cstore::NativeUnknown</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{}</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;&nbsp;893</ln><a id="893">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;&nbsp;894</ln><a id="894">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n104337">
</a></c20><br/><ln>&nbsp;&nbsp;895</ln><a id="895">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">
</a></c20><br/><ln>&nbsp;&nbsp;896</ln><a id="896">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;Note&nbsp;that&nbsp;it&nbsp;is&nbsp;important&nbsp;that&nbsp;we&nbsp;add&nbsp;all&nbsp;of&nbsp;our&nbsp;non-object&nbsp;"magical
</c40><br/><ln>&nbsp;&nbsp;897</ln><a id="897">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;files"&nbsp;*after*&nbsp;all&nbsp;of&nbsp;the&nbsp;object&nbsp;files&nbsp;in&nbsp;the&nbsp;archive.&nbsp;The&nbsp;reason&nbsp;for
</c40><br/><ln>&nbsp;&nbsp;898</ln><a id="898">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;this&nbsp;is&nbsp;as&nbsp;follows:
</c40><br/><ln>&nbsp;&nbsp;899</ln><a id="899">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//
</c40><br/><ln>&nbsp;&nbsp;900</ln><a id="900">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;*&nbsp;When&nbsp;performing&nbsp;LTO,&nbsp;this&nbsp;archive&nbsp;will&nbsp;be&nbsp;modified&nbsp;to&nbsp;remove
</c40><br/><ln>&nbsp;&nbsp;901</ln><a id="901">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;obj_filename&nbsp;from&nbsp;above.&nbsp;The&nbsp;reason&nbsp;for&nbsp;this&nbsp;is&nbsp;described&nbsp;below.
</c40><br/><ln>&nbsp;&nbsp;902</ln><a id="902">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//
</c40><br/><ln>&nbsp;&nbsp;903</ln><a id="903">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;*&nbsp;When&nbsp;the&nbsp;system&nbsp;linker&nbsp;looks&nbsp;at&nbsp;an&nbsp;archive,&nbsp;it&nbsp;will&nbsp;attempt&nbsp;to
</c40><br/><ln>&nbsp;&nbsp;904</ln><a id="904">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;determine&nbsp;the&nbsp;architecture&nbsp;of&nbsp;the&nbsp;archive&nbsp;in&nbsp;order&nbsp;to&nbsp;see&nbsp;whether&nbsp;its
</c40><br/><ln>&nbsp;&nbsp;905</ln><a id="905">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;linkable.
</c40><br/><ln>&nbsp;&nbsp;906</ln><a id="906">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//
</c40><br/><ln>&nbsp;&nbsp;907</ln><a id="907">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;The&nbsp;algorithm&nbsp;for&nbsp;this&nbsp;detection&nbsp;is:&nbsp;iterate&nbsp;over&nbsp;the&nbsp;files&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;908</ln><a id="908">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;archive.&nbsp;Skip&nbsp;magical&nbsp;SYMDEF&nbsp;names.&nbsp;Interpret&nbsp;the&nbsp;first&nbsp;file&nbsp;as&nbsp;an
</c40><br/><ln>&nbsp;&nbsp;909</ln><a id="909">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;object&nbsp;file.&nbsp;Read&nbsp;architecture&nbsp;from&nbsp;the&nbsp;object&nbsp;file.
</c40><br/><ln>&nbsp;&nbsp;910</ln><a id="910">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//
</c40><br/><ln>&nbsp;&nbsp;911</ln><a id="911">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;*&nbsp;As&nbsp;one&nbsp;can&nbsp;probably&nbsp;see,&nbsp;if&nbsp;"metadata"&nbsp;and&nbsp;"foo.bc"&nbsp;were&nbsp;placed
</c40><br/><ln>&nbsp;&nbsp;912</ln><a id="912">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;before&nbsp;all&nbsp;of&nbsp;the&nbsp;objects,&nbsp;then&nbsp;the&nbsp;architecture&nbsp;of&nbsp;this&nbsp;archive&nbsp;would
</c40><br/><ln>&nbsp;&nbsp;913</ln><a id="913">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;&nbsp;&nbsp;not&nbsp;be&nbsp;correctly&nbsp;inferred&nbsp;once&nbsp;'foo.o'&nbsp;is&nbsp;removed.
</c40><br/><ln>&nbsp;&nbsp;914</ln><a id="914">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//
</c40><br/><ln>&nbsp;&nbsp;915</ln><a id="915">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;Basically,&nbsp;all&nbsp;this&nbsp;means&nbsp;is&nbsp;that&nbsp;this&nbsp;code&nbsp;should&nbsp;not&nbsp;move&nbsp;above&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;916</ln><a id="916">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c40>//&nbsp;code&nbsp;above.
</c40><br/><ln>&nbsp;&nbsp;917</ln><a id="917">&nbsp;</a><a id="n[442578, 442577, 442287]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>match</c21><c21><a href="#880_73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#882">trans</a></c26><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;918</ln><a id="918">&nbsp;</a><a id="n[442559, 442573, 442288, 442289]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#918_13_refs">trans</a></c20><c4>)</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;919</ln><a id="919">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Instead&nbsp;of&nbsp;putting&nbsp;the&nbsp;metadata&nbsp;in&nbsp;an&nbsp;object&nbsp;file&nbsp;section,&nbsp;rlibs
</c40><br/><ln>&nbsp;&nbsp;920</ln><a id="920">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;contain&nbsp;the&nbsp;metadata&nbsp;in&nbsp;a&nbsp;separate&nbsp;file.&nbsp;We&nbsp;use&nbsp;a&nbsp;temp&nbsp;directory
</c40><br/><ln>&nbsp;&nbsp;921</ln><a id="921">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here&nbsp;so&nbsp;concurrent&nbsp;builds&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;don't&nbsp;try&nbsp;to&nbsp;use
</c40><br/><ln>&nbsp;&nbsp;922</ln><a id="922">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;same&nbsp;filename&nbsp;for&nbsp;metadata&nbsp;(stomping&nbsp;over&nbsp;one&nbsp;another)
</c40><br/><ln>&nbsp;&nbsp;923</ln><a id="923">&nbsp;</a><a id="n[442298, 442295, 442290, 442294, 442297, 442291, 442293, 442296, 442292]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#880_73_refs">&nbsp;</a></c22><c20><a href="#923_16_refs">tmpdir</a></c20><c16><a href="#880_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/io/tempfile.rs.html#n139092">TempDir::new</a></c26><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="../../libstd/option.rs.html#n105048">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;924</ln><a id="924">&nbsp;</a><a id="n[442305, 442303, 442304, 442302, 442300, 442306, 442299, 442301]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#880_73_refs">&nbsp;</a></c22><c20><a href="#924_16_refs">metadata</a></c20><c16><a href="#880_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#923">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n139124">.path</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.join</a></c10><c4>(</c4><c26><a href="../../librustc/back/archive.rs.html#27">METADATA_FILENAME</a></c26><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;925</ln><a id="925">&nbsp;</a><a id="n[442313, 442308, 442307, 442312, 442310, 442311, 442309, 442405, 442404, 442314]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#880_73_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140019">fs::File::create</a></c26><c4>(</c4><c5><a href="../../libstd/io/result.rs.html#n138648">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#924">metadata</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n138648">.write</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#918">trans</a></c26><c24><a href="../../librustc/driver/driver.rs.html#415">.metadata</a></c24><c10><a href="../../libstd/vec.rs.html#n58540">
</a></c10><br/><ln>&nbsp;&nbsp;926</ln><a id="926">&nbsp;</a><a id="n[]">&nbsp;</a><c10><a href="../../libstd/vec.rs.html#n58540">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.as_slice</a></c10><c4>())</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;927</ln><a id="927">&nbsp;</a><a id="n[442315, 442316, 442317]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105797">..</a></c20><c4>)</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;928</ln><a id="928">&nbsp;</a><a id="n[442403, 442319, 442318, 442402]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#928_20_refs">e</a></c20><c4>)</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;929</ln><a id="929">&nbsp;</a><a id="n[442334, 442395, 442384, 442356, 442329, 442340, 442381, 442352, 442339, 442357, 442388, 442387, 442363, 442383, 442364, 442396, 442368, 442382, 442348, 442335, 442351, 442355, 442342, 442353, 442397, 442392, 442345, 442337, 442330, 442389, 442336, 442366, 442326, 442354, 442358, 442346, 442365, 442386, 442361, 442390, 442362, 442378, 442377, 442343, 442379, 442385, 442344, 442341, 442349, 442367, 442398, 442347, 442359, 442338, 442350, 442380, 442360, 442320, 442333]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"failed&nbsp;to&nbsp;write&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n169447">:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"</a></c8><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;&nbsp;930</ln><a id="930">&nbsp;</a><a id="n[442321, 442370, 442374, 442325, 442369, 442375, 442373, 442376, 442322, 442323, 442371, 442372, 442328, 442327, 442324]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#924">metadata</a></c26><c20><a href="#930_37_refs">.display</a></c20><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#928">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;931</ln><a id="931">&nbsp;</a><a id="n[442399, 442401, 442400]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;932</ln><a id="932">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;933</ln><a id="933">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;934</ln><a id="934">&nbsp;</a><a id="n[442406, 442411, 442410, 442409, 442407, 442408]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#885">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#137">.add_file</a></c10><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#137">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#924">metadata</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#137">&nbsp;</a></c10><c12><a href="../../librustc/back/archive.rs.html#137">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;935</ln><a id="935">&nbsp;</a><a id="n[442414, 442417, 442412, 442415, 442416, 442413]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#763">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c3>,</c3><c27><a href="#880_73_refs">&nbsp;</a></c27><c5><a href="#880_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#924">metadata</a></c26><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;936</ln><a id="936">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;937</ln><a id="937">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;LTO&nbsp;purposes,&nbsp;the&nbsp;bytecode&nbsp;of&nbsp;this&nbsp;library&nbsp;is&nbsp;also&nbsp;inserted
</c40><br/><ln>&nbsp;&nbsp;938</ln><a id="938">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;into&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;&nbsp;939</ln><a id="939">&nbsp;</a><a id="n[442424, 442423, 442422, 442420, 442418, 442419, 442421]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#880_73_refs">&nbsp;</a></c22><c20><a href="#939_16_refs">bc</a></c20><c16><a href="#880_73_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#883">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/astconv.rs.html#142">"bc"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;940</ln><a id="940">&nbsp;</a><a id="n[442425, 442431, 442426, 442428, 442430, 442429, 442427]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#880_73_refs">&nbsp;</a></c22><c20><a href="#940_16_refs">bc_deflated</a></c20><c13><a href="#880_73_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#883">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/astconv.rs.html#142">"bc.deflate"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;941</ln><a id="941">&nbsp;</a><a id="n[442454, 442434, 442436, 442439, 442524, 442452, 442432, 442435, 442433, 442453, 442440, 442523, 442442, 442441, 442438]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#880_73_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140003">fs::File::open</a></c26><c4>(</c4><c5><a href="../../libstd/result.rs.html#n106822">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#939">bc</a></c26><c4>)</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#4250">.read_to_end</a></c10><c4>()</c4><c10><a href="../../libstd/result.rs.html#n106822">.and_then</a></c10><c4>(</c4><c1><a href="../../libstd/result.rs.html#n106822">|</a></c1><c20><a href="#941_62_refs">data</a></c20><c8><a href="../../libstd/result.rs.html#n106822">|</a></c8><c1><a href="../../libstd/result.rs.html#n106822">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/result.rs.html#n106822">
</a></c22><br/><ln>&nbsp;&nbsp;942</ln><a id="942">&nbsp;</a><a id="n[442443, 442451, 442450, 442446, 442448, 442447, 442445, 442444, 442449]">&nbsp;</a><c22><a href="../../libstd/result.rs.html#n106822">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/io/fs.rs.html#n140019">fs::File::create</a></c26><c4>(</c4><c5><a href="../../libstd/io/result.rs.html#n138648">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#940">bc_deflated</a></c26><c4>)</c4><c10><a href="../../libstd/io/result.rs.html#n138648">.write</a></c10><c4>(</c4><c26><a href="../../librustc/middle/trans/inline.rs.html#30">flate::deflate_bytes</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#941">data</a></c26><c4>)</c4><c10><a href="../../libstd/c_vec.rs.html#n132873">.as_slice</a></c10><c4>())</c4><c22><a href="../../libstd/result.rs.html#n106822">
</a></c22><br/><ln>&nbsp;&nbsp;943</ln><a id="943">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/result.rs.html#n106822">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;944</ln><a id="944">&nbsp;</a><a id="n[442458, 442459, 442456, 442457, 442455]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(())</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;945</ln><a id="945">&nbsp;</a><a id="n[442460, 442519, 442461, 442522]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#945_20_refs">e</a></c20><c4>)</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;946</ln><a id="946">&nbsp;</a><a id="n[442464, 442488, 442499, 442463, 442465, 442515, 442507, 442490, 442468, 442493, 442491, 442510, 442509, 442489, 442472, 442483, 442482, 442462, 442502, 442501, 442494, 442496, 442475, 442467, 442497, 442484, 442485, 442516, 442512, 442481, 442480, 442477, 442479, 442478, 442517, 442508, 442471, 442487, 442492, 442495, 442498, 442474, 442504, 442505, 442503, 442473, 442476, 442518, 442466, 442486, 442506, 442500]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c16><a href="../../librustc/back/link.rs.html#946">"failed&nbsp;to&nbsp;compress&nbsp;bytecode:&nbsp;</a></c16><c3>{}</c3><c16><a href="../../librustc/back/link.rs.html#946">"</a></c16><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c20><a href="#946_72_refs">e</a></c20><c4>))</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;947</ln><a id="947">&nbsp;</a><a id="n[442520, 442521]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;948</ln><a id="948">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;949</ln><a id="949">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;950</ln><a id="950">&nbsp;</a><a id="n[442529, 442525, 442527, 442530, 442526, 442528]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#885">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#137">.add_file</a></c13><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#137">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#940">bc_deflated</a></c26><c3>,</c3><c13><a href="../../librustc/back/archive.rs.html#137">&nbsp;</a></c13><c12><a href="../../librustc/back/archive.rs.html#137">false</a></c12><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;951</ln><a id="951">&nbsp;</a><a id="n[442533, 442536, 442534, 442532, 442535, 442531]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#763">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c3>,</c3><c27><a href="#880_73_refs">&nbsp;</a></c27><c5><a href="#880_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#940">bc_deflated</a></c26><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;952</ln><a id="952">&nbsp;</a><a id="n[442557, 442549, 442540, 442537, 442541, 442538, 442539, 442558]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#880_73_refs">&nbsp;</a></c13><c5><a href="#880_73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.save_temps</a></c24><c1><a href="#880_73_refs">&nbsp;&amp;&amp;
</a></c1><br/><ln>&nbsp;&nbsp;953</ln><a id="953">&nbsp;</a><a id="n[442543, 442556, 442542, 442548, 442546, 442547, 442545, 442544]">&nbsp;</a><c1><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c5><a href="#880_73_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#133">.output_types</a></c24><c10><a href="../../libstd/vec.rs.html#n58405">.contains</a></c10><c4>(</c4><c5><a href="../../libstd/vec.rs.html#n58405">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#49">OutputTypeBitcode</a></c26><c4>)</c4><c13><a href="#880_73_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;954</ln><a id="954">&nbsp;</a><a id="n[442551, 442552, 442554, 442550, 442555, 442553]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#763">remove</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c3>,</c3><c13><a href="#880_73_refs">&nbsp;</a></c13><c5><a href="#880_73_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#939">bc</a></c26><c4>)</c4><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;955</ln><a id="955">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;956</ln><a id="956">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;957</ln><a id="957">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;After&nbsp;adding&nbsp;all&nbsp;files&nbsp;to&nbsp;the&nbsp;archive,&nbsp;we&nbsp;need&nbsp;to&nbsp;update&nbsp;the
</c40><br/><ln>&nbsp;&nbsp;958</ln><a id="958">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbol&nbsp;table&nbsp;of&nbsp;the&nbsp;archive.&nbsp;This&nbsp;currently&nbsp;dies&nbsp;on&nbsp;OSX&nbsp;(see
</c40><br/><ln>&nbsp;&nbsp;959</ln><a id="959">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#11162),&nbsp;and&nbsp;isn't&nbsp;necessary&nbsp;there&nbsp;anyway
</c40><br/><ln>&nbsp;&nbsp;960</ln><a id="960">&nbsp;</a><a id="n[442560, 442561, 442572, 442562]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#880_73_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#881">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;961</ln><a id="961">&nbsp;</a><a id="n[442564, 442565, 442563]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c20><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;962</ln><a id="962">&nbsp;</a><a id="n[442566, 442571, 442570, 442568, 442569, 442567]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#880_73_refs">_</a></c20><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#880_73_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#885">a</a></c26><c13><a href="../../librustc/back/archive.rs.html#148">.update_symbols</a></c13><c4>()</c4><c3>;</c3><c22><a href="#880_73_refs">&nbsp;</a></c22><c3>}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;963</ln><a id="963">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;964</ln><a id="964">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;965</ln><a id="965">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;966</ln><a id="966">&nbsp;</a><a id="n[442576, 442575, 442574]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#880_73_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#880_73_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#880_73_refs">
</a></c21><br/><ln>&nbsp;&nbsp;967</ln><a id="967">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;968</ln><a id="968">&nbsp;</a><a id="n[442579, 442581, 442580]">&nbsp;</a><c22><a href="#880_73_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>return</c21><c1><a href="#880_73_refs">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#885">a</a></c26><c3>;</c3><c22><a href="#880_73_refs">
</a></c22><br/><ln>&nbsp;&nbsp;969</ln><a id="969">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;&nbsp;970</ln><a id="970">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;&nbsp;971</ln><a id="971">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Create&nbsp;a&nbsp;static&nbsp;archive
</c40><br/><ln>&nbsp;&nbsp;972</ln><a id="972">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;973</ln><a id="973">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;This&nbsp;is&nbsp;essentially&nbsp;the&nbsp;same&nbsp;thing&nbsp;as&nbsp;an&nbsp;rlib,&nbsp;but&nbsp;it&nbsp;also&nbsp;involves&nbsp;adding
</c40><br/><ln>&nbsp;&nbsp;974</ln><a id="974">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;upstream&nbsp;crates'&nbsp;objects&nbsp;into&nbsp;the&nbsp;archive.&nbsp;This&nbsp;will&nbsp;slurp&nbsp;in
</c40><br/><ln>&nbsp;&nbsp;975</ln><a id="975">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;all&nbsp;of&nbsp;the&nbsp;native&nbsp;libraries&nbsp;of&nbsp;upstream&nbsp;dependencies&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;&nbsp;976</ln><a id="976">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;977</ln><a id="977">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Additionally,&nbsp;there's&nbsp;no&nbsp;way&nbsp;for&nbsp;us&nbsp;to&nbsp;link&nbsp;dynamic&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;warn
</c40><br/><ln>&nbsp;&nbsp;978</ln><a id="978">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;about&nbsp;all&nbsp;dynamic&nbsp;library&nbsp;dependencies&nbsp;that&nbsp;they're&nbsp;not&nbsp;linked&nbsp;in.
</c40><br/><ln>&nbsp;&nbsp;979</ln><a id="979">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;&nbsp;980</ln><a id="980">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;There's&nbsp;no&nbsp;need&nbsp;to&nbsp;include&nbsp;metadata&nbsp;in&nbsp;a&nbsp;static&nbsp;archive,&nbsp;so&nbsp;ensure&nbsp;to&nbsp;not
</c40><br/><ln>&nbsp;&nbsp;981</ln><a id="981">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;link&nbsp;in&nbsp;the&nbsp;metadata&nbsp;object&nbsp;file&nbsp;(and&nbsp;also&nbsp;don't&nbsp;prepare&nbsp;the&nbsp;archive&nbsp;with&nbsp;a
</c40><br/><ln>&nbsp;&nbsp;982</ln><a id="982">&nbsp;</a><a id="n[442583]">&nbsp;</a><c40>//&nbsp;metadata&nbsp;file).
</c40><br/><ln>&nbsp;&nbsp;983</ln><a id="983">&nbsp;</a><a id="n[442628, 442593, 442598, 442596, 442597, 442592, 442591, 442587, 442588, 442599, 442586]">&nbsp;</a><c30>fn</c30><c30><a href="#982_19_refs">&nbsp;link_staticlib</a></c30><c4>(</c4><c20><a href="#983_18_refs">sess</a></c20><c1><a href="#982_19_refs">:&nbsp;</a></c1><c8><a href="#982_19_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#982_19_refs">&nbsp;</a></c1><c20><a href="#983_34_refs">obj_filename</a></c20><c1><a href="#982_19_refs">:&nbsp;</a></c1><c8><a href="#982_19_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#982_19_refs">&nbsp;</a></c1><c20><a href="#983_55_refs">out_filename</a></c20><c1><a href="#982_19_refs">:&nbsp;</a></c1><c8><a href="#982_19_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#982_19_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;984</ln><a id="984">&nbsp;</a><a id="n[442600, 442606, 442607, 442608, 442601, 442603, 442604, 442602, 442609, 442605]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#982_19_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#984_8_refs">&nbsp;a</a></c20><c13><a href="#982_19_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#880">link_rlib</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c3>,</c3><c27><a href="#982_19_refs">&nbsp;</a></c27><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c3>,</c3><c27><a href="#982_19_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#983">obj_filename</a></c26><c3>,</c3><c27><a href="#982_19_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#983">out_filename</a></c26><c4>)</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;985</ln><a id="985">&nbsp;</a><a id="n[442610, 442611, 442612, 442613, 442614]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#984">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#115">.add_native_library</a></c10><c4>(</c4><c12><a href="#982_19_refs">"morestack"</a></c12><c4>)</c4><c13><a href="../../libstd/result.rs.html#n106923">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;986</ln><a id="986">&nbsp;</a><a id="n[442616, 442618, 442619, 442615, 442617]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#984">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#115">.add_native_library</a></c10><c4>(</c4><c12><a href="#982_19_refs">"compiler-rt"</a></c12><c4>)</c4><c13><a href="../../libstd/result.rs.html#n106923">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;987</ln><a id="987">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;988</ln><a id="988">&nbsp;</a><a id="n[442624, 442622, 442627, 442626, 442625, 442620, 442621, 442623]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#982_19_refs">&nbsp;</a></c22><c20><a href="#988_8_refs">crates</a></c20><c16><a href="#982_19_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#150">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#48">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;989</ln><a id="989">&nbsp;</a><a id="n[442860, 442630, 442638, 442631, 442633, 442859, 442747, 442641, 442642, 442629, 442861, 442858, 442635, 442637, 442639, 442640, 442632, 442636, 442634]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#989">&nbsp;</a></c26><c20><a href="#982_19_refs">&amp;</a></c20><c4>(</c4><c20><a href="#989_10_refs">cnum</a></c20><c3>,</c3><c20><a href="#982_19_refs">&nbsp;</a></c20><c20><a href="#989_16_refs">ref&nbsp;path</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#989">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#988">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#989">&nbsp;</a></c26><c3>{</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;990</ln><a id="990">&nbsp;</a><a id="n[442646, 442652, 442647, 442644, 442643, 442649, 442645, 442651, 442648, 442650]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#982_19_refs">&nbsp;</a></c22><c20><a href="#990_12_refs">name</a></c20><c16><a href="#982_19_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#91">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#989">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#39">.name</a></c24><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;991</ln><a id="991">&nbsp;</a><a id="n[442653, 442657, 442654, 442656, 442726, 442655, 442727]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#982_19_refs">&nbsp;</a></c22><c20><a href="#991_12_refs">p</a></c20><c13><a href="#982_19_refs">&nbsp;=&nbsp;</a></c13><c21><a href="#982_19_refs">match&nbsp;</a></c21><c5><a href="#982_19_refs">*</a></c5><c26><a href="../../librustc/back/link.rs.html#989">path</a></c26><c21><a href="#982_19_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#982_19_refs">
</a></c21><br/><ln>&nbsp;&nbsp;992</ln><a id="992">&nbsp;</a><a id="n[442725, 442662, 442659, 442661, 442723, 442660, 442658]">&nbsp;</a><c21><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#992_17_refs">ref&nbsp;p</a></c20><c4>)</c4><c21><a href="#982_19_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#982_19_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#992">p</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154254">.clone</a></c10><c4>()</c4><c3>,</c3><c21><a href="#982_19_refs">&nbsp;</a></c21><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c21><a href="#982_19_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#982_19_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;993</ln><a id="993">&nbsp;</a><a id="n[442705, 442683, 442721, 442685, 442703, 442669, 442700, 442697, 442668, 442699, 442708, 442689, 442686, 442680, 442720, 442692, 442712, 442704, 442706, 442698, 442690, 442694, 442681, 442679, 442674, 442675, 442688, 442714, 442693, 442682, 442664, 442695, 442687, 442663, 442673, 442676, 442702, 442722, 442701, 442716, 442677, 442672, 442666, 442678, 442667, 442707, 442684, 442713, 442719, 442709, 442665, 442696, 442710, 442691, 442711]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c27><a href="../../librustc/back/link.rs.html#993">"could&nbsp;not&nbsp;find&nbsp;rlib&nbsp;for:&nbsp;`</a></c27><c3>{}</c3><c27><a href="../../librustc/back/link.rs.html#993">`"</a></c27><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c5><a href="#993_66_refs">name</a></c5><c4>))</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;994</ln><a id="994">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue
</a></c22><br/><ln>&nbsp;&nbsp;995</ln><a id="995">&nbsp;</a><a id="n[442724]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#982_19_refs">
</a></c21><br/><ln>&nbsp;&nbsp;996</ln><a id="996">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;997</ln><a id="997">&nbsp;</a><a id="n[442735, 442734, 442733, 442729, 442731, 442728, 442736, 442732, 442730]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#984">a</a></c26><c10><a href="../../librustc/back/archive.rs.html#125">.add_rlib</a></c10><c4>(</c4><c5><a href="../../librustc/back/archive.rs.html#125">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#991">p</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#125">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#990">name</a></c26><c3>,</c3><c10><a href="../../librustc/back/archive.rs.html#125">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.lto</a></c10><c4>())</c4><c13><a href="../../libstd/result.rs.html#n106923">.unwrap</a></c13><c4>()</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;998</ln><a id="998">&nbsp;</a><a id="n[442743, 442740, 442745, 442737, 442741, 442744, 442738, 442742, 442739, 442746]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#982_19_refs">&nbsp;</a></c22><c20><a href="#998_12_refs">native_libs</a></c20><c13><a href="#982_19_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/csearch.rs.html#263">csearch::get_native_libraries</a></c26><c4>(</c4><c5><a href="#982_19_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="#982_19_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#989">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="#982_19_refs">
</a></c22><br/><ln>&nbsp;&nbsp;999</ln><a id="999">&nbsp;</a><a id="n[442753, 442756, 442760, 442748, 442752, 442853, 442855, 442857, 442754, 442856, 442758, 442755, 442749, 442757, 442751, 442854, 442761, 442750, 442759]">&nbsp;</a><c22><a href="#982_19_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c5><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c5><c20><a href="../../librustc/back/link.rs.html#999">&amp;</a></c20><c4>(</c4><c20><a href="#999_14_refs">kind</a></c20><c3>,</c3><c20><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c20><c20><a href="#999_20_refs">ref&nbsp;lib</a></c20><c4>)</c4><c5><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#998">native_libs</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c5><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c5><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#999">
</a></c22><br/><ln>&nbsp;1000</ln><a id="1000">&nbsp;</a><a id="n[442762, 442765, 442772, 442773, 442763, 442764]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c22><c20><a href="#1000_16_refs">name</a></c20><c13><a href="../../librustc/back/link.rs.html#999">&nbsp;=&nbsp;</a></c13><c21><a href="../../librustc/back/link.rs.html#999">match&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#999">kind</a></c26><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c3>{</c3><c21><a href="../../librustc/back/link.rs.html#999">
</a></c21><br/><ln>&nbsp;1001</ln><a id="1001">&nbsp;</a><a id="n[442767, 442766]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#53">cstore::NativeStatic</a></c20><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#999">"</a></c12><c36>static</c36><c36><a href="../../librustc/back/link.rs.html#999">&nbsp;library"</a></c36><c36>,</c36><c36><a href="../../librustc/back/link.rs.html#999">
</a></c36><br/><ln>&nbsp;1002</ln><a id="1002">&nbsp;</a><a id="n[442768, 442769]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#55">cstore::NativeUnknown</a></c20><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#999">"library"</a></c12><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#999">
</a></c21><br/><ln>&nbsp;1003</ln><a id="1003">&nbsp;</a><a id="n[442771, 442770]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#54">cstore::NativeFramework</a></c20><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c12><a href="../../librustc/back/link.rs.html#999">"framework"</a></c12><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#999">
</a></c21><br/><ln>&nbsp;1004</ln><a id="1004">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>};</c3><c22><a href="../../librustc/back/link.rs.html#999">
</a></c22><br/><ln>&nbsp;1005</ln><a id="1005">&nbsp;</a><a id="n[442795, 442821, 442820, 442823, 442842, 442783, 442839, 442816, 442778, 442797, 442817, 442792, 442776, 442844, 442800, 442803, 442841, 442787, 442796, 442819, 442779, 442780, 442791, 442805, 442793, 442774, 442832, 442834, 442830, 442831, 442811, 442802, 442789, 442812, 442836, 442835, 442807, 442814, 442826, 442827, 442794, 442804, 442829, 442837, 442815, 442850, 442840, 442822, 442833, 442788, 442849, 442838, 442852, 442790, 442784, 442824, 442808, 442806, 442851, 442799, 442810, 442846, 442775, 442813, 442782, 442828, 442801, 442777, 442781, 442825, 442843, 442798, 442818, 442809]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#983">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#226">.warn</a></c10><c4>(</c4><c21><a href="../../librustc/back/link.rs.html#999">format!</a></c21><c4>(</c4><c12><a href="../../libstd/fmt/rt.rs.html#n169505">"unlinked&nbsp;native&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169505">:&nbsp;</a></c12><c3>{}</c3><c12><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c12><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1005">name</a></c26><c3>,</c3><c21><a href="../../librustc/back/link.rs.html#999">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n169877">*</a></c26><c26><a href="../../librustc/back/link.rs.html#999">lib</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#999">
</a></c22><br/><ln>&nbsp;1006</ln><a id="1006">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#999">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c5><a href="../../libstd/option.rs.html#n104341">
</a></c5><br/><ln>&nbsp;1007</ln><a id="1007">&nbsp;</a><a id="n[]">&nbsp;</a><c5><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#989">
</a></c26><br/><ln>&nbsp;1008</ln><a id="1008">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1009</ln><a id="1009">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1010</ln><a id="1010">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Create&nbsp;a&nbsp;dynamic&nbsp;library&nbsp;or&nbsp;executable
</c40><br/><ln>&nbsp;1011</ln><a id="1011">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1012</ln><a id="1012">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;This&nbsp;will&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker/cc&nbsp;to&nbsp;create&nbsp;the&nbsp;resulting&nbsp;file.&nbsp;This
</c40><br/><ln>&nbsp;1013</ln><a id="1013">&nbsp;</a><a id="n[442862]">&nbsp;</a><c40>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1014</ln><a id="1014">&nbsp;</a><a id="n[442874, 442876, 442875, 442871, 442865, 442867, 442870, 442866]">&nbsp;</a><c30>fn</c30><c30><a href="#1013_40_refs">&nbsp;link_natively</a></c30><c4>(</c4><c20><a href="#1014_17_refs">sess</a></c20><c1><a href="#1013_40_refs">:&nbsp;</a></c1><c8><a href="#1013_40_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1013_40_refs">&nbsp;</a></c1><c20><a href="#1014_33_refs">dylib</a></c20><c1><a href="#1013_40_refs">:&nbsp;</a></c1><c8><a href="#1013_40_refs">bool</a></c8><c3>,</c3><c1><a href="#1013_40_refs">&nbsp;</a></c1><c20><a href="#1014_46_refs">obj_filename</a></c20><c1><a href="#1013_40_refs">:&nbsp;</a></c1><c8><a href="#1013_40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#1013_40_refs">
</a></c1><br/><ln>&nbsp;1015</ln><a id="1015">&nbsp;</a><a id="n[442882, 442880, 443425, 442881, 442879]">&nbsp;</a><c1><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1015_17_refs">out_filename</a></c20><c1><a href="#1013_40_refs">:&nbsp;</a></c1><c8><a href="#1013_40_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#1013_40_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1016</ln><a id="1016">&nbsp;</a><a id="n[442886, 442887, 442891, 442888, 442889, 442885, 442883, 442890, 442884]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1013_40_refs">&nbsp;</a></c22><c20><a href="#1016_8_refs">tmpdir</a></c20><c16><a href="#1013_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../libstd/io/tempfile.rs.html#n139092">TempDir::new</a></c26><c4>(</c4><c12><a href="#1013_40_refs">"rustc"</a></c12><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105048">.expect</a></c10><c4>(</c4><c12><a href="#1013_40_refs">"needs&nbsp;a&nbsp;temp&nbsp;dir"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1017</ln><a id="1017">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;invocations&nbsp;of&nbsp;cc&nbsp;share&nbsp;some&nbsp;flags&nbsp;across&nbsp;platforms
</c40><br/><ln>&nbsp;1018</ln><a id="1018">&nbsp;</a><a id="n[442893, 442895, 442897, 442896, 442898, 442894, 442892]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1013_40_refs">&nbsp;</a></c22><c20><a href="#1018_8_refs">cc_prog</a></c20><c16><a href="#1013_40_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#717">get_cc_prog</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1019</ln><a id="1019">&nbsp;</a><a id="n[442899, 442906, 442901, 442903, 442904, 442900, 442907, 442902, 442905]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1013_40_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1019_8_refs">&nbsp;cc_args</a></c20><c13><a href="#1013_40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#36">.target_strs</a></c24><c24><a href="../../librustc/back/target_strs.rs.html#18">.cc_args</a></c24><c10><a href="../../libstd/vec.rs.html#n56918">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1020</ln><a id="1020">&nbsp;</a><a id="n[442918, 442911, 442908, 442912, 442910, 442913, 442916, 442909, 442917]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1019">cc_args</a></c26><c10><a href="../../libstd/vec.rs.html#n58154">.push_all_move</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1063">link_args</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1014">dylib</a></c26><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1016">tmpdir</a></c26><c10><a href="../../libstd/io/tempfile.rs.html#n139124">.path</a></c10><c4>()</c4><c3>,</c3><c27><a href="#1013_40_refs">
</a></c27><br/><ln>&nbsp;1021</ln><a id="1021">&nbsp;</a><a id="n[442914, 442915]">&nbsp;</a><c27><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1014">obj_filename</a></c26><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1015">out_filename</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1022</ln><a id="1022">&nbsp;</a><a id="n[442923, 443007, 443005, 442920, 442925, 443006, 442926, 442922, 442919, 442921, 442924]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1013_40_refs">&nbsp;</a></c21><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#149">.debugging_opts</a></c24><c5><a href="#1013_40_refs">&nbsp;&amp;&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#46">session::PRINT_LINK_ARGS</a></c26><c4>)</c4><c5><a href="#1013_40_refs">&nbsp;!=&nbsp;</a></c5><c12><a href="#1013_40_refs">0</a></c12><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1023</ln><a id="1023">&nbsp;</a><a id="n[442985, 442944, 442955, 442982, 442993, 442935, 442928, 442973, 442980, 442999, 442972, 442963, 442940, 442967, 442959, 442966, 442930, 442960, 442984, 442971, 442974, 442947, 442981, 442975, 442976, 442997, 442979, 442952, 442970, 442950, 442948, 442995, 443004, 442965, 442988, 442977, 442929, 442933, 442961, 442953, 442954, 442927, 442987, 442989, 442991, 442937, 442968, 442945, 442951, 442956, 442964, 442941, 442996, 442983, 442992, 442962, 442958, 442949, 442936, 442934, 442931, 442943, 442994, 442946, 442957, 442990, 442986, 442969, 443003, 442978, 442932, 442942, 443002]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;println!</a></c22><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n169461">"</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169461">&nbsp;link&nbsp;args:&nbsp;'</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169461">'"</a></c22><c3>,</c3><c22><a href="#1013_40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1023">cc_prog</a></c26><c3>,</c3><c22><a href="#1013_40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1019">cc_args</a></c26><c5><a href="../../libstd/str.rs.html#n59333">.connect</a></c5><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n171474">"'&nbsp;'"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1024</ln><a id="1024">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1025</ln><a id="1025">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1026</ln><a id="1026">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;May&nbsp;have&nbsp;not&nbsp;found&nbsp;libraries&nbsp;in&nbsp;the&nbsp;right&nbsp;formats.
</c40><br/><ln>&nbsp;1027</ln><a id="1027">&nbsp;</a><a id="n[443010, 443009, 443008]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1028</ln><a id="1028">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1029</ln><a id="1029">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Invoke&nbsp;the&nbsp;system&nbsp;linker
</c40><br/><ln>&nbsp;1030</ln><a id="1030">&nbsp;</a><a id="n[443061, 443059, 443095, 443100, 443067, 443047, 443093, 443110, 443063, 443043, 443066, 443091, 443107, 443073, 443049, 443068, 443077, 443087, 443069, 443123, 443053, 443099, 443060, 443050, 443126, 443046, 443092, 443070, 443051, 443076, 443045, 443072, 443109, 443065, 443104, 443056, 443094, 443106, 443084, 443064, 443062, 443058, 443083, 443103, 443088, 443071, 443057, 443081, 443075, 443101, 443052, 443074, 443097, 443096, 443044, 443080, 443090, 443108, 443048, 443082, 443102, 443086, 443085, 443078, 443089, 443079, 443098, 443105]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;debug!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1030">"</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1030">&nbsp;</a></c26><c3>{}</c3><c26><a href="../../librustc/back/link.rs.html#1030">"</a></c26><c3>,</c3><c22><a href="#1013_40_refs">&nbsp;</a></c22><c26><a href="../../libstd/fmt/mod.rs.html#n171474">cc_prog</a></c26><c3>,</c3><c22><a href="#1013_40_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1019">cc_args</a></c26><c5><a href="../../libstd/fmt/mod.rs.html#n169877">.connect</a></c5><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n171474">"&nbsp;"</a></c12><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1031</ln><a id="1031">&nbsp;</a><a id="n[443136, 443143, 443133, 443152, 443139, 443142, 443135, 443138, 443137, 443141, 443151, 443132, 443153, 443134]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1013_40_refs">&nbsp;</a></c22><c20><a href="#1031_8_refs">prog</a></c20><c13><a href="#1013_40_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c12><a href="#1013_40_refs">"running&nbsp;linker"</a></c12><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c4>()</c4><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c1><a href="#1013_40_refs">|</a></c1><c4>()</c4><c8><a href="#1013_40_refs">|</a></c8><c1><a href="#1013_40_refs">
</a></c1><br/><ln>&nbsp;1032</ln><a id="1032">&nbsp;</a><a id="n[443146, 443148, 443145, 443150, 443147, 443144, 443149]">&nbsp;</a><c1><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c8><a href="../../libstd/io/process.rs.html#n146118">Process</a></c8><c26><a href="../../libstd/io/process.rs.html#n146118">::output</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1018">cc_prog</a></c26><c3>,</c3><c27><a href="#1013_40_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1019">cc_args</a></c26><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>()))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1033</ln><a id="1033">&nbsp;</a><a id="n[443424, 443423, 443154]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1013_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1031">prog</a></c26><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1034</ln><a id="1034">&nbsp;</a><a id="n[443157, 443337, 443156, 443155]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="#1034_11_refs">prog</a></c20><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1035</ln><a id="1035">&nbsp;</a><a id="n[443161, 443159, 443158, 443335, 443160, 443336]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1013_40_refs">&nbsp;</a></c21><c5><a href="#1013_40_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1034">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.status</a></c24><c10><a href="../../libstd/io/process.rs.html#n146027">.success</a></c10><c4>()</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1036</ln><a id="1036">&nbsp;</a><a id="n[443213, 443238, 443176, 443170, 443219, 443229, 443180, 443185, 443186, 443182, 443208, 443205, 443183, 443220, 443202, 443194, 443207, 443166, 443201, 443226, 443162, 443206, 443181, 443228, 443163, 443175, 443190, 443239, 443178, 443191, 443196, 443215, 443211, 443165, 443209, 443224, 443214, 443232, 443223, 443171, 443164, 443188, 443198, 443221, 443218, 443204, 443234, 443199, 443222, 443210, 443227, 443177, 443189, 443192, 443231, 443179, 443237, 443216, 443225, 443217, 443184, 443168, 443197, 443193, 443187, 443240, 443230, 443172, 443200, 443195, 443212, 443167, 443169, 443203]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="#1013_40_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/option.rs.html#n104337">"linking&nbsp;with&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/option.rs.html#n104337">`&nbsp;failed:&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/option.rs.html#n104337">"</a></c26><c3>,</c3><c21><a href="#1013_40_refs">&nbsp;</a></c21><c20><a href="#1036_65_refs">cc_prog</a></c20><c3>,</c3><c21><a href="#1013_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1034">prog</a></c26><c5><a href="../../librustc/back/link.rs.html#1036">.status</a></c5><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1037</ln><a id="1037">&nbsp;</a><a id="n[443252, 443248, 443250, 443303, 443281, 443278, 443251, 443246, 443304, 443292, 443295, 443287, 443288, 443255, 443264, 443305, 443294, 443306, 443310, 443275, 443257, 443312, 443280, 443289, 443243, 443268, 443272, 443263, 443262, 443317, 443308, 443241, 443247, 443276, 443320, 443291, 443274, 443296, 443283, 443277, 443299, 443300, 443286, 443309, 443245, 443302, 443319, 443301, 443256, 443244, 443314, 443297, 443285, 443279, 443265, 443269, 443273, 443260, 443307, 443242, 443249, 443267, 443271, 443266, 443270, 443284, 443293, 443290, 443259, 443261, 443282, 443258, 443298, 443318, 443311]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#235">.note</a></c10><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#235">format!</a></c21><c4>(</c4><c13><a href="../../libstd/fmt/rt.rs.html#n169461">"</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n169461">&nbsp;arguments:&nbsp;'</a></c13><c3>{}</c3><c13><a href="../../libstd/fmt/rt.rs.html#n169461">'"</a></c13><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#235">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1037">cc_prog</a></c26><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#235">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1019">cc_args</a></c26><c27><a href="../../librustc/back/link.rs.html#1037">.connect</a></c27><c4>(</c4><c12><a href="../../libstd/fmt/mod.rs.html#n169877">"'&nbsp;'"</a></c12><c4>)))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1038</ln><a id="1038">&nbsp;</a><a id="n[443323, 443330, 443331, 443328, 443327, 443325, 443322, 443321, 443326, 443324, 443329]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#235">.note</a></c13><c4>(</c4><c26><a href="../../libstd/str.rs.html#n58881">str::from_utf8_owned</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1034">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.error</a></c24><c5><a href="../../librustc/driver/session.rs.html#235">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1034">prog</a></c26><c24><a href="../../libstd/io/process.rs.html#n145644">.output</a></c24><c4>)</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1039</ln><a id="1039">&nbsp;</a><a id="n[443334, 443332, 443333]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1040</ln><a id="1040">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1041</ln><a id="1041">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>},</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1042</ln><a id="1042">&nbsp;</a><a id="n[443421, 443422, 443339, 443338]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#1042_12_refs">e</a></c20><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1043</ln><a id="1043">&nbsp;</a><a id="n[443380, 443405, 443345, 443344, 443373, 443352, 443409, 443359, 443371, 443386, 443396, 443384, 443402, 443397, 443354, 443395, 443366, 443377, 443411, 443370, 443348, 443407, 443390, 443353, 443414, 443389, 443394, 443361, 443404, 443392, 443368, 443406, 443372, 443357, 443355, 443385, 443358, 443342, 443400, 443360, 443399, 443403, 443343, 443391, 443363, 443362, 443393, 443387, 443367, 443356, 443383, 443349, 443364, 443376, 443340, 443375, 443341, 443347, 443408, 443415, 443365, 443416, 443379, 443381, 443417, 443388, 443401, 443374, 443369, 443398, 443378, 443346, 443382]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="#1013_40_refs">format!</a></c21><c4>(</c4><c27><a href="../../libstd/fmt/rt.rs.html#n169505">"could&nbsp;not&nbsp;exec&nbsp;the&nbsp;linker&nbsp;`</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/rt.rs.html#n169505">`:&nbsp;</a></c27><c3>{}</c3><c27><a href="../../libstd/fmt/rt.rs.html#n169505">"</a></c27><c3>,</c3><c21><a href="#1013_40_refs">&nbsp;</a></c21><c20><a href="#1043_67_refs">cc_prog</a></c20><c3>,</c3><c21><a href="#1013_40_refs">&nbsp;</a></c21><c20><a href="#1043_76_refs">e</a></c20><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1044</ln><a id="1044">&nbsp;</a><a id="n[443419, 443420, 443418]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1045</ln><a id="1045">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1046</ln><a id="1046">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1047</ln><a id="1047">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1048</ln><a id="1048">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1049</ln><a id="1049">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;OSX,&nbsp;debuggers&nbsp;need&nbsp;this&nbsp;utility&nbsp;to&nbsp;get&nbsp;run&nbsp;to&nbsp;do&nbsp;some&nbsp;munging&nbsp;of
</c40><br/><ln>&nbsp;1050</ln><a id="1050">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;symbols
</c40><br/><ln>&nbsp;1051</ln><a id="1051">&nbsp;</a><a id="n[443426, 443430, 443515, 443429, 443431, 443437, 443432, 443436, 443435, 443433, 443428, 443427, 443434, 443438]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1013_40_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1013_40_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c26><c1><a href="#1013_40_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#131">.debuginfo</a></c24><c5><a href="#1013_40_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#118">NoDebugInfo</a></c26><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1052</ln><a id="1052">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1053</ln><a id="1053">&nbsp;</a><a id="n[443446, 443440, 443439, 443514]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1013_40_refs">&nbsp;</a></c21><c26><a href="../../libstd/io/process.rs.html#n146149">Process::status</a></c26><c4>(</c4><c12><a href="#1013_40_refs">"dsymutil"</a></c12><c3>,</c3><c27><a href="#1013_40_refs">
</a></c27><br/><ln>&nbsp;1054</ln><a id="1054">&nbsp;</a><a id="n[443445, 443444, 443443, 443441, 443442]">&nbsp;</a><c27><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c27><c3>[</c3><c26><a href="../../librustc/back/link.rs.html#1015">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1055</ln><a id="1055">&nbsp;</a><a id="n[443448, 443447, 443449]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105797">..</a></c20><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{}</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1056</ln><a id="1056">&nbsp;</a><a id="n[443451, 443513, 443512, 443450]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#1056_16_refs">e</a></c20><c4>)</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1013_40_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1057</ln><a id="1057">&nbsp;</a><a id="n[443464, 443507, 443479, 443481, 443489, 443469, 443463, 443497, 443453, 443487, 443455, 443472, 443458, 443462, 443477, 443493, 443465, 443500, 443495, 443505, 443471, 443482, 443496, 443486, 443491, 443456, 443480, 443467, 443478, 443475, 443494, 443502, 443498, 443461, 443473, 443483, 443476, 443506, 443484, 443454, 443468, 443508, 443466, 443457, 443499, 443490, 443485, 443470, 443452, 443474, 443488, 443492]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c20><a href="#1057_33_refs">"failed&nbsp;to&nbsp;run&nbsp;dsymutil:&nbsp;</a></c20><c3>{}</c3><c20><a href="#1057_33_refs">"</a></c20><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1057">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1058</ln><a id="1058">&nbsp;</a><a id="n[443510, 443511, 443509]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1014">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c13><c4>()</c4><c3>;</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1059</ln><a id="1059">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1013_40_refs">
</a></c21><br/><ln>&nbsp;1060</ln><a id="1060">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1061</ln><a id="1061">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1013_40_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1013_40_refs">
</a></c22><br/><ln>&nbsp;1062</ln><a id="1062">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1063</ln><a id="1063">&nbsp;</a><a id="n[443516]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1064</ln><a id="1064">&nbsp;</a><a id="n[443520, 443519, 443521]">&nbsp;</a><c30>fn</c30><c30><a href="#1063_1_refs">&nbsp;link_args</a></c30><c4>(</c4><c20><a href="#1064_13_refs">sess</a></c20><c1><a href="#1063_1_refs">:&nbsp;</a></c1><c8><a href="#1063_1_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1065</ln><a id="1065">&nbsp;</a><a id="n[443524, 443525]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1065_13_refs">dylib</a></c20><c1><a href="#1063_1_refs">:&nbsp;</a></c1><c8><a href="#1063_1_refs">bool</a></c8><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1066</ln><a id="1066">&nbsp;</a><a id="n[443528, 443530, 443529]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1066_13_refs">tmpdir</a></c20><c1><a href="#1063_1_refs">:&nbsp;</a></c1><c8><a href="#1063_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1067</ln><a id="1067">&nbsp;</a><a id="n[443534, 443533, 443535]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1067_13_refs">obj_filename</a></c20><c1><a href="#1063_1_refs">:&nbsp;</a></c1><c8><a href="#1063_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1068</ln><a id="1068">&nbsp;</a><a id="n[443827, 443540, 443543, 443538, 443545, 443539, 443542]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1068_13_refs">out_filename</a></c20><c1><a href="#1063_1_refs">:&nbsp;</a></c1><c8><a href="#1063_1_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#1063_1_refs">&nbsp;</a></c1><c4>-&gt;</c4><c1><a href="#1063_1_refs">&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="#1063_1_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#1063_1_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1069</ln><a id="1069">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1070</ln><a id="1070">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;default&nbsp;library&nbsp;location,&nbsp;we&nbsp;need&nbsp;this&nbsp;to&nbsp;find&nbsp;the&nbsp;runtime.
</c40><br/><ln>&nbsp;1071</ln><a id="1071">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;The&nbsp;location&nbsp;of&nbsp;crates&nbsp;will&nbsp;be&nbsp;determined&nbsp;as&nbsp;needed.
</c40><br/><ln>&nbsp;1072</ln><a id="1072">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1073</ln><a id="1073">&nbsp;</a><a id="n[443547, 443550, 443551, 443552, 443548, 443549, 443546]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1063_1_refs">&nbsp;</a></c22><c20><a href="#1073_8_refs">lib_path</a></c20><c16><a href="#1063_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#317">.filesearch</a></c10><c4>()</c4><c10><a href="../../librustc/metadata/filesearch.rs.html#82">.get_target_lib_path</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1074</ln><a id="1074">&nbsp;</a><a id="n[443561, 443559, 443557, 443562, 443553, 443560, 443563, 443564, 443555, 443558, 443556]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1063_1_refs">&nbsp;</a></c22><c20><a href="#1074_8_refs">stage</a></c20><c13><a href="#1063_1_refs">:&nbsp;</a></c13><c8><a href="#1063_1_refs">~str</a></c8><c13><a href="#1063_1_refs">&nbsp;=&nbsp;</a></c13><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-L"</a></c12><c5><a href="#1063_1_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1073">lib_path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1075</ln><a id="1075">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1076</ln><a id="1076">&nbsp;</a><a id="n[443567, 443580, 443566, 443575, 443581, 443565]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1063_1_refs">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1076_8_refs">&nbsp;args</a></c20><c16><a href="#1063_1_refs">&nbsp;=&nbsp;</a></c16><c22><a href="#1063_1_refs">vec!</a></c22><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1074">stage</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1077</ln><a id="1077">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1078</ln><a id="1078">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1079</ln><a id="1079">&nbsp;</a><a id="n[443582, 443595, 443594, 443593]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c10><c4>(</c4><c3>[</c3><c1><a href="../../libstd/vec.rs.html#n56707">
</a></c1><br/><ln>&nbsp;1080</ln><a id="1080">&nbsp;</a><a id="n[443588, 443586, 443587, 443584, 443583, 443585]">&nbsp;</a><c1><a href="../../libstd/vec.rs.html#n56707">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="../../libstd/vec.rs.html#n56707">~</a></c16><c12><a href="../../libstd/vec.rs.html#n56707">"-o"</a></c12><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56707">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1068">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>,</c3><c1><a href="../../libstd/vec.rs.html#n56707">
</a></c1><br/><ln>&nbsp;1081</ln><a id="1081">&nbsp;</a><a id="n[443589, 443592, 443591, 443590]">&nbsp;</a><c1><a href="../../libstd/vec.rs.html#n56707">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1067">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1082</ln><a id="1082">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1083</ln><a id="1083">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Stack&nbsp;growth&nbsp;requires&nbsp;statically&nbsp;linking&nbsp;a&nbsp;__morestack&nbsp;function.&nbsp;Note
</c40><br/><ln>&nbsp;1084</ln><a id="1084">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;this&nbsp;is&nbsp;listed&nbsp;*before*&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;even&nbsp;though&nbsp;it&nbsp;may&nbsp;be
</c40><br/><ln>&nbsp;1085</ln><a id="1085">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;in&nbsp;other&nbsp;libraries.&nbsp;The&nbsp;only&nbsp;case&nbsp;that&nbsp;this
</c40><br/><ln>&nbsp;1086</ln><a id="1086">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;wouldn't&nbsp;be&nbsp;pulled&nbsp;in&nbsp;by&nbsp;the&nbsp;object&nbsp;file&nbsp;is&nbsp;if&nbsp;the&nbsp;object&nbsp;file&nbsp;had&nbsp;no
</c40><br/><ln>&nbsp;1087</ln><a id="1087">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;functions.
</c40><br/><ln>&nbsp;1088</ln><a id="1088">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1089</ln><a id="1089">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;building&nbsp;an&nbsp;executable,&nbsp;there&nbsp;must&nbsp;be&nbsp;at&nbsp;least&nbsp;one&nbsp;function&nbsp;(the
</c40><br/><ln>&nbsp;1090</ln><a id="1090">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;main&nbsp;function),&nbsp;and&nbsp;if&nbsp;we're&nbsp;building&nbsp;a&nbsp;dylib&nbsp;then&nbsp;we&nbsp;don't&nbsp;need&nbsp;it&nbsp;for
</c40><br/><ln>&nbsp;1091</ln><a id="1091">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;later&nbsp;libraries&nbsp;because&nbsp;they're&nbsp;all&nbsp;dylibs&nbsp;(not&nbsp;rlibs).
</c40><br/><ln>&nbsp;1092</ln><a id="1092">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1093</ln><a id="1093">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;I'm&nbsp;honestly&nbsp;not&nbsp;entirely&nbsp;sure&nbsp;why&nbsp;this&nbsp;needs&nbsp;to&nbsp;come&nbsp;first.&nbsp;Apparently
</c40><br/><ln>&nbsp;1094</ln><a id="1094">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;--as-needed&nbsp;flag&nbsp;above&nbsp;sometimes&nbsp;strips&nbsp;out&nbsp;libstd&nbsp;from&nbsp;the&nbsp;command
</c40><br/><ln>&nbsp;1095</ln><a id="1095">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;line,&nbsp;but&nbsp;inserting&nbsp;this&nbsp;farther&nbsp;to&nbsp;the&nbsp;left&nbsp;makes&nbsp;the
</c40><br/><ln>&nbsp;1096</ln><a id="1096">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;"rust_stack_exhausted"&nbsp;symbol&nbsp;an&nbsp;outstanding&nbsp;undefined&nbsp;symbol,&nbsp;which
</c40><br/><ln>&nbsp;1097</ln><a id="1097">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;flags&nbsp;libstd&nbsp;as&nbsp;a&nbsp;required&nbsp;library&nbsp;(or&nbsp;whatever&nbsp;provides&nbsp;the&nbsp;symbol).
</c40><br/><ln>&nbsp;1098</ln><a id="1098">&nbsp;</a><a id="n[443600, 443597, 443596, 443598, 443599]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-lmorestack"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1099</ln><a id="1099">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1100</ln><a id="1100">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;linking&nbsp;a&nbsp;dynamic&nbsp;library,&nbsp;we&nbsp;put&nbsp;the&nbsp;metadata&nbsp;into&nbsp;a&nbsp;section&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1101</ln><a id="1101">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;executable.&nbsp;This&nbsp;metadata&nbsp;is&nbsp;in&nbsp;a&nbsp;separate&nbsp;object&nbsp;file&nbsp;from&nbsp;the&nbsp;main
</c40><br/><ln>&nbsp;1102</ln><a id="1102">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;object&nbsp;file,&nbsp;so&nbsp;we&nbsp;link&nbsp;that&nbsp;in&nbsp;here.
</c40><br/><ln>&nbsp;1103</ln><a id="1103">&nbsp;</a><a id="n[443601, 443616, 443617, 443618]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1065">dylib</a></c26><c13><a href="#1063_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1104</ln><a id="1104">&nbsp;</a><a id="n[443606, 443608, 443607, 443604, 443605, 443603, 443602]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1063_1_refs">&nbsp;</a></c22><c20><a href="#1104_12_refs">metadata</a></c20><c16><a href="#1063_1_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1067">obj_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.with_extension</a></c10><c4>(</c4><c12><a href="../../librustc/middle/typeck/astconv.rs.html#142">"metadata.o"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1105</ln><a id="1105">&nbsp;</a><a id="n[443613, 443611, 443609, 443614, 443615, 443610, 443612]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1104">metadata</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1106</ln><a id="1106">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1107</ln><a id="1107">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1108</ln><a id="1108">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;want&nbsp;to&nbsp;prevent&nbsp;the&nbsp;compiler&nbsp;from&nbsp;accidentally&nbsp;leaking&nbsp;in&nbsp;any&nbsp;system
</c40><br/><ln>&nbsp;1109</ln><a id="1109">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries,&nbsp;so&nbsp;we&nbsp;explicitly&nbsp;ask&nbsp;gcc&nbsp;to&nbsp;not&nbsp;link&nbsp;to&nbsp;any&nbsp;libraries&nbsp;by
</c40><br/><ln>&nbsp;1110</ln><a id="1110">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;default.&nbsp;Note&nbsp;that&nbsp;this&nbsp;does&nbsp;not&nbsp;happen&nbsp;for&nbsp;windows&nbsp;because&nbsp;windows&nbsp;pulls
</c40><br/><ln>&nbsp;1111</ln><a id="1111">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;in&nbsp;some&nbsp;large&nbsp;number&nbsp;of&nbsp;libraries&nbsp;and&nbsp;I&nbsp;couldn't&nbsp;quite&nbsp;figure&nbsp;out&nbsp;which
</c40><br/><ln>&nbsp;1112</ln><a id="1112">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;subset&nbsp;we&nbsp;wanted.
</c40><br/><ln>&nbsp;1113</ln><a id="1113">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1114</ln><a id="1114">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME(#11937)&nbsp;we&nbsp;should&nbsp;invoke&nbsp;the&nbsp;system&nbsp;linker&nbsp;directly
</c40><br/><ln>&nbsp;1115</ln><a id="1115">&nbsp;</a><a id="n[443623, 443619, 443629, 443631, 443621, 443630, 443620, 443622]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1116</ln><a id="1116">&nbsp;</a><a id="n[443628, 443625, 443626, 443624, 443627]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-nodefaultlibs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1117</ln><a id="1117">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1118</ln><a id="1118">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1119</ln><a id="1119">&nbsp;</a><a id="n[443634, 443636, 443633, 443632, 443642, 443662, 443661, 443635]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14462">abi::OsLinux</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1120</ln><a id="1120">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;will&nbsp;use&nbsp;this&nbsp;to&nbsp;omit&nbsp;linking&nbsp;to&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1121</ln><a id="1121">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;don't&nbsp;actually&nbsp;fulfill&nbsp;any&nbsp;relocations,&nbsp;but&nbsp;only&nbsp;for&nbsp;libraries&nbsp;which
</c40><br/><ln>&nbsp;1122</ln><a id="1122">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;follow&nbsp;this&nbsp;flag.&nbsp;Thus,&nbsp;use&nbsp;it&nbsp;before&nbsp;specifying&nbsp;libraries&nbsp;to&nbsp;link&nbsp;to.
</c40><br/><ln>&nbsp;1123</ln><a id="1123">&nbsp;</a><a id="n[443640, 443637, 443639, 443638, 443641]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">--as-needed"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1124</ln><a id="1124">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1125</ln><a id="1125">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;GNU-style&nbsp;linkers&nbsp;support&nbsp;optimization&nbsp;with&nbsp;-O.&nbsp;--gc-sections
</c40><br/><ln>&nbsp;1126</ln><a id="1126">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;removes&nbsp;metadata&nbsp;and&nbsp;potentially&nbsp;other&nbsp;useful&nbsp;things,&nbsp;so&nbsp;don't
</c40><br/><ln>&nbsp;1127</ln><a id="1127">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;include&nbsp;it.&nbsp;GNU&nbsp;ld&nbsp;doesn't&nbsp;need&nbsp;a&nbsp;numeric&nbsp;argument,&nbsp;but&nbsp;other&nbsp;linkers
</c40><br/><ln>&nbsp;1128</ln><a id="1128">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;do.
</c40><br/><ln>&nbsp;1129</ln><a id="1129">&nbsp;</a><a id="n[443646, 443660, 443645, 443643, 443647, 443644, 443653]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#112">session::Default</a></c26><c1><a href="#1063_1_refs">&nbsp;||
</a></c1><br/><ln>&nbsp;1130</ln><a id="1130">&nbsp;</a><a id="n[443659, 443652, 443651, 443649, 443650, 443648]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#130">.optimize</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../librustc/driver/session.rs.html#113">session::Aggressive</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1131</ln><a id="1131">&nbsp;</a><a id="n[443657, 443658, 443655, 443654, 443656]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">-O1"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1132</ln><a id="1132">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1133</ln><a id="1133">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1134</ln><a id="1134">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1135</ln><a id="1135">&nbsp;</a><a id="n[443675, 443667, 443666, 443673, 443674, 443665, 443663, 443664]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1136</ln><a id="1136">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Make&nbsp;sure&nbsp;that&nbsp;we&nbsp;link&nbsp;to&nbsp;the&nbsp;dynamic&nbsp;libgcc,&nbsp;otherwise&nbsp;cross-module
</c40><br/><ln>&nbsp;1137</ln><a id="1137">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;DWARF&nbsp;stack&nbsp;unwinding&nbsp;will&nbsp;not&nbsp;work.
</c40><br/><ln>&nbsp;1138</ln><a id="1138">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;behavior&nbsp;may&nbsp;be&nbsp;overridden&nbsp;by&nbsp;--link-args&nbsp;"-static-libgcc"
</c40><br/><ln>&nbsp;1139</ln><a id="1139">&nbsp;</a><a id="n[443671, 443670, 443672, 443669, 443668]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-shared-libgcc"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1140</ln><a id="1140">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1141</ln><a id="1141">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1142</ln><a id="1142">&nbsp;</a><a id="n[443678, 443686, 443687, 443677, 443679, 443688, 443680, 443676]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14463">abi::OsAndroid</a></c26><c13><a href="#1063_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1143</ln><a id="1143">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Many&nbsp;of&nbsp;the&nbsp;symbols&nbsp;defined&nbsp;in&nbsp;compiler-rt&nbsp;are&nbsp;also&nbsp;defined&nbsp;in&nbsp;libgcc.
</c40><br/><ln>&nbsp;1144</ln><a id="1144">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Android&nbsp;linker&nbsp;doesn't&nbsp;like&nbsp;that&nbsp;by&nbsp;default.
</c40><br/><ln>&nbsp;1145</ln><a id="1145">&nbsp;</a><a id="n[443681, 443684, 443683, 443685, 443682]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">--allow-multiple-definition"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1146</ln><a id="1146">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1147</ln><a id="1147">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1148</ln><a id="1148">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Take&nbsp;careful&nbsp;note&nbsp;of&nbsp;the&nbsp;ordering&nbsp;of&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker
</c40><br/><ln>&nbsp;1149</ln><a id="1149">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;here.&nbsp;Linkers&nbsp;will&nbsp;assume&nbsp;that&nbsp;things&nbsp;on&nbsp;the&nbsp;left&nbsp;depend&nbsp;on&nbsp;things&nbsp;to&nbsp;the
</c40><br/><ln>&nbsp;1150</ln><a id="1150">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;right.&nbsp;Things&nbsp;on&nbsp;the&nbsp;right&nbsp;cannot&nbsp;depend&nbsp;on&nbsp;things&nbsp;on&nbsp;the&nbsp;left.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1151</ln><a id="1151">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;all&nbsp;formally&nbsp;implemented&nbsp;in&nbsp;terms&nbsp;of&nbsp;resolving&nbsp;symbols&nbsp;(libs&nbsp;on&nbsp;the&nbsp;right
</c40><br/><ln>&nbsp;1152</ln><a id="1152">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;resolve&nbsp;unknown&nbsp;symbols&nbsp;of&nbsp;libs&nbsp;on&nbsp;the&nbsp;left,&nbsp;but&nbsp;not&nbsp;vice&nbsp;versa).
</c40><br/><ln>&nbsp;1153</ln><a id="1153">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1154</ln><a id="1154">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;For&nbsp;this&nbsp;reason,&nbsp;we&nbsp;have&nbsp;organized&nbsp;the&nbsp;arguments&nbsp;we&nbsp;pass&nbsp;to&nbsp;the&nbsp;linker&nbsp;as
</c40><br/><ln>&nbsp;1155</ln><a id="1155">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;such:
</c40><br/><ln>&nbsp;1156</ln><a id="1156">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1157</ln><a id="1157">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;1.&nbsp;The&nbsp;local&nbsp;object&nbsp;that&nbsp;LLVM&nbsp;just&nbsp;generated
</c40><br/><ln>&nbsp;1158</ln><a id="1158">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;2.&nbsp;Upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1159</ln><a id="1159">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;3.&nbsp;Local&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1160</ln><a id="1160">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;&nbsp;4.&nbsp;Upstream&nbsp;native&nbsp;libraries
</c40><br/><ln>&nbsp;1161</ln><a id="1161">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1162</ln><a id="1162">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;generally&nbsp;fairly&nbsp;natural,&nbsp;but&nbsp;some&nbsp;may&nbsp;expect&nbsp;2&nbsp;and&nbsp;3&nbsp;to&nbsp;be
</c40><br/><ln>&nbsp;1163</ln><a id="1163">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;swapped.&nbsp;The&nbsp;reason&nbsp;that&nbsp;all&nbsp;native&nbsp;libraries&nbsp;are&nbsp;put&nbsp;last&nbsp;is&nbsp;that&nbsp;it's
</c40><br/><ln>&nbsp;1164</ln><a id="1164">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;not&nbsp;recommended&nbsp;for&nbsp;a&nbsp;native&nbsp;library&nbsp;to&nbsp;depend&nbsp;on&nbsp;a&nbsp;symbol&nbsp;from&nbsp;a&nbsp;rust
</c40><br/><ln>&nbsp;1165</ln><a id="1165">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crate.&nbsp;If&nbsp;this&nbsp;is&nbsp;the&nbsp;case&nbsp;then&nbsp;a&nbsp;staticlib&nbsp;crate&nbsp;is&nbsp;recommended,&nbsp;solving
</c40><br/><ln>&nbsp;1166</ln><a id="1166">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;problem.
</c40><br/><ln>&nbsp;1167</ln><a id="1167">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1168</ln><a id="1168">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Additionally,&nbsp;it&nbsp;is&nbsp;occasionally&nbsp;the&nbsp;case&nbsp;that&nbsp;upstream&nbsp;rust&nbsp;libraries
</c40><br/><ln>&nbsp;1169</ln><a id="1169">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;depend&nbsp;on&nbsp;a&nbsp;local&nbsp;native&nbsp;library.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;libraries&nbsp;such&nbsp;as
</c40><br/><ln>&nbsp;1170</ln><a id="1170">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;lua/glfw/etc&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;library&nbsp;isn't&nbsp;the&nbsp;same&nbsp;across&nbsp;all&nbsp;platforms,
</c40><br/><ln>&nbsp;1171</ln><a id="1171">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;only&nbsp;the&nbsp;consumer&nbsp;crate&nbsp;of&nbsp;a&nbsp;library&nbsp;knows&nbsp;the&nbsp;actual&nbsp;name.&nbsp;This&nbsp;means
</c40><br/><ln>&nbsp;1172</ln><a id="1172">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;downstream&nbsp;crates&nbsp;will&nbsp;provide&nbsp;the&nbsp;#[link]&nbsp;attribute&nbsp;which&nbsp;upstream
</c40><br/><ln>&nbsp;1173</ln><a id="1173">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;crates&nbsp;will&nbsp;depend&nbsp;on.&nbsp;Hence&nbsp;local&nbsp;native&nbsp;libraries&nbsp;are&nbsp;after&nbsp;out
</c40><br/><ln>&nbsp;1174</ln><a id="1174">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;upstream&nbsp;rust&nbsp;crates.
</c40><br/><ln>&nbsp;1175</ln><a id="1175">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1176</ln><a id="1176">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;In&nbsp;theory&nbsp;this&nbsp;means&nbsp;that&nbsp;a&nbsp;symbol&nbsp;in&nbsp;an&nbsp;upstream&nbsp;native&nbsp;library&nbsp;will&nbsp;be
</c40><br/><ln>&nbsp;1177</ln><a id="1177">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;shadowed&nbsp;by&nbsp;a&nbsp;local&nbsp;native&nbsp;library&nbsp;when&nbsp;it&nbsp;wouldn't&nbsp;have&nbsp;been&nbsp;before,&nbsp;but
</c40><br/><ln>&nbsp;1178</ln><a id="1178">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;this&nbsp;kind&nbsp;of&nbsp;behavior&nbsp;is&nbsp;pretty&nbsp;platform&nbsp;specific&nbsp;and&nbsp;generally&nbsp;not
</c40><br/><ln>&nbsp;1179</ln><a id="1179">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;recommended&nbsp;anyway,&nbsp;so&nbsp;I&nbsp;don't&nbsp;think&nbsp;we're&nbsp;shooting&nbsp;ourself&nbsp;in&nbsp;the&nbsp;foot
</c40><br/><ln>&nbsp;1180</ln><a id="1180">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;much&nbsp;with&nbsp;that.
</c40><br/><ln>&nbsp;1181</ln><a id="1181">&nbsp;</a><a id="n[443696, 443689, 443691, 443694, 443692, 443690, 443693, 443695]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1273">add_upstream_rust_crates</a></c26><c4>(</c4><c5><a href="#1063_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c3>,</c3><c27><a href="#1063_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c3>,</c3><c27><a href="#1063_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1065">dylib</a></c26><c3>,</c3><c27><a href="#1063_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1066">tmpdir</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1182</ln><a id="1182">&nbsp;</a><a id="n[443700, 443701, 443699, 443698, 443697, 443702]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1243">add_local_native_libraries</a></c26><c4>(</c4><c5><a href="#1063_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c3>,</c3><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1183</ln><a id="1183">&nbsp;</a><a id="n[443707, 443704, 443703, 443706, 443705, 443708]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1449">add_upstream_native_libraries</a></c26><c4>(</c4><c5><a href="#1063_1_refs">&amp;mut&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c3>,</c3><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1184</ln><a id="1184">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1185</ln><a id="1185">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;#&nbsp;Telling&nbsp;the&nbsp;linker&nbsp;what&nbsp;we're&nbsp;doing
</c40><br/><ln>&nbsp;1186</ln><a id="1186">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1187</ln><a id="1187">&nbsp;</a><a id="n[443710, 443751, 443750, 443709]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1065">dylib</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1188</ln><a id="1188">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;On&nbsp;mac&nbsp;we&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;to&nbsp;let&nbsp;this&nbsp;library&nbsp;be&nbsp;rpathed
</c40><br/><ln>&nbsp;1189</ln><a id="1189">&nbsp;</a><a id="n[443749, 443726, 443712, 443711, 443715, 443714, 443713]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14461">abi::OsMacos</a></c26><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1190</ln><a id="1190">&nbsp;</a><a id="n[443719, 443717, 443720, 443718, 443716]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-dynamiclib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1191</ln><a id="1191">&nbsp;</a><a id="n[443725, 443721, 443724, 443722, 443723]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-Wl</a></c12><c3>,</c3><c12><a href="../../libstd/vec.rs.html#n57406">-dylib"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1192</ln><a id="1192">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1193</ln><a id="1193">&nbsp;</a><a id="n[443729, 443727, 443730, 443728, 443741, 443742, 443731]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c5><a href="#1063_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.no_rpath</a></c24><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1194</ln><a id="1194">&nbsp;</a><a id="n[443734, 443740, 443738, 443732, 443739, 443733]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-Wl</a></c12><c3>,</c3><c12><a href="#1063_1_refs">-install_name</a></c12><c3>,</c3><c12><a href="#1063_1_refs">@rpath/"</a></c12><c5><a href="#1063_1_refs">&nbsp;+
</a></c5><br/><ln>&nbsp;1195</ln><a id="1195">&nbsp;</a><a id="n[443735, 443737, 443736]">&nbsp;</a><c5><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1068">out_filename</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.filename_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1196</ln><a id="1196">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1197</ln><a id="1197">&nbsp;</a><a id="n[443748, 443743]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1063_1_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1063_1_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1198</ln><a id="1198">&nbsp;</a><a id="n[443744, 443747, 443746, 443745]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-shared"</a></c12><c4>)</c4><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1199</ln><a id="1199">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1200</ln><a id="1200">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1201</ln><a id="1201">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1202</ln><a id="1202">&nbsp;</a><a id="n[443768, 443753, 443755, 443756, 443754, 443767, 443752, 443769]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1063_1_refs">&nbsp;==&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14464">abi::OsFreebsd</a></c26><c13><a href="#1063_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1203</ln><a id="1203">&nbsp;</a><a id="n[443758, 443766, 443757, 443764, 443759, 443765]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c10><c4>(</c4><c3>[</c3><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-L/usr/local/lib"</a></c12><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1204</ln><a id="1204">&nbsp;</a><a id="n[443760, 443761]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-L/usr/local/lib/gcc46"</a></c12><c3>,</c3><c1><a href="#1063_1_refs">
</a></c1><br/><ln>&nbsp;1205</ln><a id="1205">&nbsp;</a><a id="n[443762, 443763]">&nbsp;</a><c1><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c16><a href="#1063_1_refs">~</a></c16><c12><a href="#1063_1_refs">"-L/usr/local/lib/gcc44"</a></c12><c3>]</c3><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1206</ln><a id="1206">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1207</ln><a id="1207">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1208</ln><a id="1208">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#2397):&nbsp;At&nbsp;some&nbsp;point&nbsp;we&nbsp;want&nbsp;to&nbsp;rpath&nbsp;our&nbsp;guesses&nbsp;as&nbsp;to
</c40><br/><ln>&nbsp;1209</ln><a id="1209">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;where&nbsp;extern&nbsp;libraries&nbsp;might&nbsp;live,&nbsp;based&nbsp;on&nbsp;the
</c40><br/><ln>&nbsp;1210</ln><a id="1210">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;addl_lib_search_paths
</c40><br/><ln>&nbsp;1211</ln><a id="1211">&nbsp;</a><a id="n[443771, 443784, 443770, 443772, 443783, 443773, 443774, 443785]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1063_1_refs">&nbsp;</a></c13><c5><a href="#1063_1_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.no_rpath</a></c24><c13><a href="#1063_1_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1212</ln><a id="1212">&nbsp;</a><a id="n[443779, 443776, 443777, 443778, 443775, 443780, 443782, 443781]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/rpath.rs.html#23">rpath::get_rpath_flags</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c3>,</c3><c27><a href="#1063_1_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1068">out_filename</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1213</ln><a id="1213">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1214</ln><a id="1214">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1215</ln><a id="1215">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;compiler-rt&nbsp;contains&nbsp;implementations&nbsp;of&nbsp;low-level&nbsp;LLVM&nbsp;helpers.&nbsp;This&nbsp;is
</c40><br/><ln>&nbsp;1216</ln><a id="1216">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;used&nbsp;to&nbsp;resolve&nbsp;symbols&nbsp;from&nbsp;the&nbsp;object&nbsp;file&nbsp;we&nbsp;just&nbsp;created,&nbsp;as&nbsp;well&nbsp;as
</c40><br/><ln>&nbsp;1217</ln><a id="1217">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;any&nbsp;system&nbsp;static&nbsp;libraries&nbsp;that&nbsp;may&nbsp;be&nbsp;expecting&nbsp;gcc&nbsp;instead.&nbsp;Most
</c40><br/><ln>&nbsp;1218</ln><a id="1218">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;symbols&nbsp;in&nbsp;libgcc&nbsp;also&nbsp;appear&nbsp;in&nbsp;compiler-rt.
</c40><br/><ln>&nbsp;1219</ln><a id="1219">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1220</ln><a id="1220">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;This&nbsp;is&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;command&nbsp;line,&nbsp;so&nbsp;this&nbsp;library&nbsp;is&nbsp;used&nbsp;to&nbsp;resolve
</c40><br/><ln>&nbsp;1221</ln><a id="1221">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*all*&nbsp;undefined&nbsp;symbols&nbsp;in&nbsp;all&nbsp;other&nbsp;libraries,&nbsp;and&nbsp;this&nbsp;is&nbsp;intentional.
</c40><br/><ln>&nbsp;1222</ln><a id="1222">&nbsp;</a><a id="n[443786, 443790, 443789, 443787, 443788]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-lcompiler-rt"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1223</ln><a id="1223">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1224</ln><a id="1224">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Finally&nbsp;add&nbsp;all&nbsp;the&nbsp;linker&nbsp;arguments&nbsp;provided&nbsp;on&nbsp;the&nbsp;command&nbsp;line&nbsp;along
</c40><br/><ln>&nbsp;1225</ln><a id="1225">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;with&nbsp;any&nbsp;#[link_args]&nbsp;attributes&nbsp;found&nbsp;inside&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1226</ln><a id="1226">&nbsp;</a><a id="n[443791, 443795, 443792, 443796, 443798, 443797, 443793, 443794]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c10><a href="../../libstd/vec.rs.html#n56707">.push_all</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.link_args</a></c24><c10><a href="../../libstd/vec.rs.html#n58540">.as_slice</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1227</ln><a id="1227">&nbsp;</a><a id="n[443810, 443812, 443805, 443808, 443819, 443800, 443818, 443821, 443811, 443822, 443799, 443820, 443802, 443806, 443809, 443803, 443823, 443804, 443801, 443807]">&nbsp;</a><c22><a href="#1063_1_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c26><c20><a href="#1227_8_refs">arg</a></c20><c26><a href="../../librustc/back/link.rs.html#1227">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1064">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#196">.get_used_link_args</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1227">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1228</ln><a id="1228">&nbsp;</a><a id="n[443815, 443816, 443817, 443814, 443813]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1227">arg</a></c26><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1229</ln><a id="1229">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1227">
</a></c26><br/><ln>&nbsp;1230</ln><a id="1230">&nbsp;</a><a id="n[443824, 443825, 443826]">&nbsp;</a><c26><a href="../../librustc/back/link.rs.html#1227">&nbsp;&nbsp;&nbsp;&nbsp;</a></c26><c21>return</c21><c13><a href="#1063_1_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1076">args</a></c26><c3>;</c3><c22><a href="#1063_1_refs">
</a></c22><br/><ln>&nbsp;1231</ln><a id="1231">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1232</ln><a id="1232">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1233</ln><a id="1233">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;#&nbsp;Native&nbsp;library&nbsp;linking
</c40><br/><ln>&nbsp;1234</ln><a id="1234">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1235</ln><a id="1235">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;User-supplied&nbsp;library&nbsp;search&nbsp;paths&nbsp;(-L&nbsp;on&nbsp;the&nbsp;command&nbsp;line).&nbsp;These&nbsp;are
</c40><br/><ln>&nbsp;1236</ln><a id="1236">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;the&nbsp;same&nbsp;paths&nbsp;used&nbsp;to&nbsp;find&nbsp;Rust&nbsp;crates,&nbsp;so&nbsp;some&nbsp;of&nbsp;them&nbsp;may&nbsp;have&nbsp;been
</c40><br/><ln>&nbsp;1237</ln><a id="1237">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;added&nbsp;already&nbsp;by&nbsp;the&nbsp;previous&nbsp;crate&nbsp;linking&nbsp;code.&nbsp;This&nbsp;only&nbsp;allows&nbsp;them
</c40><br/><ln>&nbsp;1238</ln><a id="1238">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;to&nbsp;be&nbsp;found&nbsp;at&nbsp;compile&nbsp;time&nbsp;so&nbsp;it&nbsp;is&nbsp;still&nbsp;entirely&nbsp;up&nbsp;to&nbsp;outside
</c40><br/><ln>&nbsp;1239</ln><a id="1239">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;forces&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;library&nbsp;can&nbsp;be&nbsp;found&nbsp;at&nbsp;runtime.
</c40><br/><ln>&nbsp;1240</ln><a id="1240">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1241</ln><a id="1241">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Also&nbsp;note&nbsp;that&nbsp;the&nbsp;native&nbsp;libraries&nbsp;linked&nbsp;here&nbsp;are&nbsp;only&nbsp;the&nbsp;ones&nbsp;located
</c40><br/><ln>&nbsp;1242</ln><a id="1242">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;in&nbsp;the&nbsp;current&nbsp;crate.&nbsp;Upstream&nbsp;crates&nbsp;with&nbsp;native&nbsp;library&nbsp;dependencies
</c40><br/><ln>&nbsp;1243</ln><a id="1243">&nbsp;</a><a id="n[443828]">&nbsp;</a><c40>//&nbsp;may&nbsp;have&nbsp;their&nbsp;native&nbsp;library&nbsp;pulled&nbsp;in&nbsp;above.
</c40><br/><ln>&nbsp;1244</ln><a id="1244">&nbsp;</a><a id="n[443839, 443836, 443840, 443831, 443842, 443841, 443835, 443834, 443832, 443904]">&nbsp;</a><c30>fn</c30><c30><a href="#1243_50_refs">&nbsp;add_local_native_libraries</a></c30><c4>(</c4><c20><a href="#1244_30_refs">args</a></c20><c1><a href="#1243_50_refs">:&nbsp;</a></c1><c8><a href="#1243_50_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~</a></c8><c8><a href="#1243_50_refs">str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c3>,</c3><c1><a href="#1243_50_refs">&nbsp;</a></c1><c20><a href="#1244_52_refs">sess</a></c20><c1><a href="#1243_50_refs">:&nbsp;</a></c1><c8><a href="#1243_50_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#1243_50_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1243_50_refs">
</a></c22><br/><ln>&nbsp;1245</ln><a id="1245">&nbsp;</a><a id="n[443847, 443844, 443869, 443856, 443850, 443870, 443845, 443846, 443871, 443868, 443855, 443848, 443853, 443843, 443866, 443851, 443854, 443852, 443849, 443867]">&nbsp;</a><c22><a href="#1243_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="#1245_4_refs">&nbsp;</a></c20><c20><a href="#1245_8_refs">path</a></c20><c20><a href="#1245_4_refs">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1244">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#137">.addl_lib_search_paths</a></c24><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libcollections/hashmap.rs.html#n16969">.iter</a></c10><c4>()</c4><c20><a href="#1245_4_refs">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;1246</ln><a id="1246">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1247</ln><a id="1247">&nbsp;</a><a id="n[443865, 443861, 443862, 443857, 443864, 443858, 443863, 443859, 443860]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1244">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n57406">"-L"</a></c12><c5><a href="../../libstd/vec.rs.html#n57406">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1245">path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;1248</ln><a id="1248">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="#1245_4_refs">
</a></c20><br/><ln>&nbsp;1249</ln><a id="1249">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="#1245_4_refs">
</a></c20><br/><ln>&nbsp;1250</ln><a id="1250">&nbsp;</a><a id="n[443875, 443872, 443877, 443876, 443873, 443874]">&nbsp;</a><c20><a href="#1245_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>let</c21><c22><a href="#1243_50_refs">&nbsp;</a></c22><c20><a href="#1250_8_refs">rustpath</a></c20><c13><a href="#1243_50_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/metadata/filesearch.rs.html#197">filesearch::rust_path</a></c26><c4>()</c4><c3>;</c3><c22><a href="#1243_50_refs">
</a></c22><br/><ln>&nbsp;1251</ln><a id="1251">&nbsp;</a><a id="n[443898, 443886, 443899, 443882, 443887, 443883, 443902, 443885, 443903, 443901, 443880, 443900, 443878, 443879, 443881, 443884, 443888]">&nbsp;</a><c22><a href="#1243_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c20><a href="#1251_8_refs">path</a></c20><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1250">rustpath</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c3>{</c3><c22><a href="#1243_50_refs">
</a></c22><br/><ln>&nbsp;1252</ln><a id="1252">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1243_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;FIXME&nbsp;(#9639):&nbsp;This&nbsp;needs&nbsp;to&nbsp;handle&nbsp;non-utf8&nbsp;paths
</c40><br/><ln>&nbsp;1253</ln><a id="1253">&nbsp;</a><a id="n[443895, 443892, 443890, 443896, 443891, 443894, 443897, 443889, 443893]">&nbsp;</a><c22><a href="#1243_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1244">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c12><a href="#1243_50_refs">"-L"</a></c12><c5><a href="#1243_50_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1251">path</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1243_50_refs">
</a></c22><br/><ln>&nbsp;1254</ln><a id="1254">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1243_50_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n104341">
</a></c20><br/><ln>&nbsp;1255</ln><a id="1255">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104341">
</a></c20><br/><ln>&nbsp;1256</ln><a id="1256">&nbsp;</a><a id="n[443905, 443915, 443914, 443912, 443909, 443908, 443910, 443949, 443907, 443918, 443911, 443919, 443917, 443921, 443920, 443950, 443922, 443906, 443951, 443952, 443916, 443913]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c21>for</c21><c26><a href="../../librustc/back/link.rs.html#1256">&nbsp;</a></c26><c20><a href="../../libstd/option.rs.html#n104341">&amp;</a></c20><c4>(</c4><c21>ref</c21><c20><a href="#1256_10_refs">&nbsp;l</a></c20><c3>,</c3><c20><a href="#1256_4_refs">&nbsp;</a></c20><c20><a href="#1256_17_refs">kind</a></c20><c4>)</c4><c26><a href="../../librustc/back/link.rs.html#1256">&nbsp;in&nbsp;</a></c26><c26><a href="../../librustc/back/link.rs.html#1244">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#185">.get_used_libraries</a></c10><c4>()</c4><c10><a href="../../libstd/cell.rs.html#n107602">.borrow</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c26><a href="../../librustc/back/link.rs.html#1256">&nbsp;</a></c26><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1257</ln><a id="1257">&nbsp;</a><a id="n[443948, 443923]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1256">kind</a></c26><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;1258</ln><a id="1258">&nbsp;</a><a id="n[443925, 443933, 443924, 443934]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#55">cstore::NativeUnknown</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;|&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#53">cstore::NativeStatic</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1259</ln><a id="1259">&nbsp;</a><a id="n[443926, 443931, 443929, 443927, 443930, 443932, 443928]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1244">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n57406">"-l"</a></c12><c5><a href="../../libstd/vec.rs.html#n57406">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1256">l</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1260</ln><a id="1260">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;1261</ln><a id="1261">&nbsp;</a><a id="n[443946, 443935, 443947]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#54">cstore::NativeFramework</a></c20><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;1262</ln><a id="1262">&nbsp;</a><a id="n[443939, 443940, 443938, 443936, 443937]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1244">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="../../libstd/vec.rs.html#n57406">~</a></c16><c12><a href="../../libstd/vec.rs.html#n57406">"-framework"</a></c12><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;1263</ln><a id="1263">&nbsp;</a><a id="n[443943, 443945, 443942, 443941, 443944]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1244">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1256">l</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104337">
</a></c22><br/><ln>&nbsp;1264</ln><a id="1264">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/slice.rs.html#n55129">
</a></c21><br/><ln>&nbsp;1265</ln><a id="1265">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/slice.rs.html#n55129">
</a></c22><br/><ln>&nbsp;1266</ln><a id="1266">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/slice.rs.html#n55129">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c26><a href="../../librustc/back/link.rs.html#1256">
</a></c26><br/><ln>&nbsp;1267</ln><a id="1267">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1268</ln><a id="1268">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1269</ln><a id="1269">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;#&nbsp;Rust&nbsp;Crate&nbsp;linking
</c40><br/><ln>&nbsp;1270</ln><a id="1270">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1271</ln><a id="1271">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Rust&nbsp;crates&nbsp;are&nbsp;not&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;creating&nbsp;an&nbsp;rlib&nbsp;output.&nbsp;All
</c40><br/><ln>&nbsp;1272</ln><a id="1272">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;dependencies&nbsp;will&nbsp;be&nbsp;linked&nbsp;when&nbsp;producing&nbsp;the&nbsp;final&nbsp;output&nbsp;(instead&nbsp;of
</c40><br/><ln>&nbsp;1273</ln><a id="1273">&nbsp;</a><a id="n[443953]">&nbsp;</a><c40>//&nbsp;the&nbsp;intermediate&nbsp;rlib&nbsp;version)
</c40><br/><ln>&nbsp;1274</ln><a id="1274">&nbsp;</a><a id="n[443965, 443960, 443956, 443957, 443966, 443961, 443959, 443964]">&nbsp;</a><c30>fn</c30><c30><a href="#1273_34_refs">&nbsp;add_upstream_rust_crates</a></c30><c4>(</c4><c20><a href="#1274_28_refs">args</a></c20><c1><a href="#1273_34_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c8><a href="#1273_34_refs">~str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c3>,</c3><c1><a href="#1273_34_refs">&nbsp;</a></c1><c20><a href="#1274_50_refs">sess</a></c20><c1><a href="#1273_34_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1273_34_refs">
</a></c1><br/><ln>&nbsp;1275</ln><a id="1275">&nbsp;</a><a id="n[443973, 443970, 443969, 443975, 443974, 444931, 443976]">&nbsp;</a><c1><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1275_28_refs">dylib</a></c20><c1><a href="#1273_34_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">bool</a></c8><c3>,</c3><c1><a href="#1273_34_refs">&nbsp;</a></c1><c20><a href="#1275_41_refs">tmpdir</a></c20><c1><a href="#1273_34_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c1><a href="#1273_34_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1276</ln><a id="1276">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1277</ln><a id="1277">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;As&nbsp;a&nbsp;limitation&nbsp;of&nbsp;the&nbsp;current&nbsp;implementation,&nbsp;we&nbsp;require&nbsp;that&nbsp;everything
</c40><br/><ln>&nbsp;1278</ln><a id="1278">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;must&nbsp;be&nbsp;static&nbsp;or&nbsp;everything&nbsp;must&nbsp;be&nbsp;dynamic.&nbsp;The&nbsp;reasons&nbsp;for&nbsp;this&nbsp;are&nbsp;a
</c40><br/><ln>&nbsp;1279</ln><a id="1279">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;little&nbsp;subtle,&nbsp;but&nbsp;as&nbsp;with&nbsp;staticlibs&nbsp;and&nbsp;rlibs,&nbsp;the&nbsp;goal&nbsp;is&nbsp;to&nbsp;prevent
</c40><br/><ln>&nbsp;1280</ln><a id="1280">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;duplicate&nbsp;copies&nbsp;of&nbsp;the&nbsp;same&nbsp;library&nbsp;showing&nbsp;up.&nbsp;For&nbsp;example,&nbsp;a&nbsp;static
</c40><br/><ln>&nbsp;1281</ln><a id="1281">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;immediate&nbsp;dependency&nbsp;might&nbsp;show&nbsp;up&nbsp;as&nbsp;an&nbsp;upstream&nbsp;dynamic&nbsp;dependency&nbsp;and
</c40><br/><ln>&nbsp;1282</ln><a id="1282">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;currently&nbsp;have&nbsp;no&nbsp;way&nbsp;of&nbsp;knowing&nbsp;that.&nbsp;We&nbsp;know&nbsp;that&nbsp;all&nbsp;dynamic
</c40><br/><ln>&nbsp;1283</ln><a id="1283">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;libraries&nbsp;require&nbsp;dynamic&nbsp;dependencies&nbsp;(see&nbsp;above),&nbsp;so&nbsp;it's&nbsp;satisfactory
</c40><br/><ln>&nbsp;1284</ln><a id="1284">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;include&nbsp;either&nbsp;all&nbsp;static&nbsp;libraries&nbsp;or&nbsp;all&nbsp;dynamic&nbsp;libraries.
</c40><br/><ln>&nbsp;1285</ln><a id="1285">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1286</ln><a id="1286">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;With&nbsp;this&nbsp;limitation,&nbsp;we&nbsp;expose&nbsp;a&nbsp;compiler&nbsp;default&nbsp;linkage&nbsp;type&nbsp;and&nbsp;an
</c40><br/><ln>&nbsp;1287</ln><a id="1287">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;option&nbsp;to&nbsp;reverse&nbsp;that&nbsp;preference.&nbsp;The&nbsp;current&nbsp;behavior&nbsp;looks&nbsp;like:
</c40><br/><ln>&nbsp;1288</ln><a id="1288">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1289</ln><a id="1289">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;a&nbsp;dylib&nbsp;is&nbsp;being&nbsp;created,&nbsp;upstream&nbsp;dependencies&nbsp;must&nbsp;be&nbsp;dylibs
</c40><br/><ln>&nbsp;1290</ln><a id="1290">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;nothing&nbsp;else&nbsp;is&nbsp;specified,&nbsp;static&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1291</ln><a id="1291">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;the&nbsp;-C&nbsp;prefer-dynamic&nbsp;flag&nbsp;is&nbsp;given,&nbsp;dynamic&nbsp;linking&nbsp;is&nbsp;preferred
</c40><br/><ln>&nbsp;1292</ln><a id="1292">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;one&nbsp;form&nbsp;of&nbsp;linking&nbsp;fails,&nbsp;the&nbsp;second&nbsp;is&nbsp;also&nbsp;attempted
</c40><br/><ln>&nbsp;1293</ln><a id="1293">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;*&nbsp;If&nbsp;both&nbsp;forms&nbsp;fail,&nbsp;then&nbsp;we&nbsp;emit&nbsp;an&nbsp;error&nbsp;message
</c40><br/><ln>&nbsp;1294</ln><a id="1294">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1295</ln><a id="1295">&nbsp;</a><a id="n[443982, 443979, 443985, 443980, 443984, 443981, 443977, 443978, 443986, 443983]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1295_8_refs">dynamic</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1356">get_deps</a></c26><c4>(</c4><c5><a href="#1273_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#47">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1296</ln><a id="1296">&nbsp;</a><a id="n[443995, 443989, 443990, 443996, 443993, 443987, 443994, 443988, 443992, 443991]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1296_8_refs">statik</a></c20><c16><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1356">get_deps</a></c26><c4>(</c4><c5><a href="#1273_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/metadata/cstore.rs.html#48">cstore::RequireStatic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1297</ln><a id="1297">&nbsp;</a><a id="n[444002, 444001, 444301, 444302, 443998, 444004, 443997, 443999, 444003, 444000]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1295">dynamic</a></c26><c3>,</c3><c14><a href="#1273_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1296">statik</a></c26><c3>,</c3><c14><a href="#1273_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#178">.opts</a></c24><c24><a href="../../librustc/driver/session.rs.html#154">.cg</a></c24><c24><a href="../../librustc/driver/session.rs.html#368">.prefer_dynamic</a></c24><c3>,</c3><c14><a href="#1273_34_refs">&nbsp;</a></c14><c26><a href="../../librustc/back/link.rs.html#1275">dylib</a></c26><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1298</ln><a id="1298">&nbsp;</a><a id="n[444006, 444010, 444012, 444009, 444005, 444007, 444013, 444011, 444008, 444020]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="#1273_34_refs">_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#1298_17_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;false</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1299</ln><a id="1299">&nbsp;</a><a id="n[444017, 444014, 444015, 444018, 444019, 444016]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1274">args</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1275">tmpdir</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1298">deps</a></c26><c4>)</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1300</ln><a id="1300">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1301</ln><a id="1301">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1302</ln><a id="1302">&nbsp;</a><a id="n[444028, 444037, 444027, 444026, 444023, 444044, 444025, 444024, 444021, 444022]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#1302_20_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;true</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1303</ln><a id="1303">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;you&nbsp;opted&nbsp;in&nbsp;to&nbsp;dynamic&nbsp;linking&nbsp;and&nbsp;we&nbsp;decided&nbsp;to&nbsp;emit&nbsp;a
</c40><br/><ln>&nbsp;1304</ln><a id="1304">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;static&nbsp;output,&nbsp;you&nbsp;should&nbsp;probably&nbsp;be&nbsp;notified&nbsp;of&nbsp;such&nbsp;an&nbsp;event!
</c40><br/><ln>&nbsp;1305</ln><a id="1305">&nbsp;</a><a id="n[444032, 444031, 444030, 444029]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#226">.warn</a></c10><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#226">"dynamic&nbsp;linking&nbsp;was&nbsp;preferred</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#226">&nbsp;but&nbsp;dependencies&nbsp;\
</a></c12><br/><ln>&nbsp;1306</ln><a id="1306">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="../../librustc/driver/session.rs.html#226">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;could&nbsp;not&nbsp;all&nbsp;be&nbsp;found&nbsp;in&nbsp;an&nbsp;dylib&nbsp;format."</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1307</ln><a id="1307">&nbsp;</a><a id="n[444035, 444033, 444034, 444036]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#226">.warn</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#226">"linking&nbsp;statically&nbsp;instead</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#226">&nbsp;using&nbsp;rlibs"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1308</ln><a id="1308">&nbsp;</a><a id="n[444042, 444039, 444043, 444041, 444040, 444038]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">add_static_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1274">args</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1275">tmpdir</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1302">deps</a></c26><c4>)</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1309</ln><a id="1309">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1310</ln><a id="1310">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1311</ln><a id="1311">&nbsp;</a><a id="n[444051, 444053, 444047, 444046, 444054, 444048, 444055, 444050, 444049, 444045, 444052]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n104341">Some</a></c20><c4>(</c4><c20><a href="#1311_14_refs">deps</a></c20><c4>)</c4><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;_</a></c20><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1415">add_dynamic_crates</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1274">args</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1311">deps</a></c26><c4>)</c4><c3>,</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1312</ln><a id="1312">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1313</ln><a id="1313">&nbsp;</a><a id="n[444074, 444058, 444056, 444057, 444061, 444059, 444060, 444166]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;true</a></c20><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1314</ln><a id="1314">&nbsp;</a><a id="n[444063, 444062, 444065, 444064]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#211">.err</a></c10><c4>(</c4><c12><a href="#1273_34_refs">"dylib&nbsp;output&nbsp;requested</a></c12><c3>,</c3><c12><a href="#1273_34_refs">&nbsp;but&nbsp;some&nbsp;depenencies&nbsp;could&nbsp;not&nbsp;\
</a></c12><br/><ln>&nbsp;1315</ln><a id="1315">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;dylib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1316</ln><a id="1316">&nbsp;</a><a id="n[444071, 444069, 444066, 444068, 444067, 444072, 444073, 444070]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1316_16_refs">deps</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#150">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#47">cstore::RequireDynamic</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1317</ln><a id="1317">&nbsp;</a><a id="n[444085, 444080, 444164, 444087, 444082, 444086, 444081, 444077, 444084, 444161, 444162, 444083, 444079, 444076, 444165, 444163, 444078, 444075]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="#1317_12_refs">&nbsp;</a></c20><c4>(</c4><c20><a href="#1317_17_refs">cnum</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c20><c20><a href="#1317_23_refs">path</a></c20><c4>)</c4><c20><a href="#1317_12_refs">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1316">deps</a></c26><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c20><a href="#1317_12_refs">&nbsp;</a></c20><c3>{</c3><c22><a href="../../libstd/vec.rs.html#n58722">
</a></c22><br/><ln>&nbsp;1318</ln><a id="1318">&nbsp;</a><a id="n[444093, 444088, 444091, 444090, 444092, 444089]">&nbsp;</a><c22><a href="../../libstd/vec.rs.html#n58722">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1317">path</a></c26><c10><a href="../../libstd/option.rs.html#n104931">.is_some</a></c10><c4>()</c4><c21><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104337">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/vec.rs.html#n58722">
</a></c22><br/><ln>&nbsp;1319</ln><a id="1319">&nbsp;</a><a id="n[444103, 444102, 444100, 444095, 444099, 444097, 444098, 444094, 444101, 444096]">&nbsp;</a><c22><a href="../../libstd/vec.rs.html#n58722">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/vec.rs.html#n58722">&nbsp;</a></c22><c20><a href="#1319_20_refs">name</a></c20><c16><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#91">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1317">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#39">.name</a></c24><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n58722">
</a></c22><br/><ln>&nbsp;1320</ln><a id="1320">&nbsp;</a><a id="n[444141, 444149, 444135, 444158, 444146, 444124, 444131, 444159, 444128, 444147, 444107, 444129, 444119, 444109, 444134, 444139, 444138, 444127, 444142, 444125, 444151, 444144, 444115, 444132, 444136, 444160, 444120, 444137, 444140, 444154, 444133, 444108, 444105, 444121, 444116, 444148, 444152, 444106, 444150, 444157, 444122, 444143, 444123, 444110, 444130, 444126, 444118, 444114, 444145, 444117, 444113, 444104]">&nbsp;</a><c22><a href="../../libstd/vec.rs.html#n58722">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#235">.note</a></c13><c4>(</c4><c21><a href="#1273_34_refs">format!</a></c21><c4>(</c4><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"dylib&nbsp;not&nbsp;found:&nbsp;</a></c8><c3>{}</c3><c8><a href="../../libstd/fmt/rt.rs.html#n169447">"</a></c8><c3>,</c3><c21><a href="#1273_34_refs">&nbsp;</a></c21><c5><a href="../../librustc/back/link.rs.html#1319">name</a></c5><c4>))</c4><c3>;</c3><c22><a href="../../libstd/vec.rs.html#n58722">
</a></c22><br/><ln>&nbsp;1321</ln><a id="1321">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/vec.rs.html#n58722">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="#1317_12_refs">
</a></c20><br/><ln>&nbsp;1322</ln><a id="1322">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="#1317_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1323</ln><a id="1323">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1324</ln><a id="1324">&nbsp;</a><a id="n[444300, 444168, 444170, 444171, 444167, 444169, 444258, 444172]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>(</c4><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="../../libstd/option.rs.html#n104337">None</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1324_21_refs">pref</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;false</a></c20><c4>)</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c4>=&gt;</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1325</ln><a id="1325">&nbsp;</a><a id="n[444178, 444197, 444174, 444196, 444173, 444183, 444177, 444176, 444175]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c4>(</c4><c20><a href="#1325_17_refs">pref</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1325_23_refs">name</a></c20><c4>)</c4><c16><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c16><c21><a href="#1273_34_refs">if&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1324">pref</a></c26><c21><a href="#1273_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1326</ln><a id="1326">&nbsp;</a><a id="n[444181, 444180, 444179, 444182]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#211">"dynamic&nbsp;linking&nbsp;is&nbsp;preferred</a></c12><c3>,</c3><c12><a href="../../librustc/driver/session.rs.html#211">&nbsp;but&nbsp;dependencies&nbsp;were&nbsp;\
</a></c12><br/><ln>&nbsp;1327</ln><a id="1327">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1328</ln><a id="1328">&nbsp;</a><a id="n[444185, 444184, 444186]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#47">cstore::RequireDynamic</a></c26><c3>,</c3><c14><a href="#1273_34_refs">&nbsp;</a></c14><c12><a href="#1273_34_refs">"dylib"</a></c12><c4>)</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1329</ln><a id="1329">&nbsp;</a><a id="n[444195, 444191]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1273_34_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1273_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1330</ln><a id="1330">&nbsp;</a><a id="n[444188, 444189, 444190, 444187]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c12><a href="#1273_34_refs">"dependencies&nbsp;were&nbsp;not&nbsp;all&nbsp;found&nbsp;in&nbsp;either&nbsp;dylib&nbsp;or&nbsp;\
</a></c12><br/><ln>&nbsp;1331</ln><a id="1331">&nbsp;</a><a id="n[]">&nbsp;</a><c12><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rlib&nbsp;format"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1332</ln><a id="1332">&nbsp;</a><a id="n[444192, 444194, 444193]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c4>(</c4><c26><a href="../../librustc/metadata/cstore.rs.html#48">cstore::RequireStatic</a></c26><c3>,</c3><c14><a href="#1273_34_refs">&nbsp;</a></c14><c12><a href="#1273_34_refs">"rlib"</a></c12><c4>)</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1333</ln><a id="1333">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>};</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1334</ln><a id="1334">&nbsp;</a><a id="n[444243, 444204, 444217, 444228, 444222, 444239, 444236, 444255, 444215, 444214, 444207, 444216, 444237, 444244, 444223, 444241, 444251, 444240, 444210, 444220, 444221, 444257, 444211, 444242, 444213, 444226, 444224, 444201, 444212, 444209, 444238, 444208, 444227, 444225, 444248, 444245, 444256, 444218, 444247, 444246, 444254, 444249, 444203, 444230, 444231, 444229, 444198, 444219]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#235">.note</a></c10><c4>(</c4><c21><a href="#1273_34_refs">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169505">"dependencies&nbsp;not&nbsp;found&nbsp;in&nbsp;the&nbsp;`</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169505">`&nbsp;format"</a></c26><c3>,</c3><c21><a href="#1273_34_refs">
</a></c21><br/><ln>&nbsp;1335</ln><a id="1335">&nbsp;</a><a id="n[444200, 444234, 444199, 444235, 444233, 444232, 444202]">&nbsp;</a><c21><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="#1335_30_refs">name</a></c20><c4>))</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1336</ln><a id="1336">&nbsp;</a><a id="n[444272, 444270, 444273, 444260, 444266, 444263, 444267, 444297, 444262, 444271, 444299, 444265, 444259, 444295, 444298, 444264, 444261, 444269, 444274, 444296, 444268]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c10><a href="../../libstd/vec.rs.html#n58722">&nbsp;</a></c10><c4>(</c4><c20><a href="#1336_17_refs">cnum</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1336_23_refs">path</a></c20><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n58722">&nbsp;in&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#150">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1325">pref</a></c26><c4>)</c4><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c10><a href="../../libstd/vec.rs.html#n58722">&nbsp;</a></c10><c3>{</c3><c22><a href="#1336_12_refs">
</a></c22><br/><ln>&nbsp;1337</ln><a id="1337">&nbsp;</a><a id="n[444278, 444275, 444277, 444280, 444276, 444279]">&nbsp;</a><c22><a href="#1336_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1273_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1336">path</a></c26><c10><a href="../../libstd/option.rs.html#n104931">.is_some</a></c10><c4>()</c4><c21><a href="#1273_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">&nbsp;continue&nbsp;</a></c22><c3>}</c3><c22><a href="#1336_12_refs">
</a></c22><br/><ln>&nbsp;1338</ln><a id="1338">&nbsp;</a><a id="n[444284, 444283, 444290, 444288, 444281, 444287, 444286, 444285, 444282, 444289]">&nbsp;</a><c22><a href="#1336_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1336_12_refs">&nbsp;</a></c22><c20><a href="#1338_20_refs">name</a></c20><c16><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#91">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1336">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#39">.name</a></c24><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1336_12_refs">
</a></c22><br/><ln>&nbsp;1339</ln><a id="1339">&nbsp;</a><a id="n[444292, 444293, 444294, 444291]">&nbsp;</a><c22><a href="#1336_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1274">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#235">.note</a></c13><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1338">name</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1336_12_refs">
</a></c22><br/><ln>&nbsp;1340</ln><a id="1340">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1336_12_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c10><a href="../../libstd/vec.rs.html#n58722">
</a></c10><br/><ln>&nbsp;1341</ln><a id="1341">&nbsp;</a><a id="n[]">&nbsp;</a><c10><a href="../../libstd/vec.rs.html#n58722">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c10><c3>}</c3><c13><a href="#1273_34_refs">
</a></c13><br/><ln>&nbsp;1342</ln><a id="1342">&nbsp;</a><a id="n[]">&nbsp;</a><c13><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1343</ln><a id="1343">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1344</ln><a id="1344">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Converts&nbsp;a&nbsp;library&nbsp;file-stem&nbsp;into&nbsp;a&nbsp;cc&nbsp;-l&nbsp;argument
</c40><br/><ln>&nbsp;1345</ln><a id="1345">&nbsp;</a><a id="n[444315, 444312, 444303, 444308, 444307, 444313, 444317, 444338, 444306, 444316, 444311]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1345_4_refs">&nbsp;unlib</a></c30><c4>(</c4><c20><a href="#1345_13_refs">config</a></c20><c13><a href="#1345_4_refs">:&nbsp;</a></c13><c8><a href="#1345_4_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#32">session::Config</a></c8><c3>,</c3><c13><a href="#1345_4_refs">&nbsp;</a></c13><c20><a href="#1345_39_refs">stem</a></c20><c13><a href="#1345_4_refs">:&nbsp;</a></c13><c8><a href="#1273_34_refs">&amp;str</a></c8><c4>)</c4><c13><a href="#1345_4_refs">&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#1345_4_refs">&nbsp;</a></c13><c8><a href="#1345_4_refs">~</a></c8><c8><a href="#1273_34_refs">str</a></c8><c13><a href="#1345_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1345_4_refs">
</a></c22><br/><ln>&nbsp;1346</ln><a id="1346">&nbsp;</a><a id="n[444324, 444326, 444321, 444318, 444325, 444319, 444337, 444322, 444320, 444323]">&nbsp;</a><c22><a href="#1345_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1345_4_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1345">stem</a></c26><c10><a href="../../libstd/str.rs.html#n66529">.starts_with</a></c10><c4>(</c4><c12><a href="#1273_34_refs">"lib"</a></c12><c4>)</c4><c1><a href="#1273_34_refs">&nbsp;&amp;&amp;&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1345">config</a></c26><c24><a href="../../librustc/driver/session.rs.html#34">.os</a></c24><c5><a href="#1273_34_refs">&nbsp;!=&nbsp;</a></c5><c26><a href="../../libsyntax/abi.rs.html#n14460">abi::OsWin32</a></c26><c21><a href="#1345_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1347</ln><a id="1347">&nbsp;</a><a id="n[444328, 444330, 444332, 444327, 444331, 444329]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1345">stem</a></c26><c10><a href="../../libstd/str.rs.html#n66086">.slice</a></c10><c4>(</c4><c12><a href="#1273_34_refs">3</a></c12><c3>,</c3><c10><a href="../../libstd/str.rs.html#n66086">&nbsp;</a></c10><c26><a href="../../librustc/back/link.rs.html#1345">stem</a></c26><c10><a href="../../libstd/str.rs.html#n64971">.len</a></c10><c4>())</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1348</ln><a id="1348">&nbsp;</a><a id="n[444333, 444336]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1345_4_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1345_4_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1349</ln><a id="1349">&nbsp;</a><a id="n[444335, 444334]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1345">stem</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1350</ln><a id="1350">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1345_4_refs">
</a></c22><br/><ln>&nbsp;1351</ln><a id="1351">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1345_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1352</ln><a id="1352">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1353</ln><a id="1353">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Attempts&nbsp;to&nbsp;find&nbsp;all&nbsp;dependencies&nbsp;with&nbsp;a&nbsp;certain&nbsp;linkage&nbsp;preference,
</c40><br/><ln>&nbsp;1354</ln><a id="1354">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;returning&nbsp;`None`&nbsp;if&nbsp;not&nbsp;all&nbsp;libraries&nbsp;could&nbsp;be&nbsp;found&nbsp;with&nbsp;that
</c40><br/><ln>&nbsp;1355</ln><a id="1355">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;preference.
</c40><br/><ln>&nbsp;1356</ln><a id="1356">&nbsp;</a><a id="n[444347, 444344, 444342, 444339, 444343, 444403, 444348]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1356_4_refs">&nbsp;get_deps</a></c30><c4>(</c4><c20><a href="#1356_16_refs">cstore</a></c20><c13><a href="#1356_4_refs">:&nbsp;</a></c13><c8><a href="#1356_4_refs">&amp;</a></c8><c8><a href="../../librustc/metadata/cstore.rs.html#66">cstore::CStore</a></c8><c3>,</c3><c13><a href="#1356_4_refs">&nbsp;&nbsp;</a></c13><c20><a href="#1356_42_refs">preference</a></c20><c13><a href="#1356_4_refs">:&nbsp;</a></c13><c8><a href="../../librustc/metadata/cstore.rs.html#45">cstore::LinkagePreference</a></c8><c4>)</c4><c13><a href="#1356_4_refs">
</a></c13><br/><ln>&nbsp;1357</ln><a id="1357">&nbsp;</a><a id="n[444353, 444357, 444355, 444352, 444350]">&nbsp;</a><c13><a href="#1356_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>-&gt;</c4><c13><a href="#1356_4_refs">&nbsp;</a></c13><c8><a href="../../libstd/option.rs.html#n104336">Option&lt;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18429">ast::CrateNum</a></c8><c3>,</c3><c8><a href="#1273_34_refs">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c8><a href="../../libstd/option.rs.html#n104336">&nbsp;&gt;</a></c8><c13><a href="#1356_4_refs">
</a></c13><br/><ln>&nbsp;1358</ln><a id="1358">&nbsp;</a><a id="n[444365]">&nbsp;</a><c13><a href="#1356_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1359</ln><a id="1359">&nbsp;</a><a id="n[444359, 444358, 444361, 444363, 444364, 444362, 444360]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1359_12_refs">crates</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1356">cstore</a></c26><c10><a href="../../librustc/metadata/cstore.rs.html#150">.get_used_crates</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1356">preference</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1360</ln><a id="1360">&nbsp;</a><a id="n[444376, 444378, 444369, 444377, 444374, 444371, 444379, 444370, 444375, 444367, 444373, 444402, 444380, 444372, 444366]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="#1273_34_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1359">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3999">.all</a></c10><c4>(</c4><c1><a href="#1273_34_refs">|</a></c1><c20><a href="#1273_34_refs">&amp;</a></c20><c4>(</c4><c20><a href="#1273_34_refs">_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1360_35_refs">ref&nbsp;p</a></c20><c4>)</c4><c8><a href="#1273_34_refs">|</a></c8><c1><a href="#1273_34_refs">&nbsp;</a></c1><c8><a href="../../librustc/back/link.rs.html#1360">p</a></c8><c22><a href="../../libstd/option.rs.html#n104931">.is_some</a></c22><c4>())</c4><c21><a href="#1273_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1361</ln><a id="1361">&nbsp;</a><a id="n[444397, 444392, 444386, 444393, 444391, 444394, 444396, 444389, 444390, 444385, 444381, 444395, 444382, 444383, 444398, 444388, 444387]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n104341">Some</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1359">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">.map</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c1><c4>(</c4><c20><a href="#1361_42_refs">a</a></c20><c3>,</c3><c20><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">&nbsp;</a></c20><c20><a href="#1361_45_refs">b</a></c20><c4>)</c4><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#4019">&nbsp;</a></c1><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1361">a</a></c26><c3>,</c3><c22><a href="../../<std macros>.html#4">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1361">b</a></c26><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()))</c4><c10><a href="../../<std macros>.html#4">.collect</a></c10><c4>())</c4><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1362</ln><a id="1362">&nbsp;</a><a id="n[444401, 444399]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1273_34_refs">&nbsp;</a></c21><c21>else</c21><c21><a href="#1273_34_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1363</ln><a id="1363">&nbsp;</a><a id="n[444400]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../libstd/option.rs.html#n104337">None</a></c26><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1364</ln><a id="1364">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1365</ln><a id="1365">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1366</ln><a id="1366">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1367</ln><a id="1367">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Adds&nbsp;the&nbsp;static&nbsp;"rlib"&nbsp;versions&nbsp;of&nbsp;all&nbsp;crates&nbsp;to&nbsp;the&nbsp;command&nbsp;line.
</c40><br/><ln>&nbsp;1368</ln><a id="1368">&nbsp;</a><a id="n[444420, 444407, 444416, 444415, 444412, 444404, 444772, 444422, 444410, 444411, 444408, 444417, 444421]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1368_4_refs">&nbsp;add_static_crates</a></c30><c4>(</c4><c20><a href="#1368_25_refs">args</a></c20><c13><a href="#1368_4_refs">:&nbsp;</a></c13><c8><a href="#1368_4_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~</a></c8><c8><a href="#1273_34_refs">str</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c3>,</c3><c13><a href="#1368_4_refs">&nbsp;</a></c13><c20><a href="#1368_47_refs">sess</a></c20><c13><a href="#1368_4_refs">:&nbsp;</a></c13><c8><a href="#1273_34_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c13><a href="#1368_4_refs">&nbsp;</a></c13><c20><a href="#1368_63_refs">tmpdir</a></c20><c13><a href="#1368_4_refs">:&nbsp;</a></c13><c8><a href="#1368_4_refs">&amp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c3>,</c3><c13><a href="#1368_4_refs">
</a></c13><br/><ln>&nbsp;1369</ln><a id="1369">&nbsp;</a><a id="n[444428, 444433, 444425, 444432, 444427, 444431, 444430]">&nbsp;</a><c13><a href="#1368_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c20><a href="#1369_25_refs">crates</a></c20><c13><a href="#1368_4_refs">:&nbsp;</a></c13><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18429">ast::CrateNum</a></c8><c3>,</c3><c8><a href="#1273_34_refs">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c4>)</c4><c13><a href="#1368_4_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1370</ln><a id="1370">&nbsp;</a><a id="n[444445, 444444, 444436, 444446, 444771, 444440, 444435, 444443, 444439, 444442, 444447, 444768, 444437, 444770, 444438, 444769, 444441, 444434]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c20><c4>(</c4><c20><a href="#1370_13_refs">cnum</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1370_19_refs">cratepath</a></c20><c4>)</c4><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;in&nbsp;</a></c20><c26><a href="../../librustc/back/link.rs.html#1369">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;</a></c20><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1371</ln><a id="1371">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;When&nbsp;performing&nbsp;LTO&nbsp;on&nbsp;an&nbsp;executable&nbsp;output,&nbsp;all&nbsp;of&nbsp;the
</c40><br/><ln>&nbsp;1372</ln><a id="1372">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;bytecode&nbsp;from&nbsp;the&nbsp;upstream&nbsp;libraries&nbsp;has&nbsp;already&nbsp;been
</c40><br/><ln>&nbsp;1373</ln><a id="1373">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;included&nbsp;in&nbsp;our&nbsp;object&nbsp;file&nbsp;output.&nbsp;We&nbsp;need&nbsp;to&nbsp;modify&nbsp;all&nbsp;of
</c40><br/><ln>&nbsp;1374</ln><a id="1374">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;remove&nbsp;their&nbsp;corresponding&nbsp;object
</c40><br/><ln>&nbsp;1375</ln><a id="1375">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;file&nbsp;to&nbsp;make&nbsp;sure&nbsp;we&nbsp;don't&nbsp;pull&nbsp;the&nbsp;same&nbsp;code&nbsp;in&nbsp;twice.
</c40><br/><ln>&nbsp;1376</ln><a id="1376">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1377</ln><a id="1377">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;We&nbsp;must&nbsp;continue&nbsp;to&nbsp;link&nbsp;to&nbsp;the&nbsp;upstream&nbsp;archives&nbsp;to&nbsp;be&nbsp;sure
</c40><br/><ln>&nbsp;1378</ln><a id="1378">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;to&nbsp;pull&nbsp;in&nbsp;native&nbsp;static&nbsp;dependencies.&nbsp;As&nbsp;the&nbsp;final&nbsp;caveat,
</c40><br/><ln>&nbsp;1379</ln><a id="1379">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;on&nbsp;linux&nbsp;it&nbsp;is&nbsp;apparently&nbsp;illegal&nbsp;to&nbsp;link&nbsp;to&nbsp;a&nbsp;blank&nbsp;archive,
</c40><br/><ln>&nbsp;1380</ln><a id="1380">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;so&nbsp;if&nbsp;an&nbsp;archive&nbsp;no&nbsp;longer&nbsp;has&nbsp;any&nbsp;object&nbsp;files&nbsp;in&nbsp;it&nbsp;after
</c40><br/><ln>&nbsp;1381</ln><a id="1381">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;we&nbsp;remove&nbsp;`lib.o`,&nbsp;then&nbsp;don't&nbsp;link&nbsp;against&nbsp;it&nbsp;at&nbsp;all.
</c40><br/><ln>&nbsp;1382</ln><a id="1382">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//
</c40><br/><ln>&nbsp;1383</ln><a id="1383">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;not&nbsp;doing&nbsp;LTO,&nbsp;then&nbsp;our&nbsp;job&nbsp;is&nbsp;simply&nbsp;to&nbsp;just&nbsp;link
</c40><br/><ln>&nbsp;1384</ln><a id="1384">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;against&nbsp;the&nbsp;archive.
</c40><br/><ln>&nbsp;1385</ln><a id="1385">&nbsp;</a><a id="n[444449, 444757, 444767, 444448]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.lto</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1386</ln><a id="1386">&nbsp;</a><a id="n[444452, 444450, 444458, 444457, 444459, 444453, 444455, 444456, 444454, 444451]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c22><c20><a href="#1386_20_refs">name</a></c20><c13><a href="../../libstd/vec.rs.html#n58722">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c10><a href="../../librustc/metadata/cstore.rs.html#91">.get_crate_data</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1370">cnum</a></c26><c4>)</c4><c24><a href="../../librustc/metadata/cstore.rs.html#39">.name</a></c24><c10><a href="../../libstd/str.rs.html#n69206">.clone</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1387</ln><a id="1387">&nbsp;</a><a id="n[444484, 444494, 444464, 444474, 444461, 444506, 444482, 444480, 444463, 444509, 444519, 444479, 444460, 444511, 444483, 444486, 444485, 444481, 444468, 444492, 444503, 444495, 444462, 444505, 444755, 444515, 444467, 444488, 444466, 444477, 444504, 444499, 444471, 444508, 444496, 444465, 444491, 444500, 444513, 444518, 444507, 444490, 444512, 444487, 444473, 444489, 444498, 444502, 444756, 444501, 444476, 444510, 444497, 444472, 444493, 444475, 444478]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/util/common.rs.html#21">time</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#290">.time_passes</a></c10><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c13><c21><a href="../../libstd/option.rs.html#n104341">format!</a></c21><c4>(</c4><c26><a href="../../libstd/fmt/rt.rs.html#n169507">"altering&nbsp;</a></c26><c3>{}</c3><c26><a href="../../libstd/fmt/rt.rs.html#n169507">.rlib"</a></c26><c3>,</c3><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n169877">name</a></c26><c4>)</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1370">
</a></c13><br/><ln>&nbsp;1388</ln><a id="1388">&nbsp;</a><a id="n[444523, 444526, 444754, 444520, 444524, 444525, 444753, 444734, 444522]">&nbsp;</a><c13><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c13><c4>()</c4><c3>,</c3><c13><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c13><c1><a href="../../libstd/vec.rs.html#n58722">|</a></c1><c4>()</c4><c8><a href="../../libstd/vec.rs.html#n58722">|</a></c8><c1><a href="../../libstd/vec.rs.html#n58722">&nbsp;</a></c1><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1389</ln><a id="1389">&nbsp;</a><a id="n[444529, 444527, 444532, 444528, 444533, 444534, 444531, 444530, 444535]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c22><c20><a href="#1389_24_refs">dst</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1368">tmpdir</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.join</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1370">cratepath</a></c26><c10><a href="../../libstd/path/posix.rs.html#n154901">.filename</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1390</ln><a id="1390">&nbsp;</a><a id="n[444540, 444536, 444654, 444653, 444538, 444541, 444537, 444539]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c26><a href="../../libstd/io/fs.rs.html#n140204">fs::copy</a></c26><c4>(</c4><c5><a href="../../libstd/option.rs.html#n104341">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1370">cratepath</a></c26><c3>,</c3><c27><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c27><c5><a href="../../libstd/option.rs.html#n104341">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1389">dst</a></c26><c4>)</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{</c3><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;1391</ln><a id="1391">&nbsp;</a><a id="n[444544, 444542, 444543]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105797">Ok</a></c20><c4>(</c4><c20><a href="../../libstd/result.rs.html#n105797">..</a></c20><c4>)</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{}</c3><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;1392</ln><a id="1392">&nbsp;</a><a id="n[444546, 444651, 444652, 444545]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../libstd/result.rs.html#n105801">Err</a></c20><c4>(</c4><c20><a href="#1392_28_refs">e</a></c20><c4>)</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1393</ln><a id="1393">&nbsp;</a><a id="n[444571, 444610, 444595, 444634, 444561, 444592, 444627, 444565, 444641, 444588, 444639, 444612, 444578, 444570, 444605, 444589, 444599, 444646, 444583, 444609, 444576, 444573, 444597, 444582, 444601, 444564, 444577, 444574, 444598, 444587, 444633, 444586, 444645, 444602, 444631, 444647, 444636, 444590, 444594, 444606, 444603, 444635, 444584, 444575, 444638, 444593, 444581, 444604, 444611, 444630, 444568, 444579, 444629, 444547, 444607, 444637, 444580, 444613, 444569, 444591, 444572, 444566, 444560, 444585, 444556, 444596, 444600, 444567, 444608, 444628, 444632, 444626, 444644]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#211">.err</a></c13><c4>(</c4><c21><a href="../../librustc/driver/session.rs.html#211">format!</a></c21><c4>(</c4><c22><a href="../../libstd/fmt/rt.rs.html#n169453">"failed&nbsp;to&nbsp;copy&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169453">&nbsp;to&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169453">:&nbsp;</a></c22><c3>{}</c3><c22><a href="../../libstd/fmt/rt.rs.html#n169453">"</a></c22><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1394</ln><a id="1394">&nbsp;</a><a id="n[444550, 444549, 444615, 444616, 444614, 444548, 444557, 444617]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1370">cratepath</a></c26><c27><a href="#1394_45_refs">.display</a></c27><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1395</ln><a id="1395">&nbsp;</a><a id="n[444620, 444553, 444558, 444551, 444619, 444552, 444618, 444621]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1389">dst</a></c26><c27><a href="../../libstd/fmt/mod.rs.html#n171474">.display</a></c27><c4>()</c4><c3>,</c3><c21><a href="../../librustc/driver/session.rs.html#211">
</a></c21><br/><ln>&nbsp;1396</ln><a id="1396">&nbsp;</a><a id="n[444624, 444555, 444625, 444622, 444559, 444554, 444623]">&nbsp;</a><c21><a href="../../librustc/driver/session.rs.html#211">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c26><a href="../../libstd/fmt/mod.rs.html#n169877">e</a></c26><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1397</ln><a id="1397">&nbsp;</a><a id="n[444650, 444649, 444648]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#220">.abort_if_errors</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1398</ln><a id="1398">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../libstd/option.rs.html#n104341">
</a></c21><br/><ln>&nbsp;1399</ln><a id="1399">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1400</ln><a id="1400">&nbsp;</a><a id="n[444656, 444658, 444655, 444659, 444661, 444657, 444662, 444660]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c22><c20><a href="#1400_24_refs">dst_str</a></c20><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1389">dst</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1401</ln><a id="1401">&nbsp;</a><a id="n[444669, 444665, 444668, 444666, 444663, 444667, 444670, 444664]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c22><c21>mut</c21><c20><a href="#1401_24_refs">&nbsp;archive</a></c20><c13><a href="../../libstd/option.rs.html#n104341">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/archive.rs.html#85">Archive::open</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1368">sess</a></c26><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1389">dst</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1402</ln><a id="1402">&nbsp;</a><a id="n[444680, 444727, 444688, 444725, 444693, 444681, 444700, 444717, 444682, 444677, 444702, 444683, 444685, 444726, 444684, 444718, 444712, 444707, 444715, 444695, 444713, 444719, 444686, 444692, 444674, 444687, 444714, 444704, 444691, 444690, 444696, 444708, 444703, 444721, 444672, 444710, 444711, 444698, 444689, 444724, 444706, 444699, 444694, 444676, 444705, 444671, 444701, 444675, 444697, 444716, 444673, 444709]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1401">archive</a></c26><c10><a href="../../librustc/back/archive.rs.html#143">.remove_file</a></c10><c4>(</c4><c21><a href="#1273_34_refs">format!</a></c21><c4>(</c4><c16><a href="#1402_48_refs">"</a></c16><c3>{}</c3><c16><a href="#1402_48_refs">.o"</a></c16><c3>,</c3><c21><a href="#1273_34_refs">&nbsp;</a></c21><c5><a href="#1402_56_refs">name</a></c5><c4>))</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1403</ln><a id="1403">&nbsp;</a><a id="n[444728, 444731, 444729, 444732, 444730, 444733]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c22><c20><a href="#1403_24_refs">files</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1401">archive</a></c26><c10><a href="../../librustc/back/archive.rs.html#153">.files</a></c10><c4>()</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1404</ln><a id="1404">&nbsp;</a><a id="n[444739, 444741, 444736, 444735, 444743, 444746, 444740, 444744, 444745, 444742, 444751, 444752, 444738]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1403">files</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#3999">.any</a></c10><c4>(</c4><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3999">|</a></c1><c20><a href="#1404_41_refs">s</a></c20><c8><a href="../../librustc/middle/typeck/check/mod.rs.html#3999">|</a></c8><c1><a href="../../librustc/middle/typeck/check/mod.rs.html#3999">&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1404">s</a></c26><c10><a href="../../libstd/str.rs.html#n66561">.ends_with</a></c10><c4>(</c4><c12><a href="#1273_34_refs">".o"</a></c12><c4>))</c4><c21><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c21><c3>{</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1405</ln><a id="1405">&nbsp;</a><a id="n[444750, 444749, 444748, 444747]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1400">dst_str</a></c26><c4>)</c4><c3>;</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1406</ln><a id="1406">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../libstd/option.rs.html#n104341">
</a></c22><br/><ln>&nbsp;1407</ln><a id="1407">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../libstd/option.rs.html#n104341">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1408</ln><a id="1408">&nbsp;</a><a id="n[444765, 444766]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c21><c21>else</c21><c21><a href="../../librustc/back/link.rs.html#1370">&nbsp;</a></c21><c3>{</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1409</ln><a id="1409">&nbsp;</a><a id="n[444759, 444758, 444761, 444762, 444764, 444763, 444760]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1368">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1370">cratepath</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.as_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1410</ln><a id="1410">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c22><a href="../../librustc/back/link.rs.html#1370">
</a></c22><br/><ln>&nbsp;1411</ln><a id="1411">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="../../librustc/back/link.rs.html#1370">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c20><a href="../../libstd/option.rs.html#n104337">
</a></c20><br/><ln>&nbsp;1412</ln><a id="1412">&nbsp;</a><a id="n[]">&nbsp;</a><c20><a href="../../libstd/option.rs.html#n104337">&nbsp;&nbsp;&nbsp;&nbsp;</a></c20><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1413</ln><a id="1413">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1414</ln><a id="1414">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Same&nbsp;thing&nbsp;as&nbsp;above,&nbsp;but&nbsp;for&nbsp;dynamic&nbsp;crates&nbsp;instead&nbsp;of&nbsp;static&nbsp;crates.
</c40><br/><ln>&nbsp;1415</ln><a id="1415">&nbsp;</a><a id="n[444930, 444781, 444785, 444779, 444786, 444784, 444777, 444780, 444773, 444776]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c30>fn</c30><c30><a href="#1415_4_refs">&nbsp;add_dynamic_crates</a></c30><c4>(</c4><c20><a href="#1415_26_refs">args</a></c20><c1><a href="#1415_4_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c3>,</c3><c1><a href="#1415_4_refs">&nbsp;</a></c1><c20><a href="#1415_48_refs">sess</a></c20><c1><a href="#1415_4_refs">:&nbsp;</a></c1><c8><a href="#1273_34_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c3>,</c3><c1><a href="#1415_4_refs">
</a></c1><br/><ln>&nbsp;1416</ln><a id="1416">&nbsp;</a><a id="n[444794, 444791, 444789, 444792, 444796, 444795, 444874]">&nbsp;</a><c1><a href="#1415_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c20><a href="#1416_26_refs">crates</a></c20><c1><a href="#1415_4_refs">:&nbsp;</a></c1><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;</a></c8><c4>(</c4><c8><a href="../../libsyntax/ast.rs.html#n18429">ast::CrateNum</a></c8><c3>,</c3><c8><a href="../../libstd/vec.rs.html#n56401">&nbsp;</a></c8><c8><a href="../../libstd/path/posix.rs.html#n154239">Path</a></c8><c4>)</c4><c8><a href="../../libstd/vec.rs.html#n56401">&gt;</a></c8><c1><a href="#1415_4_refs">&nbsp;</a></c1><c4>)</c4><c1><a href="#1415_4_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1415_4_refs">
</a></c22><br/><ln>&nbsp;1417</ln><a id="1417">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1415_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;If&nbsp;we're&nbsp;performing&nbsp;LTO,&nbsp;then&nbsp;it&nbsp;should&nbsp;have&nbsp;been&nbsp;previously&nbsp;required
</c40><br/><ln>&nbsp;1418</ln><a id="1418">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1415_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;that&nbsp;all&nbsp;upstream&nbsp;rust&nbsp;dependencies&nbsp;were&nbsp;available&nbsp;in&nbsp;an&nbsp;rlib&nbsp;format.
</c40><br/><ln>&nbsp;1419</ln><a id="1419">&nbsp;</a><a id="n[444798, 444799, 444797]">&nbsp;</a><c22><a href="#1415_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert!</a></c22><c4>(</c4><c5><a href="#1415_4_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1415">sess</a></c26><c10><a href="../../librustc/driver/session.rs.html#308">.lto</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1415_4_refs">
</a></c22><br/><ln>&nbsp;1420</ln><a id="1420">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1415_4_refs">
</a></c22><br/><ln>&nbsp;1421</ln><a id="1421">&nbsp;</a><a id="n[444877, 444926, 444875, 444885, 444928, 444883, 444925, 444929, 444886, 444881, 444879, 444887, 444884, 444882, 444878, 444880, 444876, 444927]">&nbsp;</a><c22><a href="#1415_4_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c21><a href="../../librustc/back/link.rs.html#1421">&nbsp;</a></c21><c4>(</c4><c20><a href="#1273_34_refs">_</a></c20><c3>,</c3><c20><a href="#1273_34_refs">&nbsp;</a></c20><c20><a href="#1421_16_refs">cratepath</a></c20><c4>)</c4><c21><a href="../../librustc/back/link.rs.html#1421">&nbsp;in&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1416">crates</a></c26><c10><a href="../../libstd/vec.rs.html#n57596">.move_iter</a></c10><c4>()</c4><c21><a href="../../librustc/back/link.rs.html#1421">&nbsp;</a></c21><c3>{</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1422</ln><a id="1422">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;Just&nbsp;need&nbsp;to&nbsp;tell&nbsp;the&nbsp;linker&nbsp;about&nbsp;where&nbsp;the&nbsp;library&nbsp;lives&nbsp;and
</c40><br/><ln>&nbsp;1423</ln><a id="1423">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c40>//&nbsp;what&nbsp;its&nbsp;name&nbsp;is
</c40><br/><ln>&nbsp;1424</ln><a id="1424">&nbsp;</a><a id="n[444889, 444890, 444893, 444888, 444894, 444892, 444891]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1424_16_refs">dir</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1421">cratepath</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.dirname_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>()</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1425</ln><a id="1425">&nbsp;</a><a id="n[444902, 444898, 444905, 444899, 444901, 444903, 444904, 444900, 444906, 444896, 444895, 444897]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>if</c21><c13><a href="#1273_34_refs">&nbsp;</a></c13><c5><a href="#1273_34_refs">!</a></c5><c26><a href="../../librustc/back/link.rs.html#1424">dir</a></c26><c10><a href="../../librustc/middle/typeck/check/mod.rs.html#4071">.is_empty</a></c10><c4>()</c4><c13><a href="#1273_34_refs">&nbsp;</a></c13><c3>{</c3><c22><a href="#1273_34_refs">&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1415">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c12><a href="../../libstd/vec.rs.html#n57406">"-L"</a></c12><c5><a href="../../libstd/vec.rs.html#n57406">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1424">dir</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">&nbsp;</a></c22><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1426</ln><a id="1426">&nbsp;</a><a id="n[444916, 444912, 444914, 444911, 444915, 444917, 444913, 444909, 444907, 444908, 444910, 444918]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1273_34_refs">&nbsp;</a></c22><c20><a href="#1426_16_refs">libarg</a></c20><c13><a href="#1273_34_refs">&nbsp;=&nbsp;</a></c13><c26><a href="../../librustc/back/link.rs.html#1345">unlib</a></c26><c4>(</c4><c5><a href="#1273_34_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1415">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#177">.targ_cfg</a></c24><c3>,</c3><c27><a href="#1273_34_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1421">cratepath</a></c26><c10><a href="../../librustc/middle/typeck/astconv.rs.html#142">.filestem_str</a></c10><c4>()</c4><c10><a href="../../libstd/option.rs.html#n105073">.unwrap</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1427</ln><a id="1427">&nbsp;</a><a id="n[444921, 444922, 444920, 444919, 444924, 444923]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1415">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c12><a href="#1273_34_refs">"-l"</a></c12><c5><a href="#1273_34_refs">&nbsp;+&nbsp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1426">libarg</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1428</ln><a id="1428">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1273_34_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="../../librustc/back/link.rs.html#1421">
</a></c21><br/><ln>&nbsp;1429</ln><a id="1429">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="../../librustc/back/link.rs.html#1421">&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1273_34_refs">
</a></c22><br/><ln>&nbsp;1430</ln><a id="1430">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><ln>&nbsp;1431</ln><a id="1431">&nbsp;</a><a id="n[]">&nbsp;</a><c0>
</c0><br/><ln>&nbsp;1432</ln><a id="1432">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;Link&nbsp;in&nbsp;all&nbsp;of&nbsp;our&nbsp;upstream&nbsp;crates'&nbsp;native&nbsp;dependencies.&nbsp;Remember&nbsp;that
</c40><br/><ln>&nbsp;1433</ln><a id="1433">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;all&nbsp;of&nbsp;these&nbsp;upstream&nbsp;native&nbsp;depenencies&nbsp;are&nbsp;all&nbsp;non-static
</c40><br/><ln>&nbsp;1434</ln><a id="1434">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;dependencies.&nbsp;We've&nbsp;got&nbsp;two&nbsp;cases&nbsp;then:
</c40><br/><ln>&nbsp;1435</ln><a id="1435">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1436</ln><a id="1436">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;1.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;an&nbsp;rlib.&nbsp;In&nbsp;this&nbsp;case&nbsp;we&nbsp;*must*&nbsp;link&nbsp;in&nbsp;the
</c40><br/><ln>&nbsp;1437</ln><a id="1437">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;native&nbsp;dependency&nbsp;because&nbsp;the&nbsp;rlib&nbsp;is&nbsp;just&nbsp;an&nbsp;archive.
</c40><br/><ln>&nbsp;1438</ln><a id="1438">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1439</ln><a id="1439">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;2.&nbsp;The&nbsp;upstream&nbsp;crate&nbsp;is&nbsp;a&nbsp;dylib.&nbsp;In&nbsp;order&nbsp;to&nbsp;use&nbsp;the&nbsp;dylib,&nbsp;we&nbsp;have&nbsp;to
</c40><br/><ln>&nbsp;1440</ln><a id="1440">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;have&nbsp;the&nbsp;dependency&nbsp;present&nbsp;on&nbsp;the&nbsp;system&nbsp;somewhere.&nbsp;Thus,&nbsp;we&nbsp;don't
</c40><br/><ln>&nbsp;1441</ln><a id="1441">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;gain&nbsp;a&nbsp;whole&nbsp;lot&nbsp;from&nbsp;not&nbsp;linking&nbsp;in&nbsp;the&nbsp;dynamic&nbsp;dependency&nbsp;to&nbsp;this
</c40><br/><ln>&nbsp;1442</ln><a id="1442">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;&nbsp;&nbsp;&nbsp;crate&nbsp;as&nbsp;well.
</c40><br/><ln>&nbsp;1443</ln><a id="1443">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//
</c40><br/><ln>&nbsp;1444</ln><a id="1444">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;The&nbsp;use&nbsp;case&nbsp;for&nbsp;this&nbsp;is&nbsp;a&nbsp;little&nbsp;subtle.&nbsp;In&nbsp;theory&nbsp;the&nbsp;native
</c40><br/><ln>&nbsp;1445</ln><a id="1445">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;dependencies&nbsp;of&nbsp;a&nbsp;crate&nbsp;a&nbsp;purely&nbsp;an&nbsp;implementation&nbsp;detail&nbsp;of&nbsp;the&nbsp;crate
</c40><br/><ln>&nbsp;1446</ln><a id="1446">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;itself,&nbsp;but&nbsp;the&nbsp;problem&nbsp;arises&nbsp;with&nbsp;generic&nbsp;and&nbsp;inlined&nbsp;functions.&nbsp;If&nbsp;a
</c40><br/><ln>&nbsp;1447</ln><a id="1447">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;generic&nbsp;function&nbsp;calls&nbsp;a&nbsp;native&nbsp;function,&nbsp;then&nbsp;the&nbsp;generic&nbsp;function&nbsp;must
</c40><br/><ln>&nbsp;1448</ln><a id="1448">&nbsp;</a><a id="n[]">&nbsp;</a><c40>//&nbsp;be&nbsp;instantiated&nbsp;in&nbsp;the&nbsp;target&nbsp;crate,&nbsp;meaning&nbsp;that&nbsp;the&nbsp;native&nbsp;symbol&nbsp;must
</c40><br/><ln>&nbsp;1449</ln><a id="1449">&nbsp;</a><a id="n[444932]">&nbsp;</a><c40>//&nbsp;also&nbsp;be&nbsp;resolved&nbsp;in&nbsp;the&nbsp;target&nbsp;crate.
</c40><br/><ln>&nbsp;1450</ln><a id="1450">&nbsp;</a><a id="n[444940, 444946, 444943, 444938, 444945, 444935, 444939, 445024, 444936, 444944]">&nbsp;</a><c30>fn</c30><c30><a href="#1449_41_refs">&nbsp;add_upstream_native_libraries</a></c30><c4>(</c4><c20><a href="#1450_33_refs">args</a></c20><c1><a href="#1449_41_refs">:&nbsp;</a></c1><c8><a href="#1449_41_refs">&amp;mut&nbsp;</a></c8><c8><a href="../../libstd/vec.rs.html#n56401">Vec&lt;~str&gt;</a></c8><c3>,</c3><c1><a href="#1449_41_refs">&nbsp;</a></c1><c20><a href="#1450_55_refs">sess</a></c20><c1><a href="#1449_41_refs">:&nbsp;</a></c1><c8><a href="#1449_41_refs">&amp;</a></c8><c8><a href="../../librustc/driver/session.rs.html#175">Session</a></c8><c4>)</c4><c1><a href="#1449_41_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1449_41_refs">
</a></c22><br/><ln>&nbsp;1451</ln><a id="1451">&nbsp;</a><a id="n[444952, 444950, 444948, 444953, 444951, 444949, 444947]">&nbsp;</a><c22><a href="#1449_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1449_41_refs">&nbsp;</a></c22><c20><a href="#1451_8_refs">cstore</a></c20><c16><a href="#1449_41_refs">&nbsp;=&nbsp;</a></c16><c5><a href="#1449_41_refs">&amp;</a></c5><c26><a href="../../librustc/back/link.rs.html#1450">sess</a></c26><c24><a href="../../librustc/driver/session.rs.html#179">.cstore</a></c24><c3>;</c3><c22><a href="#1449_41_refs">
</a></c22><br/><ln>&nbsp;1452</ln><a id="1452">&nbsp;</a><a id="n[444956, 444971, 444957, 445020, 444954, 444960, 444961, 444959, 444962, 445023, 445021, 445022]">&nbsp;</a><c22><a href="#1449_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1451">cstore</a></c26><c10><a href="../../librustc/metadata/cstore.rs.html#113">.iter_crate_data</a></c10><c4>(</c4><c1><a href="#1449_41_refs">|</a></c1><c20><a href="#1452_28_refs">cnum</a></c20><c3>,</c3><c1><a href="#1449_41_refs">&nbsp;</a></c1><c20><a href="#1449_41_refs">_</a></c20><c8><a href="#1449_41_refs">|</a></c8><c1><a href="#1449_41_refs">&nbsp;</a></c1><c3>{</c3><c22><a href="#1449_41_refs">
</a></c22><br/><ln>&nbsp;1453</ln><a id="1453">&nbsp;</a><a id="n[444965, 444970, 444966, 444969, 444968, 444964, 444967, 444963]">&nbsp;</a><c22><a href="#1449_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>let</c21><c22><a href="#1449_41_refs">&nbsp;</a></c22><c20><a href="#1453_12_refs">libs</a></c20><c16><a href="#1449_41_refs">&nbsp;=&nbsp;</a></c16><c26><a href="../../librustc/metadata/csearch.rs.html#263">csearch::get_native_libraries</a></c26><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1451">cstore</a></c26><c3>,</c3><c27><a href="#1449_41_refs">&nbsp;</a></c27><c26><a href="../../librustc/back/link.rs.html#1452">cnum</a></c26><c4>)</c4><c3>;</c3><c22><a href="#1449_41_refs">
</a></c22><br/><ln>&nbsp;1454</ln><a id="1454">&nbsp;</a><a id="n[445018, 444974, 445019, 444982, 444975, 444986, 444981, 444972, 444979, 444978, 445017, 444976, 445016, 444985, 444984, 444973, 444977, 444980, 444983]">&nbsp;</a><c22><a href="#1449_41_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>for</c21><c1><a href="../../librustc/back/link.rs.html#1454">&nbsp;</a></c1><c20><a href="../../libstd/option.rs.html#n104341">&amp;</a></c20><c4>(</c4><c20><a href="#1454_14_refs">kind</a></c20><c3>,</c3><c20><a href="../../libstd/option.rs.html#n104341">&nbsp;</a></c20><c20><a href="#1454_20_refs">ref&nbsp;lib</a></c20><c4>)</c4><c1><a href="../../librustc/back/link.rs.html#1454">&nbsp;in&nbsp;</a></c1><c26><a href="../../librustc/back/link.rs.html#1453">libs</a></c26><c10><a href="../../libstd/vec.rs.html#n57688">.iter</a></c10><c4>()</c4><c1><a href="../../librustc/back/link.rs.html#1454">&nbsp;</a></c1><c3>{</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1455</ln><a id="1455">&nbsp;</a><a id="n[444987, 445015]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c21>match</c21><c21><a href="#1454_8_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1454">kind</a></c26><c21><a href="#1454_8_refs">&nbsp;</a></c21><c3>{</c3><c21><a href="#1454_8_refs">
</a></c21><br/><ln>&nbsp;1456</ln><a id="1456">&nbsp;</a><a id="n[444989, 444993, 444991, 444992, 444990, 444988, 444994]">&nbsp;</a><c21><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#55">cstore::NativeUnknown</a></c20><c21><a href="#1454_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1454_8_refs">&nbsp;</a></c21><c26><a href="../../librustc/back/link.rs.html#1450">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c12><a href="#1454_8_refs">"-l"</a></c12><c5><a href="#1454_8_refs">&nbsp;+&nbsp;*</a></c5><c26><a href="../../librustc/back/link.rs.html#1454">lib</a></c26><c4>)</c4><c3>,</c3><c21><a href="#1454_8_refs">
</a></c21><br/><ln>&nbsp;1457</ln><a id="1457">&nbsp;</a><a id="n[444995, 445006, 445007]">&nbsp;</a><c21><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#54">cstore::NativeFramework</a></c20><c21><a href="#1454_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1454_8_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1458</ln><a id="1458">&nbsp;</a><a id="n[444998, 444999, 445000, 444997, 444996]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1450">args</a></c26><c13><a href="../../libstd/vec.rs.html#n57406">.push</a></c13><c4>(</c4><c16><a href="#1454_8_refs">~</a></c16><c12><a href="#1454_8_refs">"-framework"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1459</ln><a id="1459">&nbsp;</a><a id="n[445002, 445005, 445004, 445001, 445003]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1450">args</a></c26><c10><a href="../../libstd/vec.rs.html#n57406">.push</a></c10><c4>(</c4><c26><a href="../../librustc/back/link.rs.html#1454">lib</a></c26><c10><a href="../../libstd/str.rs.html#n66924">.to_owned</a></c10><c4>())</c4><c3>;</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1460</ln><a id="1460">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1454_8_refs">
</a></c21><br/><ln>&nbsp;1461</ln><a id="1461">&nbsp;</a><a id="n[445013, 445014, 445008]">&nbsp;</a><c21><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c20><a href="../../librustc/metadata/cstore.rs.html#53">cstore::NativeStatic</a></c20><c21><a href="#1454_8_refs">&nbsp;</a></c21><c4>=&gt;</c4><c21><a href="#1454_8_refs">&nbsp;</a></c21><c3>{</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1462</ln><a id="1462">&nbsp;</a><a id="n[445011, 445010, 445012, 445009]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c26><a href="../../librustc/back/link.rs.html#1450">sess</a></c26><c13><a href="../../librustc/driver/session.rs.html#241">.bug</a></c13><c4>(</c4><c12><a href="../../librustc/driver/session.rs.html#241">"statics&nbsp;shouldn't&nbsp;be&nbsp;propagated"</a></c12><c4>)</c4><c3>;</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1463</ln><a id="1463">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c21><a href="#1454_8_refs">
</a></c21><br/><ln>&nbsp;1464</ln><a id="1464">&nbsp;</a><a id="n[]">&nbsp;</a><c21><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c21><c3>}</c3><c22><a href="#1454_8_refs">
</a></c22><br/><ln>&nbsp;1465</ln><a id="1465">&nbsp;</a><a id="n[]">&nbsp;</a><c22><a href="#1454_8_refs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a></c22><c3>}</c3><c1><a href="../../librustc/back/link.rs.html#1454">
</a></c1><br/><ln>&nbsp;1466</ln><a id="1466">&nbsp;</a><a id="n[]">&nbsp;</a><c1><a href="../../librustc/back/link.rs.html#1454">&nbsp;&nbsp;&nbsp;&nbsp;</a></c1><c3>}</c3><c4>)</c4><c3>;</c3><c22><a href="#1449_41_refs">
</a></c22><br/><ln>&nbsp;1467</ln><a id="1467">&nbsp;</a><a id="n[]">&nbsp;</a><c3>}</c3><c0>
</c0><br/><div class="refblock"><br/><a id="1273_34_refs"><a href="#1273"><c40>librustc/back/link.rs:1273:34-1273:34&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;the&nbsp;intermediate&nbsp;rlib&nbsp;version)
<br/>fn&nbsp;add_upstream_rust_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1181"><c40>1181:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_upstream_rust_crates(&amp;mut&nbsp;args,&nbsp;sess,&nbsp;dylib,&nbsp;tmpdir);
<br/></a><br/><br/><a id="1243_50_refs"><a href="#1243"><c40>librustc/back/link.rs:1243:50-1243:50&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;may&nbsp;have&nbsp;their&nbsp;native&nbsp;library&nbsp;pulled&nbsp;in&nbsp;above.
<br/>fn&nbsp;add_local_native_libraries(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1182"><c40>1182:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_local_native_libraries(&amp;mut&nbsp;args,&nbsp;sess);
<br/></a><br/><br/><a id="323_4_refs"><a href="#323"><c40>librustc/back/link.rs:323:4-323:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;run_assembler(sess:&nbsp;&amp;Session,&nbsp;outputs:&nbsp;&amp;OutputFilenames)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;super::get_cc_prog(sess);
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#442"><c40>442:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_assembler(sess,&nbsp;outputs);
<br/></a><br/><br/><a id="982_19_refs"><a href="#982"><c40>librustc/back/link.rs:982:19-982:19&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;metadata&nbsp;file).
<br/>fn&nbsp;link_staticlib(sess:&nbsp;&amp;Session,&nbsp;obj_filename:&nbsp;&amp;Path,&nbsp;out_filename:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#862"><c40>862:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_staticlib(sess,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><br/><br/><a id="796_1_refs"><a href="#796"><c40>librustc/back/link.rs:796:1-796:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;is_writeable(p:&nbsp;&amp;Path)&nbsp;-&gt;&nbsp;bool&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#846"><c40>846:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;obj_is_writeable&nbsp;=&nbsp;is_writeable(&amp;obj_filename);
<br/></a><a href="../../librustc/back/link.rs.html#847"><c40>847:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_is_writeable&nbsp;=&nbsp;is_writeable(&amp;out_filename);
<br/></a><br/><br/><a id="1063_1_refs"><a href="#1063"><c40>librustc/back/link.rs:1063:1-1063:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;link_args(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1020"><c40>1020:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;cc_args.push_all_move(link_args(sess,&nbsp;dylib,&nbsp;tmpdir.path(),
<br/></a><br/><br/><a id="126_4_refs"><a href="#126"><c40>librustc/back/link.rs:126:4-126:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;run_passes(sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trans:&nbsp;&amp;CrateTranslation,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#440"><c40>440:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_passes(sess,&nbsp;trans,&nbsp;[output_type],&nbsp;outputs));
<br/></a><a href="../../librustc/driver/driver.rs.html#450"><c40>450:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::write::run_passes(sess,
<br/></a><br/><br/><a id="239_12_refs"><a href="#239"><c40>librustc/back/link.rs:239:12-239:12&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;with_codegen(tm:&nbsp;TargetMachineRef,&nbsp;llmod:&nbsp;ModuleRef,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f:&nbsp;|PassManagerRef|)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#305"><c40>305:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;trans.metadata_module,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#297"><c40>297:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#279"><c40>279:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><a href="../../librustc/back/link.rs.html#262"><c40>262:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with_codegen(tm,&nbsp;llmod,&nbsp;|cpm|&nbsp;{
<br/></a><br/><br/><a id="1013_40_refs"><a href="#1013"><c40>librustc/back/link.rs:1013:40-1013:40&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;links&nbsp;to&nbsp;all&nbsp;upstream&nbsp;files&nbsp;as&nbsp;well.
<br/>fn&nbsp;link_natively(sess:&nbsp;&amp;Session,&nbsp;dylib:&nbsp;bool,&nbsp;obj_filename:&nbsp;&amp;Path,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#868"><c40>868:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;true,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><a href="../../librustc/back/link.rs.html#865"><c40>865:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_natively(sess,&nbsp;false,&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><br/><br/><a id="1368_4_refs"><a href="#1368"><c40>librustc/back/link.rs:1368:4-1368:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;add_static_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,&nbsp;tmpdir:&nbsp;&amp;Path,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crates:&nbsp;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1299"><c40>1299:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
<br/></a><a href="../../librustc/back/link.rs.html#1308"><c40>1308:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_static_crates(args,&nbsp;sess,&nbsp;tmpdir,&nbsp;deps)
<br/></a><br/><br/><a id="1345_4_refs"><a href="#1345"><c40>librustc/back/link.rs:1345:4-1345:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;unlib(config:&nbsp;&amp;session::Config,&nbsp;stem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;stem.starts_with("lib")&nbsp;&amp;&amp;&nbsp;config.os&nbsp;!=&nbsp;abi::OsWin32&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1426"><c40>1426:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libarg&nbsp;=&nbsp;unlib(&amp;sess.targ_cfg,&nbsp;cratepath.filestem_str().unwrap());
<br/></a><br/><br/><a id="533_54_refs"><a href="#533"><c40>librustc/back/link.rs:533:54-533:54&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;This&nbsp;calculates&nbsp;STH&nbsp;for&nbsp;a&nbsp;symbol,&nbsp;as&nbsp;defined&nbsp;above
<br/>fn&nbsp;symbol_hash(tcx:&nbsp;&amp;ty::ctxt,&nbsp;symbol_hasher:&nbsp;&amp;mut&nbsp;Sha256,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#558"><c40>558:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;symbol_hash(ccx.tcx(),&nbsp;&amp;mut&nbsp;*symbol_hasher,&nbsp;t,&nbsp;&amp;ccx.link_meta);
<br/></a><br/><br/><a id="55_1_refs"><a href="#55"><c40>librustc/back/link.rs:55:1-55:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;llvm_err(sess:&nbsp;&amp;Session,&nbsp;msg:&nbsp;~str)&nbsp;-&gt;&nbsp;!&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/lto.rs.html"><c40>librustc/back/lto.rs:<br/></c40></a><a href="../../librustc/back/lto.rs.html#66"><c40>66:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::llvm_err(sess,&nbsp;format!("failed&nbsp;to&nbsp;load&nbsp;bc&nbsp;of&nbsp;`{}`",&nbsp;name));
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#81"><c40>81:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llvm_err(sess,&nbsp;~"could&nbsp;not&nbsp;write&nbsp;output");
<br/></a><br/><br/><a id="68_1_refs"><a href="#68"><c40>librustc/back/link.rs:68:1-68:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;WriteOutputFile(
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#308"><c40>308:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,
<br/></a><a href="../../librustc/back/link.rs.html#280"><c40>280:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,&nbsp;llmod,&nbsp;&amp;path,
<br/></a><a href="../../librustc/back/link.rs.html#298"><c40>298:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteOutputFile(sess,&nbsp;tm,&nbsp;cpm,&nbsp;llmod,&nbsp;path,
<br/></a><br/><br/><a id="525_1_refs"><a href="#525"><c40>librustc/back/link.rs:525:1-525:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;truncated_hash_result(symbol_hasher:&nbsp;&amp;mut&nbsp;Sha256)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#514"><c40>514:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;truncated_hash_result(&amp;mut&nbsp;s).slice_to(8).to_owned()
<br/></a><a href="../../librustc/back/link.rs.html#545"><c40>545:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;truncated_hash_result(symbol_hasher);
<br/></a><br/><br/><a id="735_1_refs"><a href="#735"><c40>librustc/back/link.rs:735:1-735:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_ar_prog(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/archive.rs.html"><c40>librustc/back/archive.rs:<br/></c40></a><a href="../../librustc/back/archive.rs.html#41"><c40>41:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;ar&nbsp;=&nbsp;get_ar_prog(sess);
<br/></a><br/><br/><a id="113_4_refs"><a href="#113"><c40>librustc/back/link.rs:113:4-113:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;target_feature&lt;'a&gt;(sess:&nbsp;&amp;'a&nbsp;Session)&nbsp;-&gt;&nbsp;&amp;'a&nbsp;str&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;sess.targ_cfg.os&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#157"><c40>157:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_feature(sess).with_c_str(|features|&nbsp;{
<br/></a><br/><br/><a id="699_1_refs"><a href="#699"><c40>librustc/back/link.rs:699:1-699:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_internal_name_by_type_and_seq(ccx:&nbsp;&amp;CrateContext,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/glue.rs.html"><c40>librustc/middle/trans/glue.rs:<br/></c40></a><a href="../../librustc/middle/trans/glue.rs.html#433"><c40>433:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fn_nm&nbsp;=&nbsp;mangle_internal_name_by_type_and_seq(ccx,&nbsp;t,&nbsp;~"glue_"&nbsp;+&nbsp;name);
<br/></a><a href="../../librustc/middle/trans/glue.rs.html#406"><c40>406:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;name&nbsp;=&nbsp;mangle_internal_name_by_type_and_seq(ccx,&nbsp;t,&nbsp;"tydesc");
<br/></a><br/><br/><a id="1356_4_refs"><a href="#1356"><c40>librustc/back/link.rs:1356:4-1356:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;get_deps(cstore:&nbsp;&amp;cstore::CStore,&nbsp;&nbsp;preference:&nbsp;cstore::LinkagePreference)
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;&nbsp;Option&lt;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;&nbsp;&gt;
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1296"><c40>1296:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;statik&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireStatic);
<br/></a><a href="../../librustc/back/link.rs.html#1295"><c40>1295:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;dynamic&nbsp;=&nbsp;get_deps(&amp;sess.cstore,&nbsp;cstore::RequireDynamic);
<br/></a><br/><br/><a id="664_1_refs"><a href="#664"><c40>librustc/back/link.rs:664:1-664:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_exported_name(ccx:&nbsp;&amp;CrateContext,&nbsp;path:&nbsp;PathElems,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/monomorphize.rs.html"><c40>librustc/middle/trans/monomorphize.rs:<br/></c40></a><a href="../../librustc/middle/trans/monomorphize.rs.html#180"><c40>180:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_exported_name(ccx,&nbsp;path,&nbsp;mono_ty,&nbsp;fn_id.node)
<br/></a><a href="../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../librustc/middle/trans/base.rs.html#1896"><c40>1896:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_exported_name(ccx,&nbsp;path,&nbsp;ty,&nbsp;id)
<br/></a><br/><br/><a id="507_1_refs"><a href="#507"><c40>librustc/back/link.rs:507:1-507:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;crate_id_hash(crate_id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/metadata/creader.rs.html"><c40>librustc/metadata/creader.rs:<br/></c40></a><a href="../../librustc/metadata/creader.rs.html#289"><c40>289:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id_hash&nbsp;=&nbsp;link::crate_id_hash(crate_id);
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#715"><c40>715:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;format!("{}-{}-{}",&nbsp;id.name,&nbsp;crate_id_hash(id),&nbsp;id.version_or_default())
<br/></a><br/><br/><a id="1449_41_refs"><a href="#1449"><c40>librustc/back/link.rs:1449:41-1449:41&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;also&nbsp;be&nbsp;resolved&nbsp;in&nbsp;the&nbsp;target&nbsp;crate.
<br/>fn&nbsp;add_upstream_native_libraries(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1183"><c40>1183:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;add_upstream_native_libraries(&amp;mut&nbsp;args,&nbsp;sess);
<br/></a><br/><br/><a id="774_59_refs"><a href="#774"><c40>librustc/back/link.rs:774:59-774:59&nbsp;-fn-&nbsp;definition:<br/></c40><pr>///&nbsp;of&nbsp;the&nbsp;requested&nbsp;outputs&nbsp;for&nbsp;this&nbsp;compilation&nbsp;session.
<br/>pub&nbsp;fn&nbsp;link_binary(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#463"><c40>463:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::link_binary(sess,
<br/></a><br/><br/><a id="500_1_refs"><a href="#500"><c40>librustc/back/link.rs:500:1-500:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;find_crate_id(attrs:&nbsp;&amp;[ast::Attribute],&nbsp;out_filestem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;CrateId&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#519"><c40>519:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crateid:&nbsp;find_crate_id(krate.attrs.as_slice(),&nbsp;out_filestem),
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#672"><c40>672:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;input.filestem());
<br/></a><a href="../../librustc/driver/driver.rs.html#575"><c40>575:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),
<br/></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#321"><c40>321:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(attrs.as_slice(),&nbsp;t_outputs.out_filestem);
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#508"><c40>508:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;id&nbsp;=&nbsp;link::find_crate_id(krate.attrs.as_slice(),&nbsp;outputs.out_filestem);
<br/></a><br/><br/><a id="47_47_refs"><a href="#47"><c40>librustc/back/link.rs:47:47-47:47&nbsp;-enum-&nbsp;definition:<br/></c40><pr>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/>pub&nbsp;enum&nbsp;OutputType&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#128"><c40>128:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_types:&nbsp;&amp;[OutputType],
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#1134"><c40>1134:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></a><a href="../../librustc/driver/driver.rs.html#1142"><c40>1142:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;pub&nbsp;fn&nbsp;temp_path(&amp;self,&nbsp;flavor:&nbsp;link::OutputType)&nbsp;-&gt;&nbsp;Path&nbsp;{
<br/></a><a href="../../librustc/driver/session.rs.html"><c40>librustc/driver/session.rs:<br/></c40></a><a href="../../librustc/driver/session.rs.html#133"><c40>133:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;output_types:&nbsp;Vec&lt;back::link::OutputType&gt;&nbsp;,
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#47"><c40>47:&nbsp;</c40>#[deriving(Clone,&nbsp;Eq,&nbsp;Ord,&nbsp;TotalOrd,&nbsp;TotalEq)]
<br/></a><br/><br/><a id="550_1_refs"><a href="#550"><c40>librustc/back/link.rs:550:1-550:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_symbol_hash(ccx:&nbsp;&amp;CrateContext,&nbsp;t:&nbsp;ty::t)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#667"><c40>667:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
<br/></a><a href="../../librustc/back/link.rs.html#706"><c40>706:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
<br/></a><a href="../../librustc/back/link.rs.html#696"><c40>696:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;hash&nbsp;=&nbsp;get_symbol_hash(ccx,&nbsp;t);
<br/></a><br/><br/><a id="803_1_refs"><a href="#803"><c40>librustc/back/link.rs:803:1-803:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;filename_for_input(sess:&nbsp;&amp;Session,&nbsp;crate_type:&nbsp;session::CrateType,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#838"><c40>838:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename_for_input(sess,&nbsp;crate_type,&nbsp;id,&nbsp;&amp;out_filename)
<br/></a><a href="../../librustc/driver/driver.rs.html"><c40>librustc/driver/driver.rs:<br/></c40></a><a href="../../librustc/driver/driver.rs.html#516"><c40>516:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;p&nbsp;=&nbsp;link::filename_for_input(sess,&nbsp;*output,&nbsp;&amp;id,&nbsp;&amp;file);
<br/></a><a href="../../librustc/lib.rs.html"><c40>librustc/lib.rs:<br/></c40></a><a href="../../librustc/lib.rs.html#333"><c40>333:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;fname&nbsp;=&nbsp;link::filename_for_input(&amp;sess,&nbsp;style,&nbsp;&amp;id,
<br/></a><br/><br/><a id="709_1_refs"><a href="#709"><c40>librustc/back/link.rs:709:1-709:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle_internal_name_by_path_and_seq(path:&nbsp;PathElems,&nbsp;flav:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#384"><c40>384:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"closure")
<br/></a><a href="../../librustc/middle/trans/reflect.rs.html"><c40>librustc/middle/trans/reflect.rs:<br/></c40></a><a href="../../librustc/middle/trans/reflect.rs.html#293"><c40>293:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sym&nbsp;=&nbsp;mangle_internal_name_by_path_and_seq(
<br/></a><a href="../../librustc/middle/trans/closure.rs.html"><c40>librustc/middle/trans/closure.rs:<br/></c40></a><a href="../../librustc/middle/trans/closure.rs.html#442"><c40>442:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mangle_internal_name_by_path_and_seq(path,&nbsp;"as_closure")
<br/></a><br/><br/><a id="763_1_refs"><a href="#763"><c40>librustc/back/link.rs:763:1-763:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;remove(sess:&nbsp;&amp;Session,&nbsp;path:&nbsp;&amp;Path)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#935"><c40>935:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;metadata);
<br/></a><a href="../../librustc/back/link.rs.html#791"><c40>791:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;obj_filename.with_extension("metadata.o"));
<br/></a><a href="../../librustc/back/link.rs.html#789"><c40>789:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;obj_filename);
<br/></a><a href="../../librustc/back/link.rs.html#951"><c40>951:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;bc_deflated);
<br/></a><a href="../../librustc/back/link.rs.html#954"><c40>954:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remove(sess,&nbsp;&amp;bc);
<br/></a><br/><br/><a id="744_1_refs"><a href="#744"><c40>librustc/back/link.rs:744:1-744:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;get_system_tool(sess:&nbsp;&amp;Session,&nbsp;tool:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#733"><c40>733:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;get_system_tool(sess,&nbsp;"cc")
<br/></a><a href="../../librustc/back/link.rs.html#742"><c40>742:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;get_system_tool(sess,&nbsp;"ar")
<br/></a><br/><br/><a id="652_1_refs"><a href="#652"><c40>librustc/back/link.rs:652:1-652:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;exported_name(path:&nbsp;PathElems,&nbsp;hash:&nbsp;&amp;str,&nbsp;vers:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#687"><c40>687:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;exported_name(path,&nbsp;hash,&nbsp;ccx.link_meta.crateid.version_or_default())
<br/></a><a href="../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../librustc/middle/trans/base.rs.html#2316"><c40>2316:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;link::exported_name(ast_map::Values(path.iter()).chain(None),&nbsp;hash,&nbsp;vers)
<br/></a><br/><br/><a id="827_1_refs"><a href="#827"><c40>librustc/back/link.rs:827:1-827:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>fn&nbsp;link_binary_output(sess:&nbsp;&amp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#781"><c40>781:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;out_file&nbsp;=&nbsp;link_binary_output(sess,&nbsp;trans,&nbsp;crate_type,&nbsp;outputs,&nbsp;id);
<br/></a><br/><br/><a id="1415_4_refs"><a href="#1415"><c40>librustc/back/link.rs:1415:4-1415:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;add_dynamic_crates(args:&nbsp;&amp;mut&nbsp;Vec&lt;~str&gt;,&nbsp;sess:&nbsp;&amp;Session,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;crates:&nbsp;Vec&lt;(ast::CrateNum,&nbsp;Path)&gt;&nbsp;)&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#1311"><c40>1311:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Some(deps),&nbsp;_,&nbsp;_,&nbsp;_)&nbsp;=&gt;&nbsp;add_dynamic_crates(args,&nbsp;sess,&nbsp;deps),
<br/></a><br/><br/><a id="412_4_refs"><a href="#412"><c40>librustc/back/link.rs:412:4-412:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;fn&nbsp;populate_llvm_passes(fpm:&nbsp;lib::llvm::PassManagerRef,
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpm:&nbsp;lib::llvm::PassManagerRef,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#188"><c40>188:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;populate_llvm_passes(fpm,&nbsp;mpm,&nbsp;llmod,&nbsp;opt_level);
<br/></a><br/><br/><a id="566_75_refs"><a href="#566"><c40>librustc/back/link.rs:566:75-566:75&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;gas&nbsp;accepts&nbsp;the&nbsp;following&nbsp;characters&nbsp;in&nbsp;symbols:&nbsp;a-z,&nbsp;A-Z,&nbsp;0-9,&nbsp;.,&nbsp;_,&nbsp;$
<br/>pub&nbsp;fn&nbsp;sanitize(s:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#631"><c40>631:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sani&nbsp;=&nbsp;sanitize(s);
<br/></a><br/><br/><a id="717_1_refs"><a href="#717"><c40>librustc/back/link.rs:717:1-717:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;get_cc_prog(sess:&nbsp;&amp;Session)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#324"><c40>324:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc&nbsp;=&nbsp;super::get_cc_prog(sess);
<br/></a><a href="../../librustc/back/link.rs.html#1018"><c40>1018:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;cc_prog&nbsp;=&nbsp;get_cc_prog(sess);
<br/></a><br/><br/><a id="880_73_refs"><a href="#880"><c40>librustc/back/link.rs:880:73-880:73&nbsp;-fn-&nbsp;definition:<br/></c40><pr>//&nbsp;native&nbsp;libraries&nbsp;and&nbsp;inserting&nbsp;all&nbsp;of&nbsp;the&nbsp;contents&nbsp;into&nbsp;this&nbsp;archive.
<br/>fn&nbsp;link_rlib&lt;'a&gt;(sess:&nbsp;&amp;'a&nbsp;Session,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#859"><c40>859:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link_rlib(sess,&nbsp;Some(trans),&nbsp;&amp;obj_filename,&nbsp;&amp;out_filename);
<br/></a><a href="../../librustc/back/link.rs.html#984"><c40>984:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;mut&nbsp;a&nbsp;=&nbsp;link_rlib(sess,&nbsp;None,&nbsp;obj_filename,&nbsp;out_filename);
<br/></a><br/><br/><a id="610_1_refs"><a href="#610"><c40>librustc/back/link.rs:610:1-610:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;mangle&lt;PI:&nbsp;Iterator&lt;PathElem&gt;&gt;(mut&nbsp;path:&nbsp;PI,
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#711"><c40>711:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path.chain(Some(gensym_name(flav)).move_iter()),&nbsp;None,&nbsp;None)
<br/></a><a href="../../librustc/back/link.rs.html#697"><c40>697:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(ast_map::Values(path.iter()),&nbsp;Some(hash.as_slice()),&nbsp;None)
<br/></a><a href="../../librustc/back/link.rs.html#707"><c40>707:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(ast_map::Values(path.iter()),&nbsp;Some(hash.as_slice()),&nbsp;None)
<br/></a><a href="../../librustc/middle/trans/foreign.rs.html"><c40>librustc/middle/trans/foreign.rs:<br/></c40></a><a href="../../librustc/middle/trans/foreign.rs.html#530"><c40>530:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link::mangle(path.chain(abi.move_iter()),&nbsp;None,&nbsp;None)
<br/></a><a href="../../librustc/back/link.rs.html"><c40>librustc/back/link.rs:<br/></c40></a><a href="../../librustc/back/link.rs.html#662"><c40>662:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;mangle(path,&nbsp;Some(hash),&nbsp;Some(vers.as_slice()))
<br/></a><br/><br/><a id="713_1_refs"><a href="#713"><c40>librustc/back/link.rs:713:1-713:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;output_lib_filename(id:&nbsp;&amp;CrateId)&nbsp;-&gt;&nbsp;~str&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#806"><c40>806:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;libname&nbsp;=&nbsp;output_lib_filename(id);
<br/></a><br/><br/><a id="516_1_refs"><a href="#516"><c40>librustc/back/link.rs:516:1-516:1&nbsp;-fn-&nbsp;definition:<br/></c40><pr>
<br/>pub&nbsp;fn&nbsp;build_link_meta(krate:&nbsp;&amp;ast::Crate,&nbsp;out_filestem:&nbsp;&amp;str)&nbsp;-&gt;&nbsp;LinkMeta&nbsp;{
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/middle/trans/base.rs.html"><c40>librustc/middle/trans/base.rs:<br/></c40></a><a href="../../librustc/middle/trans/base.rs.html#2392"><c40>2392:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;link_meta&nbsp;=&nbsp;link::build_link_meta(&amp;krate,&nbsp;output.out_filestem);
<br/></a><br/><br/><a id="630_4_refs"><a href="#630"><c40>librustc/back/link.rs:630:4-630:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;fn&nbsp;push(n:&nbsp;&amp;mut&nbsp;~str,&nbsp;s:&nbsp;&amp;str)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let&nbsp;sani&nbsp;=&nbsp;sanitize(s);
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#641"><c40>641:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
<br/></a><a href="../../librustc/back/link.rs.html#645"><c40>645:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some(s)&nbsp;=&gt;&nbsp;push(&amp;mut&nbsp;n,&nbsp;s),
<br/></a><a href="../../librustc/back/link.rs.html#637"><c40>637:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push(&amp;mut&nbsp;n,&nbsp;token::get_name(e.name()).get().as_slice())
<br/></a><br/><br/><a id="351_4_refs"><a href="#351"><c40>librustc/back/link.rs:351:4-351:4&nbsp;-fn-&nbsp;definition:<br/></c40><pr>&nbsp;&nbsp;&nbsp;&nbsp;unsafe&nbsp;fn&nbsp;configure_llvm(sess:&nbsp;&amp;Session)&nbsp;{
<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;sync::one::{Once,&nbsp;ONCE_INIT};
<br/></pr></a></a><c40>references:-</c40><br/><a href="../../librustc/back/link.rs.html#133"><c40>133:&nbsp;</c40>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure_llvm(sess);
<br/></a><br/></div></maintext></div></body>